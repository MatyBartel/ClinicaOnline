var ER=Object.defineProperty,bR=Object.defineProperties;var DR=Object.getOwnPropertyDescriptors;var Jw=Object.getOwnPropertySymbols,CR=Object.getPrototypeOf,TR=Object.prototype.hasOwnProperty,AR=Object.prototype.propertyIsEnumerable,SR=Reflect.get;var Zw=(t,e,n)=>e in t?ER(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||={})TR.call(e,n)&&Zw(t,n,e[n]);if(Jw)for(var n of Jw(e))AR.call(e,n)&&Zw(t,n,e[n]);return t},Te=(t,e)=>bR(t,DR(e));var wr=(t,e,n)=>SR(CR(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var Xw=null;var nf=1,rf=Symbol("SIGNAL");function Ie(t){let e=Xw;return Xw=t,e}var eI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function RR(t){if(!(af(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===nf)){if(!t.producerMustRecompute(t)&&!of(t)){t.dirty=!1,t.lastCleanEpoch=nf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=nf}}function tI(t){return t&&(t.nextProducerIndex=0),Ie(t)}function nI(t,e){if(Ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(af(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)sf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function of(t){ou(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(RR(n),r!==n.version))return!0}return!1}function rI(t){if(ou(t),af(t))for(let e=0;e<t.producerNode.length;e++)sf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function sf(t,e){if(MR(t),ou(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)sf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ou(i),i.producerIndexOfThis[r]=e}}function af(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ou(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function MR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function xR(){throw new Error}var NR=xR;function iI(t){NR=t}function ie(t){return typeof t=="function"}function yo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var su=yo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function pi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var He=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){e=o instanceof su?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{oI(o)}catch(s){e=e??[],s instanceof su?e=[...e,...s.errors]:e.push(s)}}if(e)throw new su(e)}}add(e){var n;if(e&&e!==this)if(this.closed)oI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&pi(n,e)}remove(e){let{_finalizers:n}=this;n&&pi(n,e),e instanceof t&&e._removeParent(this)}};He.EMPTY=(()=>{let t=new He;return t.closed=!0,t})();var cf=He.EMPTY;function au(t){return t instanceof He||t&&"closed"in t&&ie(t.remove)&&ie(t.add)&&ie(t.unsubscribe)}function oI(t){ie(t)?t():t.unsubscribe()}var nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vo={setTimeout(t,e,...n){let{delegate:r}=vo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=vo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function cu(t){vo.setTimeout(()=>{let{onUnhandledError:e}=nn;if(e)e(t);else throw t})}function ia(){}var sI=uf("C",void 0,void 0);function aI(t){return uf("E",void 0,t)}function cI(t){return uf("N",t,void 0)}function uf(t,e,n){return{kind:t,value:e,error:n}}var gi=null;function _o(t){if(nn.useDeprecatedSynchronousErrorHandling){let e=!gi;if(e&&(gi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=gi;if(gi=null,n)throw r}}else t()}function uI(t){nn.useDeprecatedSynchronousErrorHandling&&gi&&(gi.errorThrown=!0,gi.error=t)}var mi=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,au(e)&&e.add(this)):this.destination=kR}static create(e,n,r){return new wo(e,n,r)}next(e){this.isStopped?df(cI(e),this):this._next(e)}error(e){this.isStopped?df(aI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?df(sI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PR=Function.prototype.bind;function lf(t,e){return PR.call(t,e)}var hf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){uu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){uu(r)}else uu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){uu(n)}}},wo=class extends mi{constructor(e,n,r){super();let i;if(ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&nn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&lf(e.next,o),error:e.error&&lf(e.error,o),complete:e.complete&&lf(e.complete,o)}):i=e}this.destination=new hf(i)}};function uu(t){nn.useDeprecatedSynchronousErrorHandling?uI(t):cu(t)}function OR(t){throw t}function df(t,e){let{onStoppedNotification:n}=nn;n&&vo.setTimeout(()=>n(t,e))}var kR={closed:!0,next:ia,error:OR,complete:ia};var Io=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(t){return t}function ff(...t){return pf(t)}function pf(t){return t.length===0?kt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var he=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=LR(n)?n:new wo(n,r,i);return _o(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=lI(r),new r((i,o)=>{let s=new wo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Io](){return this}pipe(...n){return pf(n)(this)}toPromise(n){return n=lI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function lI(t){var e;return(e=t??nn.Promise)!==null&&e!==void 0?e:Promise}function FR(t){return t&&ie(t.next)&&ie(t.error)&&ie(t.complete)}function LR(t){return t&&t instanceof mi||FR(t)&&au(t)}function gf(t){return ie(t?.lift)}function me(t){return e=>{if(gf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e,n,r,i){return new mf(t,e,n,r,i)}var mf=class extends mi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Eo(){return me((t,e)=>{let n=null;t._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var bo=class extends he{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let n=this.getSubject();e.add(this.source.subscribe(fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return Eo()(this)}};var dI=yo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var gt=(()=>{class t extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new lu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new dI}next(n){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?cf:(this.currentObservers=null,o.push(n),new He(()=>{this.currentObservers=null,pi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new he;return n.source=this,n}}return t.create=(e,n)=>new lu(e,n),t})(),lu=class extends gt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:cf}};var st=class extends gt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var yf={now(){return(yf.delegate||Date).now()},delegate:void 0};var du=class extends He{constructor(e,n){super()}schedule(e,n=0){return this}};var oa={setInterval(t,e,...n){let{delegate:r}=oa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=oa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Do=class extends du{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return oa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&oa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,pi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Co=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Co.now=yf.now;var To=class extends Co{constructor(e,n=Co.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var vf=new To(Do);var hu=class extends Do{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var fu=class extends To{};var _f=new fu(hu);var Ft=new he(t=>t.complete());function hI(t){return t&&ie(t.schedule)}function fI(t){return t[t.length-1]}function pu(t){return ie(fI(t))?t.pop():void 0}function Ir(t){return hI(fI(t))?t.pop():void 0}function wf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function pI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yi(t){return this instanceof yi?(this.v=t,this):new yi(t)}function mI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){r[m]&&(i[m]=function(I){return new Promise(function(S,P){o.push([m,I,S,P])>1||a(m,I)})})}function a(m,I){try{u(r[m](I))}catch(S){p(o[0][3],S)}}function u(m){m.value instanceof yi?Promise.resolve(m.value.v).then(l,h):p(o[0][2],m)}function l(m){a("next",m)}function h(m){a("throw",m)}function p(m,I){m(I),o.shift(),o.length&&a(o[0][0],o[0][1])}}function yI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pI=="function"?pI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var gu=t=>t&&typeof t.length=="number"&&typeof t!="function";function mu(t){return ie(t?.then)}function yu(t){return ie(t[Io])}function vu(t){return Symbol.asyncIterator&&ie(t?.[Symbol.asyncIterator])}function _u(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function VR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wu=VR();function Iu(t){return ie(t?.[wu])}function Eu(t){return mI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield yi(n.read());if(i)return yield yi(void 0);yield yield yi(r)}}finally{n.releaseLock()}})}function bu(t){return ie(t?.getReader)}function Ge(t){if(t instanceof he)return t;if(t!=null){if(yu(t))return jR(t);if(gu(t))return UR(t);if(mu(t))return BR(t);if(vu(t))return vI(t);if(Iu(t))return $R(t);if(bu(t))return qR(t)}throw _u(t)}function jR(t){return new he(e=>{let n=t[Io]();if(ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UR(t){return new he(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function BR(t){return new he(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,cu)})}function $R(t){return new he(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function vI(t){return new he(e=>{zR(t,e).catch(n=>e.error(n))})}function qR(t){return vI(Eu(t))}function zR(t,e){var n,r,i,o;return gI(this,void 0,void 0,function*(){try{for(n=yI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Rt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Er(t,e=0){return me((n,r)=>{n.subscribe(fe(r,i=>Rt(r,t,()=>r.next(i),e),()=>Rt(r,t,()=>r.complete(),e),i=>Rt(r,t,()=>r.error(i),e)))})}function br(t,e=0){return me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _I(t,e){return Ge(t).pipe(br(e),Er(e))}function wI(t,e){return Ge(t).pipe(br(e),Er(e))}function II(t,e){return new he(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function EI(t,e){return new he(n=>{let r;return Rt(n,e,()=>{r=t[wu](),Rt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function Du(t,e){if(!t)throw new Error("Iterable cannot be null");return new he(n=>{Rt(n,e,()=>{let r=t[Symbol.asyncIterator]();Rt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function bI(t,e){return Du(Eu(t),e)}function DI(t,e){if(t!=null){if(yu(t))return _I(t,e);if(gu(t))return II(t,e);if(mu(t))return wI(t,e);if(vu(t))return Du(t,e);if(Iu(t))return EI(t,e);if(bu(t))return bI(t,e)}throw _u(t)}function ke(t,e){return e?DI(t,e):Ge(t)}function J(...t){let e=Ir(t);return ke(t,e)}function Ao(t,e){let n=ie(t)?t:()=>t,r=i=>i.error(n());return new he(e?i=>e.schedule(r,0,i):r)}function If(t){return!!t&&(t instanceof he||ie(t.lift)&&ie(t.subscribe))}var Ln=yo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function se(t,e){return me((n,r)=>{let i=0;n.subscribe(fe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:HR}=Array;function GR(t,e){return HR(e)?t(...e):t(e)}function Cu(t){return se(e=>GR(t,e))}var{isArray:WR}=Array,{getPrototypeOf:KR,prototype:QR,keys:YR}=Object;function Tu(t){if(t.length===1){let e=t[0];if(WR(e))return{args:e,keys:null};if(JR(e)){let n=YR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function JR(t){return t&&typeof t=="object"&&KR(t)===QR}function Au(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Su(...t){let e=Ir(t),n=pu(t),{args:r,keys:i}=Tu(t);if(r.length===0)return ke([],e);let o=new he(ZR(r,e,i?s=>Au(i,s):kt));return n?o.pipe(Cu(n)):o}function ZR(t,e,n=kt){return r=>{CI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)CI(e,()=>{let l=ke(t[u],e),h=!1;l.subscribe(fe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function CI(t,e,n){t?Rt(n,t,e):e()}function TI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},I=P=>l<r?S(P):u.push(P),S=P=>{o&&e.next(P),l++;let R=!1;Ge(n(P,h++)).subscribe(fe(e,O=>{i?.(O),o?I(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?Rt(e,s,()=>S(O)):S(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(fe(e,I,()=>{p=!0,m()})),()=>{a?.()}}function Ze(t,e,n=1/0){return ie(e)?Ze((r,i)=>se((o,s)=>e(r,o,i,s))(Ge(t(r,i))),n):(typeof e=="number"&&(n=e),me((r,i)=>TI(r,i,t,n)))}function So(t=1/0){return Ze(kt,t)}function AI(){return So(1)}function Ro(...t){return AI()(ke(t,Ir(t)))}function Ru(t){return new he(e=>{Ge(t()).subscribe(e)})}function Ef(...t){let e=pu(t),{args:n,keys:r}=Tu(t),i=new he(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ge(n[h]).subscribe(fe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Au(r,a):a),o.complete())}))}});return e?i.pipe(Cu(e)):i}function Lt(t,e){return me((n,r)=>{let i=0;n.subscribe(fe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Dr(t){return me((e,n)=>{let r=null,i=!1,o;r=e.subscribe(fe(n,void 0,void 0,s=>{o=Ge(t(s,Dr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function SI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(fe(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Cr(t,e){return ie(e)?Ze(t,e,1):Ze(t,1)}function Tr(t){return me((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Vn(t){return t<=0?()=>Ft:me((e,n)=>{let r=0;e.subscribe(fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function bf(t){return se(()=>t)}function Mu(t=XR){return me((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function XR(){return new Ln}function Ar(t){return me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Lt((i,o)=>t(i,o,r)):kt,Vn(1),n?Tr(e):Mu(()=>new Ln))}function Mo(t){return t<=0?()=>Ft:me((e,n)=>{let r=[];e.subscribe(fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Df(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Lt((i,o)=>t(i,o,r)):kt,Mo(1),n?Tr(e):Mu(()=>new Ln))}function Cf(t,e){return me(SI(t,e,arguments.length>=2,!0))}function Tf(...t){let e=Ir(t);return me((n,r)=>{(e?Ro(t,n,e):Ro(t,n)).subscribe(r)})}function Vt(t,e){return me((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=o++;Ge(t(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Af(t){return me((e,n)=>{Ge(t).subscribe(fe(n,()=>n.complete(),ia)),!n.closed&&e.subscribe(n)})}function We(t,e,n){let r=ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):kt}var fE="https://g.co/ng/security#xss",z=class extends Error{constructor(e,n){super(al(e,n)),this.code=e}};function al(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function va(t){return{toString:t}.toString()}var xu="__parameters__";function eM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function pE(t,e,n){return va(()=>{let r=eM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(xu)?u[xu]:Object.defineProperty(u,xu,{value:[]})[xu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var jn=globalThis;function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function tM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Tt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Tt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function RI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var nM=Se({__forward_ref__:Se});function xi(t){return t.__forward_ref__=xi,t.toString=function(){return Tt(this())},t}function Ct(t){return gE(t)?t():t}function gE(t){return typeof t=="function"&&t.hasOwnProperty(nM)&&t.__forward_ref__===xi}function Q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function cl(t){return MI(t,yE)||MI(t,vE)}function mE(t){return cl(t)!==null}function MI(t,e){return t.hasOwnProperty(e)?t[e]:null}function rM(t){let e=t&&(t[yE]||t[vE]);return e||null}function xI(t){return t&&(t.hasOwnProperty(NI)||t.hasOwnProperty(iM))?t[NI]:null}var yE=Se({\u0275prov:Se}),NI=Se({\u0275inj:Se}),vE=Se({ngInjectableDef:Se}),iM=Se({ngInjectorDef:Se}),q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _E(t){return t&&!!t.\u0275providers}var oM=Se({\u0275cmp:Se}),sM=Se({\u0275dir:Se}),aM=Se({\u0275pipe:Se}),cM=Se({\u0275mod:Se}),$u=Se({\u0275fac:Se}),sa=Se({__NG_ELEMENT_ID__:Se}),PI=Se({__NG_ENV_ID__:Se});function Fo(t){return typeof t=="string"?t:t==null?"":String(t)}function uM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Fo(t)}function lM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,t)}function Fp(t,e){throw new z(-201,!1)}var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{}),qf;function wE(){return qf}function Gt(t){let e=qf;return qf=t,e}function IE(t,e,n){let r=cl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&le.Optional)return null;if(e!==void 0)return e;Fp(t,"Injector")}var dM={},aa=dM,zf="__NG_DI_FLAG__",qu="ngTempTokenPath",hM="ngTokenPath",fM=/\n/gm,pM="\u0275",OI="__source",Oo;function gM(){return Oo}function Sr(t){let e=Oo;return Oo=t,e}function mM(t,e=le.Default){if(Oo===void 0)throw new z(-203,!1);return Oo===null?IE(t,void 0,e):Oo.get(t,e&le.Optional?null:void 0,e)}function te(t,e=le.Default){return(wE()||mM)(Ct(t),e)}function V(t,e=le.Default){return te(t,ul(e))}function ul(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hf(t){let e=[];for(let n=0;n<t.length;n++){let r=Ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=le.Default;for(let s=0;s<r.length;s++){let a=r[s],u=yM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(te(i,o))}else e.push(te(r))}return e}function EE(t,e){return t[zf]=e,t.prototype[zf]=e,t}function yM(t){return t[zf]}function vM(t,e,n,r){let i=t[qu];throw e[OI]&&i.unshift(e[OI]),t.message=_M(`
`+t.message,i,n,r),t[hM]=i,t[qu]=null,t}function _M(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==pM?t.slice(2):t;let i=Tt(e);if(Array.isArray(e))i=e.map(Tt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Tt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fM,`
  `)}`}var At=EE(pE("Optional"),8);var bE=EE(pE("SkipSelf"),4);function Lo(t,e){let n=t.hasOwnProperty($u);return n?t[$u]:null}function wM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function IM(t){return t.flat(Number.POSITIVE_INFINITY)}function Lp(t,e){t.forEach(n=>Array.isArray(n)?Lp(n,e):e(n))}function DE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function EM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function bM(t,e,n){let r=_a(t,e);return r>=0?t[r|1]=n:(r=~r,EM(t,r,e,n)),r}function Sf(t,e){let n=_a(t,e);if(n>=0)return t[n|1]}function _a(t,e){return DM(t,e,1)}function DM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Vo={},Wt=[],jo=new q(""),CE=new q("",-1),TE=new q(""),Hu=class{get(e,n=aa){if(n===aa){let r=new Error(`NullInjectorError: No provider for ${Tt(e)}!`);throw r.name="NullInjectorError",r}return n}},AE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(AE||{}),yn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yn||{}),mt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(mt||{});function CM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Gf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];TM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function SE(t){return t===3||t===4||t===6}function TM(t){return t.charCodeAt(0)===64}function ca(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?kI(t,n,i,null,e[++r]):kI(t,n,i,null,null))}}return t}function kI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var RE="ng-template";function AM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Vp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Vp(t){return t.type===4&&t.value!==RE}function SM(t,e,n){let r=t.type===4&&!n?RE:t.value;return e===r}function RM(t,e,n){let r=4,i=t.attrs,o=i!==null?NM(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!rn(r)&&!rn(u))return!1;if(s&&rn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!SM(t,u,n)||u===""&&e.length===1){if(rn(r))return!1;s=!0}}else if(r&8){if(i===null||!AM(t,i,u,n)){if(rn(r))return!1;s=!0}}else{let l=e[++a],h=MM(u,i,Vp(t),n);if(h===-1){if(rn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(rn(r))return!1;s=!0}}}}return rn(r)||s}function rn(t){return(t&1)===0}function MM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return PM(e,t)}function xM(t,e,n=!1){for(let r=0;r<e.length;r++)if(RM(t,e[r],n))return!0;return!1}function NM(t){for(let e=0;e<t.length;e++){let n=t[e];if(SE(n))return e}return t.length}function PM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function FI(t,e){return t?":not("+e.trim()+")":e}function OM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!rn(s)&&(e+=FI(o,i),i=""),r=s,o=o||!rn(r);n++}return i!==""&&(e+=FI(o,i)),e}function kM(t){return t.map(OM).join(",")}function FM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!rn(i))break;i=o}r++}return{attrs:e,classes:n}}function $e(t){return va(()=>{let e=OE(t),n=Te(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===AE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yn.Emulated,styles:t.styles||Wt,_:null,schemas:t.schemas||null,tView:null,id:""});kE(n);let r=t.dependencies;return n.directiveDefs=VI(r,!1),n.pipeDefs=VI(r,!0),n.id=jM(n),n})}function LM(t){return wi(t)||ME(t)}function VM(t){return t!==null}function Hn(t){return va(()=>({type:t.type,bootstrap:t.bootstrap||Wt,declarations:t.declarations||Wt,imports:t.imports||Wt,exports:t.exports||Wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function LI(t,e){if(t==null)return Vo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=mt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==mt.None?[r,a]:r,e[o]=s):n[o]=r}return n}function et(t){return va(()=>{let e=OE(t);return kE(e),e})}function wi(t){return t[oM]||null}function ME(t){return t[sM]||null}function xE(t){return t[aM]||null}function NE(t){let e=wi(t)||ME(t)||xE(t);return e!==null?e.standalone:!1}function PE(t,e){let n=t[cM]||null;if(!n&&e===!0)throw new Error(`Type ${Tt(t)} does not have '\u0275mod' property.`);return n}function OE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LI(t.inputs,e),outputs:LI(t.outputs),debugInfo:null}}function kE(t){t.features?.forEach(e=>e(t))}function VI(t,e){if(!t)return null;let n=e?xE:LM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(VM)}function jM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Kt(t){return{\u0275providers:t}}function UM(...t){return{\u0275providers:FE(!0,t),\u0275fromNgModule:!0}}function FE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Lp(e,s=>{let a=s;Wf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&LE(i,o),n}function LE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];jp(i,o=>{e(o,r)})}}function Wf(t,e,n,r){if(t=Ct(t),!t)return!1;let i=null,o=xI(t),s=!o&&wi(t);if(!o&&!s){let u=t.ngModule;if(o=xI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Wf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Lp(o.imports,h=>{Wf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&LE(l,e)}if(!a){let l=Lo(i)||(()=>new i);e({provide:i,useFactory:l,deps:Wt},i),e({provide:TE,useValue:i,multi:!0},i),e({provide:jo,useValue:()=>te(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;jp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function jp(t,e){for(let n of t)_E(n)&&(n=n.\u0275providers),Array.isArray(n)?jp(n,e):e(n)}var BM=Se({provide:String,useValue:Se});function VE(t){return t!==null&&typeof t=="object"&&BM in t}function $M(t){return!!(t&&t.useExisting)}function qM(t){return!!(t&&t.useFactory)}function Uo(t){return typeof t=="function"}function zM(t){return!!t.useClass}var ll=new q(""),Fu={},HM={},Rf;function Up(){return Rf===void 0&&(Rf=new Hu),Rf}var Mt=class{},ua=class extends Mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qf(e,s=>this.processProvider(s)),this.records.set(CE,xo(void 0,this)),i.has("environment")&&this.records.set(Mt,xo(void 0,this));let o=this.records.get(ll);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(TE,Wt,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Sr(this),r=Gt(void 0),i;try{return e()}finally{Sr(n),Gt(r)}}get(e,n=aa,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(PI))return e[PI](this);r=ul(r);let i,o=Sr(this),s=Gt(void 0);try{if(!(r&le.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=YM(e)&&cl(e);l&&this.injectableDefInScope(l)?u=xo(Kf(e),Fu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&le.Self?Up():this.parent;return n=r&le.Optional&&n===aa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[qu]=a[qu]||[]).unshift(Tt(e)),o)throw a;return vM(a,e,"R3InjectorError",this.source)}else throw a}finally{Gt(s),Sr(o)}}resolveInjectorInitializers(){let e=Ie(null),n=Sr(this),r=Gt(void 0),i;try{let o=this.get(jo,Wt,le.Self);for(let s of o)s()}finally{Sr(n),Gt(r),Ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Tt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=Ct(e);let n=Uo(e)?e:Ct(e&&e.provide),r=WM(e);if(!Uo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xo(void 0,Fu,!0),i.factory=()=>Hf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ie(null);try{return n.value===Fu&&(n.value=HM,n.value=n.factory()),typeof n.value=="object"&&n.value&&QM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Kf(t){let e=cl(t),n=e!==null?e.factory:Lo(t);if(n!==null)return n;if(t instanceof q)throw new z(204,!1);if(t instanceof Function)return GM(t);throw new z(204,!1)}function GM(t){if(t.length>0)throw new z(204,!1);let n=rM(t);return n!==null?()=>n.factory(t):()=>new t}function WM(t){if(VE(t))return xo(void 0,t.useValue);{let e=jE(t);return xo(e,Fu)}}function jE(t,e,n){let r;if(Uo(t)){let i=Ct(t);return Lo(i)||Kf(i)}else if(VE(t))r=()=>Ct(t.useValue);else if(qM(t))r=()=>t.useFactory(...Hf(t.deps||[]));else if($M(t))r=()=>te(Ct(t.useExisting));else{let i=Ct(t&&(t.useClass||t.provide));if(KM(t))r=()=>new i(...Hf(t.deps));else return Lo(i)||Kf(i)}return r}function xo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function KM(t){return!!t.deps}function QM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function YM(t){return typeof t=="function"||typeof t=="object"&&t instanceof q}function Qf(t,e){for(let n of t)Array.isArray(n)?Qf(n,e):n&&_E(n)?Qf(n.\u0275providers,e):e(n)}function Gn(t,e){t instanceof ua&&t.assertNotDestroyed();let n,r=Sr(t),i=Gt(void 0);try{return e()}finally{Sr(r),Gt(i)}}function JM(){return wE()!==void 0||gM()!=null}function ZM(t){return typeof t=="function"}var Wn=0,ue=1,Z=2,at=3,on=4,cn=5,Gu=6,la=7,sn=8,Bo=9,an=10,Ke=11,da=12,jI=13,zo=14,vn=15,wa=16,No=17,Un=18,dl=19,UE=20,Rr=21,Mf=22,Ii=23,Mr=25,BE=1;var Ei=7,Wu=8,$o=9,jt=10,Bp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Bp||{});function vi(t){return Array.isArray(t)&&typeof t[BE]=="object"}function Kn(t){return Array.isArray(t)&&t[BE]===!0}function $E(t){return(t.flags&4)!==0}function hl(t){return t.componentOffset>-1}function $p(t){return(t.flags&1)===1}function xr(t){return!!t.template}function XM(t){return(t[Z]&512)!==0}var Yf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function qE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Qn(){return zE}function zE(t){return t.type.prototype.ngOnChanges&&(t.setInput=tx),ex}Qn.ngInherit=!0;function ex(){let t=GE(this),e=t?.current;if(e){let n=t.previous;if(n===Vo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function tx(t,e,n,r,i){let o=this.declaredInputs[r],s=GE(t)||nx(t,{previous:Vo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Yf(l&&l.currentValue,n,u===Vo),qE(t,e,i,n)}var HE="__ngSimpleChanges__";function GE(t){return t[HE]||null}function nx(t,e){return t[HE]=e}var UI=null;var gn=function(t,e,n){UI?.(t,e,n)},rx="svg",ix="math",ox=!1;function sx(){return ox}function _n(t){for(;Array.isArray(t);)t=t[Wn];return t}function WE(t,e){return _n(e[t])}function Qt(t,e){return _n(e[t.index])}function KE(t,e){return t.data[e]}function Pr(t,e){let n=e[t];return vi(n)?n:n[Wn]}function ax(t){return(t[Z]&4)===4}function qp(t){return(t[Z]&128)===128}function cx(t){return Kn(t[at])}function Ku(t,e){return e==null?null:t[e]}function QE(t){t[No]=0}function ux(t){t[Z]&1024||(t[Z]|=1024,qp(t)&&ha(t))}function lx(t,e){for(;t>0;)e=e[zo],t--;return e}function zp(t){return!!(t[Z]&9216||t[Ii]?.dirty)}function Jf(t){t[an].changeDetectionScheduler?.notify(1),zp(t)?ha(t):t[Z]&64&&(sx()?(t[Z]|=1024,ha(t)):t[an].changeDetectionScheduler?.notify())}function ha(t){t[an].changeDetectionScheduler?.notify();let e=fa(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!qp(e)));)e=fa(e)}function YE(t,e){if((t[Z]&256)===256)throw new z(911,!1);t[Rr]===null&&(t[Rr]=[]),t[Rr].push(e)}function dx(t,e){if(t[Rr]===null)return;let n=t[Rr].indexOf(e);n!==-1&&t[Rr].splice(n,1)}function fa(t){let e=t[at];return Kn(e)?e[at]:e}var de={lFrame:i0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hx(){return de.lFrame.elementDepthCount}function fx(){de.lFrame.elementDepthCount++}function px(){de.lFrame.elementDepthCount--}function JE(){return de.bindingsEnabled}function gx(){return de.skipHydrationRootTNode!==null}function mx(t){return de.skipHydrationRootTNode===t}function yx(){de.skipHydrationRootTNode=null}function Ee(){return de.lFrame.lView}function yt(){return de.lFrame.tView}function Le(t){return de.lFrame.contextLView=t,t[sn]}function Ve(t){return de.lFrame.contextLView=null,t}function St(){let t=ZE();for(;t!==null&&t.type===64;)t=t.parent;return t}function ZE(){return de.lFrame.currentTNode}function vx(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ia(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function XE(){return de.lFrame.isParent}function _x(){de.lFrame.isParent=!1}function wx(){return de.lFrame.bindingIndex}function Ix(t){return de.lFrame.bindingIndex=t}function fl(){return de.lFrame.bindingIndex++}function e0(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ex(){return de.lFrame.inI18n}function bx(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zf(e)}function Dx(){return de.lFrame.currentDirectiveIndex}function Zf(t){de.lFrame.currentDirectiveIndex=t}function Cx(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function t0(){return de.lFrame.currentQueryIndex}function Hp(t){de.lFrame.currentQueryIndex=t}function Tx(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[cn]:null}function n0(t,e,n){if(n&le.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&le.Host);)if(i=Tx(o),i===null||(o=o[zo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=de.lFrame=r0();return r.currentTNode=e,r.lView=t,!0}function Gp(t){let e=r0(),n=t[ue];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function r0(){let t=de.lFrame,e=t===null?null:t.child;return e===null?i0(t):e}function i0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function o0(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var s0=o0;function Wp(){let t=o0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ax(t){return(de.lFrame.contextLView=lx(t,de.lFrame.contextLView))[sn]}function Ni(){return de.lFrame.selectedIndex}function bi(t){de.lFrame.selectedIndex=t}function pl(){let t=de.lFrame;return KE(t.tView,t.selectedIndex)}function Sx(){return de.lFrame.currentNamespace}var a0=!0;function Kp(){return a0}function Qp(t){a0=t}function Rx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=zE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Yp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Lu(t,e,n){c0(t,e,3,n)}function Vu(t,e,n,r){(t[Z]&3)===n&&c0(t,e,n,r)}function xf(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function c0(t,e,n,r){let i=r!==void 0?t[No]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[No]+=65536),(a<o||o==-1)&&(Mx(t,n,e,u),t[No]=(t[No]&4294901760)+u+2),u++}function BI(t,e){gn(4,t,e);let n=Ie(null);try{e.call(t)}finally{Ie(n),gn(5,t,e)}}function Mx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Z]>>14<t[No]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,BI(a,o)):BI(a,o)}var ko=-1,Di=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function xx(t){return t instanceof Di}function Nx(t){return(t.flags&8)!==0}function Px(t){return(t.flags&16)!==0}function u0(t){return t!==ko}function Qu(t){return t&32767}function Ox(t){return t>>16}function Yu(t,e){let n=Ox(t),r=e;for(;n>0;)r=r[zo],n--;return r}var Xf=!0;function $I(t){let e=Xf;return Xf=t,e}var kx=256,l0=kx-1,d0=5,Fx=0,mn={};function Lx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(sa)&&(r=n[sa]),r==null&&(r=n[sa]=Fx++);let i=r&l0,o=1<<i;e.data[t+(i>>d0)]|=o}function Ju(t,e){let n=h0(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,Nf(r.data,t),Nf(e,null),Nf(r.blueprint,null));let i=Jp(t,e),o=t.injectorIndex;if(u0(i)){let s=Qu(i),a=Yu(i,e),u=a[ue].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Nf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function h0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Jp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=y0(i),r===null)return ko;if(n++,i=i[zo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ko}function ep(t,e,n){Lx(t,e,n)}function Vx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(SE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function f0(t,e,n){if(n&le.Optional||t!==void 0)return t;Fp(e,"NodeInjector")}function p0(t,e,n,r){if(n&le.Optional&&r===void 0&&(r=null),!(n&(le.Self|le.Host))){let i=t[Bo],o=Gt(void 0);try{return i?i.get(e,r,n&le.Optional):IE(e,r,n&le.Optional)}finally{Gt(o)}}return f0(r,e,n)}function g0(t,e,n,r=le.Default,i){if(t!==null){if(e[Z]&2048&&!(r&le.Self)){let s=$x(t,e,n,r,mn);if(s!==mn)return s}let o=m0(t,e,n,r,mn);if(o!==mn)return o}return p0(e,n,r,i)}function m0(t,e,n,r,i){let o=Ux(n);if(typeof o=="function"){if(!n0(e,t,r))return r&le.Host?f0(i,n,r):p0(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&le.Optional))Fp(n);else return s}finally{s0()}}else if(typeof o=="number"){let s=null,a=h0(t,e),u=ko,l=r&le.Host?e[vn][cn]:null;for((a===-1||r&le.SkipSelf)&&(u=a===-1?Jp(t,e):e[a+8],u===ko||!zI(r,!1)?a=-1:(s=e[ue],a=Qu(u),e=Yu(u,e)));a!==-1;){let h=e[ue];if(qI(o,a,h.data)){let p=jx(a,e,n,s,r,l);if(p!==mn)return p}u=e[a+8],u!==ko&&zI(r,e[ue].data[a+8]===l)&&qI(o,a,e)?(s=h,a=Qu(u),e=Yu(u,e)):a=-1}}return i}function jx(t,e,n,r,i,o){let s=e[ue],a=s.data[t+8],u=r==null?hl(a)&&Xf:r!=s&&(a.type&3)!==0,l=i&le.Host&&o===a,h=ju(a,s,n,u,l);return h!==null?Ci(e,s,h,a):mn}function ju(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let I=p;I<m;I++){let S=s[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=s[u];if(I&&xr(I)&&I.type===n)return u}return null}function Ci(t,e,n,r){let i=t[n],o=e.data;if(xx(i)){let s=i;s.resolving&&lM(uM(o[n]));let a=$I(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Gt(s.injectImpl):null,h=n0(t,r,le.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Rx(n,o[n],e)}finally{l!==null&&Gt(l),$I(a),s.resolving=!1,s0()}}return i}function Ux(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(sa)?t[sa]:void 0;return typeof e=="number"?e>=0?e&l0:Bx:e}function qI(t,e,n){let r=1<<t;return!!(n[e+(t>>d0)]&r)}function zI(t,e){return!(t&le.Self)&&!(t&le.Host&&e)}var _i=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return g0(this._tNode,this._lView,e,ul(r),n)}};function Bx(){return new _i(St(),Ee())}function Ho(t){return va(()=>{let e=t.prototype.constructor,n=e[$u]||tp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[$u]||tp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function tp(t){return gE(t)?()=>{let e=tp(Ct(t));return e&&e()}:Lo(t)}function $x(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!(s[Z]&512);){let a=m0(o,s,n,r|le.Self,mn);if(a!==mn)return a;let u=o.parent;if(!u){let l=s[UE];if(l){let h=l.get(n,mn,r);if(h!==mn)return h}u=y0(s),s=s[zo]}o=u}return i}function y0(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[cn]:null}function Zp(t){return Vx(St(),t)}function HI(t,e=null,n=null,r){let i=v0(t,e,n,r);return i.resolveInjectorInitializers(),i}function v0(t,e=null,n=null,r,i=new Set){let o=[n||Wt,UM(t)];return r=r||(typeof t=="object"?void 0:Tt(t)),new ua(o,e||Up(),r||null,i)}var Yt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return HI({name:""},i,r,"");{let o=r.name??"";return HI({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=aa,e.NULL=new Hu,e.\u0275prov=Q({token:e,providedIn:"any",factory:()=>te(CE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var qx="ngOriginalError";function Pf(t){return t[qx]}var Bn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Pf(e);for(;n&&Pf(n);)n=Pf(n);return n||null}},_0=new q("",{providedIn:"root",factory:()=>V(Bn).handleError.bind(void 0)}),w0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),np=class extends w0{constructor(e){super(),this._lView=e}onDestroy(e){return YE(this._lView,e),()=>dx(this._lView,e)}};function zx(){return new np(Ee())}function Hx(){return Go(St(),Ee())}function Go(t,e){return new Jt(Qt(t,e))}var Jt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Hx;let t=e;return t})();function Gx(t){return t instanceof Jt?t.nativeElement:t}var rp=class extends gt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,JM()&&(this.destroyRef=V(w0,{optional:!0})??void 0)}emit(e){let n=Ie(null);try{super.next(e)}finally{Ie(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Of(o),i&&(i=Of(i)),s&&(s=Of(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof He&&e.add(a),a}};function Of(t){return e=>{setTimeout(t,void 0,e)}}var Be=rp;function Wx(){return this._results[Symbol.iterator]()}var ip=class t{get changes(){return this._changes??=new Be}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Wx)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=IM(e);(this._changesDetected=!wM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function I0(t){return(t.flags&128)===128}var E0=new Map,Kx=0;function Qx(){return Kx++}function Yx(t){E0.set(t[dl],t)}function Jx(t){E0.delete(t[dl])}var GI="__ngContext__";function Ti(t,e){vi(e)?(t[GI]=e[dl],Yx(e)):t[GI]=e}function b0(t){return C0(t[da])}function D0(t){return C0(t[on])}function C0(t){for(;t!==null&&!Kn(t);)t=t[on];return t}var op;function T0(t){op=t}function Zx(){if(op!==void 0)return op;if(typeof document<"u")return document;throw new z(210,!1)}var Xp=new q("",{providedIn:"root",factory:()=>Xx}),Xx="ng",eg=new q(""),wn=new q("",{providedIn:"platform",factory:()=>"unknown"});var tg=new q("",{providedIn:"root",factory:()=>Zx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var eN="h",tN="b";var nN=()=>null;function ng(t,e,n=!1){return nN(t,e,n)}var A0=!1,rN=new q("",{providedIn:"root",factory:()=>A0});var Nu;function iN(){if(Nu===void 0&&(Nu=null,jn.trustedTypes))try{Nu=jn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Nu}function oN(t){return iN()?.createScriptURL(t)||t}var Pu;function sN(){if(Pu===void 0&&(Pu=null,jn.trustedTypes))try{Pu=jn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pu}function WI(t){return sN()?.createScriptURL(t)||t}var Zu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fE})`}};function Ea(t){return t instanceof Zu?t.changingThisBreaksApplicationSecurity:t}function rg(t,e){let n=aN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${fE})`)}return n===e}function aN(t){return t instanceof Zu&&t.getTypeName()||null}var cN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function S0(t){return t=String(t),t.match(cN)?t:"unsafe:"+t}var gl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(gl||{});function Pi(t){let e=M0();return e?e.sanitize(gl.URL,t)||"":rg(t,"URL")?Ea(t):S0(Fo(t))}function uN(t){let e=M0();if(e)return WI(e.sanitize(gl.RESOURCE_URL,t)||"");if(rg(t,"ResourceURL"))return WI(Ea(t));throw new z(904,!1)}function ml(t){return oN(t[0])}function lN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?uN:Pi}function R0(t,e,n){return lN(e,n)(t)}function M0(){let t=Ee();return t&&t[an].sanitizer}function x0(t){return t instanceof Function?t():t}var $n=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($n||{}),dN;function ig(t,e){return dN(t,e)}function Po(t,e,n,r,i){if(r!=null){let o,s=!1;Kn(r)?o=r:vi(r)&&(s=!0,r=r[Wn]);let a=_n(r);t===0&&n!==null?i==null?F0(e,n,a):Xu(e,n,a,i||null,!0):t===1&&n!==null?Xu(e,n,a,i||null,!0):t===2?SN(e,a,s):t===3&&e.destroyNode(a),o!=null&&MN(e,t,o,n,i)}}function hN(t,e){return t.createText(e)}function fN(t,e,n){t.setValue(e,n)}function N0(t,e,n){return t.createElement(e,n)}function pN(t,e){P0(t,e),e[Wn]=null,e[cn]=null}function gN(t,e,n,r,i,o){r[Wn]=i,r[cn]=e,yl(t,r,n,1,i,o)}function P0(t,e){e[an].changeDetectionScheduler?.notify(1),yl(t,e,e[Ke],2,null,null)}function mN(t){let e=t[da];if(!e)return kf(t[ue],t);for(;e;){let n=null;if(vi(e))n=e[da];else{let r=e[jt];r&&(n=r)}if(!n){for(;e&&!e[on]&&e!==t;)vi(e)&&kf(e[ue],e),e=e[at];e===null&&(e=t),vi(e)&&kf(e[ue],e),n=e&&e[on]}e=n}}function yN(t,e,n,r){let i=jt+r,o=n.length;r>0&&(n[i-1][on]=e),r<o-jt?(e[on]=n[i],DE(n,jt+r,e)):(n.push(e),e[on]=null),e[at]=n;let s=e[wa];s!==null&&n!==s&&vN(s,e);let a=e[Un];a!==null&&a.insertView(t),Jf(e),e[Z]|=128}function vN(t,e){let n=t[$o],i=e[at][at][vn];e[vn]!==i&&(t[Z]|=Bp.HasTransplantedViews),n===null?t[$o]=[e]:n.push(e)}function O0(t,e){let n=t[$o],r=n.indexOf(e);n.splice(r,1)}function sp(t,e){if(t.length<=jt)return;let n=jt+e,r=t[n];if(r){let i=r[wa];i!==null&&i!==t&&O0(i,r),e>0&&(t[n-1][on]=r[on]);let o=zu(t,jt+e);pN(r[ue],r);let s=o[Un];s!==null&&s.detachView(o[ue]),r[at]=null,r[on]=null,r[Z]&=-129}return r}function k0(t,e){if(!(e[Z]&256)){let n=e[Ke];n.destroyNode&&yl(t,e,n,3,null,null),mN(e)}}function kf(t,e){if(e[Z]&256)return;let n=Ie(null);try{e[Z]&=-129,e[Z]|=256,e[Ii]&&rI(e[Ii]),wN(t,e),_N(t,e),e[ue].type===1&&e[Ke].destroy();let r=e[wa];if(r!==null&&Kn(e[at])){r!==e[at]&&O0(r,e);let i=e[Un];i!==null&&i.detachView(t)}Jx(e)}finally{Ie(n)}}function _N(t,e){let n=t.cleanup,r=e[la];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[la]=null);let i=e[Rr];if(i!==null){e[Rr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function wN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Di)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];gn(4,a,u);try{u.call(a)}finally{gn(5,a,u)}}else{gn(4,i,o);try{o.call(i)}finally{gn(5,i,o)}}}}}function IN(t,e,n){return EN(t,e.parent,n)}function EN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Wn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===yn.None||o===yn.Emulated)return null}return Qt(r,n)}}function Xu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function F0(t,e,n){t.appendChild(e,n)}function KI(t,e,n,r,i){r!==null?Xu(t,e,n,r,i):F0(t,e,n)}function bN(t,e,n,r){t.removeChild(e,n,r)}function og(t,e){return t.parentNode(e)}function DN(t,e){return t.nextSibling(e)}function CN(t,e,n){return AN(t,e,n)}function TN(t,e,n){return t.type&40?Qt(t,n):null}var AN=TN,QI;function sg(t,e,n,r){let i=IN(t,r,e),o=e[Ke],s=r.parent||e[cn],a=CN(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)KI(o,i,n[u],a,!1);else KI(o,i,n,a,!1);QI!==void 0&&QI(o,r,e,n,i)}function Uu(t,e){if(e!==null){let n=e.type;if(n&3)return Qt(e,t);if(n&4)return ap(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Uu(t,r);{let i=t[e.index];return Kn(i)?ap(-1,i):_n(i)}}else{if(n&32)return ig(e,t)()||_n(t[e.index]);{let r=L0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fa(t[vn]);return Uu(i,r)}else return Uu(t,e.next)}}}return null}function L0(t,e){if(e!==null){let r=t[vn][cn],i=e.projection;return r.projection[i]}return null}function ap(t,e){let n=jt+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Uu(r,i)}return e[Ei]}function SN(t,e,n){let r=og(t,e);r&&bN(t,r,e,n)}function ag(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Ti(_n(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)ag(t,e,n.child,r,i,o,!1),Po(e,t,i,a,o);else if(u&32){let l=ig(n,r),h;for(;h=l();)Po(e,t,i,h,o);Po(e,t,i,a,o)}else u&16?RN(t,e,r,n,i,o):Po(e,t,i,a,o);n=s?n.projectionNext:n.next}}function yl(t,e,n,r,i,o){ag(n,r,t.firstChild,e,i,o,!1)}function RN(t,e,n,r,i,o){let s=n[vn],u=s[cn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Po(e,t,i,h,o)}else{let l=u,h=s[at];I0(r)&&(l.flags|=128),ag(t,e,l,h,i,o,!0)}}function MN(t,e,n,r,i){let o=n[Ei],s=_n(n);o!==s&&Po(e,t,r,o,i);for(let a=jt;a<n.length;a++){let u=n[a];yl(u[ue],u,t,e,r,o)}}function xN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:$n.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=$n.Important),t.setStyle(n,r,i,o))}}function NN(t,e,n){t.setAttribute(e,"style",n)}function V0(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function j0(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Gf(t,e,r),i!==null&&V0(t,e,i),o!==null&&NN(t,e,o)}var Yn={};function j(t=1){U0(yt(),Ee(),Ni()+t,!1)}function U0(t,e,n,r){if(!r)if((e[Z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Lu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Vu(e,o,0,n)}bi(n)}function Y(t,e=le.Default){let n=Ee();if(n===null)return te(t,e);let r=St();return g0(r,n,Ct(t),e)}function B0(t,e,n,r,i,o){let s=Ie(null);try{let a=null;i&mt.SignalBased&&(a=e[r][rf]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&mt.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):qE(e,a,r,o)}finally{Ie(s)}}function PN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)bi(~i);else{let o=i,s=n[++r],a=n[++r];bx(s,o);let u=e[o];a(2,u)}}}finally{bi(-1)}}function vl(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Wn]=i,p[Z]=r|4|128|8|64,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),QE(p),p[at]=p[zo]=t,p[sn]=n,p[an]=s||t&&t[an],p[Ke]=a||t&&t[Ke],p[Bo]=u||t&&t[Bo]||null,p[cn]=o,p[dl]=Qx(),p[Gu]=h,p[UE]=l,p[vn]=e.type==2?t[vn]:p,p}function _l(t,e,n,r,i){let o=t.data[e];if(o===null)o=ON(t,e,n,r,i),Ex()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=vx();o.injectorIndex=s===null?-1:s.injectorIndex}return Ia(o,!0),o}function ON(t,e,n,r,i){let o=ZE(),s=XE(),a=s?o:o&&o.parent,u=t.data[e]=UN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function $0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function q0(t,e,n,r,i){let o=Ni(),s=r&2;try{bi(-1),s&&e.length>Mr&&U0(t,e,Mr,!1),gn(s?2:0,i),n(r,i)}finally{bi(o),gn(s?3:1,i)}}function z0(t,e,n){if($E(e)){let r=Ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Ie(r)}}}function H0(t,e,n){JE()&&(GN(t,e,n,Qt(n,e)),(n.flags&64)===64&&Y0(t,e,n))}function G0(t,e,n=Qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function W0(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=cg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function cg(t,e,n,r,i,o,s,a,u,l,h){let p=Mr+r,m=p+i,I=kN(p,m),S=typeof l=="function"?l():l;return I[ue]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function kN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yn);return n}function FN(t,e,n,r){let o=r.get(rN,A0)||n===yn.ShadowDom,s=t.selectRootElement(e,o);return LN(s),s}function LN(t){VN(t)}var VN=()=>null;function jN(t,e,n,r){let i=X0(e);i.push(n),t.firstCreatePass&&eb(t).push(r,i.length-1)}function UN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return gx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function YI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=mt.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?JI(r,n,l,a,u):JI(r,n,l,a)}return r}function JI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function BN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,I=m?m.inputs:null,S=m?m.outputs:null;u=YI(0,p.inputs,h,u,I),l=YI(1,p.outputs,h,l,S);let P=u!==null&&s!==null&&!Vp(e)?rP(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function $N(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ug(t,e,n,r,i,o,s,a){let u=Qt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(lg(t,n,h,r,i),hl(e)&&qN(n,e.index)):e.type&3?(r=$N(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function qN(t,e){let n=Pr(e,t);n[Z]&16||(n[Z]|=64)}function K0(t,e,n,r){if(JE()){let i=r===null?null:{"":-1},o=KN(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Q0(t,e,n,s,i,a),i&&QN(n,r,i)}n.mergedAttrs=ca(n.mergedAttrs,n.attrs)}function Q0(t,e,n,r,i,o){for(let l=0;l<r.length;l++)ep(Ju(n,e),t,r[l].type);JN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=$0(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=ca(n.mergedAttrs,h.hostAttrs),ZN(t,n,e,u,h),YN(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}BN(t,n,o)}function zN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;HN(s)!=a&&s.push(a),s.push(n,r,o)}}function HN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function GN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;hl(n)&&XN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ju(n,e),Ti(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=Ci(e,t,a,n);if(Ti(l,e),s!==null&&nP(e,a-i,l,u,n,s),xr(u)){let h=Pr(n.index,e);h[sn]=Ci(e,t,a,n)}}}function Y0(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Dx();try{bi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Zf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&WN(u,l)}}finally{bi(-1),Zf(s)}}function WN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function KN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(xM(e,s.selectors,!1))if(r||(r=[]),xr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;cp(t,e,u)}else r.unshift(s),cp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function cp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function QN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}}function YN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xr(e)&&(n[""]=t)}}function JN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ZN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Lo(i.type,!0)),s=new Di(o,xr(i),Y);t.blueprint[r]=s,n[r]=s,zN(t,e,r,$0(t,n,i.hostVars,Yn),i)}function XN(t,e,n){let r=Qt(e,t),i=W0(n),o=t[an].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=wl(t,vl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function eP(t,e,n,r,i,o){let s=Qt(t,e);tP(e[Ke],s,o,t.value,n,r,i)}function tP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Fo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function nP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];B0(r,n,u,l,h,p)}}function rP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function J0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Z0(t,e){let n=t.contentQueries;if(n!==null){let r=Ie(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Hp(o),a.contentQueries(2,e[s],s)}}}finally{Ie(r)}}}function wl(t,e){return t[da]?t[jI][on]=e:t[da]=e,t[jI]=e,e}function up(t,e,n){Hp(0);let r=Ie(null);try{e(t,n)}finally{Ie(r)}}function X0(t){return t[la]||(t[la]=[])}function eb(t){return t.cleanup||(t.cleanup=[])}function tb(t,e){let n=t[Bo],r=n?n.get(Bn,null):null;r&&r.handleError(e)}function lg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];B0(h,l,r,a,u,i)}}function nb(t,e,n){let r=WE(e,t);fN(t[Ke],r,n)}function iP(t,e){let n=Pr(e,t),r=n[ue];oP(r,n);let i=n[Wn];i!==null&&n[Gu]===null&&(n[Gu]=ng(i,n[Bo])),dg(r,n,n[sn])}function oP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function dg(t,e,n){Gp(e);try{let r=t.viewQuery;r!==null&&up(1,r,n);let i=t.template;i!==null&&q0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Un]?.finishViewCreation(t),t.staticContentQueries&&Z0(t,e),t.staticViewQueries&&up(2,t.viewQuery,n);let o=t.components;o!==null&&sP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,Wp()}}function sP(t,e){for(let n=0;n<e.length;n++)iP(t,e[n])}function aP(t,e,n,r){let i=Ie(null);try{let o=e.tView,a=t[Z]&4096?4096:16,u=vl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[wa]=l;let h=t[Un];return h!==null&&(u[Un]=h.createEmbeddedView(o)),dg(o,u,n),u}finally{Ie(i)}}function ZI(t,e){return!e||e.firstChild===null||I0(t)}function cP(t,e,n,r=!0){let i=e[ue];if(yN(i,e,t,n),r){let s=ap(n,t),a=e[Ke],u=og(a,t[Ei]);u!==null&&gN(i,t[cn],a,e,u,s)}let o=e[Gu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function el(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(_n(o)),Kn(o)&&uP(o,r);let s=n.type;if(s&8)el(t,e,n.child,r);else if(s&32){let a=ig(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=L0(e,n);if(Array.isArray(a))r.push(...a);else{let u=fa(e[vn]);el(u[ue],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function uP(t,e){for(let n=jt;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&el(r[ue],r,i,e)}t[Ei]!==t[Wn]&&e.push(t[Ei])}var rb=[];function lP(t){return t[Ii]??dP(t)}function dP(t){let e=rb.pop()??Object.create(fP);return e.lView=t,e}function hP(t){t.lView[Ii]!==t&&(t.lView=null,rb.push(t))}var fP=Te(B({},eI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ha(t.lView)},consumerOnSignalRead(){this.lView[Ii]=this}}),ib=100;function ob(t,e=!0,n=0){let r=t[an],i=r.rendererFactory,o=!1;o||i.begin?.();try{pP(t,n)}catch(s){throw e&&tb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function pP(t,e){lp(t,e);let n=0;for(;zp(t);){if(n===ib)throw new z(103,!1);n++,lp(t,1)}}function gP(t,e,n,r){let i=e[Z];if((i&256)===256)return;let o=!1;!o&&e[an].inlineEffectRunner?.flush(),Gp(e);let s=null,a=null;!o&&mP(t)&&(a=lP(e),s=tI(a));try{QE(e),Ix(t.bindingStartIndex),n!==null&&q0(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Lu(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Vu(e,p,0,null),xf(e,0)}if(yP(e),sb(e,0),t.contentQueries!==null&&Z0(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Lu(e,p)}else{let p=t.contentHooks;p!==null&&Vu(e,p,1),xf(e,1)}PN(t,e);let l=t.components;l!==null&&cb(e,l,0);let h=t.viewQuery;if(h!==null&&up(2,h,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Lu(e,p)}else{let p=t.viewHooks;p!==null&&Vu(e,p,2),xf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Mf]){for(let p of e[Mf])p();e[Mf]=null}o||(e[Z]&=-73)}catch(u){throw ha(e),u}finally{a!==null&&(nI(a,s),hP(a)),Wp()}}function mP(t){return t.type!==2}function sb(t,e){for(let n=b0(t);n!==null;n=D0(n))for(let r=jt;r<n.length;r++){let i=n[r];ab(i,e)}}function yP(t){for(let e=b0(t);e!==null;e=D0(e)){if(!(e[Z]&Bp.HasTransplantedViews))continue;let n=e[$o];for(let r=0;r<n.length;r++){let i=n[r],o=i[at];ux(i)}}}function vP(t,e,n){let r=Pr(e,t);ab(r,n)}function ab(t,e){qp(t)&&lp(t,e)}function lp(t,e){let r=t[ue],i=t[Z],o=t[Ii],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&of(o)),o&&(o.dirty=!1),t[Z]&=-9217,s)gP(r,t,r.template,t[sn]);else if(i&8192){sb(t,1);let a=r.components;a!==null&&cb(t,a,1)}}function cb(t,e,n){for(let r=0;r<e.length;r++)vP(t,e[r],n)}function hg(t){for(t[an].changeDetectionScheduler?.notify();t;){t[Z]|=64;let e=fa(t);if(XM(t)&&!e)return t;t=e}return null}var Ai=class{get rootNodes(){let e=this._lView,n=e[ue];return el(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(e){this._lView[sn]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(Kn(e)){let n=e[Wu],r=n?n.indexOf(this):-1;r>-1&&(sp(e,r),zu(n,r))}this._attachedToViewContainer=!1}k0(this._lView[ue],this._lView)}onDestroy(e){YE(this._lView,e)}markForCheck(){hg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Z]&=-129}reattach(){Jf(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,ob(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,P0(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e,Jf(this._lView)}},Si=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IP;let t=e;return t})(),_P=Si,wP=class extends _P{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=aP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ai(i)}};function IP(){return fg(St(),Ee())}function fg(t,e){return t.type&4?new wP(e,t,Go(t,e)):null}var A9=new RegExp(`^(\\d+)*(${tN}|${eN})*(.*)`);var EP=()=>null;function XI(t,e){return EP(t,e)}var dp=class{},hp=class{},tl=class{};function bP(t){let e=Error(`No component factory found for ${Tt(t)}.`);return e[DP]=t,e}var DP="ngComponent";var fp=class{resolveComponentFactory(e){throw bP(e)}},Il=(()=>{let e=class e{};e.NULL=new fp;let t=e;return t})(),pa=class{},Or=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>CP();let t=e;return t})();function CP(){let t=Ee(),e=St(),n=Pr(e.index,t);return(vi(n)?n:t)[Ke]}var TP=(()=>{let e=class e{};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ff={};var eE=new Set;function pg(t){eE.has(t)||(eE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function tE(...t){}function AP(){let t=typeof jn.requestAnimationFrame=="function",e=jn[t?"requestAnimationFrame":"setTimeout"],n=jn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var De=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=AP().nativeRequestAnimationFrame,MP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,SP,tE,tE);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},SP={};function gg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function RP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pp(t),t.isCheckStableRunning=!0,gg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pp(t))}function MP(t){let e=()=>{RP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(xP(a))return n.invokeTask(i,o,s,a);try{return nE(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),rE(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return nE(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),rE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,pp(t),gg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function pp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function nE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rE(t){t._nesting--,gg(t)}function xP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ub=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function gp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=RI(i,a);else if(o==2){let u=a,l=e[++s];r=RI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var nl=class extends Il{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=wi(e);return new ga(n,this.ngModule)}};function iE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function NP(t){let e=t.toLowerCase();return e==="svg"?rx:e==="math"?ix:null}var mp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ul(r);let i=this.injector.get(e,Ff,r);return i!==Ff||n===Ff?i:this.parentInjector.get(e,n,r)}},ga=class extends tl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=iE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return iE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=kM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ie(null);try{i=i||this.ngModule;let s=i instanceof Mt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new mp(e,s):e,u=a.get(pa,null);if(u===null)throw new z(407,!1);let l=a.get(TP,null),h=a.get(ub,null),p=a.get(dp,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},I=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",P=r?FN(I,r,this.componentDef.encapsulation,a):N0(I,S,NP(S)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let O=null;P!==null&&(O=ng(P,a,!0));let H=cg(0,null,null,1,0,null,null,null,null,null,null),G=vl(null,H,null,R,null,null,m,I,a,null,O);Gp(G);let K,xe;try{let re=this.componentDef,b,y=null;re.findHostDirectiveDefs?(b=[],y=new Map,re.findHostDirectiveDefs(re,b,y),b.push(re)):b=[re];let _=PP(G,P),E=OP(_,P,re,b,G,m,I);xe=KE(H,Mr),P&&LP(I,re,P,r),n!==void 0&&VP(xe,this.ngContentSelectors,n),K=FP(E,re,b,y,G,[jP]),dg(H,G,null)}finally{Wp()}return new yp(this.componentType,K,Go(xe,G),G,xe)}finally{Ie(o)}}},yp=class extends hp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ai(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;lg(o[ue],o,i,e,n),this.previousInputValues.set(e,n);let s=Pr(this._tNode.index,o);hg(s)}}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function PP(t,e){let n=t[ue],r=Mr;return t[r]=e,_l(n,r,2,"#host",null)}function OP(t,e,n,r,i,o,s){let a=i[ue];kP(r,t,e,s);let u=null;e!==null&&(u=ng(e,i[Bo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=vl(i,W0(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&cp(a,t,r.length-1),wl(i,p),i[t.index]=p}function kP(t,e,n,r){for(let i of t)e.mergedAttrs=ca(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(gp(e,e.mergedAttrs,!0),n!==null&&j0(r,n,e))}function FP(t,e,n,r,i,o){let s=St(),a=i[ue],u=Qt(s,i);Q0(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=Ci(i,a,p,s);Ti(m,i)}Y0(a,i,s),u&&Ti(u,i);let l=Ci(i,a,s.directiveStart+s.componentOffset,s);if(t[sn]=i[sn]=l,o!==null)for(let h of o)h(l,e);return z0(a,s,i),l}function LP(t,e,n,r){if(r)Gf(t,n,["ng-version","17.3.4"]);else{let{attrs:i,classes:o}=FM(e.selectors[0]);i&&Gf(t,n,i),o&&o.length>0&&V0(t,n,o.join(" "))}}function VP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function jP(){let t=St();Yp(Ee()[ue],t)}var kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UP;let t=e;return t})();function UP(){let t=St();return db(t,Ee())}var BP=kr,lb=class extends BP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Go(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){let e=Jp(this._hostTNode,this._hostLView);if(u0(e)){let n=Yu(e,this._hostLView),r=Qu(e),i=n[ue].data[r+8];return new _i(i,n)}else return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=oE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=XI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ZI(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!ZM(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new ga(wi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Mt,null);P&&(o=P)}let h=wi(u.componentType??{}),p=XI(this._lContainer,h?.id??null),m=p?.firstChild??null,I=u.create(l,i,m,o);return this.insertImpl(I.hostView,a,ZI(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(cx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[at],l=new lb(u,u[cn],u[at]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return cP(s,i,o,r),e.attachToViewContainerRef(),DE(Lf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=oE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sp(this._lContainer,n);r&&(zu(Lf(this._lContainer),n),k0(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=sp(this._lContainer,n);return r&&zu(Lf(this._lContainer),n)!=null?new Ai(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function oE(t){return t[Wu]}function Lf(t){return t[Wu]||(t[Wu]=[])}function db(t,e){let n,r=e[t.index];return Kn(r)?n=r:(n=J0(r,e,null,t),e[t.index]=n,wl(e,n)),qP(n,e,t,r),new lb(n,t,e)}function $P(t,e){let n=t[Ke],r=n.createComment(""),i=Qt(e,t),o=og(n,i);return Xu(n,o,r,DN(n,i),!1),r}var qP=GP,zP=()=>!1;function HP(t,e,n){return zP(t,e,n)}function GP(t,e,n,r){if(t[Ei])return;let i;n.type&8?i=_n(r):i=$P(e,n),t[Ei]=i}var vp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},_p=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)mg(e,n).matches!==null&&this.queries[n].setDirty()}},wp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=eO(e):this.predicate=e}},Ip=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ep=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,WP(n,o)),this.matchTNodeWithReadOption(e,n,ju(n,e,o,!1,!1))}else r===Si?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ju(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Jt||i===kr||i===Si&&n.type&4)this.addMatch(n.index,-2);else{let o=ju(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function WP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function KP(t,e){return t.type&11?Go(t,e):t.type&4?fg(t,e):null}function QP(t,e,n,r){return n===-1?KP(e,t):n===-2?YP(t,e,r):Ci(t,t[ue],n,e)}function YP(t,e,n){if(n===Jt)return Go(e,t);if(n===Si)return fg(e,t);if(n===kr)return db(e,t)}function hb(t,e,n,r){let i=e[Un].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(QP(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function bp(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=hb(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=jt;p<h.length;p++){let m=h[p];m[wa]===m[at]&&bp(m[ue],m,l,r)}if(h[$o]!==null){let p=h[$o];for(let m=0;m<p.length;m++){let I=p[m];bp(I[ue],I,l,r)}}}}}return r}function JP(t,e){return t[Un].queries[e].queryList}function ZP(t,e,n){let r=new ip((n&4)===4);return jN(t,e,r,r.destroy),(e[Un]??=new _p).queries.push(new vp(r))-1}function XP(t,e,n,r){let i=yt();if(i.firstCreatePass){let o=St();tO(i,new wp(e,n,r),o.index),nO(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return ZP(i,Ee(),n)}function eO(t){return t.split(",").map(e=>e.trim())}function tO(t,e,n){t.queries===null&&(t.queries=new Ip),t.queries.track(new Ep(e,n))}function nO(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function mg(t,e){return t.queries.getByIndex(e)}function rO(t,e){let n=t[ue],r=mg(n,e);return r.crossesNgTemplate?bp(n,t,e,[]):hb(n,t,r,e)}function iO(t){return typeof t=="function"&&t[rf]!==void 0}function fb(t){return iO(t)&&typeof t.set=="function"}function oO(t){return Object.getPrototypeOf(t.prototype).constructor}function Jn(t){let e=oO(t.type),n=!0,r=[t];for(;e;){let i;if(xr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ou(t.inputs),s.inputTransforms=Ou(t.inputTransforms),s.declaredInputs=Ou(t.declaredInputs),s.outputs=Ou(t.outputs);let a=i.hostBindings;a&&lO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&cO(t,u),l&&uO(t,l),sO(t,i),tM(t.outputs,i.outputs),xr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Jn&&(n=!1)}}e=Object.getPrototypeOf(e)}aO(r)}function sO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function aO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ca(i.hostAttrs,n=ca(n,i.hostAttrs))}}function Ou(t){return t===Vo?{}:t===Wt?[]:t}function cO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function uO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function lO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function yg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Nr=class{},ma=class{};var Dp=class extends Nr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nl(this);let i=PE(e);this._bootstrapComponents=x0(i.bootstrap),this._r3Injector=v0(e,n,[{provide:Nr,useValue:this},{provide:Il,useValue:this.componentFactoryResolver},...r],Tt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Cp=class extends ma{constructor(e){super(),this.moduleType=e}create(e){return new Dp(this.moduleType,e,[])}};var rl=class extends Nr{constructor(e){super(),this.componentFactoryResolver=new nl(this),this.instance=null;let n=new ua([...e.providers,{provide:Nr,useValue:this},{provide:Il,useValue:this.componentFactoryResolver}],e.parent||Up(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vg(t,e,n=null){return new rl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Oi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new st(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pb(t){return hO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function dO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function hO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ri(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function fO(t,e,n,r){let i=Ri(t,e,n);return Ri(t,e+1,r)||i}function pO(t){return(t.flags&32)===32}function gO(t,e,n,r,i,o,s,a,u){let l=e.consts,h=_l(e,t,4,s||null,Ku(l,a));K0(e,n,h,Ku(l,u)),Yp(e,h);let p=h.tView=cg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Re(t,e,n,r,i,o,s,a){let u=Ee(),l=yt(),h=t+Mr,p=l.firstCreatePass?gO(h,l,u,e,n,r,i,o,s):l.data[h];Ia(p,!1);let m=mO(l,u,p,t);Kp()&&sg(l,u,m,p),Ti(m,u);let I=J0(m,u,m,p);return u[h]=I,wl(u,I),HP(I,p,u),$p(p)&&H0(l,u,p),s!=null&&G0(u,p,a),Re}var mO=yO;function yO(t,e,n,r){return Qp(!0),e[Ke].createComment("")}function ba(t,e,n,r){let i=Ee(),o=fl();if(Ri(i,o,e)){let s=yt(),a=pl();eP(a,i,t,e,n,r)}return ba}function gb(t,e,n,r){return Ri(t,fl(),n)?e+Fo(n)+r:Yn}function vO(t,e,n,r,i,o){let s=wx(),a=fO(t,s,n,i);return e0(2),a?e+Fo(n)+r+Fo(i)+o:Yn}function ku(t,e){return t<<17|e<<2}function Mi(t){return t>>17&32767}function _O(t){return(t&2)==2}function wO(t,e){return t&131071|e<<17}function Tp(t){return t|2}function qo(t){return(t&131068)>>2}function Vf(t,e){return t&-131069|e<<2}function IO(t){return(t&1)===1}function Ap(t){return t|1}function EO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Mi(s),u=qo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||_a(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Mi(t[a+1]);t[r+1]=ku(m,a),m!==0&&(t[m+1]=Vf(t[m+1],r)),t[a+1]=wO(t[a+1],r)}else t[r+1]=ku(a,0),a!==0&&(t[a+1]=Vf(t[a+1],r)),a=r;else t[r+1]=ku(u,0),a===0?a=r:t[u+1]=Vf(t[u+1],r),u=r;l&&(t[r+1]=Tp(t[r+1])),sE(t,h,r,!0),sE(t,h,r,!1),bO(e,h,t,r,o),s=ku(a,u),o?e.classBindings=s:e.styleBindings=s}function bO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&_a(o,e)>=0&&(n[r+1]=Ap(n[r+1]))}function sE(t,e,n,r){let i=t[n+1],o=e===null,s=r?Mi(i):qo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];DO(u,e)&&(a=!0,t[s+1]=r?Ap(l):Tp(l)),s=r?Mi(l):qo(l)}a&&(t[n+1]=r?Tp(i):Ap(i))}function DO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?_a(t,e)>=0:!1}function ae(t,e,n){let r=Ee(),i=fl();if(Ri(r,i,e)){let o=yt(),s=pl();ug(o,s,r,t,e,r[Ke],n,!1)}return ae}function aE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";lg(t,n,o[s],s,r)}function Wo(t,e){return CO(t,e,null,!0),Wo}function CO(t,e,n,r){let i=Ee(),o=yt(),s=e0(2);if(o.firstUpdatePass&&AO(o,t,s,r),e!==Yn&&Ri(i,s,e)){let a=o.data[Ni()];NO(o,a,i,i[Ke],t,i[s+1]=PO(e,n),r,s)}}function TO(t,e){return e>=t.expandoStartIndex}function AO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ni()],s=TO(t,n);OO(o,r)&&e===null&&!s&&(e=!1),e=SO(i,o,e,r),EO(i,o,e,n,s,r)}}function SO(t,e,n,r){let i=Cx(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=jf(null,t,e,n,r),n=ya(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=jf(i,t,e,n,r),o===null){let u=RO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=jf(null,t,e,u[1],r),u=ya(u,e.attrs,r),MO(t,e,r,u))}else o=xO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function RO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(qo(r)!==0)return t[Mi(r)]}function MO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Mi(i)]=r}function xO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ya(r,s,n)}return ya(r,e.attrs,n)}function jf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ya(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ya(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),bM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function NO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=IO(l)?cE(u,e,n,i,qo(l),s):void 0;if(!il(h)){il(o)||_O(l)&&(o=cE(u,null,n,i,a,s));let p=WE(Ni(),n);xN(r,s,p,i,o)}}function cE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Yn&&(m=p?Wt:void 0);let I=p?Sf(m,r):h===r?m:void 0;if(l&&!il(I)&&(I=Sf(u,r)),il(I)&&(a=I,s))return a;let S=t[i+1];i=s?Mi(S):qo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Sf(u,r))}return a}function il(t){return t!==void 0}function PO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Tt(Ea(t)))),t}function OO(t,e){return(t.flags&(e?8:16))!==0}function kO(t,e,n,r,i,o){let s=e.consts,a=Ku(s,i),u=_l(e,t,2,r,a);return K0(e,n,u,Ku(s,o)),u.attrs!==null&&gp(u,u.attrs,!1),u.mergedAttrs!==null&&gp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function M(t,e,n,r){let i=Ee(),o=yt(),s=Mr+t,a=i[Ke],u=o.firstCreatePass?kO(s,o,i,e,n,r):o.data[s],l=FO(o,i,u,a,e,t);i[s]=l;let h=$p(u);return Ia(u,!0),j0(a,l,u),!pO(u)&&Kp()&&sg(o,i,l,u),hx()===0&&Ti(l,i),fx(),h&&(H0(o,i,u),z0(o,u,i)),r!==null&&G0(i,u),M}function N(){let t=St();XE()?_x():(t=t.parent,Ia(t,!1));let e=t;mx(e)&&yx(),px();let n=yt();return n.firstCreatePass&&(Yp(n,t),$E(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Nx(e)&&aE(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Px(e)&&aE(n,e,Ee(),e.stylesWithoutHost,!1),N}function _e(t,e,n,r){return M(t,e,n,r),N(),_e}var FO=(t,e,n,r,i,o)=>(Qp(!0),N0(r,i,Sx()));function vt(){return Ee()}var ol="en-US";var LO=ol;function VO(t){typeof t=="string"&&(LO=t.toLowerCase().replace(/_/g,"-"))}function Me(t,e,n,r){let i=Ee(),o=yt(),s=St();return mb(o,i,i[Ke],s,t,e,r),Me}function jO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[la],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function mb(t,e,n,r,i,o,s){let a=$p(r),l=t.firstCreatePass&&eb(t),h=e[sn],p=X0(e),m=!0;if(r.type&3||s){let P=Qt(r,e),R=s?s(P):P,O=p.length,H=s?K=>s(_n(K[r.index])):r.index,G=null;if(!s&&a&&(G=jO(t,e,i,r.index)),G!==null){let K=G.__ngLastListenerFn__||G;K.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,m=!1}else{o=lE(r,e,h,o,!1);let K=n.listen(R,i,o);p.push(o,K),l&&l.push(i,H,O,O+1)}}else o=lE(r,e,h,o,!1);let I=r.outputs,S;if(m&&I!==null&&(S=I[i])){let P=S.length;if(P)for(let R=0;R<P;R+=2){let O=S[R],H=S[R+1],xe=e[O][H].subscribe(o),re=p.length;p.push(o,xe),l&&l.push(i,r.index,re,-(re+1))}}}function uE(t,e,n,r){let i=Ie(null);try{return gn(6,e,n),n(r)!==!1}catch(o){return tb(t,o),!1}finally{gn(7,e,n),Ie(i)}}function lE(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Pr(t.index,e):e;hg(a);let u=uE(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=uE(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Oe(t=1){return Ax(t)}function _g(t,e,n,r,i){let o=Ee(),s=gb(o,e,n,r);if(s!==Yn){let a=yt(),u=pl();ug(a,u,o,t,s,o[Ke],i,!1)}return _g}function yb(t,e,n,r){XP(t,e,n,r)}function vb(t){let e=Ee(),n=yt(),r=t0();Hp(r+1);let i=mg(n,r);if(t.dirty&&ax(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=rO(e,r);t.reset(o,Gx),t.notifyOnChanges()}return!0}return!1}function _b(){return JP(Ee(),t0())}function L(t,e=""){let n=Ee(),r=yt(),i=t+Mr,o=r.firstCreatePass?_l(r,i,1,e,null):r.data[i],s=UO(r,n,o,e,t);n[i]=s,Kp()&&sg(r,n,s,o),Ia(o,!1)}var UO=(t,e,n,r,i)=>(Qp(!0),hN(e[Ke],r));function Ut(t){return Ne("",t,""),Ut}function Ne(t,e,n){let r=Ee(),i=gb(r,t,e,n);return i!==Yn&&nb(r,Ni(),i),Ne}function Zn(t,e,n,r,i){let o=Ee(),s=vO(o,t,e,n,r,i);return s!==Yn&&nb(o,Ni(),s),Zn}function Xn(t,e,n){fb(e)&&(e=e());let r=Ee(),i=fl();if(Ri(r,i,e)){let o=yt(),s=pl();ug(o,s,r,t,e,r[Ke],n,!1)}return Xn}function Fr(t,e){let n=fb(t);return n&&t.set(e),n}function er(t,e){let n=Ee(),r=yt(),i=St();return mb(r,n,n[Ke],i,t,e),er}function BO(t,e,n){let r=yt();if(r.firstCreatePass){let i=xr(t);Sp(n,r.data,r.blueprint,i,!0),Sp(e,r.data,r.blueprint,i,!1)}}function Sp(t,e,n,r,i){if(t=Ct(t),Array.isArray(t))for(let o=0;o<t.length;o++)Sp(t[o],e,n,r,i);else{let o=yt(),s=Ee(),a=St(),u=Uo(t)?t:Ct(t.provide),l=jE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Uo(t)||!t.multi){let I=new Di(l,i,Y),S=Bf(u,e,i?h:h+m,p);S===-1?(ep(Ju(a,s),o,u),Uf(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)):(n[S]=I,s[S]=I)}else{let I=Bf(u,e,h+m,p),S=Bf(u,e,h,h+m),P=I>=0&&n[I],R=S>=0&&n[S];if(i&&!R||!i&&!P){ep(Ju(a,s),o,u);let O=zO(i?qO:$O,n.length,i,r,l);!i&&R&&(n[S].providerFactory=O),Uf(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=wb(n[i?S:I],l,!i&&r);Uf(o,t,I>-1?I:S,O)}!i&&r&&R&&n[S].componentProviders++}}}function Uf(t,e,n,r){let i=Uo(e),o=zM(e);if(i||o){let u=(o?Ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function wb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $O(t,e,n,r){return Rp(this.multi,[])}function qO(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ci(n,n[ue],this.providerFactory.index,r);o=a.slice(0,s),Rp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Rp(i,o);return o}function Rp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function zO(t,e,n,r,i){let o=new Di(t,n,Y);return o.multi=[],o.index=e,o.componentProviders=0,wb(o,i,r&&!n),o}function Da(t,e=[]){return n=>{n.providersResolver=(r,i)=>BO(r,i?i(t):t,e)}}var HO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=FE(!1,r.type),o=i.length>0?vg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Q({token:e,providedIn:"environment",factory:()=>new e(te(Mt))});let t=e;return t})();function qe(t){pg("NgStandalone"),t.getStandaloneInjector=e=>e.get(HO).getOrCreateStandaloneInjector(t)}var qn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ib=new qn("17.3.4"),El=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Eb=new q("");function ki(t){return!!t&&typeof t.then=="function"}function bb(t){return!!t&&typeof t.subscribe=="function"}var Db=new q(""),Cb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=V(Db,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(ki(s))r.push(s);else if(bb(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bl=new q("");function GO(){iI(()=>{throw new z(600,!1)})}function WO(t){return t.isBoundToModule}function KO(t,e,n){try{let r=n();return ki(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ko=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(_0),this.afterRenderEffectManager=V(ub),this.externalTestViews=new Set,this.beforeRender=new gt,this.afterTick=new gt,this.componentTypes=[],this.components=[],this.isStable=V(Oi).hasPendingTasks.pipe(se(r=>!r)),this._injector=V(Mt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof tl;if(!this._injector.get(Cb).done){let I=!o&&NE(r),S=!1;throw new z(405,S)}let a;o?a=r:a=this._injector.get(Il).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=WO(a)?void 0:this._injector.get(Nr),l=i||a.selector,h=a.create(Yt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(Eb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),$f(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new z(101,!1);let i=Ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Ie(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===ib)throw new z(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)QO(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Mp(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Mp(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;$f(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(bl,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>$f(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new z(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $f(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function QO(t,e,n){!e&&!Mp(t)||YO(t,n,e)}function Mp(t){return zp(t)}function YO(t,e,n){let r;n?(r=0,t[Z]|=1024):t[Z]&64?r=0:r=1,ob(t,e,r)}var xp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},wg=(()=>{let e=class e{compileModuleSync(r){return new Cp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=PE(r),s=x0(o.declarations).reduce((a,u)=>{let l=wi(u);return l&&a.push(new ga(l)),a},[]);return new xp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var JO=(()=>{let e=class e{constructor(){this.zone=V(De),this.applicationRef=V(Ko)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZO(t){return[{provide:De,useFactory:t},{provide:jo,multi:!0,useFactory:()=>{let e=V(JO,{optional:!0});return()=>e.initialize()}},{provide:jo,multi:!0,useFactory:()=>{let e=V(n1);return()=>{e.initialize()}}},{provide:_0,useFactory:XO}]}function XO(){let t=V(De),e=V(Bn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function e1(t){let e=ZO(()=>new De(t1(t)));return Kt([[],e])}function t1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var n1=(()=>{let e=class e{constructor(){this.subscription=new He,this.initialized=!1,this.zone=V(De),this.pendingTasks=V(Oi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function r1(){return typeof $localize<"u"&&$localize.locale||ol}var Ig=new q("",{providedIn:"root",factory:()=>V(Ig,le.Optional|le.SkipSelf)||r1()});var Tb=new q("");var Bu=null;function i1(t=[],e){return Yt.create({name:e,providers:[{provide:ll,useValue:"platform"},{provide:Tb,useValue:new Set([()=>Bu=null])},...t]})}function o1(t=[]){if(Bu)return Bu;let e=i1(t);return Bu=e,GO(),s1(e),e}function s1(t){t.get(eg,null)?.forEach(n=>n())}var Lr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=a1;let t=e;return t})();function a1(t){return c1(St(),Ee(),(t&16)===16)}function c1(t,e,n){if(hl(t)&&!n){let r=Pr(t.index,e);return new Ai(r,r)}else if(t.type&47){let r=e[vn];return new Ai(r,e)}return null}var Np=class{constructor(){}supports(e){return pb(e)}create(e){return new Pp(e)}},u1=(t,e)=>e,Pp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||u1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<dE(r,i,o)?n:r,a=dE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let I=m<o.length?o[m]:o[m]=0,S=I+m;h<=S&&S<l&&(o[m]=I+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!pb(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,dO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Op(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new sl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new sl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Op=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},kp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},sl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new kp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function dE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function hE(){return new Eg([new Np])}var Eg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||hE()),deps:[[e,new bE,new At]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new z(901,!1)}};e.\u0275prov=Q({token:e,providedIn:"root",factory:hE});let t=e;return t})();function Ab(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=o1(r),o=[e1(),...n||[]],a=new rl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(De);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Bn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:I=>{l.handleError(I)}})});let p=()=>a.destroy(),m=i.get(Tb);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),KO(l,u,()=>{let I=a.get(Cb);return I.runInitializers(),I.donePromise.then(()=>{let S=a.get(Ig,ol);VO(S||ol);let P=a.get(Ko);return e!==void 0&&P.bootstrap(e),P})})})}catch(e){return Promise.reject(e)}}function Vr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Nb=null;function tr(){return Nb}function Pb(t){Nb??=t}var Dl=class{};var xt=new q(""),Ob=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>V(l1),providedIn:"platform"});let t=e;return t})();var l1=(()=>{let e=class e extends Ob{constructor(){super(),this._doc=V(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tr().getBaseHref(this._doc)}onPopState(r){let i=tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function kb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Sb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Fi(t){return t&&t[0]!=="?"?"?"+t:t}var Yo=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>V(Fb),providedIn:"root"});let t=e;return t})(),d1=new q(""),Fb=(()=>{let e=class e extends Yo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??V(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return kb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Fi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Fi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Fi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(te(Ob),te(d1,8))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ca=(()=>{let e=class e{constructor(r){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=p1(Sb(Rb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Fi(i))}normalize(r){return e.stripTrailingSlash(f1(this._basePath,Rb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Fi,e.joinWithSlash=kb,e.stripTrailingSlash=Sb,e.\u0275fac=function(i){return new(i||e)(te(Yo))},e.\u0275prov=Q({token:e,factory:()=>h1(),providedIn:"root"});let t=e;return t})();function h1(){return new Ca(te(Yo))}function f1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Rb(t){return t.replace(/\/index.html$/,"")}function p1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Cl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},jr=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new bg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),Mb(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Mb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Y(kr),Y(Si),Y(Eg))},e.\u0275dir=et({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Mb(t,e){t.context.$implicit=e.item}var Nt=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Dg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){xb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){xb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Y(kr),Y(Si))},e.\u0275dir=et({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Dg=class{constructor(){this.$implicit=null,this.ngIf=null}};function xb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Tt(e)}'.`)}var ct=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hn({type:e}),e.\u0275inj=zn({});let t=e;return t})(),Lb="browser",g1="server";function Tl(t){return t===g1}var Qo=class{};var Aa=class{},Sl=class{},Li=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Tg=class{encodeKey(e){return Vb(e)}encodeValue(e){return Vb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function v1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var _1=/%(\d[a-f0-9])/gi,w1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vb(t){return encodeURIComponent(t).replace(_1,(e,n)=>w1[n]??e)}function Al(t){return`${t}`}var Ur=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Tg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=v1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Al):[Al(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Al(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Al(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ag=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function I1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Ub(t){return typeof Blob<"u"&&t instanceof Blob}function Bb(t){return typeof FormData<"u"&&t instanceof FormData}function E1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ta=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(I1(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Li,this.context??=new Ag,!this.params)this.params=new Ur,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jb(this.body)||Ub(this.body)||Bb(this.body)||E1(this.body)?this.body:this.body instanceof Ur?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Bb(this.body)?null:Ub(this.body)?this.body.type||null:jb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ur?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,I)=>m.set(I,e.setHeaders[I]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,I)=>m.set(I,e.setParams[I]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Jo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Jo||{}),Sa=class{constructor(e,n=xl.Ok,r="OK"){this.headers=e.headers||new Li,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Sg=class t extends Sa{constructor(e={}){super(e),this.type=Jo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Rl=class t extends Sa{constructor(e={}){super(e),this.type=Jo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ml=class extends Sa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},xl=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(xl||{});function Cg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Vi=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Ta)s=r;else{let l;o.headers instanceof Li?l=o.headers:l=new Li(o.headers);let h;o.params&&(o.params instanceof Ur?h=o.params:h=new Ur({fromObject:o.params})),s=new Ta(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=J(s).pipe(Cr(l=>this.handler.handle(l)));if(r instanceof Ta||o.observe==="events")return a;let u=a.pipe(Lt(l=>l instanceof Rl));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(se(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(se(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ur().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Cg(o,i))}post(r,i,o={}){return this.request("POST",r,Cg(o,i))}put(r,i,o={}){return this.request("PUT",r,Cg(o,i))}};e.\u0275fac=function(i){return new(i||e)(te(Aa))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})();function Hb(t,e){return e(t)}function b1(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function D1(t,e,n){return(r,i)=>Gn(n,()=>e(r,o=>t(o,i)))}var C1=new q(""),Rg=new q(""),T1=new q(""),A1=new q("");function S1(){let t=null;return(e,n)=>{t===null&&(t=(V(C1,{optional:!0})??[]).reduceRight(b1,Hb));let r=V(Oi),i=r.add();return t(e,n).pipe(Ar(()=>r.remove(i)))}}var $b=(()=>{let e=class e extends Aa{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=V(Oi);let o=V(A1,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Rg),...this.injector.get(T1,[])]));this.chain=o.reduceRight((s,a)=>D1(s,a,this.injector),Hb)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Ar(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(te(Sl),te(Mt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})();var R1=/^\)\]\}',?\n/;function M1(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var qb=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new z(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ke(i.\u0275loadImpl()):J(null)).pipe(Vt(()=>new he(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((R,O)=>a.setRequestHeader(R,O.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let R=r.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(r.responseType){let R=r.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let R=a.statusText||"OK",O=new Li(a.getAllResponseHeaders()),H=M1(a)||r.url;return l=new Sg({headers:O,status:a.status,statusText:R,url:H}),l},p=()=>{let{headers:R,status:O,statusText:H,url:G}=h(),K=null;O!==xl.NoContent&&(K=typeof a.response>"u"?a.responseText:a.response),O===0&&(O=K?xl.Ok:0);let xe=O>=200&&O<300;if(r.responseType==="json"&&typeof K=="string"){let re=K;K=K.replace(R1,"");try{K=K!==""?JSON.parse(K):null}catch(b){K=re,xe&&(xe=!1,K={error:b,text:K})}}xe?(s.next(new Rl({body:K,headers:R,status:O,statusText:H,url:G||void 0})),s.complete()):s.error(new Ml({error:K,headers:R,status:O,statusText:H,url:G||void 0}))},m=R=>{let{url:O}=h(),H=new Ml({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:O||void 0});s.error(H)},I=!1,S=R=>{I||(s.next(h()),I=!0);let O={type:Jo.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(O.total=R.total),r.responseType==="text"&&a.responseText&&(O.partialText=a.responseText),s.next(O)},P=R=>{let O={type:Jo.UploadProgress,loaded:R.loaded};R.lengthComputable&&(O.total=R.total),s.next(O)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",S),u!==null&&a.upload&&a.upload.addEventListener("progress",P)),a.send(u),s.next({type:Jo.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",S),u!==null&&a.upload&&a.upload.removeEventListener("progress",P)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(te(Qo))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),Gb=new q(""),x1="XSRF-TOKEN",N1=new q("",{providedIn:"root",factory:()=>x1}),P1="X-XSRF-TOKEN",O1=new q("",{providedIn:"root",factory:()=>P1}),Nl=class{},k1=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Cl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(te(xt),te(wn),te(N1))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})();function F1(t,e){let n=t.url.toLowerCase();if(!V(Gb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=V(Nl).getToken(),i=V(O1);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Wb=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Wb||{});function L1(t,e){return{\u0275kind:t,\u0275providers:e}}function V1(...t){let e=[Vi,qb,$b,{provide:Aa,useExisting:$b},{provide:Sl,useExisting:qb},{provide:Rg,useValue:F1,multi:!0},{provide:Gb,useValue:!0},{provide:Nl,useClass:k1}];for(let n of t)e.push(...n.\u0275providers);return Kt(e)}var zb=new q("");function j1(){return L1(Wb.LegacyInterceptors,[{provide:zb,useFactory:S1},{provide:Rg,useExisting:zb,multi:!0}])}var Zo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hn({type:e}),e.\u0275inj=zn({providers:[V1(j1())]});let t=e;return t})();var Pg=class extends Dl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Og=class t extends Pg{static makeCurrent(){Pb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=U1();return n==null?null:B1(n)}resetBaseElement(){Ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Cl(document.cookie,e)}},Ra=null;function U1(){return Ra=Ra||document.querySelector("base"),Ra?Ra.getAttribute("href"):null}function B1(t){return new URL(t,document.baseURI).pathname}var $1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),kg=new q(""),Jb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(te(kg),te(De))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),Pl=class{constructor(e){this._doc=e}},xg="ng-app-id",Zb=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Tl(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${xg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(xg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(xg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(te(xt),te(Xp),te(tg,8),te(wn))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),Ng={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lg=/%COMP%/g,Xb="%COMP%",q1=`_nghost-${Xb}`,z1=`_ngcontent-${Xb}`,H1=!0,G1=new q("",{providedIn:"root",factory:()=>H1});function W1(t){return z1.replace(Lg,t)}function K1(t){return q1.replace(Lg,t)}function eD(t,e){return e.map(n=>n.replace(Lg,t))}var Kb=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Tl(u),this.defaultRenderer=new Ma(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===yn.ShadowDom&&(i=Te(B({},i),{encapsulation:yn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ol?o.applyToHost(r):o instanceof xa&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case yn.Emulated:s=new Ol(l,h,i,this.appId,p,a,u,m);break;case yn.ShadowDom:return new Fg(l,h,r,i,a,u,this.nonce,m);default:s=new xa(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(te(Jb),te(Zb),te(Xp),te(G1),te(xt),te(wn),te(De),te(tg))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),Ma=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ng[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Qb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Qb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ng[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ng[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($n.DashCase|$n.Important)?e.style.setProperty(n,r,i&$n.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$n.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=tr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Qb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Fg=class extends Ma{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=eD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xa=class extends Ma{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?eD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ol=class extends xa{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=W1(l),this.hostAttr=K1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Q1=(()=>{let e=class e extends Pl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(te(xt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),Yb=["alt","control","meta","shift"],Y1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Z1=(()=>{let e=class e extends Pl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Yb.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=Y1[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Yb.forEach(a=>{if(a!==o){let u=J1[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(te(xt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})();function tD(t,e){return Ab(B({rootComponent:t},X1(e)))}function X1(t){return{appProviders:[...ik,...t?.providers??[]],platformProviders:rk}}function ek(){Og.makeCurrent()}function tk(){return new Bn}function nk(){return T0(document),document}var rk=[{provide:wn,useValue:Lb},{provide:eg,useValue:ek,multi:!0},{provide:xt,useFactory:nk,deps:[]}];var ik=[{provide:ll,useValue:"root"},{provide:Bn,useFactory:tk,deps:[]},{provide:kg,useClass:Q1,multi:!0,deps:[xt,De,wn]},{provide:kg,useClass:Z1,multi:!0,deps:[xt]},Kb,Zb,Jb,{provide:pa,useExisting:Kb},{provide:Qo,useClass:$1,deps:[]},[]];var nD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(te(xt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ce="primary",Ga=Symbol("RouteTitle"),$g=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function rs(t){return new $g(t)}function sk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ak(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!En(t[n],e[n]))return!1;return!0}function En(t,e){let n=t?qg(t):void 0,r=e?qg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!cD(t[i],e[i]))return!1;return!0}function qg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function cD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function uD(t){return t.length>0?t[t.length-1]:null}function qr(t){return If(t)?t:ki(t)?ke(Promise.resolve(t)):J(t)}var ck={exact:dD,subset:hD},lD={exact:uk,subset:lk,ignored:()=>!0};function rD(t,e,n){return ck[n.paths](t.root,e.root,n.matrixParams)&&lD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function uk(t,e){return En(t,e)}function dD(t,e,n){if(!Ui(t.segments,e.segments)||!Ll(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!dD(t.children[r],e.children[r],n))return!1;return!0}function lk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>cD(t[n],e[n]))}function hD(t,e,n){return fD(t,e,e.segments,n)}function fD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ui(i,n)||e.hasChildren()||!Ll(i,n,r))}else if(t.segments.length===n.length){if(!Ui(t.segments,n)||!Ll(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!hD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ui(t.segments,i)||!Ll(t.segments,i,r)||!t.children[ce]?!1:fD(t.children[ce],e,o,r)}}function Ll(t,e,n){return e.every((r,i)=>lD[n](t[i].parameters,r.parameters))}var Br=class{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=rs(this.queryParams),this._queryParamMap}toString(){return fk.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vl(this)}},ji=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=rs(this.parameters),this._parameterMap}toString(){return gD(this)}};function dk(t,e){return Ui(t,e)&&t.every((n,r)=>En(n.parameters,e[r].parameters))}function Ui(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function hk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var gm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>new Ul,providedIn:"root"});let t=e;return t})(),Ul=class{parse(e){let n=new Hg(e);return new Br(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Na(e.root,!0)}`,r=mk(e.queryParams),i=typeof e.fragment=="string"?`#${pk(e.fragment)}`:"";return`${n}${r}${i}`}},fk=new Ul;function Vl(t){return t.segments.map(e=>gD(e)).join("/")}function Na(t,e){if(!t.hasChildren())return Vl(t);if(e){let n=t.children[ce]?Na(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${Na(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=hk(t,(r,i)=>i===ce?[Na(t.children[ce],!1)]:[`${i}:${Na(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${Vl(t)}/${n[0]}`:`${Vl(t)}/(${n.join("//")})`}}function pD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kl(t){return pD(t).replace(/%3B/gi,";")}function pk(t){return encodeURI(t)}function zg(t){return pD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jl(t){return decodeURIComponent(t)}function iD(t){return jl(t.replace(/\+/g,"%20"))}function gD(t){return`${zg(t.path)}${gk(t.parameters)}`}function gk(t){return Object.entries(t).map(([e,n])=>`;${zg(e)}=${zg(n)}`).join("")}function mk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${kl(n)}=${kl(i)}`).join("&"):`${kl(n)}=${kl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var yk=/^[^\/()?;#]+/;function Vg(t){let e=t.match(yk);return e?e[0]:""}var vk=/^[^\/()?;=#]+/;function _k(t){let e=t.match(vk);return e?e[0]:""}var wk=/^[^=?&#]+/;function Ik(t){let e=t.match(wk);return e?e[0]:""}var Ek=/^[^&#]+/;function bk(t){let e=t.match(Ek);return e?e[0]:""}var Hg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new be(e,n)),r}parseSegment(){let e=Vg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new ji(jl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=_k(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Vg(this.remaining);i&&(r=i,this.capture(r))}e[jl(n)]=jl(r)}parseQueryParam(e){let n=Ik(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=bk(this.remaining);s&&(r=s,this.capture(r))}let i=iD(n),o=iD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ce]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function mD(t){return t.segments.length>0?new be([],{[ce]:t}):t}function yD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=yD(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new be(t.segments,e);return Dk(n)}function Dk(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new be(t.segments.concat(e.segments),e.children)}return t}function is(t){return t instanceof Br}function Ck(t,e,n=null,r=null){let i=vD(t);return _D(i,e,n,r)}function vD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new be(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=mD(r);return e??i}function _D(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return jg(i,i,i,n,r);let o=Tk(e);if(o.toRoot())return jg(i,i,new be([],{}),n,r);let s=Ak(o,i,t),a=s.processChildren?ka(s.segmentGroup,s.index,o.commands):ID(s.segmentGroup,s.index,o.commands);return jg(i,s.segmentGroup,a,n,r)}function Bl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Va(t){return typeof t=="object"&&t!=null&&t.outlets}function jg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=wD(t,e,n);let a=mD(yD(s));return new Br(a,o,i)}function wD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=wD(o,e,n)}),new be(t.segments,r)}var $l=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bl(r[0]))throw new z(4003,!1);let i=r.find(Va);if(i&&i!==uD(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Tk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $l(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new $l(n,e,r)}var ts=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Ak(t,e,n){if(t.isAbsolute)return new ts(e,!0,0);if(!n)return new ts(e,!1,NaN);if(n.parent===null)return new ts(n,!0,0);let r=Bl(t.commands[0])?0:1,i=n.segments.length-1+r;return Sk(n,i,t.numberOfDoubleDots)}function Sk(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new ts(r,!1,i-o)}function Rk(t){return Va(t[0])?t[0].outlets:{[ce]:t}}function ID(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return ka(t,e,n);let r=Mk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new be(t.segments.slice(0,r.pathIndex),{});return o.children[ce]=new be(t.segments.slice(r.pathIndex),t.children),ka(o,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?Gg(t,e,n):r.match?ka(t,0,i):Gg(t,e,n)}function ka(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=Rk(n),i={};if(Object.keys(r).some(o=>o!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let o=ka(t.children[ce],e,n);return new be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ID(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(t.segments,i)}}function Mk(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Va(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!sD(u,l,s))return o;r+=2}else{if(!sD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Va(o)){let u=xk(o.outlets);return new be(r,u)}if(i===0&&Bl(n[0])){let u=t.segments[e];r.push(new ji(u.path,oD(n[0]))),i++;continue}let s=Va(o)?o.outlets[ce]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Bl(a)?(r.push(new ji(s,oD(a))),i+=2):(r.push(new ji(s,{})),i++)}return new be(r,{})}function xk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Gg(new be([],{}),0,r))}),e}function oD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function sD(t,e,n){return t==n.path&&En(e,n.parameters)}var Fa="imperative",ut=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ut||{}),Zt=class{constructor(e,n){this.id=e,this.url=n}},ja=class extends Zt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ut.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nr=class extends Zt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$t=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}($t||{}),Wg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wg||{}),$r=class extends Zt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bi=class extends Zt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ut.NavigationSkipped}},Ua=class extends Zt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ql=class extends Zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kg=class extends Zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qg=class extends Zt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yg=class extends Zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jg=class extends Zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zg=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xg=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},em=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tm=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nm=class{constructor(e){this.snapshot=e,this.type=ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rm=class{constructor(e){this.snapshot=e,this.type=ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ba=class{},$a=class{constructor(e){this.url=e}};var im=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yl,this.attachRef=null}},Yl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new im,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=om(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=om(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sm(e,this._root).map(n=>n.value)}};function om(t,e){if(t===e.value)return e;for(let n of e.children){let r=om(t,n);if(r)return r}return null}function sm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sm(t,n);if(r.length)return r.unshift(e),r}return[]}var Bt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function es(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Hl=class extends zl{constructor(e,n){super(e),this.snapshot=n,ym(this,e)}toString(){return this.snapshot.toString()}};function ED(t){let e=Nk(t),n=new st([new ji("",{})]),r=new st({}),i=new st({}),o=new st({}),s=new st(""),a=new $i(n,r,o,s,i,ce,t,e.root);return a.snapshot=e.root,new Hl(new Bt(a,[]),e)}function Nk(t){let e={},n={},r={},i="",o=new qa([],e,r,i,n,ce,t,null,{});return new Gl("",new Bt(o,[]))}var $i=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[Ga]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&DD(i)&&(r.resolve[Ga]=i.title),r}var qa=class{get title(){return this.data?.[Ga]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Gl=class extends zl{constructor(e,n){super(n),this.url=e,ym(this,n)}toString(){return bD(this._root)}};function ym(t,e){e.value._routerState=t,e.children.forEach(n=>ym(t,n))}function bD(t){let e=t.children.length>0?` { ${t.children.map(bD).join(", ")} } `:"";return`${t.value}${e}`}function Ug(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,En(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),En(e.params,n.params)||t.paramsSubject.next(n.params),ak(e.url,n.url)||t.urlSubject.next(n.url),En(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function am(t,e){let n=En(t.params,e.params)&&dk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||am(t.parent,e.parent))}function DD(t){return typeof t.title=="string"||t.title===null}var vm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.parentContexts=V(Yl),this.location=V(kr),this.changeDetector=V(Lr),this.environmentInjector=V(Mt),this.inputBinder=V(_m,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new cm(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=et({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qn]});let t=e;return t})(),cm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===$i?this.route:e===Yl?this.childContexts:this.parent.get(e,n)}},_m=new q("");function Pk(t,e,n){let r=za(t,e._root,n?n._root:void 0);return new Hl(r,e)}function za(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Ok(t,e,n);return new Bt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>za(t,a)),s}}let r=kk(e.value),i=e.children.map(o=>za(t,o));return new Bt(r,i)}}function Ok(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return za(t,r,i);return za(t,r)})}function kk(t){return new $i(new st(t.url),new st(t.params),new st(t.queryParams),new st(t.fragment),new st(t.data),t.outlet,t.component,t)}var CD="ngNavigationCancelingError";function TD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=is(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=AD(!1,$t.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function AD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[CD]=!0,n.cancellationCode=e,n}function Fk(t){return SD(t)&&is(t.url)}function SD(t){return!!t&&t[CD]}var Lk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=$e({type:e,selectors:[["ng-component"]],standalone:!0,features:[qe],decls:1,vars:0,template:function(i,o){i&1&&_e(0,"router-outlet")},dependencies:[vm],encapsulation:2});let t=e;return t})();function Vk(t,e){return t.providers&&!t._injector&&(t._injector=vg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function wm(t){let e=t.children&&t.children.map(wm),n=e?Te(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=Lk),n}function bn(t){return t.outlet||ce}function jk(t,e){let n=t.filter(r=>bn(r)===e);return n.push(...t.filter(r=>bn(r)!==e)),n}function Wa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Uk=(t,e,n,r)=>se(i=>(new um(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),um=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ug(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=es(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=es(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new rm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new tm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Ug(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ug(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Wa(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Wl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ns=class{constructor(e,n){this.component=e,this.route=n}};function Bk(t,e,n){let r=t._root,i=e?e._root:null;return Pa(r,i,n,[r.value])}function $k(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ss(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!mE(t)?t:e.get(t):r}function Pa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=es(e);return t.children.forEach(s=>{qk(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>La(a,n.getContext(s),i)),i}function qk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=zk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Wl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Pa(t,e,a?a.children:null,r,i):Pa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ns(a.outlet.component,s))}else s&&La(e,a,i),i.canActivateChecks.push(new Wl(r)),o.component?Pa(t,null,a?a.children:null,r,i):Pa(t,null,n,r,i);return i}function zk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ui(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ui(t.url,e.url)||!En(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!am(t,e)||!En(t.queryParams,e.queryParams);case"paramsChange":default:return!am(t,e)}}function La(t,e,n){let r=es(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?La(s,e.children.getContext(o),n):La(s,null,n):La(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ns(e.outlet.component,i)):n.canDeactivateChecks.push(new ns(null,i)):n.canDeactivateChecks.push(new ns(null,i))}function Ka(t){return typeof t=="function"}function Hk(t){return typeof t=="boolean"}function Gk(t){return t&&Ka(t.canLoad)}function Wk(t){return t&&Ka(t.canActivate)}function Kk(t){return t&&Ka(t.canActivateChild)}function Qk(t){return t&&Ka(t.canDeactivate)}function Yk(t){return t&&Ka(t.canMatch)}function RD(t){return t instanceof Ln||t?.name==="EmptyError"}var Fl=Symbol("INITIAL_VALUE");function os(){return Vt(t=>Su(t.map(e=>e.pipe(Vn(1),Tf(Fl)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===Fl)return Fl;if(n===!1||n instanceof Br)return n}return!0}),Lt(e=>e!==Fl),Vn(1)))}function Jk(t,e){return Ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?J(Te(B({},n),{guardsResult:!0})):Zk(s,r,i,t).pipe(Ze(a=>a&&Hk(a)?Xk(r,o,t,e):J(a)),se(a=>Te(B({},n),{guardsResult:a})))})}function Zk(t,e,n,r){return ke(t).pipe(Ze(i=>iF(i.component,i.route,n,e,r)),pn(i=>i!==!0,!0))}function Xk(t,e,n,r){return ke(e).pipe(Cr(i=>Ro(tF(i.route.parent,r),eF(i.route,r),rF(t,i.path,n),nF(t,i.route,n))),pn(i=>i!==!0,!0))}function eF(t,e){return t!==null&&e&&e(new nm(t)),J(!0)}function tF(t,e){return t!==null&&e&&e(new em(t)),J(!0)}function nF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(o=>Ru(()=>{let s=Wa(e)??n,a=ss(o,s),u=Wk(a)?a.canActivate(e,t):Gn(s,()=>a(e,t));return qr(u).pipe(pn())}));return J(i).pipe(os())}function rF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>$k(s)).filter(s=>s!==null).map(s=>Ru(()=>{let a=s.guards.map(u=>{let l=Wa(s.node)??n,h=ss(u,l),p=Kk(h)?h.canActivateChild(r,t):Gn(l,()=>h(r,t));return qr(p).pipe(pn())});return J(a).pipe(os())}));return J(o).pipe(os())}function iF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let u=Wa(e)??i,l=ss(a,u),h=Qk(l)?l.canDeactivate(t,e,n,r):Gn(u,()=>l(t,e,n,r));return qr(h).pipe(pn())});return J(s).pipe(os())}function oF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let o=i.map(s=>{let a=ss(s,t),u=Gk(a)?a.canLoad(e,n):Gn(t,()=>a(e,n));return qr(u)});return J(o).pipe(os(),MD(r))}function MD(t){return ff(We(e=>{if(is(e))throw TD(t,e)}),se(e=>e===!0))}function sF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let o=i.map(s=>{let a=ss(s,t),u=Yk(a)?a.canMatch(e,n):Gn(t,()=>a(e,n));return qr(u)});return J(o).pipe(os(),MD(r))}var Ha=class{constructor(e){this.segmentGroup=e||null}},Kl=class extends Error{constructor(e){super(),this.urlTree=e}};function Xo(t){return Ao(new Ha(t))}function aF(t){return Ao(new z(4e3,!1))}function cF(t){return Ao(AD(!1,$t.GuardRejected))}var lm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[ce])return aF(e.redirectTo);i=i.children[ce]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Kl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Br(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},dm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uF(t,e,n,r,i){let o=Im(t,e,n);return o.matched?(r=Vk(e,r),sF(r,e,n,i).pipe(se(s=>s===!0?o:B({},dm)))):J(o)}function Im(t,e,n){if(e.path==="**")return lF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},dm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||sk)(n,t,e);if(!i)return B({},dm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function lF(t){return{matched:!0,parameters:t.length>0?uD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function aD(t,e,n,r){return n.length>0&&fF(t,n,r)?{segmentGroup:new be(e,hF(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&pF(t,n,r)?{segmentGroup:new be(t.segments,dF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function dF(t,e,n,r){let i={};for(let o of n)if(Jl(t,e,o)&&!r[bn(o)]){let s=new be([],{});i[bn(o)]=s}return B(B({},r),i)}function hF(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&bn(r)!==ce){let i=new be([],{});n[bn(r)]=i}return n}function fF(t,e,n){return n.some(r=>Jl(t,e,r)&&bn(r)!==ce)}function pF(t,e,n){return n.some(r=>Jl(t,e,r))}function Jl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function gF(t,e,n,r){return bn(t)!==r&&(r===ce||!Jl(e,n,t))?!1:Im(e,t,n).matched}function mF(t,e,n){return e.length===0&&!t.children[n]}var hm=class{};function yF(t,e,n,r,i,o,s="emptyOnly"){return new fm(t,e,n,r,i,s,o).recognize()}var vF=31,fm=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new lm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=aD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(n=>{let r=new qa([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),i=new Bt(r,n),o=new Gl("",i),s=Ck(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(Dr(r=>{if(r instanceof Kl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ha?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=mm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(se(o=>o instanceof Bt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return ke(i).pipe(Cr(o=>{let s=r.children[o],a=jk(n,o);return this.processSegmentGroup(e,a,s,o)}),Cf((o,s)=>(o.push(...s),o)),Tr(null),Df(),Ze(o=>{if(o===null)return Xo(r);let s=xD(o);return _F(s),J(s)}))}processSegment(e,n,r,i,o,s){return ke(n).pipe(Cr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Dr(u=>{if(u instanceof Ha)return J(null);throw u}))),pn(a=>!!a),Dr(a=>{if(RD(a))return mF(r,i,o)?J(new hm):Xo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return gF(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Xo(i):Xo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=Im(n,i,o);if(!a)return Xo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vF&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ze(m=>this.processSegment(e,r,n,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=uF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Vt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Vt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,I=new qa(h,m,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,IF(r),bn(r),r.component??r._loadedComponent??null,r,EF(r)),{segmentGroup:S,slicedSegments:P}=aD(n,h,p,u);if(P.length===0&&S.hasChildren())return this.processChildren(l,u,S).pipe(se(O=>O===null?null:new Bt(I,O)));if(u.length===0&&P.length===0)return J(new Bt(I,[]));let R=bn(r)===o;return this.processSegment(l,u,S,P,R?ce:o,!0).pipe(se(O=>new Bt(I,O instanceof Bt?[O]:[])))}))):Xo(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):oF(e,n,r,this.urlSerializer).pipe(Ze(i=>i?this.configLoader.loadChildren(e,n).pipe(We(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):cF(n))):J({routes:[],injector:e})}};function _F(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function wF(t){let e=t.value.routeConfig;return e&&e.path===""}function xD(t){let e=[],n=new Set;for(let r of t){if(!wF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=xD(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!n.has(r))}function IF(t){return t.data||{}}function EF(t){return t.resolve||{}}function bF(t,e,n,r,i,o){return Ze(s=>yF(t,e,n,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:u})=>Te(B({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function DF(t,e){return Ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of ND(u))s.add(l);let a=0;return ke(s).pipe(Cr(u=>o.has(u)?CF(u,r,t,e):(u.data=mm(u,u.parent,t).resolve,J(void 0))),We(()=>a++),Mo(1),Ze(u=>a===s.size?J(n):Ft))})}function ND(t){let e=t.children.map(n=>ND(n)).flat();return[t,...e]}function CF(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!DD(i)&&(o[Ga]=i.title),TF(o,t,e,r).pipe(se(s=>(t._resolvedData=s,t.data=mm(t,t.parent,n).resolve,null)))}function TF(t,e,n,r){let i=qg(t);if(i.length===0)return J({});let o={};return ke(i).pipe(Ze(s=>AF(t[s],e,n,r).pipe(pn(),We(a=>{o[s]=a}))),Mo(1),bf(o),Dr(s=>RD(s)?Ft:Ao(s)))}function AF(t,e,n,r){let i=Wa(e)??r,o=ss(t,i),s=o.resolve?o.resolve(e,n):Gn(i,()=>o(e,n));return qr(s)}function Bg(t){return Vt(e=>{let n=t(e);return n?ke(n).pipe(se(()=>e)):J(e)})}var PD=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[Ga]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>V(SF),providedIn:"root"});let t=e;return t})(),SF=(()=>{let e=class e extends PD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(te(nD))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Em=new q("",{providedIn:"root",factory:()=>({})}),bm=new q(""),RF=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(wg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return J(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=qr(r.loadComponent()).pipe(se(OD),We(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ar(()=>{this.componentLoaders.delete(r)})),o=new bo(i,()=>new gt).pipe(Eo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=MF(i,this.compiler,r,this.onLoadEndListener).pipe(Ar(()=>{this.childrenLoaders.delete(i)})),a=new bo(s,()=>new gt).pipe(Eo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MF(t,e,n,r){return qr(t.loadChildren()).pipe(se(OD),Ze(i=>i instanceof ma||Array.isArray(i)?J(i):ke(e.compileModuleAsync(i))),se(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(bm,[],{optional:!0,self:!0}).flat()),{routes:s.map(wm),injector:o}}))}function xF(t){return t&&typeof t=="object"&&"default"in t}function OD(t){return xF(t)?t.default:t}var Dm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>V(NF),providedIn:"root"});let t=e;return t})(),NF=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PF=new q("");var OF=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gt,this.transitionAbortSubject=new gt,this.configLoader=V(RF),this.environmentInjector=V(Mt),this.urlSerializer=V(gm),this.rootContexts=V(Yl),this.location=V(Ca),this.inputBindingEnabled=V(_m,{optional:!0})!==null,this.titleStrategy=V(PD),this.options=V(Em,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(Dm),this.createViewTransition=V(PF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Zg(o)),i=o=>this.events.next(new Xg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Te(B(B({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new st({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fa,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lt(s=>s.id!==0),se(s=>Te(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Vt(s=>{let a=!1,u=!1;return J(s).pipe(Vt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",$t.SupersededByNewNavigation),Ft;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Te(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Bi(l.id,this.urlSerializer.serialize(l.rawUrl),m,Wg.IgnoredSameUrlNavigation)),l.resolve(null),Ft}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return J(l).pipe(Vt(m=>{let I=this.transitions?.getValue();return this.events.next(new ja(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),I!==this.transitions?.getValue()?Ft:Promise.resolve(m)}),bF(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),We(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Te(B({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let I=new ql(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(I)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:I,source:S,restoredState:P,extras:R}=l,O=new ja(m,this.urlSerializer.serialize(I),S,P);this.events.next(O);let H=ED(this.rootComponentType).snapshot;return this.currentTransition=s=Te(B({},l),{targetSnapshot:H,urlAfterRedirects:I,extras:Te(B({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,J(s)}else{let m="";return this.events.next(new Bi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Wg.IgnoredByUrlHandlingStrategy)),l.resolve(null),Ft}}),We(l=>{let h=new Kg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),se(l=>(this.currentTransition=s=Te(B({},l),{guards:Bk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Jk(this.environmentInjector,l=>this.events.next(l)),We(l=>{if(s.guardsResult=l.guardsResult,is(l.guardsResult))throw TD(this.urlSerializer,l.guardsResult);let h=new Qg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Lt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",$t.GuardRejected),!1)),Bg(l=>{if(l.guards.canActivateChecks.length)return J(l).pipe(We(h=>{let p=new Yg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Vt(h=>{let p=!1;return J(h).pipe(DF(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",$t.NoDataFromResolver)}}))}),We(h=>{let p=new Jg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Bg(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(We(I=>{p.component=I}),se(()=>{})));for(let I of p.children)m.push(...h(I));return m};return Su(h(l.targetSnapshot.root)).pipe(Tr(null),Vn(1))}),Bg(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?ke(p).pipe(se(()=>s)):J(s)}),se(l=>{let h=Pk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Te(B({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),We(()=>{this.events.next(new Ba)}),Uk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Vn(1),We({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Af(this.transitionAbortSubject.pipe(We(l=>{throw l}))),Ar(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",$t.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dr(l=>{if(u=!0,SD(l))this.events.next(new $r(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),Fk(l)?this.events.next(new $a(l.url)):s.resolve(!1);else{this.events.next(new Ua(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Ft}))}))}cancelNavigationTransition(r,i,o){let s=new $r(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kF(t){return t!==Fa}var FF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>V(LF),providedIn:"root"});let t=e;return t})(),pm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},LF=(()=>{let e=class e extends pm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ho(e)))(o||e)}})(),e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>V(VF),providedIn:"root"});let t=e;return t})(),VF=(()=>{let e=class e extends kD{constructor(){super(...arguments),this.location=V(Ca),this.urlSerializer=V(gm),this.options=V(Em,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(Dm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Br,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ED(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ja)this.stateMemento=this.createStateMemento();else if(r instanceof Bi)this.rawUrlTree=i.initialUrl;else if(r instanceof ql){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Ba?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof $r&&(r.code===$t.GuardRejected||r.code===$t.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ua?this.restoreHistory(i,!0):r instanceof nr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=B(B({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=B(B({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ho(e)))(o||e)}})(),e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Oa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Oa||{});function jF(t,e){t.events.pipe(Lt(n=>n instanceof nr||n instanceof $r||n instanceof Ua||n instanceof Bi),se(n=>n instanceof nr||n instanceof Bi?Oa.COMPLETE:(n instanceof $r?n.code===$t.Redirect||n.code===$t.SupersededByNewNavigation:!1)?Oa.REDIRECTING:Oa.FAILED),Lt(n=>n!==Oa.REDIRECTING),Vn(1)).subscribe(()=>{e()})}function UF(t){throw t}var BF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$F={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=V(El),this.stateManager=V(kD),this.options=V(Em,{optional:!0})||{},this.pendingTasks=V(Oi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(OF),this.urlSerializer=V(gm),this.location=V(Ca),this.urlHandlingStrategy=V(Dm),this._events=new gt,this.errorHandler=this.options.errorHandler||UF,this.navigated=!1,this.routeReuseStrategy=V(FF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(bm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(_m,{optional:!0}),this.eventsSubscription=new He,this.isNgZoneEnabled=V(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof $r&&i.code!==$t.Redirect&&i.code!==$t.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof nr)this.navigated=!0;else if(i instanceof $a){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||kF(o.source)};this.scheduleNavigation(a,Fa,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}zF(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=B({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(wm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let I=o?o.snapshot:this.routerState.snapshot.root;m=vD(I)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return _D(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=is(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Fa,null,i)}navigate(r,i={skipLocationChange:!1}){return qF(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=B({},BF):i===!1?o=B({},$F):o=i,is(r))return rD(this.currentUrlTree,r,o);let s=this.parseUrl(r);return rD(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,I)=>{u=m,l=I});let p=this.pendingTasks.add();return jF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function zF(t){return!(t instanceof Ba)&&!(t instanceof $a)}var Ql=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new gt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof nr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:R0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Y(Dn),Y($i),Zp("tabindex"),Y(Or),Y(Jt),Y(Yo))},e.\u0275dir=et({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Me("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ba("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[mt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Vr],skipLocationChange:[mt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Vr],replaceUrl:[mt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Vr],routerLink:"routerLink"},standalone:!0,features:[yg,Qn]});let t=e;return t})(),FD=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Be,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof nr&&this.update()})}ngAfterContentInit(){J(this.links.changes,J(null)).pipe(So()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ke(r).pipe(So()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=HF(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Dn),Y(Jt),Y(Or),Y(Lr),Y(Ql,8))},e.\u0275dir=et({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&yb(s,Ql,5),i&2){let a;vb(a=_b())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Qn]});let t=e;return t})();function HF(t){return!!t.paths}var GF=new q("");function LD(t,...e){return Kt([{provide:bm,multi:!0,useValue:t},[],{provide:$i,useFactory:WF,deps:[Dn]},{provide:bl,multi:!0,useFactory:KF},e.map(n=>n.\u0275providers)])}function WF(t){return t.routerState.root}function KF(){let t=V(Yt);return e=>{let n=t.get(Ko);if(e!==n.components[0])return;let r=t.get(Dn),i=t.get(QF);t.get(YF)===1&&r.initialNavigation(),t.get(JF,null,le.Optional)?.setUpPreloading(),t.get(GF,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var QF=new q("",{factory:()=>new gt}),YF=new q("",{providedIn:"root",factory:()=>1});var JF=new q("");var VD=(()=>{let e=class e{ngAfterViewInit(){console.log("about")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=$e({type:e,selectors:[["app-about"]],standalone:!0,features:[qe],decls:27,vars:0,consts:[[1,"about"],[1,"datos-personales"],[1,"imagen-alumno"],[1,"imagen-cuadrada"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/Matias.jpg?alt=media&token=e1a98f33-30c0-447c-89e0-cd04d6d9fe92","alt","Imagen del Alumno",1,"alumno-img"],[1,"texto-alumno"],[1,"titulo-centro"],[1,"explicacion-juego"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/WordGameExp.png?alt=media&token=f0e55f52-557b-4c2b-9b31-91d6c34bff09","alt","Imagen del Juego",1,"juego-img"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"h2"),L(2,"\xBFQui\xE9n Soy?"),N(),M(3,"div",1)(4,"div",2)(5,"div",3),_e(6,"img",4),N()(),M(7,"div",5)(8,"h3")(9,"span",6),L(10,"Datos Personales"),N()(),M(11,"p"),L(12,"Nombre: Matias Bartel"),N(),M(13,"p"),L(14,"Edad: 19"),N(),M(15,"p"),L(16,"Email: "),M(17,"span"),L(18,"matiasbartelavgmail.com"),N()(),M(19,"p"),L(20,"Descripci\xF3n: Soy Estudiante de la TUP en la UTN."),N()()(),M(21,"div",7)(22,"h3"),L(23,"Explicaci\xF3n del Juego Propio"),N(),M(24,"p"),L(25,"Word Game - Ser\xE1 un juego donde el participante ver\xE1 una palabra desordenada y debe reorganizar las letras para formar la palabra correcta, tendr\xE1 un tiempo l\xEDmite; si no logra reorganizar las letras, pierde una vida."),N(),_e(26,"img",8),N()())},styles:["body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.about[_ngcontent-%COMP%]{max-width:600px;max-height:850px;margin:70px;padding:20px;background-color:#f0f0f0;border-radius:8px}h2[_ngcontent-%COMP%]{text-align:center;color:#005900}h3[_ngcontent-%COMP%]{margin-top:20px;color:#000}.texto-centro[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}p[_ngcontent-%COMP%]{line-height:1.5;font-family:Arial,sans-serif;color:#000}.datos-personales[_ngcontent-%COMP%]{display:flex;align-items:stretch;margin:20px 0}.imagen-alumno[_ngcontent-%COMP%]{margin-right:20px;margin-top:70px}.imagen-cuadrada[_ngcontent-%COMP%]{width:200px;height:auto;overflow:hidden;border-radius:10px}.alumno-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.texto-alumno[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.explicacion-juego[_ngcontent-%COMP%]{text-align:center}.juego-img[_ngcontent-%COMP%]{max-width:90%;height:auto;border-radius:5px}"]});let t=e;return t})();function ZF(t,e){if(t&1&&(M(0,"div",2)(1,"h3"),L(2,"Perfil de GitHub"),N(),_e(3,"img",3),M(4,"p"),L(5),N(),M(6,"p"),L(7),N(),M(8,"p"),L(9),N(),M(10,"p"),L(11),N(),M(12,"p"),L(13),N(),M(14,"p"),L(15),N()()),t&2){let n=Oe();j(3),ae("src",n.githubData.avatar_url,Pi),j(2),Ne("Nombre: ",n.githubData.name,""),j(2),Ne("Bio: ",n.githubData.bio,""),j(2),Ne("Ubicaci\xF3n: ",n.githubData.location,""),j(2),Ne("Reposit\xF3rios P\xFAblicos: ",n.githubData.public_repos,""),j(2),Ne("Seguidores: ",n.githubData.followers,""),j(2),Ne("Siguiendo: ",n.githubData.following,"")}}var jD=(()=>{let e=class e{constructor(r){this.http=r,this.githubData=null}ngOnInit(){this.obtenerDatosGithub()}obtenerDatosGithub(){this.http.get("https://api.github.com/users/MatyBartel").subscribe(i=>{this.githubData=i},i=>{console.error("Error al obtener los datos de GitHub",i)})}};e.\u0275fac=function(i){return new(i||e)(Y(Vi))},e.\u0275cmp=$e({type:e,selectors:[["app-home"]],standalone:!0,features:[qe],decls:4,vars:1,consts:[[1,"home-container"],["class","github-profile",4,"ngIf"],[1,"github-profile"],["alt","Avatar de GitHub",1,"github-avatar",3,"src"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"h2"),L(2,"\xA1Bienvenido a la P\xE1gina de Inicio!"),N(),Re(3,ZF,16,7,"div",1),N()),i&2&&(j(3),ae("ngIf",o.githubData))},dependencies:[ct,Nt,Zo],styles:[".home-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.github-profile[_ngcontent-%COMP%]{margin-top:20px}.github-avatar[_ngcontent-%COMP%]{width:150px;border-radius:50%;margin-bottom:15px}h2[_ngcontent-%COMP%]{color:#000}h3[_ngcontent-%COMP%]{margin-bottom:10px}"]});let t=e;return t})();var UD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=$e({type:e,selectors:[["app-page-not-found"]],standalone:!0,features:[qe],decls:2,vars:0,template:function(i,o){i&1&&(M(0,"h1"),L(1,"Ruta no encontrada"),N())}});let t=e;return t})();var $D=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,I=l&63;u||(I=64,s||(m=64)),r.push(n[h],n[p],n[m],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($D(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Am;let m=o<<2|a>>4;if(r.push(m),l!==64){let I=a<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Am=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},eL=function(t){let e=$D(t);return qD.encodeByteArray(e,!0)},Qa=function(t){return eL(t).replace(/\./g,"")},Rm=function(t){try{return qD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var nL=()=>tL().__FIREBASE_DEFAULTS__,rL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Rm(t[1]);return e&&JSON.parse(e)},Xl=()=>{try{return nL()||rL()||iL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Mm=t=>{var e,n;return(n=(e=Xl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zD=t=>{let e=Mm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xm=()=>{var t;return(t=Xl())===null||t===void 0?void 0:t.config},Nm=t=>{var e;return(e=Xl())===null||e===void 0?void 0:e[`_${t}`]};var Zl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function HD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qa(JSON.stringify(n)),Qa(JSON.stringify(s)),""].join(".")}function tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function oL(){var t;let e=(t=Xl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YD(){let t=tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JD(){return!oL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pm(){try{return typeof indexedDB=="object"}catch{return!1}}function ZD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var sL="FirebaseError",qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rr.prototype.create)}},rr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?aL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qt(i,a,r)}};function aL(t,e){return t.replace(cL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var cL=/\{\$([^}]+)}/g;function XD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(BD(o)&&BD(s)){if(!qi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function BD(t){return t!==null&&typeof t=="object"}function Ya(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function as(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function cs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eC(t,e){let n=new Sm(t,e);return n.subscribe.bind(n)}var Sm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tm),i.error===void 0&&(i.error=Tm),i.complete===void 0&&(i.complete=Tm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function uL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tm(){}var u6=4*60*60*1e3;function nt(t){return t&&t._delegate?t._delegate:t}var Xt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var zi="[DEFAULT]";var Om=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Zl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dL(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lL(t){return t===zi?void 0:t}function dL(t){return t.instantiationMode==="EAGER"}var ed=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Om(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var hL=[],pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pe||{}),fL={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},pL=pe.INFO,gL={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},mL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=gL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zr=class{constructor(e){this.name=e,this._logLevel=pL,this._logHandler=mL,this._userLogHandler=null,hL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var yL=(t,e)=>e.some(n=>t instanceof n),tC,nC;function vL(){return tC||(tC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _L(){return nC||(nC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var rC=new WeakMap,Fm=new WeakMap,iC=new WeakMap,km=new WeakMap,Vm=new WeakMap;function wL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Cn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&rC.set(n,t)}).catch(()=>{}),Vm.set(e,t),e}function IL(t){if(Fm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Fm.set(t,e)}var Lm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oC(t){Lm=t(Lm)}function EL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(td(this),e,...n);return iC.set(r,e.sort?e.sort():[e]),Cn(r)}:_L().includes(t)?function(...e){return t.apply(td(this),e),Cn(rC.get(this))}:function(...e){return Cn(t.apply(td(this),e))}}function bL(t){return typeof t=="function"?EL(t):(t instanceof IDBTransaction&&IL(t),yL(t,vL())?new Proxy(t,Lm):t)}function Cn(t){if(t instanceof IDBRequest)return wL(t);if(km.has(t))return km.get(t);let e=bL(t);return e!==t&&(km.set(t,e),Vm.set(e,t)),e}var td=t=>Vm.get(t);function aC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Cn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Cn(s.result),u.oldVersion,u.newVersion,Cn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var DL=["get","getKey","getAll","getAllKeys","count"],CL=["put","add","delete","clear"],jm=new Map;function sC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=CL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DL.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return jm.set(e,o),o}oC(t=>Te(B({},t),{get:(e,n,r)=>sC(e,n)||t.get(e,n,r),has:(e,n)=>!!sC(e,n)||t.has(e,n)}));var Bm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function TL(t){let e=t.getComponent();return e?.type==="VERSION"}var $m="@firebase/app",cC="0.10.13";var ir=new zr("@firebase/app"),AL="@firebase/app-compat",SL="@firebase/analytics-compat",RL="@firebase/analytics",ML="@firebase/app-check-compat",xL="@firebase/app-check",NL="@firebase/auth",PL="@firebase/auth-compat",OL="@firebase/database",kL="@firebase/data-connect",FL="@firebase/database-compat",LL="@firebase/functions",VL="@firebase/functions-compat",jL="@firebase/installations",UL="@firebase/installations-compat",BL="@firebase/messaging",$L="@firebase/messaging-compat",qL="@firebase/performance",zL="@firebase/performance-compat",HL="@firebase/remote-config",GL="@firebase/remote-config-compat",WL="@firebase/storage",KL="@firebase/storage-compat",QL="@firebase/firestore",YL="@firebase/vertexai-preview",JL="@firebase/firestore-compat",ZL="firebase",XL="10.14.1";var qm="[DEFAULT]",eV={[$m]:"fire-core",[AL]:"fire-core-compat",[RL]:"fire-analytics",[SL]:"fire-analytics-compat",[xL]:"fire-app-check",[ML]:"fire-app-check-compat",[NL]:"fire-auth",[PL]:"fire-auth-compat",[OL]:"fire-rtdb",[kL]:"fire-data-connect",[FL]:"fire-rtdb-compat",[LL]:"fire-fn",[VL]:"fire-fn-compat",[jL]:"fire-iid",[UL]:"fire-iid-compat",[BL]:"fire-fcm",[$L]:"fire-fcm-compat",[qL]:"fire-perf",[zL]:"fire-perf-compat",[HL]:"fire-rc",[GL]:"fire-rc-compat",[WL]:"fire-gcs",[KL]:"fire-gcs-compat",[QL]:"fire-fst",[JL]:"fire-fst-compat",[YL]:"fire-vertex","fire-js":"fire-js",[ZL]:"fire-js-all"};var Ja=new Map,tV=new Map,zm=new Map;function uC(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gr(t){let e=t.name;if(zm.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,t);for(let n of Ja.values())uC(n,t);for(let n of tV.values())uC(n,t);return!0}function Xa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t.settings!==void 0}var nV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new rr("app","Firebase",nV);var Hm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}};var Wr=XL;function Hi(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(n||(n=xm()),!n)throw Hr.create("no-options");let o=Ja.get(i);if(o){if(qi(n,o.options)&&qi(r,o.config))return o;throw Hr.create("duplicate-app",{appName:i})}let s=new ed(i);for(let u of zm.values())s.addComponent(u);let a=new Hm(n,r,s);return Ja.set(i,a),a}function us(t=qm){let e=Ja.get(t);if(!e&&t===qm&&xm())return Hi();if(!e)throw Hr.create("no-app",{appName:t});return e}function nd(){return Array.from(Ja.values())}function Xe(t,e,n){var r;let i=(r=eV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}Gr(new Xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var rV="firebase-heartbeat-database",iV=1,Za="firebase-heartbeat-store",Um=null;function fC(){return Um||(Um=aC(rV,iV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Za)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),Um}function oV(t){return v(this,null,function*(){try{let n=(yield fC()).transaction(Za),r=yield n.objectStore(Za).get(pC(t));return yield n.done,r}catch(e){if(e instanceof qt)ir.warn(e.message);else{let n=Hr.create("idb-get",{originalErrorMessage:e?.message});ir.warn(n.message)}}})}function lC(t,e){return v(this,null,function*(){try{let r=(yield fC()).transaction(Za,"readwrite");yield r.objectStore(Za).put(e,pC(t)),yield r.done}catch(n){if(n instanceof qt)ir.warn(n.message);else{let r=Hr.create("idb-set",{originalErrorMessage:n?.message});ir.warn(r.message)}}})}function pC(t){return`${t.name}!${t.options.appId}`}var sV=1024,aV=30*24*60*60*1e3,Gm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Wm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=dC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=aV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ir.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=dC(),{heartbeatsToSend:r,unsentEntries:i}=cV(this._heartbeatsCache.heartbeats),o=Qa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ir.warn(n),""}})}};function dC(){return new Date().toISOString().substring(0,10)}function cV(t,e=sV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),hC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Wm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Pm()?ZD().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield oV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return lC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return lC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function hC(t){return Qa(JSON.stringify({version:2,heartbeats:t})).length}function uV(t){Gr(new Xt("platform-logger",e=>new Bm(e),"PRIVATE")),Gr(new Xt("heartbeat",e=>new Gm(e),"PRIVATE")),Xe($m,cC,t),Xe($m,cC,"esm2017"),Xe("fire-js","")}uV("");var lV="firebase",dV="10.14.1";Xe(lV,dV,"app");var Wi=new qn("ANGULARFIRE2_VERSION");function id(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ec=(t,e)=>{let n=e?[e]:nd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ds=class{constructor(){return ec(hV)}},hV="app-check";function ls(){}var rd=class{zone;delegate;constructor(e,n=_f){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Km=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls)),n.pipe(We({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new rd(Zone.current)),this.insideAngular=n.run(()=>new rd(Zone.current,vf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(te(De))};static \u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function od(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function fV(t){return od().ngZone.runOutsideAngular(()=>t())}function Gi(t){return od().ngZone.run(()=>t())}function pV(t){return gV(od())(t)}function gV(t){return function(n){return n=n.lift(new Km(t.ngZone)),n.pipe(br(t.outsideAngular),Er(t.insideAngular))}}var mV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Gi(()=>t.apply(void 0,r))},ln=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Gi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls))),r[o]=mV(r[o],n));let i=fV(()=>t.apply(this,r));if(!e)if(i instanceof he){let o=od();return i.pipe(br(o.outsideAngular),Er(o.insideAngular))}else return Gi(()=>i);return i instanceof he?i.pipe(pV):i instanceof Promise?Gi(()=>new Promise((o,s)=>i.then(a=>Gi(()=>o(a)),a=>Gi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Gi(()=>i)};var or=class{constructor(e){return e}},Ki=class{constructor(){return nd()}};function yV(t){return t&&t.length===1?t[0]:new or(us())}var Qm=new q("angularfire2._apps"),vV={provide:or,useFactory:yV,deps:[[new At,Qm]]},_V={provide:Ki,deps:[[new At,Qm]]};function wV(t){return(e,n)=>{let r=n.get(wn);Xe("angularfire",Wi.full,"core"),Xe("angularfire",Wi.full,"app"),Xe("angular",Ib.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new or(i)}}function gC(t,...e){return Kt([vV,_V,{provide:Qm,useFactory:wV(t),multi:!0,deps:[De,Yt,hs,...e]}])}var mC=ln(Hi,!0);function PC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var OC=PC,kC=new rr("auth","Firebase",PC());var dd=new zr("@firebase/auth");function IV(t,...e){dd.logLevel<=pe.WARN&&dd.warn(`Auth (${Wr}): ${t}`,...e)}function ad(t,...e){dd.logLevel<=pe.ERROR&&dd.error(`Auth (${Wr}): ${t}`,...e)}function An(t,...e){throw vy(t,...e)}function Qi(t,...e){return vy(t,...e)}function FC(t,e,n){let r=Object.assign(Object.assign({},OC()),{[e]:n});return new rr("auth","Firebase",r).create(e,{appName:t.name})}function cr(t){return FC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kC.create(t,...e)}function X(t,e,...n){if(!t)throw vy(e,...n)}function sr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ad(e),new Error(e)}function Qr(t,e){t||sr(e)}function Xm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EV(){return yC()==="http:"||yC()==="https:"}function yC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function bV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EV()||KD()||"connection"in navigator)?navigator.onLine:!0}function DV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Yi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=GD()||QD()}get(){return bV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _y(t,e){Qr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var hd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var CV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var TV=new Yi(3e4,6e4);function Yr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Jr(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return LC(t,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ya(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:m},l);return WD()||(I.referrerPolicy="no-referrer"),hd.fetch()(VC(t,t.config.apiHost,n,p),I)}))})}function LC(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},CV),e);try{let i=new ey(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw sd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw sd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw FC(t,h,l);An(t,h)}}catch(i){if(i instanceof qt)throw i;An(t,"network-request-failed",{message:String(i)})}})}function cc(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield Jr(t,e,n,r,i);return"mfaPendingCredential"in l&&An(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function VC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?_y(t.config,i):`${t.config.apiScheme}://${i}`}function AV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ey=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),TV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function sd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Qi(t,e,r);return i.customData._tokenResponse=n,i}function vC(t){return t!==void 0&&t.enterprise!==void 0}var ty=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function SV(t,e){return v(this,null,function*(){return Jr(t,"GET","/v2/recaptchaConfig",Yr(t,e))})}function RV(t,e){return v(this,null,function*(){return Jr(t,"POST","/v1/accounts:delete",e)})}function jC(t,e){return v(this,null,function*(){return Jr(t,"POST","/v1/accounts:lookup",e)})}function tc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function wy(t,e=!1){return v(this,null,function*(){let n=nt(t),r=yield n.getIdToken(e),i=Iy(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:tc(Ym(i.auth_time)),issuedAtTime:tc(Ym(i.iat)),expirationTime:tc(Ym(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ym(t){return Number(t)*1e3}function Iy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ad("JWT malformed, contained fewer than 3 sections"),null;try{let i=Rm(n);return i?JSON.parse(i):(ad("Failed to decode base64 JWT payload"),null)}catch(i){return ad("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _C(t){let e=Iy(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function rc(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof qt&&MV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function MV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ny=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ic=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function fd(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield rc(t,jC(n,{idToken:r}));X(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?UC(o.providerUserInfo):[],a=xV(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ic(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Ey(t){return v(this,null,function*(){let e=nt(t);yield fd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function xV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UC(t){return t.map(e=>{var{providerId:n}=e,r=wf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function NV(t,e){return v(this,null,function*(){let n=yield LC(t,{},()=>v(this,null,function*(){let r=Ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=VC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function PV(t,e){return v(this,null,function*(){return Jr(t,"POST","/v2/accounts:revokeToken",Yr(t,e))})}var nc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_C(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");let n=_C(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield NV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return sr("not implemented")}};function Kr(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var fs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=wf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ny(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ic(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield rc(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return wy(this,e)}reload(){return Ey(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield fd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(un(this.auth.app))return Promise.reject(cr(this.auth));let e=yield this.getIdToken();return yield rc(this,RV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:K,isAnonymous:xe,providerData:re,stsTokenManager:b}=n;X(G&&b,e,"internal-error");let y=nc.fromJSON(this.name,b);X(typeof G=="string",e,"internal-error"),Kr(p,e.name),Kr(m,e.name),X(typeof K=="boolean",e,"internal-error"),X(typeof xe=="boolean",e,"internal-error"),Kr(I,e.name),Kr(S,e.name),Kr(P,e.name),Kr(R,e.name),Kr(O,e.name),Kr(H,e.name);let _=new t({uid:G,auth:e,email:m,emailVerified:K,displayName:p,isAnonymous:xe,photoURL:S,phoneNumber:I,tenantId:P,stsTokenManager:y,createdAt:O,lastLoginAt:H});return re&&Array.isArray(re)&&(_.providerData=re.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new nc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];X(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?UC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new nc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ic(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var wC=new Map;function ar(t){Qr(t instanceof Function,"Expected a class definition");let e=wC.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wC.set(t,e),e)}var OV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ry=OV;function cd(t,e,n){return`firebase:${t}:${e}:${n}`}var pd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=cd(this.userKey,i.apiKey,o),this.fullPersistenceKey=cd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?fs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(ar(ry),e,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ar(ry),s=cd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=fs._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function IC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GC(e))return"Blackberry";if(WC(e))return"Webos";if($C(e))return"Safari";if((e.includes("chrome/")||qC(e))&&!e.includes("edge/"))return"Chrome";if(HC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function BC(t=tt()){return/firefox\//i.test(t)}function $C(t=tt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qC(t=tt()){return/crios\//i.test(t)}function zC(t=tt()){return/iemobile/i.test(t)}function HC(t=tt()){return/android/i.test(t)}function GC(t=tt()){return/blackberry/i.test(t)}function WC(t=tt()){return/webos/i.test(t)}function by(t=tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kV(t=tt()){var e;return by(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FV(){return YD()&&document.documentMode===10}function KC(t=tt()){return by(t)||HC(t)||WC(t)||GC(t)||/windows phone/i.test(t)||zC(t)}function QC(t,e=[]){let n;switch(t){case"Browser":n=IC(tt());break;case"Worker":n=`${IC(tt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wr}/${r}`}var iy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function LV(n){return v(this,arguments,function*(t,e={}){return Jr(t,"GET","/v2/passwordPolicy",Yr(t,e))})}var VV=6,oy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:VV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var sy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gd(this),this.idTokenSubscription=new gd(this),this.beforeStateQueue=new iy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield pd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield jC(this,{idToken:e}),r=yield fs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(un(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield fd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=DV()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(un(this.app))return Promise.reject(cr(this));let n=e?nt(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return un(this.app)?Promise.reject(cr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return un(this.app)?Promise.reject(cr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(ar(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield LV(this),n=new oy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield PV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ar(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=yield pd.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&IV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Zi(t){return nt(t)}var gd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=eC(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ed={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jV(t){Ed=t}function YC(t){return Ed.loadJS(t)}function UV(){return Ed.recaptchaEnterpriseScript}function BV(){return Ed.gapiScript}function JC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var $V="recaptcha-enterprise",qV="NO_RECAPTCHA",ay=class{constructor(e){this.type=$V,this.auth=Zi(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){SV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new ty(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;vC(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(qV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&vC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=UV();u.length!==0&&(u+=a),YC(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function EC(t,e,n,r=!1){return v(this,null,function*(){let i=new ay(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function cy(t,e,n,r){return v(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield EC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>v(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield EC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Dy(t,e){let n=Xa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(qi(o,e??{}))return i;An(i,"already-initialized")}return n.initialize({options:e})}function zV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Cy(t,e,n){let r=Zi(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=ZC(e),{host:s,port:a}=HV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||GV()}function ZC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HV(t){let e=ZC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:bC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:bC(s)}}}function bC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function GV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var oc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}};function WV(t,e){return v(this,null,function*(){return Jr(t,"POST","/v1/accounts:signUp",e)})}function KV(t,e){return v(this,null,function*(){return cc(t,"POST","/v1/accounts:signInWithPassword",Yr(t,e))})}function QV(t,e){return v(this,null,function*(){return cc(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))})}function YV(t,e){return v(this,null,function*(){return cc(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))})}var sc=class t extends oc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,n,"signInWithPassword",KV);case"emailLink":return QV(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,r,"signUpPassword",WV);case"emailLink":return YV(e,{idToken:n,email:this._email,oobCode:this._password});default:An(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Jm(t,e){return v(this,null,function*(){return cc(t,"POST","/v1/accounts:signInWithIdp",Yr(t,e))})}function JV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZV(t){let e=as(cs(t)).link,n=e?as(cs(e)).deep_link_id:null,r=as(cs(t)).deep_link_id;return(r?as(cs(r)).link:null)||r||n||e||t}var md=class t{constructor(e){var n,r,i,o,s,a;let u=as(cs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=JV((i=u.mode)!==null&&i!==void 0?i:null);X(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=ZV(e);try{return new t(n)}catch{return null}}};var XC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return sc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=md.parseLink(r);return X(i,"argument-error"),sc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),yd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var uy=class extends yd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function XV(t,e){return v(this,null,function*(){return cc(t,"POST","/v1/accounts:signUp",Yr(t,e))})}var ps=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield fs._fromIdTokenResponse(e,r,i),s=DC(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=DC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function DC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ly=class t extends qt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function eT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ly._fromErrorAndOperation(t,o,e,r):o})}function e2(t,e,n=!1){return v(this,null,function*(){let r=yield rc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ps._forOperation(t,"link",r)})}function t2(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(un(r.app))return Promise.reject(cr(r));let i="reauthenticate";try{let o=yield rc(t,eT(r,i,e,t),n);X(o.idToken,r,"internal-error");let s=Iy(o.idToken);X(s,r,"internal-error");let{sub:a}=s;return X(t.uid===a,r,"user-mismatch"),ps._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&An(r,"user-mismatch"),o}})}function tT(t,e,n=!1){return v(this,null,function*(){if(un(t.app))return Promise.reject(cr(t));let r="signIn",i=yield eT(t,r,e),o=yield ps._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Ty(t,e){return v(this,null,function*(){return tT(Zi(t),e)})}function nT(t){return v(this,null,function*(){let e=Zi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function bd(t,e,n){return v(this,null,function*(){if(un(t.app))return Promise.reject(cr(t));let r=Zi(t),s=yield cy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&nT(t),u}),a=yield ps._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Dd(t,e,n){return un(t.app)?Promise.reject(cr(t)):Ty(nt(t),XC.credential(e,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&nT(t),r}))}function Ay(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function Sy(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function Cd(t,e,n,r){return nt(t).onAuthStateChanged(e,n,r)}function Td(t){return nt(t).signOut()}var vd="__sak";var _d=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vd,"1"),this.storage.removeItem(vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var n2=1e3,r2=10,i2=(()=>{class t extends _d{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);FV()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,r2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield wr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield wr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield wr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),rT=i2;var o2=(()=>{class t extends _d{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ry=o2;function s2(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var a2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield s2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function iT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var dy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=iT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Tn(){return window}function c2(t){Tn().location.href=t}function oT(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}function u2(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function l2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function d2(){return oT()?self:null}var sT="firebaseLocalStorageDb",h2=1,wd="firebaseLocalStorage",aT="fbase_key",Ji=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ad(t,e){return t.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function f2(){let t=indexedDB.deleteDatabase(sT);return new Ji(t).toPromise()}function hy(){let t=indexedDB.open(sT,h2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(wd,{keyPath:aT})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(wd)?e(r):(r.close(),yield f2(),e(yield hy()))}))})}function CC(t,e,n){return v(this,null,function*(){let r=Ad(t,!0).put({[aT]:e,value:n});return new Ji(r).toPromise()})}function p2(t,e){return v(this,null,function*(){let n=Ad(t,!1).get(e),r=yield new Ji(n).toPromise();return r===void 0?null:r.value})}function TC(t,e){let n=Ad(t,!0).delete(e);return new Ji(n).toPromise()}var g2=800,m2=3,y2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield hy(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>m2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return oT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=a2._getInstance(d2()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield u2(),!this.activeServiceWorker)return;this.sender=new dy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||l2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield hy();return yield CC(n,vd,"1"),yield TC(n,vd),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>CC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>p2(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>TC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=Ad(o,!1).getAll();return new Ji(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),cT=y2;var nW=JC("rcb"),rW=new Yi(3e4,6e4);function v2(t,e){return e?ar(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ac=class extends oc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function _2(t){return tT(t.auth,new ac(t),t.bypassAuthState)}function w2(t){let{auth:e,user:n}=t;return X(n,e,"internal-error"),t2(n,new ac(t),t.bypassAuthState)}function I2(t){return v(this,null,function*(){let{auth:e,user:n}=t;return X(n,e,"internal-error"),e2(n,new ac(t),t.bypassAuthState)})}var fy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _2;case"linkViaPopup":case"linkViaRedirect":return I2;case"reauthViaPopup":case"reauthViaRedirect":return w2;default:An(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var iW=new Yi(2e3,1e4);var E2="pendingRedirect",ud=new Map,py=class t extends fy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=ud.get(this.auth._key());if(!e){try{let r=(yield b2(this.resolver,this.auth))?yield wr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ud.set(this.auth._key(),e)}return this.bypassAuthState||ud.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return wr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,wr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function b2(t,e){return v(this,null,function*(){let n=T2(e),r=C2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function D2(t,e){ud.set(t._key(),e)}function C2(t){return ar(t._redirectPersistence)}function T2(t){return cd(E2,t.config.apiKey,t.name)}function A2(t,e,n=!1){return v(this,null,function*(){if(un(t.app))return Promise.reject(cr(t));let r=Zi(t),i=v2(r,e),s=yield new py(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var S2=10*60*1e3,gy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S2&&this.cachedEventUids.clear(),this.cachedEventUids.has(AC(e))}saveEventToCache(e){this.cachedEventUids.add(AC(e)),this.lastProcessedEventTime=Date.now()}};function AC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function R2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(t);default:return!1}}function M2(n){return v(this,arguments,function*(t,e={}){return Jr(t,"GET","/v1/projects",e)})}var x2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N2=/^https?/;function P2(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield M2(t);for(let n of e)try{if(O2(n))return}catch{}An(t,"unauthorized-domain")})}function O2(t){let e=Xm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!N2.test(n))return!1;if(x2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var k2=new Yi(3e4,6e4);function SC(){let t=Tn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function F2(t){return new Promise((e,n)=>{var r,i,o;function s(){SC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SC(),n(Qi(t,"network-request-failed"))},timeout:k2.get()})}if(!((i=(r=Tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Tn().gapi)===null||o===void 0)&&o.load)s();else{let a=JC("iframefcb");return Tn()[a]=()=>{gapi.load?s():n(Qi(t,"network-request-failed"))},YC(`${BV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ld=null,e})}var ld=null;function L2(t){return ld=ld||F2(t),ld}var V2=new Yi(5e3,15e3),j2="__/auth/iframe",U2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q2(t){let e=t.config;X(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?_y(e,U2):`https://${t.config.authDomain}/${j2}`,r={apiKey:e.apiKey,appName:t.name,v:Wr},i=$2.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ya(r).slice(1)}`}function z2(t){return v(this,null,function*(){let e=yield L2(t),n=Tn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:q2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Qi(t,"network-request-failed"),a=Tn().setTimeout(()=>{o(s)},V2.get());function u(){Tn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var H2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G2=500,W2=600,K2="_blank",Q2="http://localhost",Id=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Y2(t,e,n,r=G2,i=W2){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},H2),{width:r.toString(),height:i.toString(),top:o,left:s}),l=tt().toLowerCase();n&&(a=qC(l)?K2:n),BC(l)&&(e=e||Q2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[I,S])=>`${m}${I}=${S},`,"");if(kV(l)&&a!=="_self")return J2(e||"",a),new Id(null);let p=window.open(e||"",a,h);X(p,t,"popup-blocked");try{p.focus()}catch{}return new Id(p)}function J2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Z2="__/auth/handler",X2="emulator/auth/handler",ej=encodeURIComponent("fac");function RC(t,e,n,r,i,o){return v(this,null,function*(){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wr,eventId:i};if(e instanceof yd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",XD(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof uy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${ej}=${encodeURIComponent(u)}`:"";return`${tj(t)}?${Ya(a).slice(1)}${l}`})}function tj({config:t}){return t.emulator?_y(t,X2):`https://${t.authDomain}/${Z2}`}var Zm="webStorageSupport",my=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ry,this._completeRedirectFn=A2,this._overrideRedirectResult=D2}_openPopup(e,n,r,i){return v(this,null,function*(){var o;Qr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield RC(e,n,r,Xm(),i);return Y2(e,s,iT())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield RC(e,n,r,Xm(),i);return c2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Qr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield z2(e),r=new gy(e);return n.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zm,{type:Zm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Zm];s!==void 0&&n(!!s),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=P2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KC()||$C()||by()}},lT=my;var MC="@firebase/auth",xC="1.7.9";var yy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function nj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rj(t){Gr(new Xt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(t)},l=new sy(r,i,o,u);return zV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gr(new Xt("auth-internal",e=>{let n=Zi(e.getProvider("auth").getImmediate());return(r=>new yy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xe(MC,xC,nj(t)),Xe(MC,xC,"esm2017")}var ij=5*60,oj=Nm("authIdTokenMaxAge")||ij,NC=null,sj=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oj)return;let i=n?.token;NC!==i&&(NC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function rt(t=us()){let e=Xa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Dy(t,{popupRedirectResolver:lT,persistence:[cT,rT,Ry]}),r=Nm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=sj(o.toString());Sy(n,s,()=>s(n.currentUser)),Ay(n,a=>s(a))}}let i=Mm("auth");return i&&Cy(n,`http://${i}`),n}function aj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Qi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",aj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rj("Browser");var dT="auth",uc=class{constructor(e){return e}},lc=class{constructor(){return ec(dT)}};var My=new q("angularfire2.auth-instances");function Yj(t,e){let n=id(dT,t,e);return n&&new uc(n)}function Jj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new uc(r)}}var Zj={provide:lc,deps:[[new At,My]]},Xj={provide:uc,useFactory:Yj,deps:[[new At,My],or]};function hT(t,...e){return Xe("angularfire",Wi.full,"auth"),Kt([Xj,Zj,{provide:My,useFactory:Jj(t),multi:!0,deps:[De,Yt,hs,Ki,[new At,ds],...e]}])}var fT=ln(rt,!0);var pT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gT={};var Zr,xy;(function(){var t;function e(b,y){function _(){}_.prototype=y.prototype,b.D=y.prototype,b.prototype=new _,b.prototype.constructor=b,b.C=function(E,D,T){for(var w=Array(arguments.length-2),On=2;On<arguments.length;On++)w[On-2]=arguments[On];return y.prototype[D].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)E[D]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(D=0;16>D;++D)E[D]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=b.g[0],_=b.g[1],D=b.g[2];var T=b.g[3],w=y+(T^_&(D^T))+E[0]+3614090360&4294967295;y=_+(w<<7&4294967295|w>>>25),w=T+(D^y&(_^D))+E[1]+3905402710&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(_^T&(y^_))+E[2]+606105819&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(y^D&(T^y))+E[3]+3250441966&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(T^_&(D^T))+E[4]+4118548399&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(D^y&(_^D))+E[5]+1200080426&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(_^T&(y^_))+E[6]+2821735955&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(y^D&(T^y))+E[7]+4249261313&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(T^_&(D^T))+E[8]+1770035416&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(D^y&(_^D))+E[9]+2336552879&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(_^T&(y^_))+E[10]+4294925233&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(y^D&(T^y))+E[11]+2304563134&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(T^_&(D^T))+E[12]+1804603682&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(D^y&(_^D))+E[13]+4254626195&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(_^T&(y^_))+E[14]+2792965006&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(y^D&(T^y))+E[15]+1236535329&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(D^T&(_^D))+E[1]+4129170786&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(y^_))+E[6]+3225465664&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(T^y))+E[11]+643717713&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(D^T))+E[0]+3921069994&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^T&(_^D))+E[5]+3593408605&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(y^_))+E[10]+38016083&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(T^y))+E[15]+3634488961&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(D^T))+E[4]+3889429448&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^T&(_^D))+E[9]+568446438&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(y^_))+E[14]+3275163606&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(T^y))+E[3]+4107603335&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(D^T))+E[8]+1163531501&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^T&(_^D))+E[13]+2850285829&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(y^_))+E[2]+4243563512&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(T^y))+E[7]+1735328473&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(D^T))+E[12]+2368359562&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(_^D^T)+E[5]+4294588738&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^D)+E[8]+2272392833&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^_)+E[11]+1839030562&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^y)+E[14]+4259657740&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^T)+E[1]+2763975236&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^D)+E[4]+1272893353&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^_)+E[7]+4139469664&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^y)+E[10]+3200236656&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^T)+E[13]+681279174&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^D)+E[0]+3936430074&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^_)+E[3]+3572445317&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^y)+E[6]+76029189&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^T)+E[9]+3654602809&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^D)+E[12]+3873151461&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^_)+E[15]+530742520&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^y)+E[2]+3299628645&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(D^(_|~T))+E[0]+4096336452&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~D))+E[7]+1126891415&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~_))+E[14]+2878612391&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~y))+E[5]+4237533241&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~T))+E[12]+1700485571&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~D))+E[3]+2399980690&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~_))+E[10]+4293915773&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~y))+E[1]+2240044497&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~T))+E[8]+1873313359&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~D))+E[15]+4264355552&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~_))+E[6]+2734768916&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~y))+E[13]+1309151649&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~T))+E[4]+4149444226&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~D))+E[11]+3174756917&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~_))+E[2]+718787259&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~y))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+T&4294967295}r.prototype.u=function(b,y){y===void 0&&(y=b.length);for(var _=y-this.blockSize,E=this.B,D=this.h,T=0;T<y;){if(D==0)for(;T<=_;)i(this,b,T),T+=this.blockSize;if(typeof b=="string"){for(;T<y;)if(E[D++]=b.charCodeAt(T++),D==this.blockSize){i(this,E),D=0;break}}else for(;T<y;)if(E[D++]=b[T++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;var _=8*this.o;for(y=b.length-8;y<b.length;++y)b[y]=_&255,_/=256;for(this.u(b),b=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)b[_++]=this.g[y]>>>E&255;return b};function o(b,y){var _=a;return Object.prototype.hasOwnProperty.call(_,b)?_[b]:_[b]=y(b)}function s(b,y){this.h=y;for(var _=[],E=!0,D=b.length-1;0<=D;D--){var T=b[D]|0;E&&T==y||(_[D]=T,E=!1)}this.g=_}var a={};function u(b){return-128<=b&&128>b?o(b,function(y){return new s([y|0],0>y?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return R(l(-b));for(var y=[],_=1,E=0;b>=_;E++)y[E]=b/_|0,_*=4294967296;return new s(y,0)}function h(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return R(h(b.substring(1),y));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,D=0;D<b.length;D+=8){var T=Math.min(8,b.length-D),w=parseInt(b.substring(D,D+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(w))):(E=E.j(_),E=E.add(l(w)))}return E}var p=u(0),m=u(1),I=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-R(this).m();for(var b=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);b+=(0<=E?E:4294967296+E)*y,y*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(P(this))return"-"+R(this).toString(b);for(var y=l(Math.pow(b,6)),_=this,E="";;){var D=K(_,y).g;_=O(_,D.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(b);if(_=D,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function P(b){return b.h==-1}t.l=function(b){return b=O(this,b),P(b)?-1:S(b)?0:1};function R(b){for(var y=b.g.length,_=[],E=0;E<y;E++)_[E]=~b.g[E];return new s(_,~b.h).add(m)}t.abs=function(){return P(this)?R(this):this},t.add=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0,D=0;D<=y;D++){var T=E+(this.i(D)&65535)+(b.i(D)&65535),w=(T>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);E=w>>>16,T&=65535,w&=65535,_[D]=w<<16|T}return new s(_,_[_.length-1]&-2147483648?-1:0)};function O(b,y){return b.add(R(y))}t.j=function(b){if(S(this)||S(b))return p;if(P(this))return P(b)?R(this).j(R(b)):R(R(this).j(b));if(P(b))return R(this.j(R(b)));if(0>this.l(I)&&0>b.l(I))return l(this.m()*b.m());for(var y=this.g.length+b.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<b.g.length;D++){var T=this.i(E)>>>16,w=this.i(E)&65535,On=b.i(D)>>>16,js=b.i(D)&65535;_[2*E+2*D]+=w*js,H(_,2*E+2*D),_[2*E+2*D+1]+=T*js,H(_,2*E+2*D+1),_[2*E+2*D+1]+=w*On,H(_,2*E+2*D+1),_[2*E+2*D+2]+=T*On,H(_,2*E+2*D+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new s(_,0)};function H(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function G(b,y){this.g=b,this.h=y}function K(b,y){if(S(y))throw Error("division by zero");if(S(b))return new G(p,p);if(P(b))return y=K(R(b),y),new G(R(y.g),R(y.h));if(P(y))return y=K(b,R(y)),new G(R(y.g),y.h);if(30<b.g.length){if(P(b)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(b);)_=xe(_),E=xe(E);var D=re(_,1),T=re(E,1);for(E=re(E,2),_=re(_,2);!S(E);){var w=T.add(E);0>=w.l(b)&&(D=D.add(_),T=w),E=re(E,1),_=re(_,1)}return y=O(b,D.j(y)),new G(D,y)}for(D=p;0<=b.l(y);){for(_=Math.max(1,Math.floor(b.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),w=T.j(y);P(w)||0<w.l(b);)_-=E,T=l(_),w=T.j(y);S(T)&&(T=m),D=D.add(T),b=O(b,w)}return new G(D,b)}t.A=function(b){return K(this,b).h},t.and=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&b.i(E);return new s(_,this.h&b.h)},t.or=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|b.i(E);return new s(_,this.h|b.h)},t.xor=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^b.i(E);return new s(_,this.h^b.h)};function xe(b){for(var y=b.g.length+1,_=[],E=0;E<y;E++)_[E]=b.i(E)<<1|b.i(E-1)>>>31;return new s(_,b.h)}function re(b,y){var _=y>>5;y%=32;for(var E=b.g.length-_,D=[],T=0;T<E;T++)D[T]=0<y?b.i(T+_)>>>y|b.i(T+_+1)<<32-y:b.i(T+_);return new s(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xy=gT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Zr=gT.Integer=s}).apply(typeof pT<"u"?pT:typeof self<"u"?self:typeof window<"u"?window:{});var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ur={};var Ny,eU,gs,Py,dc,Rd,Oy,ky,Fy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sd=="object"&&Sd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function I(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var F=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)F[Ae-2]=arguments[Ae];return d.prototype[C].apply(g,F)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let F=0;F<A;F++)c[C+F]=g[F]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var xe=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function re(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function w(){var c=xh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class On{constructor(){this.h=this.g=null}add(d,f){let g=js.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var js=new O(()=>new $S,c=>c.reset());class $S{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Us,Bs=!1,xh=new On,Y_=()=>{let c=a.Promise.resolve(void 0);Us=()=>{c.then(qS)}};var qS=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){T(f)}var d=js;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Bs=!1};function mr(){this.s=this.s,this.C=this.C}mr.prototype.s=!1,mr.prototype.ma=function(){this.s||(this.s=!0,this.N())},mr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var zS=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function $s(c,d){if(dt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(xe){e:{try{K(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:HS[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&$s.aa.h.call(this)}}S($s,dt);var HS={2:"touch",3:"pen",4:"mouse"};$s.prototype.h=function(){$s.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qs="closure_listenable_"+(1e6*Math.random()|0),GS=0;function WS(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++GS,this.da=this.fa=!1}function $c(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function qc(c){this.src=c,this.g={},this.h=0}qc.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=Ph(c,d,g,C);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new WS(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function Nh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&($c(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ph(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var Oh="closure_lm_"+(1e6*Math.random()|0),kh={};function J_(c,d,f,g,C){if(g&&g.once)return X_(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)J_(c,d[A],f,g,C);return null}return f=jh(f),c&&c[qs]?c.K(d,f,l(g)?!!g.capture:!!g,C):Z_(c,d,f,!1,g,C)}function Z_(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Ae=Lh(c);if(Ae||(c[Oh]=Ae=new qc(c)),f=Ae.add(d,f,g,F,A),f.proxy)return f;if(g=KS(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)zS||(C=F),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(tw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function KS(){function c(f){return d.call(c.src,c.listener,f)}let d=QS;return c}function X_(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)X_(c,d[A],f,g,C);return null}return f=jh(f),c&&c[qs]?c.L(d,f,l(g)?!!g.capture:!!g,C):Z_(c,d,f,!0,g,C)}function ew(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)ew(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=jh(f),c&&c[qs]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Ph(A,f,g,C),-1<f&&($c(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Lh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ph(d,f,g,C)),(f=-1<c?d[c]:null)&&Fh(f))}function Fh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[qs])Nh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(tw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Lh(d))?(Nh(f,c),f.h==0&&(f.src=null,d[Oh]=null)):$c(c)}}}function tw(c){return c in kh?kh[c]:kh[c]="on"+c}function QS(c,d){if(c.da)c=!0;else{d=new $s(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Fh(c),c=f.call(g,d)}return c}function Lh(c){return c=c[Oh],c instanceof qc?c:null}var Vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function jh(c){return typeof c=="function"?c:(c[Vh]||(c[Vh]=function(d){return c.handleEvent(d)}),c[Vh])}function ht(){mr.call(this),this.i=new qc(this),this.M=this,this.F=null}S(ht,mr),ht.prototype[qs]=!0,ht.prototype.removeEventListener=function(c,d,f,g){ew(this,c,d,f,g)};function bt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new dt(d,c);else if(d instanceof dt)d.target=d.target||c;else{var C=d;d=new dt(g,c),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];C=zc(F,g,!0,d)&&C}if(F=d.g=c,C=zc(F,g,!0,d)&&C,C=zc(F,g,!1,d)&&C,f)for(A=0;A<f.length;A++)F=d.g=f[A],C=zc(F,g,!1,d)&&C}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)$c(f[g]);delete c.g[d],c.h--}}this.F=null},ht.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ht.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function zc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var Ae=F.listener,ot=F.ha||F.src;F.fa&&Nh(c.i,F),C=Ae.call(ot,g)!==!1&&C}}return C&&!g.defaultPrevented}function nw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function rw(c){c.g=nw(()=>{c.g=null,c.i&&(c.i=!1,rw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class YS extends mr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:rw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(c){mr.call(this),this.h=c,this.g={}}S(zs,mr);var iw=[];function ow(c){re(c.g,function(d,f){this.g.hasOwnProperty(f)&&Fh(d)},c),c.g={}}zs.prototype.N=function(){zs.aa.N.call(this),ow(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uh=a.JSON.stringify,JS=a.JSON.parse,ZS=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Bh(){}Bh.prototype.h=null;function sw(c){return c.h||(c.h=c.i())}function aw(){}var Hs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $h(){dt.call(this,"d")}S($h,dt);function qh(){dt.call(this,"c")}S(qh,dt);var li={},cw=null;function Hc(){return cw=cw||new ht}li.La="serverreachability";function uw(c){dt.call(this,li.La,c)}S(uw,dt);function Gs(c){let d=Hc();bt(d,new uw(d))}li.STAT_EVENT="statevent";function lw(c,d){dt.call(this,li.STAT_EVENT,c),this.stat=d}S(lw,dt);function Dt(c){let d=Hc();bt(d,new lw(d,c))}li.Ma="timingevent";function dw(c,d){dt.call(this,li.Ma,c),this.size=d}S(dw,dt);function Ws(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ks(){this.g=!0}Ks.prototype.xa=function(){this.g=!1};function XS(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var F="",Ae=A.split("&"),ot=0;ot<Ae.length;ot++){var ve=Ae[ot].split("=");if(1<ve.length){var ft=ve[0];ve=ve[1];var pt=ft.split("_");F=2<=pt.length&&pt[1]=="type"?F+(ft+"="+ve+"&"):F+(ft+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function eR(c,d,f,g,C,A,F){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+F})}function fo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+nR(c,f)+(g?" "+g:"")})}function tR(c,d){c.info(function(){return"TIMEOUT: "+d})}Ks.prototype.info=function(){};function nR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return Uh(f)}catch{return d}}var Gc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zh;function Wc(){}S(Wc,Bh),Wc.prototype.g=function(){return new XMLHttpRequest},Wc.prototype.i=function(){return{}},zh=new Wc;function yr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fw}function fw(){this.i=null,this.g="",this.h=!1}var pw={},Hh={};function Gh(c,d,f){c.L=1,c.v=Jc(kn(d)),c.m=f,c.P=!0,gw(c,null)}function gw(c,d){c.F=Date.now(),Kc(c),c.A=kn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Rw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new fw,c.g=Ww(c.j,f?d:null,!c.m),0<c.O&&(c.M=new YS(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(iw[0]=C.toString()),C=iw);for(var A=0;A<C.length;A++){var F=J_(f,C[A],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Gs(),XS(c.i,c.u,c.A,c.l,c.R,c.m)}yr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Fn(c)==3?d.j():this.Y(c)},yr.prototype.Y=function(c){try{if(c==this.g)e:{let pt=Fn(this.g);var d=this.g.Ba();let mo=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Fw(this.g)))){this.J||pt!=4||d==7||(d==8||0>=mo?Gs(3):Gs(2)),Wh(this);var f=this.g.Z();this.X=f;t:if(mw(this)){var g=Fw(this.g);c="";var C=g.length,A=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),Qs(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,eR(this.i,this.u,this.A,this.l,this.R,pt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,ot=this.g;if((Ae=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ae)){var ve=Ae;break t}}ve=null}if(f=ve)fo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kh(this,f);else{this.o=!1,this.s=3,Dt(12),di(this),Qs(this);break e}}if(this.P){f=!0;let tn;for(;!this.J&&this.C<F.length;)if(tn=rR(this,F),tn==Hh){pt==4&&(this.s=4,Dt(14),f=!1),fo(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==pw){this.s=4,Dt(15),fo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else fo(this.i,this.l,tn,null),Kh(this,tn);if(mw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||F.length!=0||this.h.h||(this.s=1,Dt(16),f=!1),this.o=this.o&&f,!f)fo(this.i,this.l,F,"[Invalid Chunked Response]"),di(this),Qs(this);else if(0<F.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),ef(ft),ft.M=!0,Dt(11))}}else fo(this.i,this.l,F,null),Kh(this,F);pt==4&&di(this),this.o&&!this.J&&(pt==4?qw(this.j,this):(this.o=!1,Kc(this)))}else wR(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),di(this),Qs(this)}}}catch{}finally{}};function mw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function rR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Hh:(f=Number(d.substring(f,g)),isNaN(f)?pw:(g+=1,g+f>d.length?Hh:(d=d.slice(g,g+f),c.C=g+f,d)))}yr.prototype.cancel=function(){this.J=!0,di(this)};function Kc(c){c.S=Date.now()+c.I,yw(c,c.I)}function yw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ws(m(c.ba,c),d)}function Wh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}yr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(tR(this.i,this.A),this.L!=2&&(Gs(),Dt(17)),di(this),this.s=2,Qs(this)):yw(this,this.S-c)};function Qs(c){c.j.G==0||c.J||qw(c.j,c)}function di(c){Wh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,ow(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Kh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Qh(f.h,c))){if(!c.K&&Qh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)nu(f),eu(f);else break e;Xh(f),Dt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ws(m(f.Za,f),6e3));if(1>=ww(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else fi(f,11)}else if((c.K||f.g==c)&&nu(f),!H(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ve=C[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let ft=ve[3];ft!=null&&(f.la=ft,f.j.info("VER="+f.la));let pt=ve[4];pt!=null&&(f.Aa=pt,f.j.info("SVER="+f.Aa));let mo=ve[5];mo!=null&&typeof mo=="number"&&0<mo&&(g=1.5*mo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let tn=c.g;if(tn){let iu=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(iu){var A=g.h;A.g||iu.indexOf("spdy")==-1&&iu.indexOf("quic")==-1&&iu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Yh(A,A.h),A.h=null))}if(g.D){let tf=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;tf&&(g.ya=tf,Pe(g.I,g.D,tf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=c;if(g.qa=Gw(g,g.J?g.ia:null,g.W),F.K){Iw(g.h,F);var Ae=F,ot=g.L;ot&&(Ae.I=ot),Ae.B&&(Wh(Ae),Kc(Ae)),g.g=F}else Bw(g);0<f.i.length&&tu(f)}else ve[0]!="stop"&&ve[0]!="close"||fi(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?fi(f,7):Zh(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}Gs(4)}catch{}}var iR=class{constructor(c,d){this.g=c,this.map=d}};function vw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _w(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ww(c){return c.h?1:c.g?c.g.size:0}function Qh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Yh(c,d){c.g?c.g.add(d):c.h=d}function Iw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}vw.prototype.cancel=function(){if(this.i=Ew(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Ew(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function oR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function sR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function bw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=sR(c),g=oR(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var Dw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function hi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof hi){this.h=c.h,Qc(this,c.j),this.o=c.o,this.g=c.g,Yc(this,c.s),this.l=c.l;var d=c.i,f=new Zs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Cw(this,f),this.m=c.m}else c&&(d=String(c).match(Dw))?(this.h=!1,Qc(this,d[1]||"",!0),this.o=Ys(d[2]||""),this.g=Ys(d[3]||"",!0),Yc(this,d[4]),this.l=Ys(d[5]||"",!0),Cw(this,d[6]||"",!0),this.m=Ys(d[7]||"")):(this.h=!1,this.i=new Zs(null,this.h))}hi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Js(d,Tw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Js(d,Tw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Js(f,f.charAt(0)=="/"?lR:uR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Js(f,hR)),c.join("")};function kn(c){return new hi(c)}function Qc(c,d,f){c.j=f?Ys(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Yc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Cw(c,d,f){d instanceof Zs?(c.i=d,fR(c.i,c.h)):(f||(d=Js(d,dR)),c.i=new Zs(d,c.h))}function Pe(c,d,f){c.i.set(d,f)}function Jc(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ys(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Js(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,cR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Tw=/[#\/\?@]/g,uR=/[#\?:]/g,lR=/[#\?]/g,dR=/[#\?@]/g,hR=/#/g;function Zs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function vr(c){c.g||(c.g=new Map,c.h=0,c.i&&aR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Zs.prototype,t.add=function(c,d){vr(this),this.i=null,c=po(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Aw(c,d){vr(c),d=po(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Sw(c,d){return vr(c),d=po(c,d),c.g.has(d)}t.forEach=function(c,d){vr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){vr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){vr(this);let d=[];if(typeof c=="string")Sw(this,c)&&(d=d.concat(this.g.get(po(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return vr(this),this.i=null,c=po(this,c),Sw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Rw(c,d,f){Aw(c,d),0<f.length&&(c.i=null,c.g.set(po(c,d),P(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var C=A;F[g]!==""&&(C+="="+encodeURIComponent(String(F[g]))),c.push(C)}}return this.i=c.join("&")};function po(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function fR(c,d){d&&!c.j&&(vr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(Aw(this,g),Rw(this,C,f))},c)),c.j=d}function pR(c,d){let f=new Ks;if(a.Image){let g=new Image;g.onload=I(_r,f,"TestLoadImage: loaded",!0,d,g),g.onerror=I(_r,f,"TestLoadImage: error",!1,d,g),g.onabort=I(_r,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(_r,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function gR(c,d){let f=new Ks,g=new AbortController,C=setTimeout(()=>{g.abort(),_r(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?_r(f,"TestPingServer: ok",!0,d):_r(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),_r(f,"TestPingServer: error",!1,d)})}function _r(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function mR(){this.g=new ZS}function yR(c,d,f){let g=f||"";try{bw(c,function(C,A){let F=C;l(C)&&(F=Uh(C)),d.push(g+A+"="+encodeURIComponent(F))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Xs(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Xs,Bh),Xs.prototype.g=function(){return new Zc(this.l,this.j)},Xs.prototype.i=function(c){return function(){return c}}({});function Zc(c,d){ht.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Zc,ht),t=Zc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ta(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ea(this):ta(this),this.readyState==3&&Mw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ea(this))},t.Qa=function(c){this.g&&(this.response=c,ea(this))},t.ga=function(){this.g&&ea(this)};function ea(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ta(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ta(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xw(c){let d="";return re(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Jh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=xw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Pe(c,d,f))}function Ue(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ue,ht);var vR=/^https?$/i,_R=["POST","PUT"];t=Ue.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zh.g(),this.v=this.o?sw(this.o):sw(zh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){Nw(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_R,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){Nw(this,A)}};function Nw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Pw(c),Xc(c)}function Pw(c){c.A||(c.A=!0,bt(c,"complete"),bt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,bt(this,"complete"),bt(this,"abort"),Xc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xc(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ow(this):this.bb())},t.bb=function(){Ow(this)};function Ow(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)nw(c.Ea,0,c);else if(bt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var C=String(c.D).match(Dw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!vR.test(C?C.toLowerCase():"")}f=g}if(f)bt(c,"complete"),bt(c,"success");else{c.m=6;try{var A=2<Fn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",Pw(c)}}finally{Xc(c)}}}}function Xc(c,d){if(c.g){kw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||bt(c,"ready");try{f.onreadystatechange=g}catch{}}}function kw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),JS(d)}};function Fw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wR(c){let d={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(H(c[g]))continue;var f=D(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Lw(c){this.Aa=0,this.i=[],this.j=new Ks,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,c),this.cb=na("retryDelaySeedMs",1e4,c),this.Wa=na("forwardChannelMaxRetries",2,c),this.wa=na("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vw(c&&c.concurrentRequestLimit),this.Da=new mR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Dt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Gw(this,null,this.W),tu(this)};function Zh(c){if(Vw(c),c.G==3){var d=c.U++,f=kn(c.I);if(Pe(f,"SID",c.K),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),ra(c,f),d=new yr(c,c.j,d),d.L=2,d.v=Jc(kn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Ww(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Kc(d)}Hw(c)}function eu(c){c.g&&(ef(c),c.g.cancel(),c.g=null)}function Vw(c){eu(c),c.u&&(a.clearTimeout(c.u),c.u=null),nu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function tu(c){if(!_w(c.h)&&!c.s){c.s=!0;var d=c.Ga;Us||Y_(),Bs||(Us(),Bs=!0),xh.add(d,c),c.B=0}}function IR(c,d){return ww(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ws(m(c.Ga,c,d),zw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new yr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Uw(this,C,d),f=kn(this.I),Pe(f,"RID",c),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),ra(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(xw(A)))+"&"+d:this.m&&Jh(f,this.m,A)),Yh(this.h,C),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",d),Pe(f,"SID","null"),C.T=!0,Gh(C,f,null)):Gh(C,f,d),this.G=2}}else this.G==3&&(c?jw(this,c):this.i.length==0||_w(this.h)||jw(this))};function jw(c,d){var f;d?f=d.l:f=c.U++;let g=kn(c.I);Pe(g,"SID",c.K),Pe(g,"RID",f),Pe(g,"AID",c.T),ra(c,g),c.m&&c.o&&Jh(g,c.m,c.o),f=new yr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Uw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Yh(c.h,f),Gh(f,g,d)}function ra(c,d){c.H&&re(c.H,function(f,g){Pe(d,g,f)}),c.l&&bw({},function(f,g){Pe(d,g,f)})}function Uw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=C[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let Ae=!0;for(let ot=0;ot<f;ot++){let ve=C[ot].g,ft=C[ot].map;if(ve-=A,0>ve)A=Math.max(0,C[ot].g-100),Ae=!1;else try{yR(ft,F,"req"+ve+"_")}catch{g&&g(ft)}}if(Ae){g=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Bw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Us||Y_(),Bs||(Us(),Bs=!0),xh.add(d,c),c.v=0}}function Xh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ws(m(c.Fa,c),zw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,$w(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ws(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),eu(this),$w(this))};function ef(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function $w(c){c.g=new yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=kn(c.qa);Pe(d,"RID","rpc"),Pe(d,"SID",c.K),Pe(d,"AID",c.T),Pe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(d,"TO",c.ja),Pe(d,"TYPE","xmlhttp"),ra(c,d),c.m&&c.o&&Jh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Jc(kn(d)),f.m=null,f.P=!0,gw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,eu(this),Xh(this),Dt(19))};function nu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function qw(c,d){var f=null;if(c.g==d){nu(c),ef(c),c.g=null;var g=2}else if(Qh(c.h,d))f=d.D,Iw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Hc(),bt(g,new dw(g,f)),tu(c)}else Bw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&IR(c,d)||g==2&&Xh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:fi(c,5);break;case 4:fi(c,10);break;case 3:fi(c,6);break;default:fi(c,2)}}}function zw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function fi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new hi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qc(g,"https"),Jc(g),C?pR(g.toString(),f):gR(g.toString(),f)}else Dt(2);c.G=0,c.l&&c.l.sa(d),Hw(c),Vw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Hw(c){if(c.G=0,c.ka=[],c.l){let d=Ew(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function Gw(c,d,f){var g=f instanceof hi?kn(f):new hi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Yc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new hi(null);g&&Qc(A,g),d&&(A.g=d),C&&Yc(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Pe(g,f,d),Pe(g,"VER",c.la),ra(c,g),g}function Ww(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ue(new Xs({eb:f})):new Ue(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kw(){}t=Kw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ru(){}ru.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){ht.call(this),this.g=new Lw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new go(this)}S(Ot,ht),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Zh(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Uh(c),c=f);d.i.push(new iR(d.Ya++,c)),d.G==3&&tu(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Zh(this.g),delete this.g,Ot.aa.N.call(this)};function Qw(c){$h.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(Qw,$h);function Yw(){qh.call(this),this.status=1}S(Yw,qh);function go(c){this.g=c}S(go,Kw),go.prototype.ua=function(){bt(this.g,"a")},go.prototype.ta=function(c){bt(this.g,new Qw(c))},go.prototype.sa=function(c){bt(this.g,new Yw)},go.prototype.ra=function(){bt(this.g,"b")},ru.prototype.createWebChannel=ru.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,Fy=ur.createWebChannelTransport=function(){return new ru},ky=ur.getStatEventTarget=function(){return Hc()},Oy=ur.Event=li,Rd=ur.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gc.NO_ERROR=0,Gc.TIMEOUT=8,Gc.HTTP_ERROR=6,dc=ur.ErrorCode=Gc,hw.COMPLETE="complete",Py=ur.EventType=hw,aw.EventType=Hs,Hs.OPEN="a",Hs.CLOSE="b",Hs.ERROR="c",Hs.MESSAGE="d",ht.prototype.listen=ht.prototype.K,gs=ur.WebChannel=aw,eU=ur.FetchXmlHttpFactory=Xs,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,Ny=ur.XhrIo=Ue}).apply(typeof Sd<"u"?Sd:typeof self<"u"?self:typeof window<"u"?window:{});var mT="@firebase/firestore";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var Ps="10.14.0";var ro=new zr("@firebase/firestore");function hc(){return ro.logLevel}function $(t,...e){if(ro.logLevel<=pe.DEBUG){let n=e.map(I_);ro.debug(`Firestore (${Ps}): ${t}`,...n)}}function dr(t,...e){if(ro.logLevel<=pe.ERROR){let n=e.map(I_);ro.error(`Firestore (${Ps}): ${t}`,...n)}}function Es(t,...e){if(ro.logLevel<=pe.WARN){let n=e.map(I_);ro.warn(`Firestore (${Ps}): ${t}`,...n)}}function I_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t="Unexpected state"){let e=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: `+t;throw dr(e),new Error(e)}function Ce(t,e){t||ee()}function ne(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var lr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Od=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},By=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}},$y=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},qy=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Od(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new it(e)}},zy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Hy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Gy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Wy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ce(this.o===void 0);let r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new Gy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function tU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var kd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=tU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function we(t,e){return t<e?-1:t>e?1:0}function bs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var lt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var oe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new lt(0,0))}static max(){return new t(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Fd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},je=class t extends Fd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},nU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class t extends Fd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return nU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new U(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(je.fromString(e))}static fromName(e){return new t(je.fromString(e).popFirst(5))}static empty(){return new t(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new je(e.slice()))}};var Ky=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ky.UNKNOWN_ID=-1;function rU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new io(i,W.empty(),e)}function iU(t){return new io(t.readTime,t.key,-1)}var io=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(oe.min(),W.empty(),-1)}static max(){return new t(oe.max(),W.empty(),-1)}};function oU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}var sU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function xc(t){return v(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==sU)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var k=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function aU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nc(t){return t.name==="IndexedDbTransactionError"}var ZT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function dh(t){return t==null}function vc(t){return t===0&&1/t==-1/0}function cU(t){return typeof t=="number"&&Number.isInteger(t)&&!vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var uU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],e8=[...uU,"documentOverlays"],lU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dU=lU,hU=[...dU,"indexConfiguration","indexState","indexEntries"];var t8=[...hU,"globals"];function yT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Os(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ze=class t{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _s(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _s(this.root,e,this.comparator,!1)}getReverseIterator(){return new _s(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _s(this.root,e,this.comparator,!0)}},_s=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Mn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var It=class t{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ld(this.data.getIterator())}getIteratorFrom(e){return new Ld(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ld=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Rn=class t{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new It(zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Vd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var fU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(t){if(Ce(!!t),typeof t=="string"){let e=0,n=fU.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}function E_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function b_(t){let e=t.mapValue.fields.__previous_value__;return E_(e)?b_(e):e}function _c(t){let e=hr(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}var Yy=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},jd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Md={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E_(t)?4:tA(t)?9007199254740991:eA(t)?10:11:ee()}function Pn(t,e){if(t===e)return!0;let n=oo(t);if(n!==oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _c(t).isEqual(_c(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=hr(i.timestampValue),a=hr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ti(i.bytesValue).isEqual(ti(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Fe(i.doubleValue),a=Fe(o.doubleValue);return s===a?vc(s)===vc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return bs(t.arrayValue.values||[],e.arrayValue.values||[],Pn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(yT(s)!==yT(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Pn(s[u],a[u])))return!1;return!0}(t,e);default:return ee()}}function wc(t,e){return(t.values||[]).find(n=>Pn(n,e))!==void 0}function Ds(t,e){if(t===e)return 0;let n=oo(t),r=oo(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Fe(o.integerValue||o.doubleValue),u=Fe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return vT(t.timestampValue,e.timestampValue);case 4:return vT(_c(t),_c(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(o,s){let a=ti(o),u=ti(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=we(a[l],u[l]);if(h!==0)return h}return we(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=we(Fe(o.latitude),Fe(s.latitude));return a!==0?a:we(Fe(o.longitude),Fe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _T(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},I=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=we(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:_T(I,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Md.mapValue&&s===Md.mapValue)return 0;if(o===Md.mapValue)return 1;if(s===Md.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=we(u[p],h[p]);if(m!==0)return m;let I=Ds(a[u[p]],l[h[p]]);if(I!==0)return I}return we(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ee()}}function vT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);let n=hr(t),r=hr(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function _T(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ds(n[i],r[i]);if(o)return o}return we(n.length,r.length)}function Cs(t){return Jy(t)}function Jy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Jy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Jy(n.fields[s])}`;return i+"}"}(t.mapValue):ee()}function wT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zy(t){return!!t&&"integerValue"in t}function D_(t){return!!t&&"arrayValue"in t}function IT(t){return!!t&&"nullValue"in t}function ET(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nd(t){return!!t&&"mapValue"in t}function eA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Os(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var dn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=pc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Os(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(pc(this.value))}};function nA(t){let e=[];return Os(t.fields,(n,r)=>{let i=new zt([n]);if(Nd(r)){let o=nA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Rn(e)}var hn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,oe.min(),oe.min(),oe.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,oe.min(),oe.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,oe.min(),oe.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ts=class{constructor(e,n){this.position=e,this.inclusive=n}};function bT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=Ds(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function DT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pn(t.position[n],e.position[n]))return!1;return!0}var so=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function pU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ud=class{},Je=class t extends Ud{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ev(e,n,r):n==="array-contains"?new rv(e,r):n==="in"?new iv(e,r):n==="not-in"?new ov(e,r):n==="array-contains-any"?new sv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tv(e,r):new nv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ds(n,this.value)):n!==null&&oo(this.value)===oo(n)&&this.matchesComparison(Ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fn=class t extends Ud{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return rA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function rA(t){return t.op==="and"}function iA(t){return gU(t)&&rA(t)}function gU(t){for(let e of t.filters)if(e instanceof fn)return!1;return!0}function Xy(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Cs(t.value);if(iA(t))return t.filters.map(e=>Xy(e)).join(",");{let e=t.filters.map(n=>Xy(n)).join(",");return`${t.op}(${e})`}}function oA(t,e){return t instanceof Je?function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&Pn(r.value,i.value)}(t,e):t instanceof fn?function(r,i){return i instanceof fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&oA(s,i.filters[a]),!0):!1}(t,e):void ee()}function sA(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${Cs(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(sA).join(" ,")+"}"}(t):"Filter"}var ev=class extends Je{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},tv=class extends Je{constructor(e,n){super(e,"in",n),this.keys=aA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},nv=class extends Je{constructor(e,n){super(e,"not-in",n),this.keys=aA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function aA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var rv=class extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return D_(n)&&wc(n.arrayValue,this.value)}},iv=class extends Je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}},ov=class extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!wc(this.value.arrayValue,n)}},sv=class extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!D_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wc(this.value.arrayValue,r))}};var av=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function CT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new av(t,e,n,r,i,o,s)}function C_(t){let e=ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cs(r)).join(",")),e.ue=n}return e.ue}function T_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DT(t.startAt,e.startAt)&&DT(t.endAt,e.endAt)}function cv(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ni=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function mU(t,e,n,r,i,o,s,a){return new ni(t,e,n,r,i,o,s,a)}function A_(t){return new ni(t)}function TT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cA(t){return t.collectionGroup!==null}function gc(t){let e=ne(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new It(zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new so(o,r))}),n.has(zt.keyField().canonicalString())||e.ce.push(new so(zt.keyField(),r))}return e.ce}function xn(t){let e=ne(t);return e.le||(e.le=yU(e,gc(t))),e.le}function yU(t,e){if(t.limitType==="F")return CT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new so(i.field,o)});let n=t.endAt?new Ts(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ts(t.startAt.position,t.startAt.inclusive):null;return CT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uv(t,e){let n=t.filters.concat([e]);return new ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bd(t,e,n){return new ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return T_(xn(t),xn(e))&&t.limitType===e.limitType}function uA(t){return`${C_(xn(t))}|lt:${t.limitType}`}function ms(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sA(i)).join(", ")}]`),dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Cs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Cs(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function fh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of gc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=bT(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,gc(r),i)||r.endAt&&!function(s,a,u){let l=bT(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,gc(r),i))}(t,e)}function vU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lA(t){return(e,n)=>{let r=!1;for(let i of gc(t)){let o=_U(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function _U(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ds(u,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var ri=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return XT(this.inner)}size(){return this.innerSize}};var wU=new ze(W.comparator);function fr(){return wU}var dA=new ze(W.comparator);function fc(...t){let e=dA;for(let n of t)e=e.insert(n.key,n);return e}function hA(t){let e=dA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xi(){return mc()}function fA(){return mc()}function mc(){return new ri(t=>t.toString(),(t,e)=>t.isEqual(e))}var IU=new ze(W.comparator),EU=new It(W.comparator);function ge(...t){let e=EU;for(let n of t)e=e.add(n);return e}var bU=new It(we);function DU(){return bU}function S_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(e)?"-0":e}}function pA(t){return{integerValue:""+t}}function CU(t,e){return cU(e)?pA(e):S_(t,e)}var As=class{constructor(){this._=void 0}};function TU(t,e,n){return t instanceof Ss?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&E_(o)&&(o=b_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ao?mA(t,e):t instanceof co?yA(t,e):function(i,o){let s=gA(i,o),a=AT(s)+AT(i.Pe);return Zy(s)&&Zy(i.Pe)?pA(a):S_(i.serializer,a)}(t,e)}function AU(t,e,n){return t instanceof ao?mA(t,e):t instanceof co?yA(t,e):n}function gA(t,e){return t instanceof Rs?function(r){return Zy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ss=class extends As{},ao=class extends As{constructor(e){super(),this.elements=e}};function mA(t,e){let n=vA(e);for(let r of t.elements)n.some(i=>Pn(i,r))||n.push(r);return{arrayValue:{values:n}}}var co=class extends As{constructor(e){super(),this.elements=e}};function yA(t,e){let n=vA(e);for(let r of t.elements)n=n.filter(i=>!Pn(i,r));return{arrayValue:{values:n}}}var Rs=class extends As{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function AT(t){return Fe(t.integerValue||t.doubleValue)}function vA(t){return D_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ao&&i instanceof ao||r instanceof co&&i instanceof co?bs(r.elements,i.elements,Pn):r instanceof Rs&&i instanceof Rs?Pn(r.Pe,i.Pe):r instanceof Ss&&i instanceof Ss}(t.transform,e.transform)}var lv=class{constructor(e,n){this.version=e,this.transformResults=n}},Xr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ms=class{};function _A(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $d(t.key,Xr.none()):new uo(t.key,t.data,Xr.none());{let n=t.data,r=dn.empty(),i=new It(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new pr(t.key,r,new Rn(i.toArray()),Xr.none())}}function RU(t,e,n){t instanceof uo?function(i,o,s){let a=i.value.clone(),u=RT(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pr?function(i,o,s){if(!Pd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=RT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(wA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yc(t,e,n,r){return t instanceof uo?function(o,s,a,u){if(!Pd(o.precondition,s))return a;let l=o.value.clone(),h=MT(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof pr?function(o,s,a,u){if(!Pd(o.precondition,s))return a;let l=MT(o.fieldTransforms,u,s),h=s.data;return h.setAll(wA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Pd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function MU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=gA(r.transform,i||null);o!=null&&(n===null&&(n=dn.empty()),n.set(r.field,o))}return n||null}function ST(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bs(r,i,(o,s)=>SU(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var uo=class extends Ms{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},pr=class extends Ms{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function wA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function RT(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,AU(s,a,n[i]))}return r}function MT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,TU(o,s,e))}return r}var $d=class extends Ms{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},dv=class extends Ms{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var hv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&RU(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=yc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=fA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=_A(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(n,r)=>ST(n,r))&&bs(this.baseMutations,e.baseMutations,(n,r)=>ST(n,r))}},fv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return IU}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var pv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var gv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Qe,ye;function xU(t){switch(t){default:return ee();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function IA(t){if(t===void 0)return dr("GRPC error has no .code"),x.UNKNOWN;switch(t){case Qe.OK:return x.OK;case Qe.CANCELLED:return x.CANCELLED;case Qe.UNKNOWN:return x.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return x.INTERNAL;case Qe.UNAVAILABLE:return x.UNAVAILABLE;case Qe.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Qe.NOT_FOUND:return x.NOT_FOUND;case Qe.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Qe.ABORTED:return x.ABORTED;case Qe.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Qe.DATA_LOSS:return x.DATA_LOSS;default:return ee()}}(ye=Qe||(Qe={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var xT=null;function NU(){return new TextEncoder}var PU=new Zr([4294967295,4294967295],0);function NT(t){let e=NU().encode(t),n=new xy;return n.update(e),new Uint8Array(n.digest())}function PT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zr([n,r],0),new Zr([i,o],0)]}var mv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eo(`Invalid padding: ${n}`);if(r<0)throw new eo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Zr.fromNumber(r)));return i.compare(PU)===1&&(i=new Zr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=NT(e),[r,i]=PT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=NT(e),[r,i]=PT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},eo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(oe.min(),i,new ze(we),fr(),ge())}},Ic=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var ws=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},zd=class{constructor(e,n){this.targetId=e,this.me=n}},Hd=class{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Gd=class{constructor(){this.fe=0,this.ge=kT(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Ic(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=kT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},yv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=fr(),this.qe=OT(),this.Qe=new ze(we)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(cv(o))if(r===0){let s=new W(o.path);this.Ue(n,s,hn.newNoDocument(s,oe.min()))}else Ce(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}xT?.et(function(h,p,m,I,S){var P,R,O,H,G,K;let xe={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},re=p.unchangedNames;return re&&(xe.bloomFilter={applied:S===0,hashCount:(P=re?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(H=(O=(R=re?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&H!==void 0?H:0,padding:(K=(G=re?.bits)===null||G===void 0?void 0:G.padding)!==null&&K!==void 0?K:0,mightContain:b=>{var y;return(y=I?.mightContain(b))!==null&&y!==void 0&&y}}),xe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=ti(r).toUint8Array()}catch(u){if(u instanceof Vd)return Es("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new mv(s,i,o)}catch(u){return Es(u instanceof eo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&cv(a.target)){let u=new W(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,hn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ge();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new qd(e,n,this.Qe,this.ke,r);return this.ke=fr(),this.qe=OT(),this.Qe=new ze(we),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Gd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new It(we),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Gd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function OT(){return new ze(W.comparator)}function kT(){return new ze(W.comparator)}var OU={asc:"ASCENDING",desc:"DESCENDING"},kU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FU={and:"AND",or:"OR"},vv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function _v(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function Wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LU(t,e){return Wd(t,e.toTimestamp())}function Nn(t){return Ce(!!t),oe.fromTimestamp(function(n){let r=hr(n);return new lt(r.seconds,r.nanos)}(t))}function R_(t,e){return wv(t,e).canonicalString()}function wv(t,e){let n=function(i){return new je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bA(t){let e=je.fromString(t);return Ce(SA(e)),e}function Iv(t,e){return R_(t.databaseId,e.path)}function Ly(t,e){let n=bA(e);if(n.get(1)!==t.databaseId.projectId)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(CA(n))}function DA(t,e){return R_(t.databaseId,e)}function VU(t){let e=bA(t);return e.length===4?je.emptyPath():CA(e)}function Ev(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CA(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function FT(t,e,n){return{name:Iv(t,e),fields:n.value.mapValue.fields}}function jU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ce(h===void 0||typeof h=="string"),Et.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?x.UNKNOWN:IA(l.code);return new U(h,l.message||"")}(s);n=new Hd(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ly(t,r.document.name),o=Nn(r.document.updateTime),s=r.document.createTime?Nn(r.document.createTime):oe.min(),a=new dn({mapValue:{fields:r.document.fields}}),u=hn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ws(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ly(t,r.document),o=r.readTime?Nn(r.readTime):oe.min(),s=hn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ws([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ly(t,r.document),o=r.removedTargetIds||[];n=new ws([],o,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new gv(i,o),a=r.targetId;n=new zd(a,s)}}return n}function UU(t,e){let n;if(e instanceof uo)n={update:FT(t,e.key,e.value)};else if(e instanceof $d)n={delete:Iv(t,e.key)};else if(e instanceof pr)n={update:FT(t,e.key,e.data),updateMask:QU(e.fieldMask)};else{if(!(e instanceof dv))return ee();n={verify:Iv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ss)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ao)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rs)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:LU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee()}(t,e.precondition)),n}function BU(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Nn(i.updateTime):Nn(o);return s.isEqual(oe.min())&&(s=Nn(o)),new lv(s,i.transformResults||[])}(n,e))):[]}function $U(t,e){return{documents:[DA(t,e.path)]}}function qU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DA(t,i);let o=function(l){if(l.length!==0)return AA(fn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ys(m.field),direction:GU(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=_v(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function zU(t){let e=VU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=TA(p);return m instanceof fn&&iA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new so(vs(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,dh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,I=p.values||[];return new Ts(I,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,I=p.values||[];return new Ts(I,m)}(n.endAt)),mU(e,i,s,o,a,"F",u,l)}function HU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=vs(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=vs(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=vs(n.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=vs(n.unaryFilter.field);return Je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(r=>TA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function GU(t){return OU[t]}function WU(t){return kU[t]}function KU(t){return FU[t]}function ys(t){return{fieldPath:t.canonicalString()}}function vs(t){return zt.fromServerFormat(t.fieldPath)}function AA(t){return t instanceof Je?function(n){if(n.op==="=="){if(ET(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NAN"}};if(IT(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ET(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NAN"}};if(IT(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(n.field),op:WU(n.op),value:n.value}}}(t):t instanceof fn?function(n){let r=n.getFilters().map(i=>AA(i));return r.length===1?r[0]:{compositeFilter:{op:KU(n.op),filters:r}}}(t):ee()}function QU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ec=class t{constructor(e,n,r,i,o=oe.min(),s=oe.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var bv=class{constructor(e){this.ct=e}};function YU(t){let e=zU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bd(e,e.limit,"L"):e}var Kd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),vc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=hr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ti(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?tA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):eA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ee()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Fe(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),W.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Kd.vt=new Kd;var Dv=class{constructor(){this.un=new Cv}addToCollectionParentIndex(e,n){return this.un.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(io.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(io.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}},Cv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(je.comparator)).toArray()}};var r8=new Uint8Array(0);var Sn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(41943040,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);var bc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Tv=class{constructor(){this.changes=new ri(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Av=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Sv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yc(r.mutation,i,Rn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=Xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=fc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=fr(),s=mc(),a=function(){return mc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof pr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),yc(h.mutation,l,h.mutation.getFieldMask(),lt.now())):s.set(l.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Av(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=mc(),i=new ze((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Rn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=fA();h.forEach(m=>{if(!o.has(m)){let I=_A(n.get(m),r.get(m));I!==null&&p.set(m,I),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):k.resolve(Xi()),a=-1,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:hA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=fc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=fc();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=function(p,m){return new ni(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,hn.newInvalidDocument(h)))});let a=fc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&yc(h.mutation,l,Rn.empty(),lt.now()),fh(n,l)&&(a=a.insert(u,l))}),a})}};var Rv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return k.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nn(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:YU(i.bundledQuery),readTime:Nn(i.readTime)}}(n)),k.resolve()}};var Mv=class{constructor(){this.overlays=new ze(W.comparator),this.Ir=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Xi();return k.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),k.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){let i=Xi(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ze((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Xi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new pv(n,r));let o=this.Ir.get(n);o===void 0&&(o=ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var xv=class{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,k.resolve()}};var Dc=class{constructor(){this.Tr=new It(Ye.Er),this.dr=new It(Ye.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ye(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ye(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new W(new je([])),r=new Ye(n,e),i=new Ye(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new W(new je([])),r=new Ye(n,e),i=new Ye(n,e+1),o=ge();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ye(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ye=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return W.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||W.comparator(e.key,n.key)}};var Nv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new It(Ye.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new hv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,n){return k.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ye(n,0),i=new Ye(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(we);return n.forEach(i=>{let o=new Ye(i,0),s=new Ye(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),k.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new W(o),0),a=new It(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),k.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return k.forEach(n.mutations,i=>{let o=new Ye(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ye(n,0),i=this.br.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Pv=class{constructor(e){this.Mr=e,this.docs=function(){return new ze(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=fr(),s=n.path,a=new W(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||oU(iU(h),r)<=0||(i.has(h.key)||fh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ee()}Or(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ov(this)}getSize(e){return k.resolve(this.size)}},Ov=class extends Tv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var kv=class{constructor(e){this.persistence=e,this.Nr=new ri(n=>C_(n),T_),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Dc,this.targetCount=0,this.kr=bc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),k.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new bc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.Kn(n),k.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),k.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Br.containsKey(n))}};var Fv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ZT(0),this.Kr=!1,this.Kr=!0,this.$r=new xv,this.referenceDelegate=e(this),this.Ur=new kv(this),this.indexManager=new Dv,this.remoteDocumentCache=function(i){return new Pv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new bv(n),this.Gr=new Rv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Nv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new Lv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return k.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Lv=class extends Qy{constructor(e){super(),this.currentSequenceNumber=e}},Vv=class t{constructor(e){this.persistence=e,this.Jr=new Dc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),k.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,r=>{let i=W.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return k.or([()=>k.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var jv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ge(),i=ge();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Uv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Bv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return JD()?8:aU(tt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Uv;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(hc()<=pe.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(hc()<=pe.DEBUG&&$("QueryEngine","Query:",ms(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hc()<=pe.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):k.resolve())}Yi(e,n){if(TT(n))return k.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bd(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Bd(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return TT(n)||i.isEqual(oe.min())?k.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?k.resolve(null):(hc()<=pe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ms(n)),this.rs(e,s,n,rU(i,-1)).next(a=>a))})}ts(e,n){let r=new It(lA(e));return n.forEach((i,o)=>{fh(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return hc()<=pe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",ms(n)),this.Ji.getDocumentsMatchingQuery(e,n,io.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var $v=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ze(we),this._s=new ri(o=>C_(o),T_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function JU(t,e,n,r){return new $v(t,e,n,r)}function RA(t,e){return v(this,null,function*(){let n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function ZU(t,e){let n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),I=k.resolve();return m.forEach(S=>{I=I.next(()=>h.getEntry(u,S)).next(P=>{let R=l.docVersions.get(S);Ce(R!==null),P.version.compareTo(R)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MA(t){let e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function XU(t,e){let n=ne(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let I=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(Et.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(h.resumeToken,r)),i=i.insert(p,I),function(P,R,O){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,I,h)&&a.push(n.Ur.updateTargetData(o,I))});let u=fr(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(eB(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(oe.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function eB(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=fr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function tB(t,e){let n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nB(t,e){let n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Ec(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function qv(t,e,n){return v(this,null,function*(){let r=ne(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Nc(s))throw s;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function LT(t,e,n){let r=ne(t),i=oe.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ne(u),m=p._s.get(h);return m!==void 0?k.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:oe.min(),n?o:ge())).next(a=>(rB(r,vU(e),a),{documents:a,Ts:o})))}function rB(t,e,n){let r=t.us.get(e)||oe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Qd=class{constructor(){this.activeTargetIds=DU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var zv=class{constructor(){this.so=new Qd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Qd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Hv=class{_o(e){}shutdown(){}};var Yd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var xd=null;function Vy(){return xd===null?xd=function(){return 268435456+Math.round(2147483648*Math.random())}():xd++,"0x"+xd.toString(16)}var iB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Gv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var wt="WebChannelConnection",Wv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Vy(),u=this.xo(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>($("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Es("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ps}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=iB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Vy();return new Promise((s,a)=>{let u=new Ny;u.setWithCredentials(!0),u.listenOnce(Py.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case dc.NO_ERROR:let h=u.getResponseJson();$(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case dc.TIMEOUT:$(wt,`RPC '${e}' ${o} timed out`),a(new U(x.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:let p=u.getStatus();if($(wt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let I=m?.error;if(I&&I.status&&I.message){let S=function(R){let O=R.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(O)>=0?O:x.UNKNOWN}(I.status);a(new U(S,I.message))}else a(new U(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(x.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{$(wt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);$(wt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Vy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Fy(),a=ky(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");$(wt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,I=!1,S=new Gv({Io:R=>{I?$(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||($(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),$(wt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),P=(R,O,H)=>{R.listen(O,G=>{try{H(G)}catch(K){setTimeout(()=>{throw K},0)}})};return P(p,gs.EventType.OPEN,()=>{I||($(wt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),P(p,gs.EventType.CLOSE,()=>{I||(I=!0,$(wt,`RPC '${e}' stream ${i} transport closed`),S.So())}),P(p,gs.EventType.ERROR,R=>{I||(I=!0,Es(wt,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new U(x.UNAVAILABLE,"The operation could not be completed")))}),P(p,gs.EventType.MESSAGE,R=>{var O;if(!I){let H=R.data[0];Ce(!!H);let G=H,K=G.error||((O=G[0])===null||O===void 0?void 0:O.error);if(K){$(wt,`RPC '${e}' stream ${i} received error:`,K);let xe=K.status,re=function(_){let E=Qe[_];if(E!==void 0)return IA(E)}(xe),b=K.message;re===void 0&&(re=x.INTERNAL,b="Unknown error status: "+xe+" with message "+K.message),I=!0,S.So(new U(re,b)),p.close()}else $(wt,`RPC '${e}' stream ${i} received:`,H),S.bo(H)}}),P(a,Oy.STAT_EVENT,R=>{R.stat===Rd.PROXY?$(wt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Rd.NOPROXY&&$(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function jy(){return typeof document<"u"?document:null}function ph(t){return new vv(t,!0)}var Jd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Zd=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Jd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return v(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return v(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return v(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>v(this,null,function*(){this.state=0,this.start()}))}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Kv=class extends Zd{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=jU(this.serializer,e),r=function(o){if(!("targetChange"in o))return oe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?oe.min():s.readTime?Nn(s.readTime):oe.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Ev(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=cv(u)?{documents:$U(o,u)}:{query:qU(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=EA(o,s.resumeToken);let l=_v(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(oe.min())>0){a.readTime=Wd(o,s.snapshotVersion.toTimestamp());let l=_v(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=HU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Ev(this.serializer),n.removeTarget=e,this.a_(n)}},Qv=class extends Zd{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=BU(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Ev(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>UU(this.serializer,r))};this.a_(n)}};var Yv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,wv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(x.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,wv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(x.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Jv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(dr(n),this.D_=!1):$("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Zv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>v(this,null,function*(){ho(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=ne(u);l.L_.add(4),yield Pc(l),l.q_.set("Unknown"),l.L_.delete(4),yield gh(l)})}(this))}))}),this.q_=new Jv(r,i)}};function gh(t){return v(this,null,function*(){if(ho(t))for(let e of t.B_)yield e(!0)})}function Pc(t){return v(this,null,function*(){for(let e of t.B_)yield e(!1)})}function xA(t,e){let n=ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),P_(n)?N_(n):ks(n).r_()&&x_(n,e))}function M_(t,e){let n=ne(t),r=ks(n);n.N_.delete(e),r.r_()&&NA(n,e),n.N_.size===0&&(r.r_()?r.o_():ho(n)&&n.q_.set("Unknown"))}function x_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ks(t).A_(e)}function NA(t,e){t.Q_.xe(e),ks(t).R_(e)}function N_(t){t.Q_=new yv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ks(t).start(),t.q_.v_()}function P_(t){return ho(t)&&!ks(t).n_()&&t.N_.size>0}function ho(t){return ne(t).L_.size===0}function PA(t){t.Q_=void 0}function oB(t){return v(this,null,function*(){t.q_.set("Online")})}function sB(t){return v(this,null,function*(){t.N_.forEach((e,n)=>{x_(t,e)})})}function aB(t,e){return v(this,null,function*(){PA(t),P_(t)?(t.q_.M_(e),N_(t)):t.q_.set("Unknown")})}function cB(t,e,n){return v(this,null,function*(){if(t.q_.set("Online"),e instanceof Hd&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Xd(t,r)}else if(e instanceof ws?t.Q_.Ke(e):e instanceof zd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oe.min()))try{let r=yield MA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),NA(o,u);let p=new Ec(h.target,u,l,h.sequenceNumber);x_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){$("RemoteStore","Failed to raise snapshot:",r),yield Xd(t,r)}})}function Xd(t,e,n){return v(this,null,function*(){if(!Nc(e))throw e;t.L_.add(1),yield Pc(t),t.q_.set("Offline"),n||(n=()=>MA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield gh(t)}))})}function OA(t,e){return e().catch(n=>Xd(t,n,e))}function mh(t){return v(this,null,function*(){let e=ne(t),n=ii(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;uB(e);)try{let i=yield tB(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,lB(e,i)}catch(i){yield Xd(e,i)}kA(e)&&FA(e)})}function uB(t){return ho(t)&&t.O_.length<10}function lB(t,e){t.O_.push(e);let n=ii(t);n.r_()&&n.V_&&n.m_(e.mutations)}function kA(t){return ho(t)&&!ii(t).n_()&&t.O_.length>0}function FA(t){ii(t).start()}function dB(t){return v(this,null,function*(){ii(t).p_()})}function hB(t){return v(this,null,function*(){let e=ii(t);for(let n of t.O_)e.m_(n.mutations)})}function fB(t,e,n){return v(this,null,function*(){let r=t.O_.shift(),i=fv.from(r,e,n);yield OA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mh(t)})}function pB(t,e){return v(this,null,function*(){e&&ii(t).V_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return xU(s)&&s!==x.ABORTED}(i.code)){let o=r.O_.shift();ii(r).s_(),yield OA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield mh(r)}})}(t,e)),kA(t)&&FA(t)})}function VT(t,e){return v(this,null,function*(){let n=ne(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let r=ho(n);n.L_.add(3),yield Pc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield gh(n)})}function gB(t,e){return v(this,null,function*(){let n=ne(t);e?(n.L_.delete(2),yield gh(n)):e||(n.L_.add(2),yield Pc(n),n.q_.set("Unknown"))})}function ks(t){return t.K_||(t.K_=function(n,r,i){let o=ne(n);return o.w_(),new Kv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:oB.bind(null,t),Ro:sB.bind(null,t),mo:aB.bind(null,t),d_:cB.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.K_.s_(),P_(t)?N_(t):t.q_.set("Unknown")):(yield t.K_.stop(),PA(t))}))),t.K_}function ii(t){return t.U_||(t.U_=function(n,r,i){let o=ne(n);return o.w_(),new Qv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:dB.bind(null,t),mo:pB.bind(null,t),f_:hB.bind(null,t),g_:fB.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.U_.s_(),yield mh(t)):(yield t.U_.stop(),t.O_.length>0&&($("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Xv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function O_(t,e){if(dr("AsyncQueue",`${e}: ${t}`),Nc(t))return new U(x.UNAVAILABLE,`${e}: ${t}`);throw t}var eh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=fc(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var th=class{constructor(){this.W_=new ze(W.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},xs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,eh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var e_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},t_=class{constructor(){this.queries=jT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ne(n),o=i.queries;i.queries=jT(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new U(x.ABORTED,"Firestore shutting down"))}};function jT(){return new ri(t=>uA(t),hh)}function mB(t,e){return v(this,null,function*(){let n=ne(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new e_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=O_(s,`Initialization of query '${ms(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&k_(n)})}function yB(t,e){return v(this,null,function*(){let n=ne(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function vB(t,e){let n=ne(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&k_(n)}function _B(t,e,n){let r=ne(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function k_(t){t.Y_.forEach(e=>{e.next()})}var n_,UT;(UT=n_||(n_={})).ea="default",UT.Cache="cache";var r_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==n_.Cache}};var nh=class{constructor(e){this.key=e}},rh=class{constructor(e){this.key=e}},i_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=lA(e),this.Ra=new eh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new th,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),I=fh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;m&&I?m.data.isEqual(I.data)?S!==P&&(r.track({type:3,doc:I}),R=!0):this.ga(m,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(a=!0)):!m&&I?(r.track({type:0,doc:I}),R=!0):m&&!I&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(I?(s=s.add(I),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(I,S){let P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return P(I)-P(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new xs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new th,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new rh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new nh(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},o_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},s_=class{constructor(e){this.key=e,this.va=!1}},a_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ri(a=>uA(a),hh),this.Ma=new Map,this.xa=new Set,this.Oa=new ze(W.comparator),this.Na=new Map,this.La=new Dc,this.Ba={},this.ka=new Map,this.qa=bc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function wB(t,e,n=!0){return v(this,null,function*(){let r=$A(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield LA(r,e,n,!0),i})}function IB(t,e){return v(this,null,function*(){let n=$A(t);yield LA(n,e,!0,!1)})}function LA(t,e,n,r){return v(this,null,function*(){let i=yield nB(t.localStore,xn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield EB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&xA(t.remoteStore,i),a})}function EB(t,e,n,r,i){return v(this,null,function*(){t.Ka=(p,m,I)=>function(P,R,O,H){return v(this,null,function*(){let G=R.view.ma(O);G.ns&&(G=yield LT(P.localStore,R.query,!1).then(({documents:b})=>R.view.ma(b,G)));let K=H&&H.targetChanges.get(R.targetId),xe=H&&H.targetMismatches.get(R.targetId)!=null,re=R.view.applyChanges(G,P.isPrimaryClient,K,xe);return $T(P,R.targetId,re.wa),re.snapshot})}(t,p,m,I);let o=yield LT(t.localStore,e,!0),s=new i_(e,o.Ts),a=s.ma(o.documents),u=Ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);$T(t,n,l.wa);let h=new o_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function bB(t,e,n){return v(this,null,function*(){let r=ne(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!hh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield qv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&M_(r.remoteStore,i.targetId),c_(r,i.targetId)}).catch(xc))):(c_(r,i.targetId),yield qv(r.localStore,i.targetId,!0))})}function DB(t,e){return v(this,null,function*(){let n=ne(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M_(n.remoteStore,r.targetId))})}function CB(t,e,n){return v(this,null,function*(){let r=NB(t);try{let i=yield function(s,a){let u=ne(s),l=lt.now(),h=a.reduce((I,S)=>I.add(S.key),ge()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=fr(),P=ge();return u.cs.getEntries(I,h).next(R=>{S=R,S.forEach((O,H)=>{H.isValidDocument()||(P=P.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(R=>{p=R;let O=[];for(let H of a){let G=MU(H,p.get(H.key).overlayedDocument);G!=null&&O.push(new pr(H.key,G,nA(G.value.mapValue),Xr.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,O,a)}).next(R=>{m=R;let O=R.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(I,R.batchId,O)})}).then(()=>({batchId:m.batchId,changes:hA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new ze(we)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Oc(r,i.changes),yield mh(r.remoteStore)}catch(i){let o=O_(i,"Failed to persist write");n.reject(o)}})}function VA(t,e){return v(this,null,function*(){let n=ne(t);try{let r=yield XU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ce(s.va):i.removedDocuments.size>0&&(Ce(s.va),s.va=!1))}),yield Oc(n,r,e)}catch(r){yield xc(r)}})}function BT(t,e,n){let r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ne(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&k_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function TB(t,e,n){return v(this,null,function*(){let r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ze(W.comparator);s=s.insert(o,hn.newNoDocument(o,oe.min()));let a=ge().add(o),u=new qd(oe.min(),new Map,new ze(we),s,a);yield VA(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),F_(r)}else yield qv(r.localStore,e,!1).then(()=>c_(r,e,n)).catch(xc)})}function AB(t,e){return v(this,null,function*(){let n=ne(t),r=e.batch.batchId;try{let i=yield ZU(n.localStore,e);UA(n,r,null),jA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Oc(n,i)}catch(i){yield xc(i)}})}function SB(t,e,n){return v(this,null,function*(){let r=ne(t);try{let i=yield function(s,a){let u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ce(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);UA(r,e,n),jA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Oc(r,i)}catch(i){yield xc(i)}})}function jA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function UA(t,e,n){let r=ne(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function c_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||BA(t,r)})}function BA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(M_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),F_(t))}function $T(t,e,n){for(let r of n)r instanceof nh?(t.La.addReference(r.key,e),RB(t,r)):r instanceof rh?($("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||BA(t,r.key)):ee()}function RB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||($("SyncEngine","New document in limbo: "+n),t.xa.add(r),F_(t))}function F_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new W(je.fromString(e)),r=t.qa.next();t.Na.set(r,new s_(n)),t.Oa=t.Oa.insert(n,r),xA(t.remoteStore,new Ec(xn(A_(n.path)),r,"TargetPurposeLimboResolution",ZT.oe))}}function Oc(t,e,n){return v(this,null,function*(){let r=ne(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=jv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return v(this,null,function*(){let h=ne(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,m=>k.forEach(m.$i,I=>h.persistence.referenceDelegate.addReference(p,m.targetId,I)).next(()=>k.forEach(m.Ui,I=>h.persistence.referenceDelegate.removeReference(p,m.targetId,I)))))}catch(p){if(!Nc(p))throw p;$("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let I=h.os.get(m),S=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,P)}}})}(r.localStore,o))})}function MB(t,e){return v(this,null,function*(){let n=ne(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let r=yield RA(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new U(x.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oc(n,r.hs)}})}function xB(t,e){let n=ne(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function $A(t){let e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TB.bind(null,e),e.Ca.d_=vB.bind(null,e.eventManager),e.Ca.$a=_B.bind(null,e.eventManager),e}function NB(t){let e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SB.bind(null,e),e}var qT=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=ph(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return JU(this.persistence,new Bv,n.initialUser,this.serializer)}Ga(n){return new Fv(Vv.Zr,this.serializer)}Wa(n){return new zv}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var PB=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>BT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=MB.bind(null,this.syncEngine),yield gB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new t_}()}createDatastore(n){let r=ph(n.databaseInfo.databaseId),i=function(s){return new Wv(s)}(n.databaseInfo);return function(s,a,u,l){return new Yv(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new Zv(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>BT(this.syncEngine,r,0),function(){return Yd.D()?new Yd:new Hv}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new a_(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=ne(o);$("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Pc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var u_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var l_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){$("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>($("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=O_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Uy(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield RA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function zT(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield OB(t);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>VT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>VT(e.remoteStore,i)),t._onlineComponents=e})}function OB(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Uy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Es("Error using user provided cache. Falling back to memory cache: "+n),yield Uy(t,new qT)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield Uy(t,new qT);return t._offlineComponents})}function qA(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield zT(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield zT(t,new PB))),t._onlineComponents})}function kB(t){return qA(t).then(e=>e.syncEngine)}function HT(t){return v(this,null,function*(){let e=yield qA(t),n=e.eventManager;return n.onListen=wB.bind(null,e.syncEngine),n.onUnlisten=bB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DB.bind(null,e.syncEngine),n})}function zA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var GT=new Map;function HA(t,e,n){if(!n)throw new U(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FB(t,e,n,r){if(e===!0&&r===!0)throw new U(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WT(t){if(!W.isDocumentKey(t))throw new U(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KT(t){if(W.isDocumentKey(t))throw new U(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function no(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=yh(t);throw new U(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function LB(t,e){if(e<=0)throw new U(x.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var ih=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ns=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ih({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ih(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new By;switch(r.type){case"firstParty":return new Hy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=GT.get(n);r&&($("ComponentProvider","Removing Datastore"),GT.delete(n),r.terminate())}(this),Promise.resolve()}};function GA(t,e,n,r={}){var i;let o=(t=no(t,Ns))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=it.MOCK_USER;else{a=HD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new it(l)}t._authCredentials=new $y(new Od(a,u))}}var oi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Pt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ei=class t extends oi{constructor(e,n,r){super(e,n,A_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function WA(t,e,...n){if(t=nt(t),HA("collection","path",e),t instanceof Ns){let r=je.fromString(e,...n);return KT(r),new ei(t,null,r)}{if(!(t instanceof Pt||t instanceof ei))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(je.fromString(e,...n));return KT(r),new ei(t.firestore,null,r)}}function vh(t,e,...n){if(t=nt(t),arguments.length===1&&(e=kd.newId()),HA("doc","path",e),t instanceof Ns){let r=je.fromString(e,...n);return WT(r),new Pt(t,null,new W(r))}{if(!(t instanceof Pt||t instanceof ei))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(je.fromString(e,...n));return WT(r),new Pt(t.firestore,t instanceof ei?t.converter:null,new W(r))}}var oh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Jd(this,"async_queue_retry"),this.Vu=()=>{let r=jy();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=jy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=jy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new lr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return v(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nc(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Xv.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}wu(){return v(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function QT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var lo=class extends Ns{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new oh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new oh(e),this._firestoreClient=void 0,yield e}})}};function _h(t,e){let n=typeof t=="object"?t:us(),r=typeof t=="string"?t:e||"(default)",i=Xa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=zD("firestore");o&&GA(i,...o)}return i}function KA(t){if(t._terminated)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VB(t),t._firestoreClient}function VB(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Yy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new l_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Cc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Et.fromBase64String(e))}catch(n){throw new U(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Tc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var sh=class{constructor(e){this._methodName=e}};var Ac=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var Sc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var jB=/^__.*__$/,d_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new uo(e,this.data,n,this.fieldTransforms)}};function QA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var h_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ah(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QA(this.Cu)&&jB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},f_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ph(e)}Qu(e,n,r,i=!1){return new h_({Cu:e,methodName:n,qu:r,path:zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function L_(t){let e=t._freezeSettings(),n=ph(t._databaseId);return new f_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YA(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);XA("Data must be an object, but it was:",s,r);let a=JA(r,s),u,l;if(o.merge)u=new Rn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=BB(e,p,n);if(!s.contains(m))throw new U(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);qB(h,m)||h.push(m)}u=new Rn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new d_(new dn(a),u,l)}function UB(t,e,n,r=!1){return V_(n,t.Qu(r?4:3,e))}function V_(t,e){if(ZA(t=nt(t)))return XA("Unsupported field value:",e,t),JA(t,e);if(t instanceof sh)return function(r,i){if(!QA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=V_(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=lt.fromDate(r);return{timestampValue:Wd(i.serializer,o)}}if(r instanceof lt){let o=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wd(i.serializer,o)}}if(r instanceof Ac)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cc)return{bytesValue:EA(i.serializer,r._byteString)};if(r instanceof Pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:R_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return S_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${yh(r)}`)}(t,e)}function JA(t,e){let n={};return XT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(t,(r,i)=>{let o=V_(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ZA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Ac||t instanceof Cc||t instanceof Pt||t instanceof sh||t instanceof Sc)}function XA(t,e,n){if(!ZA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=yh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function BB(t,e,n){if((e=nt(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return eS(t,e);throw ah("Field path arguments must be of type string or ",t,!1,void 0,n)}var $B=new RegExp("[~\\*/\\[\\]]");function eS(t,e,n){if(e.search($B)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tc(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ah(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(x.INVALID_ARGUMENT,a+t+u)}function qB(t,e){return t.some(n=>n.isEqual(e))}var ch=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new p_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(j_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},p_=class extends ch{data(){return super.data()}};function j_(t,e){return typeof e=="string"?eS(t,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}function zB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rc=class{},Mc=class extends Rc{};function tS(t,e,...n){let r=[];e instanceof Rc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof m_).length,a=o.filter(u=>u instanceof g_).length;if(s>1||s>0&&a>0)throw new U(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var g_=class t extends Mc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return iS(e._query,n),new oi(e.firestore,e.converter,uv(e._query,n))}_parse(e){let n=L_(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){JT(p,h);let I=[];for(let S of p)I.push(YT(u,o,S));m={arrayValue:{values:I}}}else m=YT(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||JT(p,h),m=UB(a,s,p,h==="in"||h==="not-in");return Je.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var m_=class t extends Rc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)iS(s,u),s=uv(s,u)}(e._query,n),new oi(e.firestore,e.converter,uv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var y_=class t extends Mc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new U(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new so(o,s)}(e._query,this._field,this._direction);return new oi(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ni(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function nS(t,e="asc"){let n=e,r=j_("orderBy",t);return y_._create(r,n)}var v_=class t extends Mc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new oi(e.firestore,e.converter,Bd(e._query,this._limit,this._limitType))}};function rS(t){return LB("limit",t),v_._create("limit",t,"F")}function YT(t,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new U(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cA(e)&&n.indexOf("/")!==-1)throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(je.fromString(n));if(!W.isDocumentKey(r))throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wT(t,new W(r))}if(n instanceof Pt)return wT(t,n._key);throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(n)}.`)}function JT(t,e){if(!Array.isArray(t)||t.length===0)throw new U(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iS(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var __=class{convertValue(e,n="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Os(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Fe(s.doubleValue));return new Sc(o)}convertGeoPoint(e){return new Ac(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=b_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_c(e));default:return null}}convertTimestamp(e){let n=hr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=je.fromString(e);Ce(SA(r));let i=new jd(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||dr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function oS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var to=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},uh=class extends ch{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Is(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(j_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Is=class extends uh{data(e={}){return super.data(e)}},w_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new to(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Is(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Is(i._firestore,i._userDataWriter,a.doc.key,a.doc,new to(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Is(i._firestore,i._userDataWriter,a.doc.key,a.doc,new to(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:HB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function HB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}var lh=class extends __{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}};function U_(t,e,n){t=no(t,Pt);let r=no(t.firestore,lo),i=oS(t.converter,e,n);return aS(r,[YA(L_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xr.none())])}function sS(t,e){let n=no(t.firestore,lo),r=vh(t),i=oS(t.converter,e);return aS(n,[YA(L_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xr.exists(!1))]).then(()=>r)}function gr(t,...e){var n,r,i;t=nt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||QT(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(QT(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Pt)l=no(t.firestore,lo),h=A_(t._key.path),u={next:p=>{e[s]&&e[s](GB(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=no(t,oi);l=no(p.firestore,lo),h=p._query;let m=new lh(l);u={next:I=>{e[s]&&e[s](new w_(l,m,p,I))},error:e[s+1],complete:e[s+2]},zB(t._query)}return function(m,I,S,P){let R=new u_(P),O=new r_(I,R,S);return m.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return mB(yield HT(m),O)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return yB(yield HT(m),O)}))}}(KA(l),h,a,u)}function aS(t,e){return function(r,i){let o=new lr;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return CB(yield kB(r),i,o)})),o.promise}(KA(t),e)}function GB(t,e,n){let r=n.docs.get(e._key),i=new lh(t);return new uh(t,i,e._key,r,new to(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ps=i})(Wr),Gr(new Xt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new lo(new qy(r.getProvider("auth-internal")),new Wy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xe(mT,"4.7.3",e),Xe(mT,"4.7.3","esm2017")})();var Ht=class{constructor(e){return e}},cS="firestore",B_=class{constructor(){return ec(cS)}};var $_=new q("angularfire2.firestore-instances");function WB(t,e){let n=id(cS,t,e);return n&&new Ht(n)}function KB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ht(r)}}var QB={provide:B_,deps:[[new At,$_]]},YB={provide:Ht,useFactory:WB,deps:[[new At,$_],or]};function uS(t,...e){return Xe("angularfire",Wi.full,"fst"),Kt([YB,QB,{provide:$_,useFactory:KB(t),multi:!0,deps:[De,Yt,hs,Ki,[new At,lc],[new At,ds],...e]}])}var si=ln(sS,!0);var en=ln(WA,!0);var lS=ln(_h,!0);var ai=ln(rS,!0);var ci=ln(nS,!0);var ui=ln(tS,!0);function JB(t,e){if(t&1){let n=vt();M(0,"button",21),Me("click",function(){let i=Le(n).$implicit,o=Oe();return Ve(o.seleccionarLetra(i))}),L(1),N()}if(t&2){let n=e.$implicit;j(),Ne(" ",n," ")}}function ZB(t,e){if(t&1&&(M(0,"div",22)(1,"h4"),L(2,"Letras seleccionadas:"),N(),M(3,"p"),L(4),N()()),t&2){let n=Oe();j(4),Ut(n.letrasSeleccionadas.join(", "))}}function XB(t,e){if(t&1){let n=vt();M(0,"div",23)(1,"p"),L(2),N(),M(3,"button",24),Me("click",function(){Le(n);let i=Oe();return Ve(i.getRandomWord())}),L(4,"VOLVER A JUGAR"),N()()}if(t&2){let n=Oe();j(2),Ut(n.mensajeResultado)}}function e$(t,e){t&1&&_e(0,"img",25)}function t$(t,e){t&1&&_e(0,"img",26)}function n$(t,e){t&1&&_e(0,"img",27)}function r$(t,e){t&1&&_e(0,"img",28)}function i$(t,e){t&1&&_e(0,"img",29)}function o$(t,e){t&1&&_e(0,"img",30)}function s$(t,e){t&1&&_e(0,"img",31)}function a$(t,e){if(t&1&&(M(0,"li"),L(1),N()),t&2){let n=e.$implicit;j(),Zn(" ",n.nombre," - ",n.puntos," puntos ")}}var dS=(()=>{let e=class e{constructor(r){this.http=r,this.letrasSeleccionadas=[],this.palabraSecreta=null,this.intentosRestantes=6,this.juegoTerminado=!1,this.palabraCargada=!1,this.mensajeResultado="",this.puntos=0,this.db=V(Ht),this.ranking=[],this.mejoresJugadores=[],this.getRandomWord(),this.obtenerRanking()}obtenerCorreoUsuario(){let i=rt().currentUser;return i&&i.email?i.email:null}guardarResultado(){let r=this.obtenerCorreoUsuario();r?si(en(this.db,"ranking"),{correo:r,score:this.puntos,fecha:new Date}).then(()=>{console.log("Resultado guardado"),this.obtenerRanking()}).catch(i=>{console.error("Error al guardar el resultado: ",i),this.mensajeResultado="Error al guardar el resultado. Intenta nuevamente."}):(console.error("No hay usuario autenticado"),this.mensajeResultado="No se pudo obtener el correo del usuario. Aseg\xFArate de estar logueado.")}obtenerRanking(){let r=ui(en(this.db,"ranking"),ci("score","desc"),ai(5));gr(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntos:s.score})})},i=>{console.error("Error al obtener ranking: ",i),this.mensajeResultado="Error al obtener el ranking. Intenta nuevamente."})}finalizarJuego(){this.juegoTerminado&&this.guardarResultado()}getRandomWord(){this.palabraCargada=!1,this.http.get("https://clientes.api.greenborn.com.ar/public-random-word").subscribe(r=>{if(Array.isArray(r)&&r.length>0){let i=r[0].toUpperCase();this.contieneLetrasConAcento(i)||this.contieneDiacriticos(i)||this.contieneEspacios(i)?this.getRandomWord():(this.palabraSecreta=i,this.resetGame())}console.log(this.palabraSecreta)},r=>{console.error("Error al obtener la palabra secreta",r)})}contieneLetrasConAcento(r){return/[]/.test(r)}contieneDiacriticos(r){return/[]/.test(r)}contieneEspacios(r){return r.includes(" ")}resetGame(){this.letrasSeleccionadas=[],this.intentosRestantes=6,this.juegoTerminado=!1,this.palabraCargada=!0,this.mensajeResultado=""}seleccionarLetra(r){!this.letrasSeleccionadas.includes(r)&&!this.juegoTerminado&&this.palabraCargada&&(this.letrasSeleccionadas.push(r),this.palabraSecreta&&!this.palabraSecreta.includes(r)&&(this.intentosRestantes--,this.intentosRestantes===0&&(this.juegoTerminado=!0,this.mensajeResultado="PERDISTE. La palabra era: "+this.palabraSecreta,this.puntos=0)),this.haGanado()&&(this.juegoTerminado=!0,this.mensajeResultado="\xA1EXCELENTE! Sumaste 5 puntos",this.puntos+=5),this.juegoTerminado&&this.finalizarJuego())}obtenerPalabraConGuiones(){return this.palabraSecreta?this.palabraSecreta.split("").map(r=>this.letrasSeleccionadas.includes(r)?r:"_").join(" "):""}haGanado(){return this.palabraSecreta?.split("").every(r=>this.letrasSeleccionadas.includes(r))}};e.\u0275fac=function(i){return new(i||e)(Y(Vi))},e.\u0275cmp=$e({type:e,selectors:[["app-ahorcado"]],standalone:!0,features:[qe],decls:36,vars:14,consts:[[1,"ahorcado-container"],[1,"contenido-flex"],[1,"juego"],[1,"palabra"],[1,"letras"],[1,"letras-grid"],[3,"click",4,"ngFor","ngForOf"],["class","letras-seleccionadas",4,"ngIf"],["class","mensaje-final",4,"ngIf"],[1,"intentos"],[1,"puntos"],[1,"image-container"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerda.png?alt=media&token=a0596d0d-48de-4d9e-985d-87247c2d75b2","alt","Cuerda",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cabeza.png?alt=media&token=281c80bd-b62e-499a-8310-00ed663f2de9","alt","Cabeza",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/torso.png?alt=media&token=006bbae4-968f-43b5-a025-615093cdb726","alt","Torso",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo1.png?alt=media&token=80b92b68-258e-4304-8c66-2b17adb75ace","alt","Brazo Izquierdo",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo2.png?alt=media&token=7ff5730d-f173-4783-84fe-246986604381","alt","Brazo Derecho",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/pierna1.png?alt=media&token=1a8bcd76-e339-47cd-9e54-cb29fa68844d","alt","Pierna Izquierda",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerpo.png?alt=media&token=d2e4a842-19c7-4d3e-b6a6-003c0a3e1377","alt","Cuerpo Entero",4,"ngIf"],[1,"ranking-container"],[4,"ngFor","ngForOf"],[3,"click"],[1,"letras-seleccionadas"],[1,"mensaje-final"],[1,"btn-reintentar",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerda.png?alt=media&token=a0596d0d-48de-4d9e-985d-87247c2d75b2","alt","Cuerda"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cabeza.png?alt=media&token=281c80bd-b62e-499a-8310-00ed663f2de9","alt","Cabeza"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/torso.png?alt=media&token=006bbae4-968f-43b5-a025-615093cdb726","alt","Torso"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo1.png?alt=media&token=80b92b68-258e-4304-8c66-2b17adb75ace","alt","Brazo Izquierdo"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo2.png?alt=media&token=7ff5730d-f173-4783-84fe-246986604381","alt","Brazo Derecho"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/pierna1.png?alt=media&token=1a8bcd76-e339-47cd-9e54-cb29fa68844d","alt","Pierna Izquierda"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerpo.png?alt=media&token=d2e4a842-19c7-4d3e-b6a6-003c0a3e1377","alt","Cuerpo Entero"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"h2"),L(2,"JUEGO DEL AHORCADO"),N(),M(3,"div",1)(4,"div",2)(5,"div")(6,"h4"),L(7,"Adivina la palabra:"),N(),M(8,"p",3),L(9),N()(),M(10,"div",4)(11,"h4"),L(12,"Selecciona una letra:"),N(),M(13,"div",5),Re(14,JB,2,1,"button",6),N()(),Re(15,ZB,5,1,"div",7)(16,XB,5,1,"div",8),M(17,"div",9)(18,"h4"),L(19),N()(),M(20,"div",10)(21,"h4"),L(22),N()(),M(23,"div",11),Re(24,e$,1,0,"img",12)(25,t$,1,0,"img",13)(26,n$,1,0,"img",14)(27,r$,1,0,"img",15)(28,i$,1,0,"img",16)(29,o$,1,0,"img",17)(30,s$,1,0,"img",18),N()(),M(31,"div",19)(32,"h3"),L(33,"TOP 5:"),N(),M(34,"ul"),Re(35,a$,2,2,"li",20),N()()()()),i&2&&(j(9),Ut(o.obtenerPalabraConGuiones()),j(5),ae("ngForOf","ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")),j(),ae("ngIf",o.letrasSeleccionadas.length>0),j(),ae("ngIf",o.juegoTerminado),j(3),Ne("Intentos restantes: ",o.intentosRestantes,""),j(3),Ne("Puntos: ",o.puntos,""),j(2),ae("ngIf",o.intentosRestantes===6),j(),ae("ngIf",o.intentosRestantes===5),j(),ae("ngIf",o.intentosRestantes===4),j(),ae("ngIf",o.intentosRestantes===3),j(),ae("ngIf",o.intentosRestantes===2),j(),ae("ngIf",o.intentosRestantes===1),j(),ae("ngIf",o.intentosRestantes===0),j(5),ae("ngForOf",o.mejoresJugadores))},dependencies:[ct,jr,Nt,Zo],styles:[".ahorcado-container[_ngcontent-%COMP%]{text-align:center;max-width:1200px;margin:80px auto;padding:20px;border:2px solid #4CAF50;border-radius:10px;background-color:#f9f9f9;font-family:Roboto,sans-serif}.contenido-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-top:20px;gap:40px}.juego[_ngcontent-%COMP%]{flex:1}.ranking-container[_ngcontent-%COMP%]{flex-basis:300px;border:2px solid #ccc;padding:20px;background-color:#fafafa;border-radius:10px;text-align:left;box-shadow:0 4px 8px #0000001a}.ranking-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;font-size:20px}.ranking-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.ranking-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;font-size:18px;border-bottom:1px solid #ddd}.palabra[_ngcontent-%COMP%]{font-size:24px;letter-spacing:10px;font-weight:700}.letras-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(13,1fr);gap:10px;margin-top:10px}.letras-seleccionadas[_ngcontent-%COMP%]{margin-top:20px}.mensaje-final[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;color:#d9534f}.btn-reintentar[_ngcontent-%COMP%]{background-color:#5cb85c;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer}.btn-reintentar[_ngcontent-%COMP%]:hover{background-color:#4cae4c}.intentos[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}.image-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:auto}"]});let t=e;return t})();function c$(t,e){if(t&1&&(M(0,"li"),L(1),N()),t&2){let n=e.$implicit;j(),Zn(" ",n.nombre," - ",n.puntos," ")}}var hS=(()=>{let e=class e{constructor(){this.puntaje=0,this.mensaje="",this.ranking=[],this.mejoresJugadores=[],this.db=V(Ht),this.cartas=[{valor:1,palo:"Basto",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F1basto.jpg?alt=media&token=69375ad9-f781-4c08-90a5-9a30800bb040"},{valor:2,palo:"Oro",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F2oro.jpg?alt=media&token=78131d5e-4b83-4954-9bc3-d1a0a0667fc2"},{valor:3,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F3espada.jpg?alt=media&token=8b9ed865-7f8d-4677-863d-d07f26acf165"},{valor:4,palo:"Copa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F4copa.jpg?alt=media&token=5e444ece-f667-4d42-a354-31c2e9b80969"},{valor:5,palo:"Basto",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F5basto.jpg?alt=media&token=ecc1aa6d-b9bf-400a-abc7-876c3cbefd03"},{valor:6,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F6espada.jpg?alt=media&token=32911066-9563-423e-920c-66352d1cee4f"},{valor:7,palo:"Oro",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F7oro.jpg?alt=media&token=9b64dc71-f0c8-43f3-8229-e89276ddfd66"},{valor:8,palo:"Copa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F8copa.jpg?alt=media&token=661df783-aafc-4616-ac47-384802ac36ca"},{valor:9,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F9espada.jpg?alt=media&token=88fe1c8a-f790-45c0-8c04-2dca581daf37"},{valor:10,palo:"Basto",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F10basto.jpg?alt=media&token=e18705a0-ad73-40b4-99ee-aafb94b34a76"},{valor:11,palo:"Copa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F11copa.jpg?alt=media&token=f44e71d8-3a4c-4e05-9c8e-654077878c97"},{valor:12,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F12espada.jpg?alt=media&token=3e38ce2e-a622-4841-8323-ba949ae76bd0"}],this.iniciarJuego(),this.obtenerRanking()}iniciarJuego(){this.cartaActual=this.generarCarta(),this.siguienteCarta=this.generarCarta()}generarCarta(){let r;do r=this.cartas[Math.floor(Math.random()*this.cartas.length)];while(r===this.cartaActual);return r}verificarRespuesta(r){r==="mayor"&&this.siguienteCarta.valor>this.cartaActual.valor||r==="menor"&&this.siguienteCarta.valor<this.cartaActual.valor?(this.mensaje="\xA1CORRECTO! SEGUI SUMANDO PUNTOS",this.puntaje++):(this.mensaje=`\xA1NOO! La carta era: ${this.siguienteCarta.valor} de ${this.siguienteCarta.palo}`,this.guardarResultado()),this.cartaActual=this.siguienteCarta,this.siguienteCarta=this.generarCarta()}obtenerCorreoUsuario(){let i=rt().currentUser;return i&&i.email?i.email:null}guardarResultado(){let r=this.obtenerCorreoUsuario();r?si(en(this.db,"ranking_mayor_o_menor"),{correo:r,score:this.puntaje,fecha:new Date}).then(()=>{console.log("Resultado guardado"),this.obtenerRanking()}).catch(i=>{console.error("Error al guardar el resultado: ",i),this.mensaje="Error al guardar el resultado. Intenta nuevamente."}):(console.error("No hay usuario autenticado"),this.mensaje="No se pudo obtener el correo del usuario. Aseg\xFArate de estar logueado.")}obtenerRanking(){let r=ui(en(this.db,"ranking_mayor_o_menor"),ci("score","desc"),ai(5));gr(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntos:s.score})})},i=>{console.error("Error al obtener ranking: ",i),this.mensaje="Error al obtener el ranking. Intenta nuevamente."})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=$e({type:e,selectors:[["app-mayor-o-menor"]],standalone:!0,features:[qe],decls:21,vars:4,consts:[[1,"mayor-o-menor-container"],[1,"contenido-flex"],[1,"juego"],[1,"carta-actual"],["alt","Carta Actual",3,"src"],[1,"puntaje"],[1,"botones"],[1,"mayor",3,"click"],[1,"menor",3,"click"],[1,"mensaje-final"],[1,"ranking-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"h2"),L(2,"MAYOR O MENOR"),N(),M(3,"div",1)(4,"div",2)(5,"div",3),_e(6,"img",4),N(),M(7,"div",5),L(8),N(),M(9,"div",6)(10,"button",7),Me("click",function(){return o.verificarRespuesta("mayor")}),L(11,"\u2B06"),N(),M(12,"button",8),Me("click",function(){return o.verificarRespuesta("menor")}),L(13,"\u2B07"),N()(),M(14,"div",9),L(15),N()(),M(16,"div",10)(17,"h3"),L(18,"TOP 5:"),N(),M(19,"ul"),Re(20,c$,2,2,"li",11),N()()()()),i&2&&(j(6),ae("src",o.cartaActual.imagen,Pi),j(2),Ne(" Puntaje: ",o.puntaje," "),j(7),Ne(" ",o.mensaje," "),j(5),ae("ngForOf",o.mejoresJugadores))},dependencies:[ct,jr],styles:[".mayor-o-menor-container[_ngcontent-%COMP%]{text-align:center;max-width:600px;margin:100px auto;padding:20px;border:2px solid #4CAF50;border-radius:10px;background-color:#fff;min-height:400px;min-width:400px;font-family:Roboto,sans-serif;position:relative}.carta-actual[_ngcontent-%COMP%]{margin:20px 0}.carta-actual[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:auto}.botones[_ngcontent-%COMP%]{margin:20px 0}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;margin:0 10px;font-size:30px}.menor[_ngcontent-%COMP%]{background-color:#d71b18}.mayor[_ngcontent-%COMP%]{background-color:#05a305}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0a0000}.puntaje[_ngcontent-%COMP%]{margin-top:20px;font-size:24px;font-weight:700}.mensaje-final[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;color:#d9534f;height:30px;overflow:hidden}"]});let t=e;return t})();function u$(t,e){if(t&1&&(M(0,"div",9),_e(1,"img",10),M(2,"h2",11),L(3),N()()),t&2){let n=Oe();j(),_g("alt","Imagen de ",n.nombreCategoria,""),ae("src",n.imagenCategoria,Pi),j(2),Ut(n.nombreCategoria)}}function l$(t,e){if(t&1){let n=vt();M(0,"button",12),Me("click",function(){let i=Le(n).$implicit,o=Oe();return Ve(o.verificarRespuesta(i))}),L(1),N()}if(t&2){let n=e.$implicit;j(),Ne(" ",n," ")}}function d$(t,e){if(t&1&&(M(0,"li"),L(1),N()),t&2){let n=e.$implicit;j(),Zn(" ",n.nombre," - ",n.puntaje," puntos ")}}var fS=(()=>{let e=class e{constructor(){this.preguntas=[],this.preguntaActual=null,this.respuestas=[],this.puntaje=0,this.mensaje="",this.imagenCategoria="",this.nombreCategoria="",this.apiKey="$2b$12$aOPN7wbnS2sS80QBrb5Jx.HGhQUFe8THWWRyUR6OAmXO7.d0Tk0u6",this.mejoresJugadores=[],this.db=V(Ht),this.preguntasRespondidas=[]}ngOnInit(){this.cargarPreguntas(),this.obtenerRanking()}cargarPreguntas(){return v(this,null,function*(){try{let r=yield fetch("https://api.quiz-contest.xyz/questions?limit=10&page=1&category=sports%26leisure",{method:"GET",headers:{Authorization:`${this.apiKey}`}}),i=yield fetch("https://api.quiz-contest.xyz/questions?limit=10&page=1&category=arts%26literature",{method:"GET",headers:{Authorization:`${this.apiKey}`}}),o=yield fetch("https://api.quiz-contest.xyz/questions?limit=10&page=1&category=geography",{method:"GET",headers:{Authorization:`${this.apiKey}`}});if(!r.ok||!i.ok||!o.ok)throw new Error("Error al cargar preguntas de una o m\xE1s categor\xEDas");let s=yield r.json(),a=yield i.json(),u=yield o.json();this.preguntas=[...s.questions,...a.questions,...u.questions],this.preguntas=this.mezclarPreguntas(this.preguntas),this.cambiarPregunta()}catch(r){this.mensaje=`Error al cargar preguntas: ${r instanceof Error?r.message:"Error desconocido"}`}})}mezclarPreguntas(r){return r.sort(()=>Math.random()-.5)}cambiarPregunta(){let r=this.preguntas.filter(i=>!this.preguntasRespondidas.includes(i.id));if(r.length>0){let i=Math.floor(Math.random()*r.length),o=r[i];this.preguntasRespondidas.push(o.id),this.preguntaActual=o,this.respuestas=[this.preguntaActual.correctAnswers,...this.preguntaActual.incorrectAnswers],this.respuestas=this.mezclarRespuestas(this.respuestas);let s=this.obtenerNombreCategoriaLegible(this.preguntaActual.category);this.nombreCategoria=s.nombre,this.imagenCategoria=s.imagen}else this.mensaje="\xA1No hay m\xE1s preguntas disponibles!"}mezclarRespuestas(r){return r.sort(()=>Math.random()-.5)}obtenerNombreCategoriaLegible(r){return{"sports&leisure":{nombre:"Deportes y Ocio",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fdeportes.jpg?alt=media&token=b382f7e5-8b75-4607-bb8b-3910999523a8"},"arts&literature":{nombre:"Artes y Literatura",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fartylit.jpg?alt=media&token=3608bb12-a4e5-4301-8907-0571d2a575e8"},geography:{nombre:"Geograf\xEDa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fgeo.jpg?alt=media&token=f026fe5b-6e53-48d4-aef8-9240035735b8"}}[r]||{nombre:r,imagen:"URL_IMAGEN_DEFAULT"}}verificarRespuesta(r){r===this.preguntaActual.correctAnswers?(this.puntaje++,this.mensaje="\xA1Correcto! Tu puntaje es: "+this.puntaje):(this.mensaje="Incorrecto. La respuesta correcta era: "+this.preguntaActual.correctAnswers,this.guardarPuntaje(),this.puntaje=0),this.cambiarPregunta()}onImageError(r){let i=r.target;i.src="https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fdefault.jpg?alt=media"}guardarPuntaje(){return v(this,null,function*(){let o=rt().currentUser?.email||"An\xF3nimo";try{yield si(en(this.db,"ranking_preguntados"),{correo:o,puntaje:this.puntaje,fecha:new Date}),this.obtenerRanking()}catch(s){console.error("Error al guardar el puntaje: ",s),this.mensaje="Error al guardar el puntaje. Intenta nuevamente."}})}obtenerRanking(){let r=ui(en(this.db,"ranking_preguntados"),ci("puntaje","desc"),ai(5));gr(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntaje:s.puntaje})})},i=>{console.error("Error al obtener ranking: ",i),this.mensaje="Error al obtener el ranking. Intenta nuevamente."})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=$e({type:e,selectors:[["app-preguntados"]],standalone:!0,features:[qe],decls:15,vars:6,consts:[[1,"preguntados-container"],["class","categoria-info",4,"ngIf"],[1,"pregunta"],[1,"respuestas-container"],["class","respuesta-btn",3,"click",4,"ngFor","ngForOf"],[1,"puntos"],[1,"mensaje"],[1,"ranking-container"],[4,"ngFor","ngForOf"],[1,"categoria-info"],[1,"categoria-imagen",3,"src","alt"],[1,"categoria"],[1,"respuesta-btn",3,"click"]],template:function(i,o){i&1&&(M(0,"div",0),Re(1,u$,4,4,"div",1),M(2,"h2",2),L(3),N(),M(4,"div",3),Re(5,l$,2,1,"button",4),N(),M(6,"p",5),L(7),N(),M(8,"p",6),L(9),N(),M(10,"div",7)(11,"h3"),L(12,"TOP 5:"),N(),M(13,"ul"),Re(14,d$,2,2,"li",8),N()()()),i&2&&(j(),ae("ngIf",o.nombreCategoria&&o.imagenCategoria),j(2),Ut(o.preguntaActual==null?null:o.preguntaActual.question),j(2),ae("ngForOf",o.respuestas),j(2),Ne("Puntaje: ",o.puntaje,""),j(2),Ut(o.mensaje),j(5),ae("ngForOf",o.mejoresJugadores))},dependencies:[ct,jr,Nt],styles:[".preguntados-container[_ngcontent-%COMP%]{text-align:center;max-width:900px;margin:150px auto;padding:20px;border:2px solid #007bff;border-radius:10px;background-color:#f9f9f9;font-family:Roboto,sans-serif}.pregunta[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}.respuestas-container[_ngcontent-%COMP%]{margin-top:20px}.respuesta-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;margin:5px}.respuesta-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.puntos[_ngcontent-%COMP%]{margin-top:20px;font-size:18px;font-weight:700}.mensaje[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;color:#d9534f}.categoria[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:#4caf50}.categoria-imagen[_ngcontent-%COMP%]{width:400px;height:auto}"]});let t=e;return t})();function h$(t,e){if(t&1&&(M(0,"div")(1,"h4"),L(2,"Palabra desordenada:"),N(),M(3,"p",14),L(4),N()()),t&2){let n=Oe();j(4),Ut(n.palabraMezclada.join(""))}}function f$(t,e){if(t&1){let n=vt();M(0,"button",15),Me("click",function(){let i=Le(n).$implicit,o=Oe();return Ve(o.seleccionarLetra(i))}),L(1),N()}if(t&2){let n=e.$implicit,r=Oe();Wo("letra-seleccionada",r.letrasOrdenadas.includes(n)||r.letrasBloqueadas.has(n)),j(),Ne(" ",n," ")}}function p$(t,e){if(t&1){let n=vt();M(0,"div",16)(1,"h4"),L(2,"Letras ordenadas:"),N(),M(3,"p"),L(4),N(),M(5,"button",17),Me("click",function(){Le(n);let i=Oe();return Ve(i.borrarUltimaLetra())}),L(6,"Borrar \xFAltima"),N()()}if(t&2){let n=Oe();j(4),Ut(n.letrasOrdenadas.join(""))}}function g$(t,e){if(t&1&&(M(0,"div",18)(1,"p"),L(2),N()()),t&2){let n=Oe();j(2),Ut(n.mensajeResultado)}}function m$(t,e){if(t&1&&(M(0,"li"),L(1),N()),t&2){let n=e.$implicit;j(),Zn(" ",n.nombre," - ",n.puntos," puntos ")}}var pS=(()=>{let e=class e{constructor(r){this.http=r,this.palabraOriginal=null,this.palabraMezclada=[],this.letrasOrdenadas=[],this.letrasBloqueadas=new Set,this.puntos=0,this.mensajeResultado="",this.mejoresJugadores=[],this.bloqueado=!1,this.botonListoHabilitado=!1,this.db=V(Ht),this.getRandomWord(),this.obtenerRanking()}getRandomWord(){this.botonListoHabilitado=!1,this.http.get("https://clientes.api.greenborn.com.ar/public-random-word").subscribe(r=>{if(Array.isArray(r)&&r.length>0){let i=r[0].toUpperCase();!this.contieneLetrasInvalidas(i)&&!this.comprobarLetrasRepetidas(i)?(this.palabraOriginal=i,this.palabraMezclada=this.mezclarLetras(i).split(""),this.botonListoHabilitado=!0):(console.warn("Palabra de la API con acento o dieresis, buscando otra..."),this.getRandomWord())}},r=>{console.error("Error al obtener la palabra",r),this.mensajeResultado="Error al obtener una nueva palabra. Intenta nuevamente."})}seleccionarLetra(r){this.bloqueado||this.palabraOriginal&&!this.letrasOrdenadas.includes(r)&&(this.letrasOrdenadas.push(r),this.letrasBloqueadas.add(r))}contieneLetrasInvalidas(r){return/[ ]/.test(r)}mezclarLetras(r){return r.split("").sort(()=>Math.random()-.5).join("")}borrarUltimaLetra(){let r=this.letrasOrdenadas.pop();r&&this.letrasBloqueadas.delete(r)}verificarOrden(){this.bloqueado||(this.letrasOrdenadas.join("")===this.palabraOriginal?(this.mensajeResultado="\xA1Correcto! Ganaste 5 puntos.",this.puntos+=5,this.guardarResultado()):(this.mensajeResultado=`Incorrecto. La palabra correcta era: ${this.palabraOriginal}`,this.puntos=0),this.reiniciarJuego())}guardarResultado(){let o=rt().currentUser?.email||"An\xF3nimo";si(en(this.db,"ranking_word_game"),{correo:o,score:this.puntos,fecha:new Date}).then(()=>{this.obtenerRanking()}).catch(s=>{console.error("Error al guardar el resultado: ",s),this.mensajeResultado="Error al guardar el resultado. Intenta nuevamente."})}obtenerRanking(){let r=ui(en(this.db,"ranking_word_game"),ci("score","desc"),ai(5));gr(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntos:s.score})})},i=>{console.error("Error al obtener ranking: ",i),this.mensajeResultado="Error al obtener el ranking. Intenta nuevamente."})}reiniciarJuego(){this.letrasOrdenadas=[],this.letrasBloqueadas.clear(),this.getRandomWord()}comprobarLetrasRepetidas(r){let i=new Set;for(let o of r){if(i.has(o))return!0;i.add(o)}return!1}};e.\u0275fac=function(i){return new(i||e)(Y(Vi))},e.\u0275cmp=$e({type:e,selectors:[["app-word-game"]],standalone:!0,features:[qe],decls:24,vars:7,consts:[[1,"word-game-container"],[1,"contenido-flex"],[1,"juego"],[4,"ngIf"],[1,"letras"],[1,"letras-grid"],[3,"letra-seleccionada","click",4,"ngFor","ngForOf"],["class","letras-seleccionadas",4,"ngIf"],[1,"acciones"],[1,"btn-listo",3,"click","disabled"],["class","mensaje-final",4,"ngIf"],[1,"puntos"],[1,"ranking-container"],[4,"ngFor","ngForOf"],[1,"palabra"],[3,"click"],[1,"letras-seleccionadas"],[1,"btn-borrar",3,"click"],[1,"mensaje-final"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"h2"),L(2,"ACOMOD\xC1 LA PALABRA"),N(),M(3,"div",1)(4,"div",2),Re(5,h$,5,1,"div",3),M(6,"div",4)(7,"h4"),L(8,"Selecciona el orden correcto:"),N(),M(9,"div",5),Re(10,f$,2,3,"button",6),N(),Re(11,p$,7,1,"div",7),M(12,"div",8)(13,"button",9),Me("click",function(){return o.verificarOrden()}),L(14," Listo "),N()(),Re(15,g$,3,1,"div",10),M(16,"div",11)(17,"h4"),L(18),N()()()(),M(19,"div",12)(20,"h3"),L(21,"TOP 5:"),N(),M(22,"ul"),Re(23,m$,2,2,"li",13),N()()()()),i&2&&(j(5),ae("ngIf",o.palabraMezclada),j(5),ae("ngForOf",o.palabraMezclada),j(),ae("ngIf",o.letrasOrdenadas.length>0),j(2),ae("disabled",!o.botonListoHabilitado),j(2),ae("ngIf",o.mensajeResultado),j(3),Ne("Puntos: ",o.puntos,""),j(5),ae("ngForOf",o.mejoresJugadores))},dependencies:[ct,jr,Nt,Zo],styles:[".word-game-container[_ngcontent-%COMP%]{text-align:center;max-width:1000px;margin:130px auto;padding:40px;border:3px solid #4CAF50;border-radius:20px;background-color:#f9f9f9;font-family:Roboto,sans-serif;box-shadow:0 8px 16px #0003}.contenido-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:40px}.juego[_ngcontent-%COMP%]{flex:1}.ranking-container[_ngcontent-%COMP%]{flex-basis:300px;border:2px solid #ccc;padding:20px;background-color:#fafafa;border-radius:10px;text-align:left;box-shadow:0 4px 8px #0000001a}.ranking-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;font-size:20px}.ranking-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.ranking-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;font-size:18px;border-bottom:1px solid #ddd}.palabra[_ngcontent-%COMP%]{font-size:36px;letter-spacing:15px;font-weight:700;color:#333;margin-bottom:30px}.letras-grid[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px;margin-top:20px}.letras-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:26px;padding:12px;border:2px solid #000000;border-radius:5px;cursor:pointer;background-color:#c4c4c4;transition:background-color .3s ease}.letra-seleccionada[_ngcontent-%COMP%]{background-color:#012d03;color:#fff;opacity:.6;cursor:not-allowed}.btn-listo[_ngcontent-%COMP%]{background-color:#157915;color:#fff;padding:10px 30px;font-size:20px;border:none;border-radius:8px;cursor:pointer;margin:10px;transition:background-color .3s ease}.btn-listo[_ngcontent-%COMP%]:hover{background-color:#050}.btn-borrar[_ngcontent-%COMP%]{background-color:#901717;color:#fff;padding:10px 30px;font-size:20px;border:none;border-radius:8px;cursor:pointer;margin:10px;transition:background-color .3s ease}.btn-borrar[_ngcontent-%COMP%]:hover{background-color:#500}.mensaje-final[_ngcontent-%COMP%]{margin-top:30px;font-size:24px;color:#d9534f}.puntos[_ngcontent-%COMP%]{margin-top:30px;font-size:22px;font-weight:700;color:#000}"]});let t=e;return t})();var gS=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:jD},{path:"about",component:VD},{path:"ahorcado",component:dS},{path:"mayor-menor",component:hS},{path:"preguntados",component:fS},{path:"word-game",component:pS},{path:"**",component:UD}];var mS={providers:[LD(gS),gC(()=>mC({projectId:"salajuegos-bartel",appId:"1:500772714952:web:203ffc93567f0feb75e8fd",storageBucket:"salajuegos-bartel.appspot.com",apiKey:"AIzaSyDwWtnrBJsAhV_bpBgDDtJOH4ApwmFHfVw",authDomain:"salajuegos-bartel.firebaseapp.com",messagingSenderId:"500772714952"})),hT(()=>fT()),uS(()=>lS())]};var CS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Y(Or),Y(Jt))},e.\u0275dir=et({type:e});let t=e;return t})(),y$=(()=>{let e=class e extends CS{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ho(e)))(o||e)}})(),e.\u0275dir=et({type:e,features:[Jn]});let t=e;return t})(),TS=new q("");var v$={provide:TS,useExisting:xi(()=>Vs),multi:!0};function _$(){let t=tr()?tr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var w$=new q(""),Vs=(()=>{let e=class e extends CS{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!_$())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Or),Y(Jt),Y(w$,8))},e.\u0275dir=et({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Me("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Da([v$]),Jn]});let t=e;return t})();function I$(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var z_=new q(""),AS=new q("");function E$(t){return I$(t.value)?{required:!0}:null}function yS(t){return null}function SS(t){return t!=null}function RS(t){return ki(t)?ke(t):t}function MS(t){let e={};return t.forEach(n=>{e=n!=null?B(B({},e),n):e}),Object.keys(e).length===0?null:e}function xS(t,e){return e.map(n=>n(t))}function b$(t){return!t.validate}function NS(t){return t.map(e=>b$(e)?e:n=>e.validate(n))}function D$(t){if(!t)return null;let e=t.filter(SS);return e.length==0?null:function(n){return MS(xS(n,e))}}function H_(t){return t!=null?D$(NS(t)):null}function C$(t){if(!t)return null;let e=t.filter(SS);return e.length==0?null:function(n){let r=xS(n,e).map(RS);return Ef(r).pipe(se(MS))}}function G_(t){return t!=null?C$(NS(t)):null}function vS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function T$(t){return t._rawValidators}function A$(t){return t._rawAsyncValidators}function q_(t){return t?Array.isArray(t)?t:[t]:[]}function Ih(t,e){return Array.isArray(t)?t.includes(e):t===e}function _S(t,e){let n=q_(e);return q_(t).forEach(i=>{Ih(n,i)||n.push(i)}),n}function wS(t,e){return q_(e).filter(n=>!Ih(t,n))}var Eh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=H_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=G_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ls=class extends Eh{get formDirective(){return null}get path(){return null}},Vc=class extends Eh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bh=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},S$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},TK=Te(B({},S$),{"[class.ng-submitted]":"isSubmitted"}),Th=(()=>{let e=class e extends bh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Vc,2))},e.\u0275dir=et({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Wo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Jn]});let t=e;return t})(),Ah=(()=>{let e=class e extends bh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Ls,10))},e.\u0275dir=et({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Wo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Jn]});let t=e;return t})();var kc="VALID",wh="INVALID",Fs="PENDING",Fc="DISABLED";function PS(t){return(Sh(t)?t.validators:t)||null}function R$(t){return Array.isArray(t)?H_(t):t||null}function OS(t,e){return(Sh(e)?e.asyncValidators:t)||null}function M$(t){return Array.isArray(t)?G_(t):t||null}function Sh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function x$(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[n])throw new z(1001,"")}function N$(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new z(1002,"")})}var Dh=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kc}get invalid(){return this.status===wh}get pending(){return this.status==Fs}get disabled(){return this.status===Fc}get enabled(){return this.status!==Fc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_S(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_S(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wS(e,this._rawAsyncValidators))}hasValidator(e){return Ih(this._rawValidators,e)}hasAsyncValidator(e){return Ih(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fc,this.errors=null,this._forEachChild(r=>{r.disable(Te(B({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Te(B({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=kc,this._forEachChild(r=>{r.enable(Te(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Te(B({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kc||this.status===Fs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fc:kc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fs,this._hasOwnPendingAsyncValidator=!0;let n=RS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?Fc:this.errors?wh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fs)?Fs:this._anyControlsHaveStatus(wh)?wh:kc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=R$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=M$(this._rawAsyncValidators)}},Ch=class extends Dh{constructor(e,n,r){super(PS(n),OS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){N$(this,!0,e),Object.keys(e).forEach(r=>{x$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var W_=new q("CallSetDisabledState",{providedIn:"root",factory:()=>K_}),K_="always";function P$(t,e){return[...e.path,t]}function kS(t,e,n=K_){FS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),k$(t,e),L$(t,e),F$(t,e),O$(t,e)}function IS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function O$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function FS(t,e){let n=T$(t);e.validator!==null?t.setValidators(vS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=A$(t);e.asyncValidator!==null?t.setAsyncValidators(vS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();IS(e._rawValidators,i),IS(e._rawAsyncValidators,i)}function k$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LS(t,e)})}function F$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function L$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function V$(t,e){t==null,FS(t,e)}function j$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function U$(t){return Object.getPrototypeOf(t.constructor)===y$}function B$(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function $$(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Vs?n=o:U$(o)?r=o:i=o}),i||r||n||null}var q$={provide:Ls,useExisting:xi(()=>jc)},Lc=Promise.resolve(),jc=(()=>{let e=class e extends Ls{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Be,this.form=new Ch({},H_(r),G_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Lc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),kS(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Lc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Lc.then(()=>{let i=this._findContainer(r.path),o=new Ch({});V$(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Lc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Lc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,B$(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Y(z_,10),Y(AS,10),Y(W_,8))},e.\u0275dir=et({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&Me("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[mt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Da([q$]),Jn]});let t=e;return t})();function ES(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function bS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var z$=class extends Dh{constructor(e=null,n,r){super(PS(n),OS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(bS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ES(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ES(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){bS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var H$={provide:Vc,useExisting:xi(()=>Uc)},DS=Promise.resolve(),Uc=(()=>{let e=class e extends Vc{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new z$,this._registered=!1,this.name="",this.update=new Be,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=$$(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),j$(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){DS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Vr(i);DS.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?P$(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Y(Ls,9),Y(z_,10),Y(AS,10),Y(TS,10),Y(Lr,8),Y(W_,8))},e.\u0275dir=et({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[mt.None,"disabled","isDisabled"],model:[mt.None,"ngModel","model"],options:[mt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Da([H$]),Jn,Qn]});let t=e;return t})(),Rh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=et({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var G$=(()=>{let e=class e{constructor(){this._validator=yS}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):yS,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=et({type:e,features:[Qn]});let t=e;return t})();var W$={provide:z_,useExisting:xi(()=>Bc),multi:!0};var Bc=(()=>{let e=class e extends G${constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Vr,this.createValidator=r=>E$}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ho(e)))(o||e)}})(),e.\u0275dir=et({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&ba("required",o._enabled?"":null)},inputs:{required:"required"},features:[Da([W$]),Jn]});let t=e;return t})();var K$=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hn({type:e}),e.\u0275inj=zn({});let t=e;return t})();var Mh=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:W_,useValue:r.callSetDisabledState??K_}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hn({type:e}),e.\u0275inj=zn({imports:[K$]});let t=e;return t})();var Q_={apiKey:"AIzaSyAYjraUOfAcEzoouAFEsc1yyFqF4fqx7-c",authDomain:"pp-labo-iv----bartel.firebaseapp.com",projectId:"pp-labo-iv----bartel",storageBucket:"pp-labo-iv----bartel.appspot.com",messagingSenderId:"483106802513",appId:"1:483106802513:web:3b6f0b00ea7e3ffa6ea170"},MK=Hi(Q_);function Q$(t,e){if(t&1&&(M(0,"div",12),L(1),N()),t&2){let n=Oe();j(),Ne(" ",n.errorMessage," ")}}var jS=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new Be,this.username="",this.password="",this.errorMessage="",this.app=Hi(Q_),this.auth=rt(this.app)}fillFields(){this.username="prop@prop.com",this.password="123456"}onSubmit(){return v(this,null,function*(){try{let r=yield Dd(this.auth,this.username,this.password);this.loginStatusChange.emit(!0),this.router.navigate(["/home"])}catch(r){switch(r.code){case"auth/invalid-credential":this.errorMessage="Correo o contrase\xF1a incorrecta.";break;case"auth/invalid-email":this.errorMessage="Formato de correo inv\xE1lido.";break;default:this.errorMessage="Error al iniciar sesi\xF3n. Intenta nuevamente."}console.error("Error en login:",r),this.loginStatusChange.emit(!1)}})}};e.\u0275fac=function(i){return new(i||e)(Y(Dn))},e.\u0275cmp=$e({type:e,selectors:[["app-login"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[qe],decls:16,vars:3,consts:[["loginForm","ngForm"],[3,"ngSubmit"],["href",ml`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"titulo"],[1,"input-container"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/UsuarioTP.png?alt=media&token=f606b71b-33eb-434c-8370-4e20b3279a31","alt","Usuario",1,"input-icon"],["id","username","name","username","required","","type","text","placeholder","Correo",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/Candadito.png?alt=media&token=9a332aa8-7242-4b21-a586-f4dc7d69c85a","alt","Candado",1,"input-icon"],["id","password","name","password","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit"],["type","button","alt","Rellenar",1,"rellenar-campos",3,"click"],[1,"error-message"]],template:function(i,o){if(i&1){let s=vt();M(0,"form",1,0),Me("ngSubmit",function(){return Le(s),Ve(o.onSubmit())}),_e(2,"link",2),M(3,"div",3),L(4," \xA1COMENZ\xC1 A JUGAR! "),N(),M(5,"div",4),_e(6,"img",5),M(7,"input",6),er("ngModelChange",function(u){return Le(s),Fr(o.username,u)||(o.username=u),Ve(u)}),N()(),M(8,"div",4),_e(9,"img",7),M(10,"input",8),er("ngModelChange",function(u){return Le(s),Fr(o.password,u)||(o.password=u),Ve(u)}),N()(),Re(11,Q$,2,1,"div",9),M(12,"button",10),L(13,"Iniciar sesi\xF3n"),N(),M(14,"button",11),Me("click",function(){return Le(s),Ve(o.fillFields())}),L(15,"Rellenar Campos"),N()()}i&2&&(j(7),Xn("ngModel",o.username),j(3),Xn("ngModel",o.password),j(),ae("ngIf",o.errorMessage))},dependencies:[Mh,Rh,Vs,Th,Ah,Bc,Uc,jc,ct,Nt],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:130px auto;padding:60px;border:1px solid #ccc;border-radius:10px;box-shadow:0 4px 20px #0003;background-color:#fff;font-family:Roboto}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:35px;font-weight:700;color:#4caf50;margin-bottom:30px;text-transform:uppercase}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.input-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:80%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:16px}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;margin-top:10px;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:-10px;margin-bottom:15px}a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.rellenar-campos[_ngcontent-%COMP%]{width:50%;background-color:#6e6e6e;color:#fff;padding:10px;border:none;border-radius:5px;cursor:pointer;font-size:14px;margin:10px auto;display:block;transition:background-color .3s,transform .2s}.rellenar-campos[_ngcontent-%COMP%]:hover{background-color:#454545;transform:scale(1.05)}"]});let t=e;return t})();function Y$(t,e){if(t&1&&(M(0,"div",15),L(1),N()),t&2){let n=Oe();j(),Ne(" ",n.errorMessage," ")}}var US=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new Be,this.username="",this.password="",this.nombre="",this.correo="",this.errorMessage=""}onSubmit(){return v(this,null,function*(){let r=rt(),i=_h();if(!this.nombre||!this.username||!this.correo||!this.password){this.errorMessage="Todos los campos son obligatorios.";return}if(!this.validateEmail(this.correo)){this.errorMessage="Por favor, ingresa un correo v\xE1lido.";return}if(this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres.";return}try{let s=(yield bd(r,this.correo,this.password)).user,a=vh(i,"usuarios",s.uid);yield U_(a,{nombre:this.nombre,username:this.username,correo:this.correo,fechaIngreso:new Date().toISOString()}),console.log("Usuario registrado exitosamente:",s),this.loginStatusChange.emit(!0),this.router.navigate(["/home"])}catch(o){switch(o.code){case"auth/email-already-in-use":this.errorMessage="El correo ya est\xE1 registrado.";break;case"auth/invalid-email":this.errorMessage="El formato del correo es inv\xE1lido.";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a es demasiado d\xE9bil.";break;default:this.errorMessage="Error al registrar el usuario. Intenta nuevamente."}console.error("Error al registrar el usuario:",o),this.loginStatusChange.emit(!1)}})}validateEmail(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Dn))},e.\u0275cmp=$e({type:e,selectors:[["app-registro"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[qe],decls:20,vars:5,consts:[["registroForm","ngForm"],[3,"ngSubmit"],["href",ml`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"titulo"],[1,"input-container"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/nombre.png?alt=media&token=3d928dd8-ea4a-4ad8-ba89-33ff5b85252d","alt","Nombre",1,"input-icon"],["id","nombre","name","nombre","required","","type","text","placeholder","Nombre",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/mail.png?alt=media&token=0327ea44-8376-43b1-9163-fe0fe01b5075","alt","Mail",1,"input-icon"],["id","correo","name","correo","required","","type","email","placeholder","Correo",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/UsuarioTP.png?alt=media&token=f606b71b-33eb-434c-8370-4e20b3279a31","alt","Usuario",1,"input-icon"],["id","username","name","username","required","","type","text","placeholder","Usuario",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/Candadito.png?alt=media&token=9a332aa8-7242-4b21-a586-f4dc7d69c85a","alt","Candado",1,"input-icon"],["id","password","name","password","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit"],[1,"error-message"]],template:function(i,o){if(i&1){let s=vt();M(0,"form",1,0),Me("ngSubmit",function(){return Le(s),Ve(o.onSubmit())}),_e(2,"link",2),M(3,"div",3),L(4," \xA1REGISTRATE AHORA! "),N(),M(5,"div",4),_e(6,"img",5),M(7,"input",6),er("ngModelChange",function(u){return Le(s),Fr(o.nombre,u)||(o.nombre=u),Ve(u)}),N()(),M(8,"div",4),_e(9,"img",7),M(10,"input",8),er("ngModelChange",function(u){return Le(s),Fr(o.correo,u)||(o.correo=u),Ve(u)}),N()(),M(11,"div",4),_e(12,"img",9),M(13,"input",10),er("ngModelChange",function(u){return Le(s),Fr(o.username,u)||(o.username=u),Ve(u)}),N()(),M(14,"div",4),_e(15,"img",11),M(16,"input",12),er("ngModelChange",function(u){return Le(s),Fr(o.password,u)||(o.password=u),Ve(u)}),N()(),Re(17,Y$,2,1,"div",13),M(18,"button",14),L(19,"Registrarse"),N()()}i&2&&(j(7),Xn("ngModel",o.nombre),j(3),Xn("ngModel",o.correo),j(3),Xn("ngModel",o.username),j(3),Xn("ngModel",o.password),j(),ae("ngIf",o.errorMessage))},dependencies:[Mh,Rh,Vs,Th,Ah,Bc,Uc,jc,ct,Nt],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:130px auto;padding:60px;border:1px solid #ccc;border-radius:10px;box-shadow:0 4px 20px #0003;background-color:#fff;font-family:Roboto}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:35px;font-weight:700;color:#4caf50;margin-bottom:30px;text-transform:uppercase}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.input-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%]{width:80%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:16px}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;margin-top:10px;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:-10px;margin-bottom:15px}a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]});let t=e;return t})();function J$(t,e){t&1&&(M(0,"div",10)(1,"button",11),L(2,"INICIAR SESION"),N()())}function Z$(t,e){t&1&&(M(0,"div",12)(1,"button",13),L(2,"REGISTRARSE"),N()())}function X$(t,e){if(t&1){let n=vt();M(0,"div",14)(1,"button",15),Me("click",function(){Le(n);let i=Oe();return Ve(i.logout())}),L(2,"CERRAR SESION"),N()()}}function e4(t,e){if(t&1){let n=vt();M(0,"app-registro",16),Me("loginStatusChange",function(i){Le(n);let o=Oe();return Ve(o.setLoginStatus(i))}),N()}}function t4(t,e){if(t&1){let n=vt();M(0,"app-login",16),Me("loginStatusChange",function(i){Le(n);let o=Oe();return Ve(o.setLoginStatus(i))}),N()}}var BS=(()=>{let e=class e{constructor(r){this.router=r,this.title="rutas",this.isLoggedIn=!1}ngOnInit(){let r=rt();Cd(r,i=>{i?this.isLoggedIn=!0:this.isLoggedIn=!1})}setLoginStatus(r){this.isLoggedIn=r}logout(){let r=rt();Td(r).then(()=>{this.isLoggedIn=!1,this.router.navigate(["/login"])}).catch(i=>{console.error("Error al cerrar sesi\xF3n: ",i)})}updateLoginStatus(r){this.isLoggedIn=r}};e.\u0275fac=function(i){return new(i||e)(Y(Dn))},e.\u0275cmp=$e({type:e,selectors:[["app-root"]],standalone:!0,features:[qe],decls:14,vars:5,consts:[[1,"nav"],[1,"button-group"],["routerLink","home","routerLinkActive","active-route"],["routerLink","about","routerLinkActive","active-route"],["class","login-button-container",4,"ngIf"],["class","register-button-container",4,"ngIf"],["class","logout-button-container",4,"ngIf"],[1,"form-container1"],[1,"form-container"],[3,"loginStatusChange",4,"ngIf"],[1,"login-button-container"],["routerLink","login","routerLinkActive","active-route"],[1,"register-button-container"],["routerLink","registro","routerLinkActive","active-route"],[1,"logout-button-container"],[3,"click"],[3,"loginStatusChange"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"div",1)(2,"button",2),L(3,"INICIO"),N(),M(4,"button",3),L(5,"\xBFQUI\xC9N SOY?"),N()(),Re(6,J$,3,0,"div",4)(7,Z$,3,0,"div",5)(8,X$,3,0,"div",6),N(),M(9,"div",7),_e(10,"router-outlet"),N(),M(11,"div",8),Re(12,e4,1,0,"app-registro",9)(13,t4,1,0,"app-login",9),N()),i&2&&(j(6),ae("ngIf",!o.isLoggedIn),j(),ae("ngIf",!o.isLoggedIn),j(),ae("ngIf",o.isLoggedIn),j(4),ae("ngIf",o.router.url==="/registro"),j(),ae("ngIf",o.router.url==="/login"))},dependencies:[vm,Ql,FD,ct,Nt,jS,US],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100vh}.form-container[_ngcontent-%COMP%], .form-container1[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:50px}.login-button-container[_ngcontent-%COMP%], .logout-button-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:50px}.register-button-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:250px}.button-group[_ngcontent-%COMP%]{position:relative;top:10px;left:50px}button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;background-color:#fff;margin:0 10px;color:#000;font-size:20px}button[_ngcontent-%COMP%]:hover{color:#008a5c}.nav[_ngcontent-%COMP%]{width:100%;background-color:#fff;min-height:60px;box-shadow:0 4px 6px #0000001a;position:fixed;top:0;left:0;z-index:1000;display:flex;font-family:Roboto,sans-serif}"]});let t=e;return t})();tD(BS,mS).catch(t=>console.error(t));
