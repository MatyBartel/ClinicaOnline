var _T=Object.defineProperty,IT=Object.defineProperties;var wT=Object.getOwnPropertyDescriptors;var i_=Object.getOwnPropertySymbols,ET=Object.getPrototypeOf,DT=Object.prototype.hasOwnProperty,CT=Object.prototype.propertyIsEnumerable,bT=Reflect.get;var s_=(t,e,n)=>e in t?_T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})DT.call(e,n)&&s_(t,n,e[n]);if(i_)for(var n of i_(e))CT.call(e,n)&&s_(t,n,e[n]);return t},me=(t,e)=>IT(t,wT(e));var Kn=(t,e,n)=>bT(ET(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});var o_=null;var Bd=1,$d=Symbol("SIGNAL");function de(t){let e=o_;return o_=t,e}var a_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function TT(t){if(!(zd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Bd)){if(!t.producerMustRecompute(t)&&!Hd(t)){t.dirty=!1,t.lastCleanEpoch=Bd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Bd}}function c_(t){return t&&(t.nextProducerIndex=0),de(t)}function u_(t,e){if(de(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)qd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Hd(t){lc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(TT(n),r!==n.version))return!0}return!1}function l_(t){if(lc(t),zd(t))for(let e=0;e<t.producerNode.length;e++)qd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function qd(t,e){if(ST(t),lc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)qd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];lc(i),i.producerIndexOfThis[r]=e}}function zd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function lc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ST(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function AT(){throw new Error}var RT=AT;function d_(t){RT=t}function W(t){return typeof t=="function"}function Mi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var dc=Mi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function xr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(s){e=s instanceof dc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{h_(s)}catch(o){e=e??[],o instanceof dc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new dc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)h_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xr(n,e)}remove(e){let{_finalizers:n}=this;n&&xr(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var Gd=Se.EMPTY;function hc(t){return t instanceof Se||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function h_(t){W(t)?t():t.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xi={setTimeout(t,e,...n){let{delegate:r}=xi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fc(t){xi.setTimeout(()=>{let{onUnhandledError:e}=Ut;if(e)e(t);else throw t})}function go(){}var f_=Wd("C",void 0,void 0);function p_(t){return Wd("E",void 0,t)}function g_(t){return Wd("N",t,void 0)}function Wd(t,e,n){return{kind:t,value:e,error:n}}var Nr=null;function Ni(t){if(Ut.useDeprecatedSynchronousErrorHandling){let e=!Nr;if(e&&(Nr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Nr;if(Nr=null,n)throw r}}else t()}function m_(t){Ut.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=t)}var Pr=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hc(e)&&e.add(this)):this.destination=NT}static create(e,n,r){return new Pi(e,n,r)}next(e){this.isStopped?Qd(g_(e),this):this._next(e)}error(e){this.isStopped?Qd(p_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qd(f_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MT=Function.prototype.bind;function Kd(t,e){return MT.call(t,e)}var Yd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){pc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){pc(r)}else pc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){pc(n)}}},Pi=class extends Pr{constructor(e,n,r){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ut.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kd(e.next,s),error:e.error&&Kd(e.error,s),complete:e.complete&&Kd(e.complete,s)}):i=e}this.destination=new Yd(i)}};function pc(t){Ut.useDeprecatedSynchronousErrorHandling?m_(t):fc(t)}function xT(t){throw t}function Qd(t,e){let{onStoppedNotification:n}=Ut;n&&xi.setTimeout(()=>n(t,e))}var NT={closed:!0,next:go,error:xT,complete:go};var Oi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(t){return t}function Jd(...t){return Zd(t)}function Zd(t){return t.length===0?yt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=OT(n)?n:new Pi(n,r,i);return Ni(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=y_(r),new r((i,s)=>{let o=new Pi({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Oi](){return this}pipe(...n){return Zd(n)(this)}toPromise(n){return n=y_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function y_(t){var e;return(e=t??Ut.Promise)!==null&&e!==void 0?e:Promise}function PT(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function OT(t){return t&&t instanceof Pr||PT(t)&&hc(t)}function Xd(t){return W(t?.lift)}function ce(t){return e=>{if(Xd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(t,e,n,r,i){return new eh(t,e,n,r,i)}var eh=class extends Pr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ki(){return ce((t,e)=>{let n=null;t._refCount++;let r=ne(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Fi=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Xd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(ne(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return ki()(this)}};var v_=Mi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var et=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new v_}next(n){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Gd:(this.currentObservers=null,s.push(n),new Se(()=>{this.currentObservers=null,xr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new gc(e,n),t})(),gc=class extends et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Gd}};var ze=class extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var th={now(){return(th.delegate||Date).now()},delegate:void 0};var mc=class extends Se{constructor(e,n){super()}schedule(e,n=0){return this}};var mo={setInterval(t,e,...n){let{delegate:r}=mo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=mo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Vi=class extends mc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return mo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&mo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Li=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Li.now=th.now;var Ui=class extends Li{constructor(e,n=Li.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var nh=new Ui(Vi);var yc=class extends Vi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var vc=class extends Ui{};var rh=new vc(yc);var vt=new ae(t=>t.complete());function __(t){return t&&W(t.schedule)}function I_(t){return t[t.length-1]}function _c(t){return W(I_(t))?t.pop():void 0}function Qn(t){return __(I_(t))?t.pop():void 0}function ih(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function E_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(g){o(g)}}function u(f){try{l(r.throw(f))}catch(g){o(g)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function w_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Or(t){return this instanceof Or?(this.v=t,this):new Or(t)}function D_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){r[y]&&(i[y]=function(b){return new Promise(function(A,N){s.push([y,b,A,N])>1||c(y,b)})})}function c(y,b){try{u(r[y](b))}catch(A){g(s[0][3],A)}}function u(y){y.value instanceof Or?Promise.resolve(y.value.v).then(l,f):g(s[0][2],y)}function l(y){c("next",y)}function f(y){c("throw",y)}function g(y,b){y(b),s.shift(),s.length&&c(s[0][0],s[0][1])}}function C_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof w_=="function"?w_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var Ic=t=>t&&typeof t.length=="number"&&typeof t!="function";function wc(t){return W(t?.then)}function Ec(t){return W(t[Oi])}function Dc(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function Cc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bc=kT();function Tc(t){return W(t?.[bc])}function Sc(t){return D_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Or(n.read());if(i)return yield Or(void 0);yield yield Or(r)}}finally{n.releaseLock()}})}function Ac(t){return W(t?.getReader)}function Me(t){if(t instanceof ae)return t;if(t!=null){if(Ec(t))return FT(t);if(Ic(t))return VT(t);if(wc(t))return LT(t);if(Dc(t))return b_(t);if(Tc(t))return UT(t);if(Ac(t))return jT(t)}throw Cc(t)}function FT(t){return new ae(e=>{let n=t[Oi]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VT(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function LT(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fc)})}function UT(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function b_(t){return new ae(e=>{BT(t,e).catch(n=>e.error(n))})}function jT(t){return b_(Sc(t))}function BT(t,e){var n,r,i,s;return E_(this,void 0,void 0,function*(){try{for(n=C_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ht(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Yn(t,e=0){return ce((n,r)=>{n.subscribe(ne(r,i=>ht(r,t,()=>r.next(i),e),()=>ht(r,t,()=>r.complete(),e),i=>ht(r,t,()=>r.error(i),e)))})}function Jn(t,e=0){return ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function T_(t,e){return Me(t).pipe(Jn(e),Yn(e))}function S_(t,e){return Me(t).pipe(Jn(e),Yn(e))}function A_(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function R_(t,e){return new ae(n=>{let r;return ht(n,e,()=>{r=t[bc](),ht(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function Rc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{ht(n,e,()=>{let r=t[Symbol.asyncIterator]();ht(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function M_(t,e){return Rc(Sc(t),e)}function x_(t,e){if(t!=null){if(Ec(t))return T_(t,e);if(Ic(t))return A_(t,e);if(wc(t))return S_(t,e);if(Dc(t))return Rc(t,e);if(Tc(t))return R_(t,e);if(Ac(t))return M_(t,e)}throw Cc(t)}function Te(t,e){return e?x_(t,e):Me(t)}function q(...t){let e=Qn(t);return Te(t,e)}function ji(t,e){let n=W(t)?t:()=>t,r=i=>i.error(n());return new ae(e?i=>e.schedule(r,0,i):r)}function sh(t){return!!t&&(t instanceof ae||W(t.lift)&&W(t.subscribe))}var vn=Mi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return ce((n,r)=>{let i=0;n.subscribe(ne(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:$T}=Array;function HT(t,e){return $T(e)?t(...e):t(e)}function Mc(t){return re(e=>HT(t,e))}var{isArray:qT}=Array,{getPrototypeOf:zT,prototype:GT,keys:WT}=Object;function xc(t){if(t.length===1){let e=t[0];if(qT(e))return{args:e,keys:null};if(KT(e)){let n=WT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function KT(t){return t&&typeof t=="object"&&zT(t)===GT}function Nc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Pc(...t){let e=Qn(t),n=_c(t),{args:r,keys:i}=xc(t);if(r.length===0)return Te([],e);let s=new ae(QT(r,e,i?o=>Nc(i,o):yt));return n?s.pipe(Mc(n)):s}function QT(t,e,n=yt){return r=>{N_(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)N_(e,()=>{let l=Te(t[u],e),f=!1;l.subscribe(ne(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function N_(t,e,n){t?ht(n,t,e):e()}function P_(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,g=!1,y=()=>{g&&!u.length&&!l&&e.complete()},b=N=>l<r?A(N):u.push(N),A=N=>{s&&e.next(N),l++;let P=!1;Me(n(N,f++)).subscribe(ne(e,F=>{i?.(F),s?b(F):e.next(F)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let F=u.shift();o?ht(e,o,()=>A(F)):A(F)}y()}catch(F){e.error(F)}}))};return t.subscribe(ne(e,b,()=>{g=!0,y()})),()=>{c?.()}}function ke(t,e,n=1/0){return W(e)?ke((r,i)=>re((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),ce((r,i)=>P_(r,i,t,n)))}function Bi(t=1/0){return ke(yt,t)}function O_(){return Bi(1)}function $i(...t){return O_()(Te(t,Qn(t)))}function Oc(t){return new ae(e=>{Me(t()).subscribe(e)})}function oh(...t){let e=_c(t),{args:n,keys:r}=xc(t),i=new ae(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let g=!1;Me(n[f]).subscribe(ne(s,y=>{g||(g=!0,l--),c[f]=y},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?Nc(r,c):c),s.complete())}))}});return e?i.pipe(Mc(e)):i}function jt(t,e){return ce((n,r)=>{let i=0;n.subscribe(ne(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Zn(t){return ce((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ne(n,void 0,void 0,o=>{s=Me(t(o,Zn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function k_(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(ne(o,f=>{let g=l++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Hi(t,e){return W(e)?ke(t,e,1):ke(t,1)}function Xn(t){return ce((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _n(t){return t<=0?()=>vt:ce((e,n)=>{let r=0;e.subscribe(ne(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ah(t){return re(()=>t)}function kc(t=YT){return ce((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function YT(){return new vn}function yo(t){return ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Qt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?jt((i,s)=>t(i,s,r)):yt,_n(1),n?Xn(e):kc(()=>new vn))}function qi(t){return t<=0?()=>vt:ce((e,n)=>{let r=[];e.subscribe(ne(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ch(t,e){let n=arguments.length>=2;return r=>r.pipe(t?jt((i,s)=>t(i,s,r)):yt,qi(1),n?Xn(e):kc(()=>new vn))}function uh(t,e){return ce(k_(t,e,arguments.length>=2,!0))}function lh(...t){let e=Qn(t);return ce((n,r)=>{(e?$i(t,n,e):$i(t,n)).subscribe(r)})}function Bt(t,e){return ce((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(ne(r,u=>{i?.unsubscribe();let l=0,f=s++;Me(t(u,f)).subscribe(i=ne(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function dh(t){return ce((e,n)=>{Me(t).subscribe(ne(n,()=>n.complete(),go)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=W(t)||e||n?{next:t,error:e,complete:n}:t;return r?ce((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ne(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yt}var vI="https://g.co/ng/security#xss",U=class extends Error{constructor(e,n){super(yf(e,n)),this.code=e}};function yf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Mo(t){return{toString:t}.toString()}var Fc="__parameters__";function JT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function ZT(t,e,n){return Mo(()=>{let r=JT(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let g=u.hasOwnProperty(Fc)?u[Fc]:Object.defineProperty(u,Fc,{value:[]})[Fc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var In=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function XT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ct(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ct).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function F_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var eS=Ie({__forward_ref__:Ie});function Gr(t){return t.__forward_ref__=Gr,t.toString=function(){return ct(this())},t}function at(t){return _I(t)?t():t}function _I(t){return typeof t=="function"&&t.hasOwnProperty(eS)&&t.__forward_ref__===Gr}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wr(t){return{providers:t.providers||[],imports:t.imports||[]}}function du(t){return V_(t,wI)||V_(t,EI)}function II(t){return du(t)!==null}function V_(t,e){return t.hasOwnProperty(e)?t[e]:null}function tS(t){let e=t&&(t[wI]||t[EI]);return e||null}function L_(t){return t&&(t.hasOwnProperty(U_)||t.hasOwnProperty(nS))?t[U_]:null}var wI=Ie({\u0275prov:Ie}),U_=Ie({\u0275inj:Ie}),EI=Ie({ngInjectableDef:Ie}),nS=Ie({ngInjectorDef:Ie}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function DI(t){return t&&!!t.\u0275providers}var rS=Ie({\u0275cmp:Ie}),iS=Ie({\u0275dir:Ie}),sS=Ie({\u0275pipe:Ie}),oS=Ie({\u0275mod:Ie}),Wc=Ie({\u0275fac:Ie}),vo=Ie({__NG_ELEMENT_ID__:Ie}),j_=Ie({__NG_ENV_ID__:Ie});function hu(t){return typeof t=="string"?t:t==null?"":String(t)}function aS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():hu(t)}function cS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,t)}function vf(t,e){throw new U(-201,!1)}var Z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Z||{}),Sh;function CI(){return Sh}function Rt(t){let e=Sh;return Sh=t,e}function bI(t,e,n){let r=du(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Z.Optional)return null;if(e!==void 0)return e;vf(t,"Injector")}var uS={},_o=uS,Ah="__NG_DI_FLAG__",Kc="ngTempTokenPath",lS="ngTokenPath",dS=/\n/gm,hS="\u0275",B_="__source",Ki;function fS(){return Ki}function er(t){let e=Ki;return Ki=t,e}function pS(t,e=Z.Default){if(Ki===void 0)throw new U(-203,!1);return Ki===null?bI(t,void 0,e):Ki.get(t,e&Z.Optional?null:void 0,e)}function ie(t,e=Z.Default){return(CI()||pS)(at(t),e)}function k(t,e=Z.Default){return ie(t,fu(e))}function fu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rh(t){let e=[];for(let n=0;n<t.length;n++){let r=at(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,s=Z.Default;for(let o=0;o<r.length;o++){let c=r[o],u=mS(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(ie(i,s))}else e.push(ie(r))}return e}function gS(t,e){return t[Ah]=e,t.prototype[Ah]=e,t}function mS(t){return t[Ah]}function yS(t,e,n,r){let i=t[Kc];throw e[B_]&&i.unshift(e[B_]),t.message=vS(`
`+t.message,i,n,r),t[lS]=i,t[Kc]=null,t}function vS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==hS?t.slice(2):t;let i=ct(e);if(Array.isArray(e))i=e.map(ct).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ct(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dS,`
  `)}`}var ft=gS(ZT("Optional"),8);function Yi(t,e){let n=t.hasOwnProperty(Wc);return n?t[Wc]:null}function _S(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function IS(t){return t.flat(Number.POSITIVE_INFINITY)}function _f(t,e){t.forEach(n=>Array.isArray(n)?_f(n,e):e(n))}function TI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function ES(t,e,n){let r=xo(t,e);return r>=0?t[r|1]=n:(r=~r,wS(t,r,e,n)),r}function hh(t,e){let n=xo(t,e);if(n>=0)return t[n|1]}function xo(t,e){return DS(t,e,1)}function DS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ji={},Mt=[],Zi=new H(""),SI=new H("",-1),AI=new H(""),Yc=class{get(e,n=_o){if(n===_o){let r=new Error(`NullInjectorError: No provider for ${ct(e)}!`);throw r.name="NullInjectorError",r}return n}},RI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(RI||{}),Zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zt||{}),tt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(tt||{});function CS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Mh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];bS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function MI(t){return t===3||t===4||t===6}function bS(t){return t.charCodeAt(0)===64}function Io(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?$_(t,n,i,null,e[++r]):$_(t,n,i,null,null))}}return t}function $_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var xI="ng-template";function TS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(If(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function If(t){return t.type===4&&t.value!==xI}function SS(t,e,n){let r=t.type===4&&!n?xI:t.value;return e===r}function AS(t,e,n){let r=4,i=t.attrs,s=i!==null?xS(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!$t(r)&&!$t(u))return!1;if(o&&$t(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!SS(t,u,n)||u===""&&e.length===1){if($t(r))return!1;o=!0}}else if(r&8){if(i===null||!TS(t,i,u,n)){if($t(r))return!1;o=!0}}else{let l=e[++c],f=RS(u,i,If(t),n);if(f===-1){if($t(r))return!1;o=!0;continue}if(l!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if($t(r))return!1;o=!0}}}}return $t(r)||o}function $t(t){return(t&1)===0}function RS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return NS(e,t)}function MS(t,e,n=!1){for(let r=0;r<e.length;r++)if(AS(t,e[r],n))return!0;return!1}function xS(t){for(let e=0;e<t.length;e++){let n=t[e];if(MI(n))return e}return t.length}function NS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function H_(t,e){return t?":not("+e.trim()+")":e}function PS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!$t(o)&&(e+=H_(s,i),i=""),r=o,s=s||!$t(r);n++}return i!==""&&(e+=H_(s,i)),e}function OS(t){return t.map(PS).join(",")}function kS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!$t(i))break;i=s}r++}return{attrs:e,classes:n}}function pt(t){return Mo(()=>{let e=FI(t),n=me(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===RI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zt.Emulated,styles:t.styles||Mt,_:null,schemas:t.schemas||null,tView:null,id:""});VI(n);let r=t.dependencies;return n.directiveDefs=z_(r,!1),n.pipeDefs=z_(r,!0),n.id=LS(n),n})}function FS(t){return Vr(t)||NI(t)}function VS(t){return t!==null}function Kr(t){return Mo(()=>({type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function q_(t,e){if(t==null)return Ji;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=tt.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==tt.None?[r,c]:r,e[s]=o):n[s]=r}return n}function We(t){return Mo(()=>{let e=FI(t);return VI(e),e})}function Vr(t){return t[rS]||null}function NI(t){return t[iS]||null}function PI(t){return t[sS]||null}function OI(t){let e=Vr(t)||NI(t)||PI(t);return e!==null?e.standalone:!1}function kI(t,e){let n=t[oS]||null;if(!n&&e===!0)throw new Error(`Type ${ct(t)} does not have '\u0275mod' property.`);return n}function FI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ji,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:q_(t.inputs,e),outputs:q_(t.outputs),debugInfo:null}}function VI(t){t.features?.forEach(e=>e(t))}function z_(t,e){if(!t)return null;let n=e?PI:FS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(VS)}function LS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tn(t){return{\u0275providers:t}}function US(...t){return{\u0275providers:LI(!0,t),\u0275fromNgModule:!0}}function LI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return _f(e,o=>{let c=o;xh(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&UI(i,s),n}function UI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];wf(i,s=>{e(s,r)})}}function xh(t,e,n,r){if(t=at(t),!t)return!1;let i=null,s=L_(t),o=!s&&Vr(t);if(!s&&!o){let u=t.ngModule;if(s=L_(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)xh(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{_f(s.imports,f=>{xh(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&UI(l,e)}if(!c){let l=Yi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Mt},i),e({provide:AI,useValue:i,multi:!0},i),e({provide:Zi,useValue:()=>ie(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;wf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function wf(t,e){for(let n of t)DI(n)&&(n=n.\u0275providers),Array.isArray(n)?wf(n,e):e(n)}var jS=Ie({provide:String,useValue:Ie});function jI(t){return t!==null&&typeof t=="object"&&jS in t}function BS(t){return!!(t&&t.useExisting)}function $S(t){return!!(t&&t.useFactory)}function Xi(t){return typeof t=="function"}function HS(t){return!!t.useClass}var pu=new H(""),Bc={},qS={},fh;function Ef(){return fh===void 0&&(fh=new Yc),fh}var xt=class{},wo=class extends xt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ph(e,o=>this.processProvider(o)),this.records.set(SI,zi(void 0,this)),i.has("environment")&&this.records.set(xt,zi(void 0,this));let s=this.records.get(pu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(AI,Mt,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=er(this),r=Rt(void 0),i;try{return e()}finally{er(n),Rt(r)}}get(e,n=_o,r=Z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(j_))return e[j_](this);r=fu(r);let i,s=er(this),o=Rt(void 0);try{if(!(r&Z.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=QS(e)&&du(e);l&&this.injectableDefInScope(l)?u=zi(Nh(e),Bc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&Z.Self?Ef():this.parent;return n=r&Z.Optional&&n===_o?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Kc]=c[Kc]||[]).unshift(ct(e)),s)throw c;return yS(c,e,"R3InjectorError",this.source)}else throw c}finally{Rt(o),er(s)}}resolveInjectorInitializers(){let e=de(null),n=er(this),r=Rt(void 0),i;try{let s=this.get(Zi,Mt,Z.Self);for(let o of s)o()}finally{er(n),Rt(r),de(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ct(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){e=at(e);let n=Xi(e)?e:at(e&&e.provide),r=GS(e);if(!Xi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zi(void 0,Bc,!0),i.factory=()=>Rh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=de(null);try{return n.value===Bc&&(n.value=qS,n.value=n.factory()),typeof n.value=="object"&&n.value&&KS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{de(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=at(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Nh(t){let e=du(t),n=e!==null?e.factory:Yi(t);if(n!==null)return n;if(t instanceof H)throw new U(204,!1);if(t instanceof Function)return zS(t);throw new U(204,!1)}function zS(t){if(t.length>0)throw new U(204,!1);let n=tS(t);return n!==null?()=>n.factory(t):()=>new t}function GS(t){if(jI(t))return zi(void 0,t.useValue);{let e=BI(t);return zi(e,Bc)}}function BI(t,e,n){let r;if(Xi(t)){let i=at(t);return Yi(i)||Nh(i)}else if(jI(t))r=()=>at(t.useValue);else if($S(t))r=()=>t.useFactory(...Rh(t.deps||[]));else if(BS(t))r=()=>ie(at(t.useExisting));else{let i=at(t&&(t.useClass||t.provide));if(WS(t))r=()=>new i(...Rh(t.deps));else return Yi(i)||Nh(i)}return r}function zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function WS(t){return!!t.deps}function KS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function QS(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Ph(t,e){for(let n of t)Array.isArray(n)?Ph(n,e):n&&DI(n)?Ph(n.\u0275providers,e):e(n)}function Qr(t,e){t instanceof wo&&t.assertNotDestroyed();let n,r=er(t),i=Rt(void 0);try{return e()}finally{er(r),Rt(i)}}function YS(){return CI()!==void 0||fS()!=null}function JS(t){return typeof t=="function"}var bn=0,J=1,B=2,Ge=3,Ht=4,Gt=5,Jc=6,Eo=7,qt=8,es=9,zt=10,Ve=11,Do=12,G_=13,is=14,Xt=15,No=16,Gi=17,wn=18,gu=19,$I=20,tr=21,ph=22,Lr=23,nr=25,HI=1;var Ur=7,Zc=8,ts=9,_t=10,Df=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Df||{});function kr(t){return Array.isArray(t)&&typeof t[HI]=="object"}function Tn(t){return Array.isArray(t)&&t[HI]===!0}function qI(t){return(t.flags&4)!==0}function mu(t){return t.componentOffset>-1}function Cf(t){return(t.flags&1)===1}function rr(t){return!!t.template}function ZS(t){return(t[B]&512)!==0}var Oh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function zI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Sn(){return GI}function GI(t){return t.type.prototype.ngOnChanges&&(t.setInput=eA),XS}Sn.ngInherit=!0;function XS(){let t=KI(this),e=t?.current;if(e){let n=t.previous;if(n===Ji)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function eA(t,e,n,r,i){let s=this.declaredInputs[r],o=KI(t)||tA(t,{previous:Ji,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new Oh(l&&l.currentValue,n,u===Ji),zI(t,e,i,n)}var WI="__ngSimpleChanges__";function KI(t){return t[WI]||null}function tA(t,e){return t[WI]=e}var W_=null;var Yt=function(t,e,n){W_?.(t,e,n)},nA="svg",rA="math",iA=!1;function sA(){return iA}function en(t){for(;Array.isArray(t);)t=t[bn];return t}function QI(t,e){return en(e[t])}function Nt(t,e){return en(e[t.index])}function YI(t,e){return t.data[e]}function sr(t,e){let n=e[t];return kr(n)?n:n[bn]}function oA(t){return(t[B]&4)===4}function bf(t){return(t[B]&128)===128}function aA(t){return Tn(t[Ge])}function Xc(t,e){return e==null?null:t[e]}function JI(t){t[Gi]=0}function cA(t){t[B]&1024||(t[B]|=1024,bf(t)&&Co(t))}function uA(t,e){for(;t>0;)e=e[is],t--;return e}function Tf(t){return!!(t[B]&9216||t[Lr]?.dirty)}function kh(t){t[zt].changeDetectionScheduler?.notify(1),Tf(t)?Co(t):t[B]&64&&(sA()?(t[B]|=1024,Co(t)):t[zt].changeDetectionScheduler?.notify())}function Co(t){t[zt].changeDetectionScheduler?.notify();let e=bo(t);for(;e!==null&&!(e[B]&8192||(e[B]|=8192,!bf(e)));)e=bo(e)}function ZI(t,e){if((t[B]&256)===256)throw new U(911,!1);t[tr]===null&&(t[tr]=[]),t[tr].push(e)}function lA(t,e){if(t[tr]===null)return;let n=t[tr].indexOf(e);n!==-1&&t[tr].splice(n,1)}function bo(t){let e=t[Ge];return Tn(e)?e[Ge]:e}var X={lFrame:sw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dA(){return X.lFrame.elementDepthCount}function hA(){X.lFrame.elementDepthCount++}function fA(){X.lFrame.elementDepthCount--}function XI(){return X.bindingsEnabled}function pA(){return X.skipHydrationRootTNode!==null}function gA(t){return X.skipHydrationRootTNode===t}function mA(){X.skipHydrationRootTNode=null}function ve(){return X.lFrame.lView}function ut(){return X.lFrame.tView}function It(t){return X.lFrame.contextLView=t,t[qt]}function wt(t){return X.lFrame.contextLView=null,t}function lt(){let t=ew();for(;t!==null&&t.type===64;)t=t.parent;return t}function ew(){return X.lFrame.currentTNode}function yA(){let t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Po(t,e){let n=X.lFrame;n.currentTNode=t,n.isParent=e}function tw(){return X.lFrame.isParent}function vA(){X.lFrame.isParent=!1}function _A(t){return X.lFrame.bindingIndex=t}function yu(){return X.lFrame.bindingIndex++}function IA(t){let e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function wA(){return X.lFrame.inI18n}function EA(t,e){let n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,Fh(e)}function DA(){return X.lFrame.currentDirectiveIndex}function Fh(t){X.lFrame.currentDirectiveIndex=t}function CA(t){let e=X.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function nw(){return X.lFrame.currentQueryIndex}function Sf(t){X.lFrame.currentQueryIndex=t}function bA(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[Gt]:null}function rw(t,e,n){if(n&Z.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Z.Host);)if(i=bA(s),i===null||(s=s[is],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=X.lFrame=iw();return r.currentTNode=e,r.lView=t,!0}function Af(t){let e=iw(),n=t[J];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function iw(){let t=X.lFrame,e=t===null?null:t.child;return e===null?sw(t):e}function sw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ow(){let t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var aw=ow;function Rf(){let t=ow();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function TA(t){return(X.lFrame.contextLView=uA(t,X.lFrame.contextLView))[qt]}function ss(){return X.lFrame.selectedIndex}function jr(t){X.lFrame.selectedIndex=t}function Mf(){let t=X.lFrame;return YI(t.tView,t.selectedIndex)}function SA(){return X.lFrame.currentNamespace}var cw=!0;function xf(){return cw}function Nf(t){cw=t}function AA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=GI(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Pf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function $c(t,e,n){uw(t,e,3,n)}function Hc(t,e,n,r){(t[B]&3)===n&&uw(t,e,n,r)}function gh(t,e){let n=t[B];(n&3)===e&&(n&=16383,n+=1,t[B]=n)}function uw(t,e,n,r){let i=r!==void 0?t[Gi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Gi]+=65536),(c<s||s==-1)&&(RA(t,n,e,u),t[Gi]=(t[Gi]&4294901760)+u+2),u++}function K_(t,e){Yt(4,t,e);let n=de(null);try{e.call(t)}finally{de(n),Yt(5,t,e)}}function RA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[B]>>14<t[Gi]>>16&&(t[B]&3)===e&&(t[B]+=16384,K_(c,s)):K_(c,s)}var Qi=-1,Br=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function MA(t){return t instanceof Br}function xA(t){return(t.flags&8)!==0}function NA(t){return(t.flags&16)!==0}function lw(t){return t!==Qi}function eu(t){return t&32767}function PA(t){return t>>16}function tu(t,e){let n=PA(t),r=e;for(;n>0;)r=r[is],n--;return r}var Vh=!0;function Q_(t){let e=Vh;return Vh=t,e}var OA=256,dw=OA-1,hw=5,kA=0,Jt={};function FA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vo)&&(r=n[vo]),r==null&&(r=n[vo]=kA++);let i=r&dw,s=1<<i;e.data[t+(i>>hw)]|=s}function nu(t,e){let n=fw(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,mh(r.data,t),mh(e,null),mh(r.blueprint,null));let i=Of(t,e),s=t.injectorIndex;if(lw(i)){let o=eu(i),c=tu(i,e),u=c[J].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function mh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Of(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=vw(i),r===null)return Qi;if(n++,i=i[is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Qi}function Lh(t,e,n){FA(t,e,n)}function VA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(MI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function pw(t,e,n){if(n&Z.Optional||t!==void 0)return t;vf(e,"NodeInjector")}function gw(t,e,n,r){if(n&Z.Optional&&r===void 0&&(r=null),!(n&(Z.Self|Z.Host))){let i=t[es],s=Rt(void 0);try{return i?i.get(e,r,n&Z.Optional):bI(e,r,n&Z.Optional)}finally{Rt(s)}}return pw(r,e,n)}function mw(t,e,n,r=Z.Default,i){if(t!==null){if(e[B]&2048&&!(r&Z.Self)){let o=BA(t,e,n,r,Jt);if(o!==Jt)return o}let s=yw(t,e,n,r,Jt);if(s!==Jt)return s}return gw(e,n,r,i)}function yw(t,e,n,r,i){let s=UA(n);if(typeof s=="function"){if(!rw(e,t,r))return r&Z.Host?pw(i,n,r):gw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Z.Optional))vf(n);else return o}finally{aw()}}else if(typeof s=="number"){let o=null,c=fw(t,e),u=Qi,l=r&Z.Host?e[Xt][Gt]:null;for((c===-1||r&Z.SkipSelf)&&(u=c===-1?Of(t,e):e[c+8],u===Qi||!J_(r,!1)?c=-1:(o=e[J],c=eu(u),e=tu(u,e)));c!==-1;){let f=e[J];if(Y_(s,c,f.data)){let g=LA(c,e,n,o,r,l);if(g!==Jt)return g}u=e[c+8],u!==Qi&&J_(r,e[J].data[c+8]===l)&&Y_(s,c,e)?(o=f,c=eu(u),e=tu(u,e)):c=-1}}return i}function LA(t,e,n,r,i,s){let o=e[J],c=o.data[t+8],u=r==null?mu(c)&&Vh:r!=o&&(c.type&3)!==0,l=i&Z.Host&&s===c,f=qc(c,o,n,u,l);return f!==null?$r(e,o,f,c):Jt}function qc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,g=r?c:c+f,y=i?c+f:l;for(let b=g;b<y;b++){let A=o[b];if(b<u&&n===A||b>=u&&A.type===n)return b}if(i){let b=o[u];if(b&&rr(b)&&b.type===n)return u}return null}function $r(t,e,n,r){let i=t[n],s=e.data;if(MA(i)){let o=i;o.resolving&&cS(aS(s[n]));let c=Q_(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Rt(o.injectImpl):null,f=rw(t,r,Z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&AA(n,s[n],e)}finally{l!==null&&Rt(l),Q_(c),o.resolving=!1,aw()}}return i}function UA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vo)?t[vo]:void 0;return typeof e=="number"?e>=0?e&dw:jA:e}function Y_(t,e,n){let r=1<<t;return!!(n[e+(t>>hw)]&r)}function J_(t,e){return!(t&Z.Self)&&!(t&Z.Host&&e)}var Fr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return mw(this._tNode,this._lView,e,fu(r),n)}};function jA(){return new Fr(lt(),ve())}function os(t){return Mo(()=>{let e=t.prototype.constructor,n=e[Wc]||Uh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Wc]||Uh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Uh(t){return _I(t)?()=>{let e=Uh(at(t));return e&&e()}:Yi(t)}function BA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[B]&2048&&!(o[B]&512);){let c=yw(s,o,n,r|Z.Self,Jt);if(c!==Jt)return c;let u=s.parent;if(!u){let l=o[$I];if(l){let f=l.get(n,Jt,r);if(f!==Jt)return f}u=vw(o),o=o[is]}s=u}return i}function vw(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[Gt]:null}function kf(t){return VA(lt(),t)}function Z_(t,e=null,n=null,r){let i=_w(t,e,n,r);return i.resolveInjectorInitializers(),i}function _w(t,e=null,n=null,r,i=new Set){let s=[n||Mt,US(t)];return r=r||(typeof t=="object"?void 0:ct(t)),new wo(s,e||Ef(),r||null,i)}var Pt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Z_({name:""},i,r,"");{let s=r.name??"";return Z_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=_o,e.NULL=new Yc,e.\u0275prov=z({token:e,providedIn:"any",factory:()=>ie(SI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var $A="ngOriginalError";function yh(t){return t[$A]}var En=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&yh(e);for(;n&&yh(n);)n=yh(n);return n||null}},Iw=new H("",{providedIn:"root",factory:()=>k(En).handleError.bind(void 0)}),ww=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),jh=class extends ww{constructor(e){super(),this._lView=e}onDestroy(e){return ZI(this._lView,e),()=>lA(this._lView,e)}};function HA(){return new jh(ve())}function qA(){return as(lt(),ve())}function as(t,e){return new Ot(Nt(t,e))}var Ot=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=qA;let t=e;return t})();function zA(t){return t instanceof Ot?t.nativeElement:t}var Bh=class extends et{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,YS()&&(this.destroyRef=k(ww,{optional:!0})??void 0)}emit(e){let n=de(null);try{super.next(e)}finally{de(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=vh(s),i&&(i=vh(i)),o&&(o=vh(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Se&&e.add(c),c}};function vh(t){return e=>{setTimeout(t,void 0,e)}}var xe=Bh;function GA(){return this._results[Symbol.iterator]()}var $h=class t{get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=GA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=IS(e);(this._changesDetected=!_S(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Ew(t){return(t.flags&128)===128}var Dw=new Map,WA=0;function KA(){return WA++}function QA(t){Dw.set(t[gu],t)}function YA(t){Dw.delete(t[gu])}var X_="__ngContext__";function Hr(t,e){kr(e)?(t[X_]=e[gu],QA(e)):t[X_]=e}function Cw(t){return Tw(t[Do])}function bw(t){return Tw(t[Ht])}function Tw(t){for(;t!==null&&!Tn(t);)t=t[Ht];return t}var Hh;function Sw(t){Hh=t}function JA(){if(Hh!==void 0)return Hh;if(typeof document<"u")return document;throw new U(210,!1)}var Ff=new H("",{providedIn:"root",factory:()=>ZA}),ZA="ng",Vf=new H(""),or=new H("",{providedIn:"platform",factory:()=>"unknown"});var Lf=new H("",{providedIn:"root",factory:()=>JA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XA="h",eR="b";var tR=()=>null;function Uf(t,e,n=!1){return tR(t,e,n)}var Aw=!1,nR=new H("",{providedIn:"root",factory:()=>Aw});var Vc;function rR(){if(Vc===void 0&&(Vc=null,In.trustedTypes))try{Vc=In.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vc}function iR(t){return rR()?.createScriptURL(t)||t}var Lc;function sR(){if(Lc===void 0&&(Lc=null,In.trustedTypes))try{Lc=In.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Lc}function eI(t){return sR()?.createScriptURL(t)||t}var ru=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vI})`}};function Oo(t){return t instanceof ru?t.changingThisBreaksApplicationSecurity:t}function jf(t,e){let n=oR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${vI})`)}return n===e}function oR(t){return t instanceof ru&&t.getTypeName()||null}var aR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rw(t){return t=String(t),t.match(aR)?t:"unsafe:"+t}var vu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vu||{});function cR(t){let e=xw();return e?e.sanitize(vu.URL,t)||"":jf(t,"URL")?Oo(t):Rw(hu(t))}function uR(t){let e=xw();if(e)return eI(e.sanitize(vu.RESOURCE_URL,t)||"");if(jf(t,"ResourceURL"))return eI(Oo(t));throw new U(904,!1)}function _u(t){return iR(t[0])}function lR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?uR:cR}function Mw(t,e,n){return lR(e,n)(t)}function xw(){let t=ve();return t&&t[zt].sanitizer}function Nw(t){return t instanceof Function?t():t}var Dn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Dn||{}),dR;function Bf(t,e){return dR(t,e)}function Wi(t,e,n,r,i){if(r!=null){let s,o=!1;Tn(r)?s=r:kr(r)&&(o=!0,r=r[bn]);let c=en(r);t===0&&n!==null?i==null?Vw(e,n,c):iu(e,n,c,i||null,!0):t===1&&n!==null?iu(e,n,c,i||null,!0):t===2?AR(e,c,o):t===3&&e.destroyNode(c),s!=null&&MR(e,t,s,n,i)}}function hR(t,e){return t.createText(e)}function fR(t,e,n){t.setValue(e,n)}function Pw(t,e,n){return t.createElement(e,n)}function pR(t,e){Ow(t,e),e[bn]=null,e[Gt]=null}function gR(t,e,n,r,i,s){r[bn]=i,r[Gt]=e,Iu(t,r,n,1,i,s)}function Ow(t,e){e[zt].changeDetectionScheduler?.notify(1),Iu(t,e,e[Ve],2,null,null)}function mR(t){let e=t[Do];if(!e)return _h(t[J],t);for(;e;){let n=null;if(kr(e))n=e[Do];else{let r=e[_t];r&&(n=r)}if(!n){for(;e&&!e[Ht]&&e!==t;)kr(e)&&_h(e[J],e),e=e[Ge];e===null&&(e=t),kr(e)&&_h(e[J],e),n=e&&e[Ht]}e=n}}function yR(t,e,n,r){let i=_t+r,s=n.length;r>0&&(n[i-1][Ht]=e),r<s-_t?(e[Ht]=n[i],TI(n,_t+r,e)):(n.push(e),e[Ht]=null),e[Ge]=n;let o=e[No];o!==null&&n!==o&&vR(o,e);let c=e[wn];c!==null&&c.insertView(t),kh(e),e[B]|=128}function vR(t,e){let n=t[ts],i=e[Ge][Ge][Xt];e[Xt]!==i&&(t[B]|=Df.HasTransplantedViews),n===null?t[ts]=[e]:n.push(e)}function kw(t,e){let n=t[ts],r=n.indexOf(e);n.splice(r,1)}function qh(t,e){if(t.length<=_t)return;let n=_t+e,r=t[n];if(r){let i=r[No];i!==null&&i!==t&&kw(i,r),e>0&&(t[n-1][Ht]=r[Ht]);let s=Qc(t,_t+e);pR(r[J],r);let o=s[wn];o!==null&&o.detachView(s[J]),r[Ge]=null,r[Ht]=null,r[B]&=-129}return r}function Fw(t,e){if(!(e[B]&256)){let n=e[Ve];n.destroyNode&&Iu(t,e,n,3,null,null),mR(e)}}function _h(t,e){if(e[B]&256)return;let n=de(null);try{e[B]&=-129,e[B]|=256,e[Lr]&&l_(e[Lr]),IR(t,e),_R(t,e),e[J].type===1&&e[Ve].destroy();let r=e[No];if(r!==null&&Tn(e[Ge])){r!==e[Ge]&&kw(r,e);let i=e[wn];i!==null&&i.detachView(t)}YA(e)}finally{de(n)}}function _R(t,e){let n=t.cleanup,r=e[Eo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Eo]=null);let i=e[tr];if(i!==null){e[tr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function IR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Br)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Yt(4,c,u);try{u.call(c)}finally{Yt(5,c,u)}}else{Yt(4,i,s);try{s.call(i)}finally{Yt(5,i,s)}}}}}function wR(t,e,n){return ER(t,e.parent,n)}function ER(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[bn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Zt.None||s===Zt.Emulated)return null}return Nt(r,n)}}function iu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Vw(t,e,n){t.appendChild(e,n)}function tI(t,e,n,r,i){r!==null?iu(t,e,n,r,i):Vw(t,e,n)}function DR(t,e,n,r){t.removeChild(e,n,r)}function $f(t,e){return t.parentNode(e)}function CR(t,e){return t.nextSibling(e)}function bR(t,e,n){return SR(t,e,n)}function TR(t,e,n){return t.type&40?Nt(t,n):null}var SR=TR,nI;function Hf(t,e,n,r){let i=wR(t,r,e),s=e[Ve],o=r.parent||e[Gt],c=bR(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)tI(s,i,n[u],c,!1);else tI(s,i,n,c,!1);nI!==void 0&&nI(s,r,e,n,i)}function zc(t,e){if(e!==null){let n=e.type;if(n&3)return Nt(e,t);if(n&4)return zh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return zc(t,r);{let i=t[e.index];return Tn(i)?zh(-1,i):en(i)}}else{if(n&32)return Bf(e,t)()||en(t[e.index]);{let r=Lw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=bo(t[Xt]);return zc(i,r)}else return zc(t,e.next)}}}return null}function Lw(t,e){if(e!==null){let r=t[Xt][Gt],i=e.projection;return r.projection[i]}return null}function zh(t,e){let n=_t+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return zc(r,i)}return e[Ur]}function AR(t,e,n){let r=$f(t,e);r&&DR(t,r,e,n)}function qf(t,e,n,r,i,s,o){for(;n!=null;){let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Hr(en(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)qf(t,e,n.child,r,i,s,!1),Wi(e,t,i,c,s);else if(u&32){let l=Bf(n,r),f;for(;f=l();)Wi(e,t,i,f,s);Wi(e,t,i,c,s)}else u&16?RR(t,e,r,n,i,s):Wi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Iu(t,e,n,r,i,s){qf(n,r,t.firstChild,e,i,s,!1)}function RR(t,e,n,r,i,s){let o=n[Xt],u=o[Gt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Wi(e,t,i,f,s)}else{let l=u,f=o[Ge];Ew(r)&&(l.flags|=128),qf(t,e,l,f,i,s,!0)}}function MR(t,e,n,r,i){let s=n[Ur],o=en(n);s!==o&&Wi(e,t,r,s,i);for(let c=_t;c<n.length;c++){let u=n[c];Iu(u[J],u,t,e,r,s)}}function xR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Dn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Dn.Important),t.setStyle(n,r,i,s))}}function NR(t,e,n){t.setAttribute(e,"style",n)}function Uw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jw(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Mh(t,e,r),i!==null&&Uw(t,e,i),s!==null&&NR(t,e,s)}var cs={};function Ke(t=1){Bw(ut(),ve(),ss()+t,!1)}function Bw(t,e,n,r){if(!r)if((e[B]&3)===3){let s=t.preOrderCheckHooks;s!==null&&$c(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Hc(e,s,0,n)}jr(n)}function Y(t,e=Z.Default){let n=ve();if(n===null)return ie(t,e);let r=lt();return mw(r,n,at(t),e)}function $w(t,e,n,r,i,s){let o=de(null);try{let c=null;i&tt.SignalBased&&(c=e[r][$d]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&tt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):zI(e,c,r,s)}finally{de(o)}}function PR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)jr(~i);else{let s=i,o=n[++r],c=n[++r];EA(o,s);let u=e[s];c(2,u)}}}finally{jr(-1)}}function wu(t,e,n,r,i,s,o,c,u,l,f){let g=e.blueprint.slice();return g[bn]=i,g[B]=r|4|128|8|64,(l!==null||t&&t[B]&2048)&&(g[B]|=2048),JI(g),g[Ge]=g[is]=t,g[qt]=n,g[zt]=o||t&&t[zt],g[Ve]=c||t&&t[Ve],g[es]=u||t&&t[es]||null,g[Gt]=s,g[gu]=KA(),g[Jc]=f,g[$I]=l,g[Xt]=e.type==2?t[Xt]:g,g}function Eu(t,e,n,r,i){let s=t.data[e];if(s===null)s=OR(t,e,n,r,i),wA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=yA();s.injectorIndex=o===null?-1:o.injectorIndex}return Po(s,!0),s}function OR(t,e,n,r,i){let s=ew(),o=tw(),c=o?s:s&&s.parent,u=t.data[e]=jR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function Hw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qw(t,e,n,r,i){let s=ss(),o=r&2;try{jr(-1),o&&e.length>nr&&Bw(t,e,nr,!1),Yt(o?2:0,i),n(r,i)}finally{jr(s),Yt(o?3:1,i)}}function zw(t,e,n){if(qI(e)){let r=de(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{de(r)}}}function Gw(t,e,n){XI()&&(GR(t,e,n,Nt(n,e)),(n.flags&64)===64&&Zw(t,e,n))}function Ww(t,e,n=Nt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function Kw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=zf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function zf(t,e,n,r,i,s,o,c,u,l,f){let g=nr+r,y=g+i,b=kR(g,y),A=typeof l=="function"?l():l;return b[J]={type:t,blueprint:b,template:n,queries:null,viewQuery:c,declTNode:e,data:b.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function kR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:cs);return n}function FR(t,e,n,r){let s=r.get(nR,Aw)||n===Zt.ShadowDom,o=t.selectRootElement(e,s);return VR(o),o}function VR(t){LR(t)}var LR=()=>null;function UR(t,e,n,r){let i=tE(e);i.push(n),t.firstCreatePass&&nE(t).push(r,i.length-1)}function jR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return pA()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function rI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=tt.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?iI(r,n,l,c,u):iI(r,n,l,c)}return r}function iI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function BR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let g=s[f],y=n?n.get(g):null,b=y?y.inputs:null,A=y?y.outputs:null;u=rI(0,g.inputs,f,u,b),l=rI(1,g.outputs,f,l,A);let N=u!==null&&o!==null&&!If(e)?rM(u,f,o):null;c.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function $R(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Qw(t,e,n,r,i,s,o,c){let u=Nt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Gf(t,n,f,r,i),mu(e)&&HR(n,e.index)):e.type&3?(r=$R(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function HR(t,e){let n=sr(e,t);n[B]&16||(n[B]|=64)}function Yw(t,e,n,r){if(XI()){let i=r===null?null:{"":-1},s=KR(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&Jw(t,e,n,o,i,c),i&&QR(n,r,i)}n.mergedAttrs=Io(n.mergedAttrs,n.attrs)}function Jw(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Lh(nu(n,e),t,r[l].type);JR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=Hw(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Io(n.mergedAttrs,f.hostAttrs),ZR(t,n,e,u,f),YR(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}BR(t,n,s)}function qR(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;zR(o)!=c&&o.push(c),o.push(n,r,s)}}function zR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function GR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;mu(n)&&XR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||nu(n,e),Hr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=$r(e,t,c,n);if(Hr(l,e),o!==null&&nM(e,c-i,l,u,n,o),rr(u)){let f=sr(n.index,e);f[qt]=$r(e,t,c,n)}}}function Zw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=DA();try{jr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Fh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&WR(u,l)}}finally{jr(-1),Fh(o)}}function WR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function KR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(MS(e,o.selectors,!1))if(r||(r=[]),rr(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Gh(t,e,u)}else r.unshift(o),Gh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Gh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function QR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new U(-301,!1);r.push(e[i],s)}}}function YR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;rr(e)&&(n[""]=t)}}function JR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ZR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Yi(i.type,!0)),o=new Br(s,rr(i),Y);t.blueprint[r]=o,n[r]=o,qR(t,e,r,Hw(t,n,i.hostVars,cs),i)}function XR(t,e,n){let r=Nt(e,t),i=Kw(n),s=t[zt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Du(t,wu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function eM(t,e,n,r,i,s){let o=Nt(t,e);tM(e[Ve],o,s,t.value,n,r,i)}function tM(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?hu(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function nM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],g=o[c++];$w(r,n,u,l,f,g)}}function rM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function Xw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function eE(t,e){let n=t.contentQueries;if(n!==null){let r=de(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Sf(s),c.contentQueries(2,e[o],o)}}}finally{de(r)}}}function Du(t,e){return t[Do]?t[G_][Ht]=e:t[Do]=e,t[G_]=e,e}function Wh(t,e,n){Sf(0);let r=de(null);try{e(t,n)}finally{de(r)}}function tE(t){return t[Eo]||(t[Eo]=[])}function nE(t){return t.cleanup||(t.cleanup=[])}function rE(t,e){let n=t[es],r=n?n.get(En,null):null;r&&r.handleError(e)}function Gf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];$w(f,l,r,c,u,i)}}function iM(t,e,n){let r=QI(e,t);fR(t[Ve],r,n)}function sM(t,e){let n=sr(e,t),r=n[J];oM(r,n);let i=n[bn];i!==null&&n[Jc]===null&&(n[Jc]=Uf(i,n[es])),Wf(r,n,n[qt])}function oM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Wf(t,e,n){Af(e);try{let r=t.viewQuery;r!==null&&Wh(1,r,n);let i=t.template;i!==null&&qw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wn]?.finishViewCreation(t),t.staticContentQueries&&eE(t,e),t.staticViewQueries&&Wh(2,t.viewQuery,n);let s=t.components;s!==null&&aM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[B]&=-5,Rf()}}function aM(t,e){for(let n=0;n<e.length;n++)sM(t,e[n])}function cM(t,e,n,r){let i=de(null);try{let s=e.tView,c=t[B]&4096?4096:16,u=wu(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[No]=l;let f=t[wn];return f!==null&&(u[wn]=f.createEmbeddedView(s)),Wf(s,u,n),u}finally{de(i)}}function sI(t,e){return!e||e.firstChild===null||Ew(t)}function uM(t,e,n,r=!0){let i=e[J];if(yR(i,e,t,n),r){let o=zh(n,t),c=e[Ve],u=$f(c,t[Ur]);u!==null&&gR(i,t[Gt],c,e,u,o)}let s=e[Jc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function su(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(en(s)),Tn(s)&&lM(s,r);let o=n.type;if(o&8)su(t,e,n.child,r);else if(o&32){let c=Bf(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=Lw(e,n);if(Array.isArray(c))r.push(...c);else{let u=bo(e[Xt]);su(u[J],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function lM(t,e){for(let n=_t;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&su(r[J],r,i,e)}t[Ur]!==t[bn]&&e.push(t[Ur])}var iE=[];function dM(t){return t[Lr]??hM(t)}function hM(t){let e=iE.pop()??Object.create(pM);return e.lView=t,e}function fM(t){t.lView[Lr]!==t&&(t.lView=null,iE.push(t))}var pM=me(O({},a_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Co(t.lView)},consumerOnSignalRead(){this.lView[Lr]=this}}),sE=100;function oE(t,e=!0,n=0){let r=t[zt],i=r.rendererFactory,s=!1;s||i.begin?.();try{gM(t,n)}catch(o){throw e&&rE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function gM(t,e){Kh(t,e);let n=0;for(;Tf(t);){if(n===sE)throw new U(103,!1);n++,Kh(t,1)}}function mM(t,e,n,r){let i=e[B];if((i&256)===256)return;let s=!1;!s&&e[zt].inlineEffectRunner?.flush(),Af(e);let o=null,c=null;!s&&yM(t)&&(c=dM(e),o=c_(c));try{JI(e),_A(t.bindingStartIndex),n!==null&&qw(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let g=t.preOrderCheckHooks;g!==null&&$c(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Hc(e,g,0,null),gh(e,0)}if(vM(e),aE(e,0),t.contentQueries!==null&&eE(t,e),!s)if(u){let g=t.contentCheckHooks;g!==null&&$c(e,g)}else{let g=t.contentHooks;g!==null&&Hc(e,g,1),gh(e,1)}PR(t,e);let l=t.components;l!==null&&uE(e,l,0);let f=t.viewQuery;if(f!==null&&Wh(2,f,r),!s)if(u){let g=t.viewCheckHooks;g!==null&&$c(e,g)}else{let g=t.viewHooks;g!==null&&Hc(e,g,2),gh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ph]){for(let g of e[ph])g();e[ph]=null}s||(e[B]&=-73)}catch(u){throw Co(e),u}finally{c!==null&&(u_(c,o),fM(c)),Rf()}}function yM(t){return t.type!==2}function aE(t,e){for(let n=Cw(t);n!==null;n=bw(n))for(let r=_t;r<n.length;r++){let i=n[r];cE(i,e)}}function vM(t){for(let e=Cw(t);e!==null;e=bw(e)){if(!(e[B]&Df.HasTransplantedViews))continue;let n=e[ts];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ge];cA(i)}}}function _M(t,e,n){let r=sr(e,t);cE(r,n)}function cE(t,e){bf(t)&&Kh(t,e)}function Kh(t,e){let r=t[J],i=t[B],s=t[Lr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Hd(s)),s&&(s.dirty=!1),t[B]&=-9217,o)mM(r,t,r.template,t[qt]);else if(i&8192){aE(t,1);let c=r.components;c!==null&&uE(t,c,1)}}function uE(t,e,n){for(let r=0;r<e.length;r++)_M(t,e[r],n)}function Kf(t){for(t[zt].changeDetectionScheduler?.notify();t;){t[B]|=64;let e=bo(t);if(ZS(t)&&!e)return t;t=e}return null}var qr=class{get rootNodes(){let e=this._lView,n=e[J];return su(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return(this._lView[B]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ge];if(Tn(e)){let n=e[Zc],r=n?n.indexOf(this):-1;r>-1&&(qh(e,r),Qc(n,r))}this._attachedToViewContainer=!1}Fw(this._lView[J],this._lView)}onDestroy(e){ZI(this._lView,e)}markForCheck(){Kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){kh(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,oE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ow(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e,kh(this._lView)}},ns=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EM;let t=e;return t})(),IM=ns,wM=class extends IM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=cM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new qr(i)}};function EM(){return Qf(lt(),ve())}function Qf(t,e){return t.type&4?new wM(e,t,as(t,e)):null}var mz=new RegExp(`^(\\d+)*(${eR}|${XA})*(.*)`);var DM=()=>null;function oI(t,e){return DM(t,e)}var Qh=class{},Yh=class{},ou=class{};function CM(t){let e=Error(`No component factory found for ${ct(t)}.`);return e[bM]=t,e}var bM="ngComponent";var Jh=class{resolveComponentFactory(e){throw CM(e)}},Cu=(()=>{let e=class e{};e.NULL=new Jh;let t=e;return t})(),To=class{},ar=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>TM();let t=e;return t})();function TM(){let t=ve(),e=lt(),n=sr(e.index,t);return(kr(n)?n:t)[Ve]}var SM=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ih={};var aI=new Set;function lE(t){aI.has(t)||(aI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function cI(...t){}function AM(){let t=typeof In.requestAnimationFrame=="function",e=In[t?"requestAnimationFrame":"setTimeout"],n=In[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ye=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=AM().nativeRequestAnimationFrame,xM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,RM,cI,cI);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},RM={};function Yf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function MM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(In,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Zh(t),t.isCheckStableRunning=!0,Yf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Zh(t))}function xM(t){let e=()=>{MM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,c)=>{if(NM(c))return n.invokeTask(i,s,o,c);try{return uI(t),n.invokeTask(i,s,o,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lI(t)}},onInvoke:(n,r,i,s,o,c,u)=>{try{return uI(t),n.invoke(i,s,o,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),lI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Zh(t),Yf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Zh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function uI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lI(t){t._nesting--,Yf(t)}function NM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var dE=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Xh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=F_(i,c);else if(s==2){let u=c,l=e[++o];r=F_(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var au=class extends Cu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Vr(e);return new So(n,this.ngModule)}};function dI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function PM(t){let e=t.toLowerCase();return e==="svg"?nA:e==="math"?rA:null}var ef=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=fu(r);let i=this.injector.get(e,Ih,r);return i!==Ih||n===Ih?i:this.parentInjector.get(e,n,r)}},So=class extends ou{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=dI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return dI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=OS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=de(null);try{i=i||this.ngModule;let o=i instanceof xt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new ef(e,o):e,u=c.get(To,null);if(u===null)throw new U(407,!1);let l=c.get(SM,null),f=c.get(dE,null),g=c.get(Qh,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:g},b=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",N=r?FR(b,r,this.componentDef.encapsulation,c):Pw(b,A,PM(A)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let F=null;N!==null&&(F=Uf(N,c,!0));let te=zf(0,null,null,1,0,null,null,null,null,null,null),Q=wu(null,te,null,P,null,null,y,b,c,null,F);Af(Q);let ge,He;try{let fe=this.componentDef,E,m=null;fe.findHostDirectiveDefs?(E=[],m=new Map,fe.findHostDirectiveDefs(fe,E,m),E.push(fe)):E=[fe];let v=OM(Q,N),w=kM(v,N,fe,E,Q,y,b);He=YI(te,nr),N&&LM(b,fe,N,r),n!==void 0&&UM(He,this.ngContentSelectors,n),ge=VM(w,fe,E,m,Q,[jM]),Wf(te,Q,null)}finally{Rf()}return new tf(this.componentType,ge,as(He,Q),Q,He)}finally{de(s)}}},tf=class extends Yh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new qr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Gf(s[J],s,i,e,n),this.previousInputValues.set(e,n);let o=sr(this._tNode.index,s);Kf(o)}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function OM(t,e){let n=t[J],r=nr;return t[r]=e,Eu(n,r,2,"#host",null)}function kM(t,e,n,r,i,s,o){let c=i[J];FM(r,t,e,o);let u=null;e!==null&&(u=Uf(e,i[es]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=wu(i,Kw(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&Gh(c,t,r.length-1),Du(i,g),i[t.index]=g}function FM(t,e,n,r){for(let i of t)e.mergedAttrs=Io(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Xh(e,e.mergedAttrs,!0),n!==null&&jw(r,n,e))}function VM(t,e,n,r,i,s){let o=lt(),c=i[J],u=Nt(o,i);Jw(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,y=$r(i,c,g,o);Hr(y,i)}Zw(c,i,o),u&&Hr(u,i);let l=$r(i,c,o.directiveStart+o.componentOffset,o);if(t[qt]=i[qt]=l,s!==null)for(let f of s)f(l,e);return zw(c,o,i),l}function LM(t,e,n,r){if(r)Mh(t,n,["ng-version","17.3.4"]);else{let{attrs:i,classes:s}=kS(e.selectors[0]);i&&Mh(t,n,i),s&&s.length>0&&Uw(t,n,s.join(" "))}}function UM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function jM(){let t=lt();Pf(ve()[J],t)}var Yr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=BM;let t=e;return t})();function BM(){let t=lt();return fE(t,ve())}var $M=Yr,hE=class extends $M{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return as(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Of(this._hostTNode,this._hostLView);if(lw(e)){let n=tu(e,this._hostLView),r=eu(e),i=n[J].data[r+8];return new Fr(i,n)}else return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=hI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=oI(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,sI(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!JS(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new So(Vr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(xt,null);N&&(s=N)}let f=Vr(u.componentType??{}),g=oI(this._lContainer,f?.id??null),y=g?.firstChild??null,b=u.create(l,i,y,s);return this.insertImpl(b.hostView,c,sI(this._hostTNode,g)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(aA(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ge],l=new hE(u,u[Gt],u[Ge]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return uM(o,i,s,r),e.attachToViewContainerRef(),TI(wh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=hI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=qh(this._lContainer,n);r&&(Qc(wh(this._lContainer),n),Fw(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=qh(this._lContainer,n);return r&&Qc(wh(this._lContainer),n)!=null?new qr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function hI(t){return t[Zc]}function wh(t){return t[Zc]||(t[Zc]=[])}function fE(t,e){let n,r=e[t.index];return Tn(r)?n=r:(n=Xw(r,e,null,t),e[t.index]=n,Du(e,n)),qM(n,e,t,r),new hE(n,t,e)}function HM(t,e){let n=t[Ve],r=n.createComment(""),i=Nt(e,t),s=$f(n,i);return iu(n,s,r,CR(n,i),!1),r}var qM=WM,zM=()=>!1;function GM(t,e,n){return zM(t,e,n)}function WM(t,e,n,r){if(t[Ur])return;let i;n.type&8?i=en(r):i=HM(e,n),t[Ur]=i}var nf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},rf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Jf(e,n).matches!==null&&this.queries[n].setDirty()}},sf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=tx(e):this.predicate=e}},of=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},af=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,KM(n,s)),this.matchTNodeWithReadOption(e,n,qc(n,e,s,!1,!1))}else r===ns?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,qc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ot||i===Yr||i===ns&&n.type&4)this.addMatch(n.index,-2);else{let s=qc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function KM(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function QM(t,e){return t.type&11?as(t,e):t.type&4?Qf(t,e):null}function YM(t,e,n,r){return n===-1?QM(e,t):n===-2?JM(t,e,r):$r(t,t[J],n,e)}function JM(t,e,n){if(n===Ot)return as(e,t);if(n===ns)return Qf(e,t);if(n===Yr)return fE(e,t)}function pE(t,e,n,r){let i=e[wn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,c=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)c.push(null);else{let f=s[l];c.push(YM(e,f,o[u+1],n.metadata.read))}}i.matches=c}return i.matches}function cf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=pE(t,e,i,n);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)r.push(o[c/2]);else{let l=s[c+1],f=e[-u];for(let g=_t;g<f.length;g++){let y=f[g];y[No]===y[Ge]&&cf(y[J],y,l,r)}if(f[ts]!==null){let g=f[ts];for(let y=0;y<g.length;y++){let b=g[y];cf(b[J],b,l,r)}}}}}return r}function ZM(t,e){return t[wn].queries[e].queryList}function XM(t,e,n){let r=new $h((n&4)===4);return UR(t,e,r,r.destroy),(e[wn]??=new rf).queries.push(new nf(r))-1}function ex(t,e,n,r){let i=ut();if(i.firstCreatePass){let s=lt();nx(i,new sf(e,n,r),s.index),rx(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return XM(i,ve(),n)}function tx(t){return t.split(",").map(e=>e.trim())}function nx(t,e,n){t.queries===null&&(t.queries=new of),t.queries.track(new af(e,n))}function rx(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Jf(t,e){return t.queries.getByIndex(e)}function ix(t,e){let n=t[J],r=Jf(n,e);return r.crossesNgTemplate?cf(n,t,e,[]):pE(n,t,r,e)}function sx(t){return typeof t=="function"&&t[$d]!==void 0}function gE(t){return sx(t)&&typeof t.set=="function"}function ox(t){return Object.getPrototypeOf(t.prototype).constructor}function An(t){let e=ox(t.type),n=!0,r=[t];for(;e;){let i;if(rr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Uc(t.inputs),o.inputTransforms=Uc(t.inputTransforms),o.declaredInputs=Uc(t.declaredInputs),o.outputs=Uc(t.outputs);let c=i.hostBindings;c&&dx(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&ux(t,u),l&&lx(t,l),ax(t,i),XT(t.outputs,i.outputs),rr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===An&&(n=!1)}}e=Object.getPrototypeOf(e)}cx(r)}function ax(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function cx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Io(i.hostAttrs,n=Io(n,i.hostAttrs))}}function Uc(t){return t===Ji?{}:t===Mt?[]:t}function ux(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function lx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function dx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Zf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ir=class{},Ao=class{};var uf=class extends ir{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new au(this);let i=kI(e);this._bootstrapComponents=Nw(i.bootstrap),this._r3Injector=_w(e,n,[{provide:ir,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver},...r],ct(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},lf=class extends Ao{constructor(e){super(),this.moduleType=e}create(e){return new uf(this.moduleType,e,[])}};var cu=class extends ir{constructor(e){super(),this.componentFactoryResolver=new au(this),this.instance=null;let n=new wo([...e.providers,{provide:ir,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],e.parent||Ef(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Xf(t,e,n=null){return new cu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var bu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ko(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function hx(t){return(t.flags&32)===32}function fx(t,e,n,r,i,s,o,c,u){let l=e.consts,f=Eu(e,t,4,o||null,Xc(l,c));Yw(e,n,f,Xc(l,u)),Pf(e,f);let g=f.tView=zf(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function cr(t,e,n,r,i,s,o,c){let u=ve(),l=ut(),f=t+nr,g=l.firstCreatePass?fx(f,l,u,e,n,r,i,s,o):l.data[f];Po(g,!1);let y=px(l,u,g,t);xf()&&Hf(l,u,y,g),Hr(y,u);let b=Xw(y,u,y,g);return u[f]=b,Du(u,b),GM(b,g,u),Cf(g)&&Gw(l,u,g),o!=null&&Ww(u,g,c),cr}var px=gx;function gx(t,e,n,r){return Nf(!0),e[Ve].createComment("")}function Fo(t,e,n,r){let i=ve(),s=yu();if(ko(i,s,e)){let o=ut(),c=Mf();eM(c,i,t,e,n,r)}return Fo}function mx(t,e,n,r){return ko(t,yu(),n)?e+hu(n)+r:cs}function jc(t,e){return t<<17|e<<2}function zr(t){return t>>17&32767}function yx(t){return(t&2)==2}function vx(t,e){return t&131071|e<<17}function df(t){return t|2}function rs(t){return(t&131068)>>2}function Eh(t,e){return t&-131069|e<<2}function _x(t){return(t&1)===1}function hf(t){return t|1}function Ix(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=zr(o),u=rs(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||xo(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=zr(t[c+1]);t[r+1]=jc(y,c),y!==0&&(t[y+1]=Eh(t[y+1],r)),t[c+1]=vx(t[c+1],r)}else t[r+1]=jc(c,0),c!==0&&(t[c+1]=Eh(t[c+1],r)),c=r;else t[r+1]=jc(u,0),c===0?c=r:t[u+1]=Eh(t[u+1],r),u=r;l&&(t[r+1]=df(t[r+1])),fI(t,f,r,!0),fI(t,f,r,!1),wx(e,f,t,r,s),o=jc(c,u),s?e.classBindings=o:e.styleBindings=o}function wx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&xo(s,e)>=0&&(n[r+1]=hf(n[r+1]))}function fI(t,e,n,r){let i=t[n+1],s=e===null,o=r?zr(i):rs(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];Ex(u,e)&&(c=!0,t[o+1]=r?hf(l):df(l)),o=r?zr(l):rs(l)}c&&(t[n+1]=r?df(i):hf(i))}function Ex(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?xo(t,e)>=0:!1}function nn(t,e,n){let r=ve(),i=yu();if(ko(r,i,e)){let s=ut(),o=Mf();Qw(s,o,r,t,e,r[Ve],n,!1)}return nn}function pI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Gf(t,n,s[o],o,r)}function Tu(t,e){return Dx(t,e,null,!0),Tu}function Dx(t,e,n,r){let i=ve(),s=ut(),o=IA(2);if(s.firstUpdatePass&&bx(s,t,o,r),e!==cs&&ko(i,o,e)){let c=s.data[ss()];Mx(s,c,i,i[Ve],t,i[o+1]=xx(e,n),r,o)}}function Cx(t,e){return e>=t.expandoStartIndex}function bx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ss()],o=Cx(t,n);Nx(s,r)&&e===null&&!o&&(e=!1),e=Tx(i,s,e,r),Ix(i,s,e,n,o,r)}}function Tx(t,e,n,r){let i=CA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Dh(null,t,e,n,r),n=Ro(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Dh(i,t,e,n,r),s===null){let u=Sx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Dh(null,t,e,u[1],r),u=Ro(u,e.attrs,r),Ax(t,e,r,u))}else s=Rx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Sx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(rs(r)!==0)return t[zr(r)]}function Ax(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[zr(i)]=r}function Rx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ro(r,o,n)}return Ro(r,e.attrs,n)}function Dh(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Ro(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Ro(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ES(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Mx(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=_x(l)?gI(u,e,n,i,rs(l),o):void 0;if(!uu(f)){uu(s)||yx(l)&&(s=gI(u,null,n,i,c,o));let g=QI(ss(),n);xR(r,o,g,i,s)}}function gI(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,y=n[i+1];y===cs&&(y=g?Mt:void 0);let b=g?hh(y,r):f===r?y:void 0;if(l&&!uu(b)&&(b=hh(u,r)),uu(b)&&(c=b,o))return c;let A=t[i+1];i=o?zr(A):rs(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=hh(u,r))}return c}function uu(t){return t!==void 0}function xx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ct(Oo(t)))),t}function Nx(t,e){return(t.flags&(e?8:16))!==0}function Px(t,e,n,r,i,s){let o=e.consts,c=Xc(o,i),u=Eu(e,t,2,r,c);return Yw(e,n,u,Xc(o,s)),u.attrs!==null&&Xh(u,u.attrs,!1),u.mergedAttrs!==null&&Xh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function V(t,e,n,r){let i=ve(),s=ut(),o=nr+t,c=i[Ve],u=s.firstCreatePass?Px(o,s,i,e,n,r):s.data[o],l=Ox(s,i,u,c,e,t);i[o]=l;let f=Cf(u);return Po(u,!0),jw(c,l,u),!hx(u)&&xf()&&Hf(s,i,l,u),dA()===0&&Hr(l,i),hA(),f&&(Gw(s,i,u),zw(s,u,i)),r!==null&&Ww(i,u),V}function G(){let t=lt();tw()?vA():(t=t.parent,Po(t,!1));let e=t;gA(e)&&mA(),fA();let n=ut();return n.firstCreatePass&&(Pf(n,t),qI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&xA(e)&&pI(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&NA(e)&&pI(n,e,ve(),e.stylesWithoutHost,!1),G}function Ce(t,e,n,r){return V(t,e,n,r),G(),Ce}var Ox=(t,e,n,r,i,s)=>(Nf(!0),Pw(r,i,SA()));function Jr(){return ve()}var lu="en-US";var kx=lu;function Fx(t){typeof t=="string"&&(kx=t.toLowerCase().replace(/_/g,"-"))}function Et(t,e,n,r){let i=ve(),s=ut(),o=lt();return mE(s,i,i[Ve],o,t,e,r),Et}function Vx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[Eo],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function mE(t,e,n,r,i,s,o){let c=Cf(r),l=t.firstCreatePass&&nE(t),f=e[qt],g=tE(e),y=!0;if(r.type&3||o){let N=Nt(r,e),P=o?o(N):N,F=g.length,te=o?ge=>o(en(ge[r.index])):r.index,Q=null;if(!o&&c&&(Q=Vx(t,e,i,r.index)),Q!==null){let ge=Q.__ngLastListenerFn__||Q;ge.__ngNextListenerFn__=s,Q.__ngLastListenerFn__=s,y=!1}else{s=yI(r,e,f,s,!1);let ge=n.listen(P,i,s);g.push(s,ge),l&&l.push(i,te,F,F+1)}}else s=yI(r,e,f,s,!1);let b=r.outputs,A;if(y&&b!==null&&(A=b[i])){let N=A.length;if(N)for(let P=0;P<N;P+=2){let F=A[P],te=A[P+1],He=e[F][te].subscribe(s),fe=g.length;g.push(s,He),l&&l.push(i,r.index,fe,-(fe+1))}}}function mI(t,e,n,r){let i=de(null);try{return Yt(6,e,n),n(r)!==!1}catch(s){return rE(t,s),!1}finally{Yt(7,e,n),de(i)}}function yI(t,e,n,r,i){return function s(o){if(o===Function)return r;let c=t.componentOffset>-1?sr(t.index,e):e;Kf(c);let u=mI(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=mI(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function Zr(t=1){return TA(t)}function yE(t,e,n,r){ex(t,e,n,r)}function vE(t){let e=ve(),n=ut(),r=nw();Sf(r+1);let i=Jf(n,r);if(t.dirty&&oA(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=ix(e,r);t.reset(s,zA),t.notifyOnChanges()}return!0}return!1}function _E(){return ZM(ve(),nw())}function he(t,e=""){let n=ve(),r=ut(),i=t+nr,s=r.firstCreatePass?Eu(r,i,1,e,null):r.data[i],o=Lx(r,n,s,e,t);n[i]=o,xf()&&Hf(r,n,o,s),Po(s,!1)}var Lx=(t,e,n,r,i)=>(Nf(!0),hR(e[Ve],r));function Vo(t,e,n){let r=ve(),i=mx(r,t,e,n);return i!==cs&&iM(r,ss(),i),Vo}function Rn(t,e,n){gE(e)&&(e=e());let r=ve(),i=yu();if(ko(r,i,e)){let s=ut(),o=Mf();Qw(s,o,r,t,e,r[Ve],n,!1)}return Rn}function ur(t,e){let n=gE(t);return n&&t.set(e),n}function Mn(t,e){let n=ve(),r=ut(),i=lt();return mE(r,n,n[Ve],i,t,e),Mn}function Ux(t,e,n){let r=ut();if(r.firstCreatePass){let i=rr(t);ff(n,r.data,r.blueprint,i,!0),ff(e,r.data,r.blueprint,i,!1)}}function ff(t,e,n,r,i){if(t=at(t),Array.isArray(t))for(let s=0;s<t.length;s++)ff(t[s],e,n,r,i);else{let s=ut(),o=ve(),c=lt(),u=Xi(t)?t:at(t.provide),l=BI(t),f=c.providerIndexes&1048575,g=c.directiveStart,y=c.providerIndexes>>20;if(Xi(t)||!t.multi){let b=new Br(l,i,Y),A=bh(u,e,i?f:f+y,g);A===-1?(Lh(nu(c,o),s,u),Ch(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(b),o.push(b)):(n[A]=b,o[A]=b)}else{let b=bh(u,e,f+y,g),A=bh(u,e,f,f+y),N=b>=0&&n[b],P=A>=0&&n[A];if(i&&!P||!i&&!N){Lh(nu(c,o),s,u);let F=$x(i?Bx:jx,n.length,i,r,l);!i&&P&&(n[A].providerFactory=F),Ch(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=IE(n[i?A:b],l,!i&&r);Ch(s,t,b>-1?b:A,F)}!i&&r&&P&&n[A].componentProviders++}}}function Ch(t,e,n,r){let i=Xi(e),s=HS(e);if(i||s){let u=(s?at(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function IE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function bh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function jx(t,e,n,r){return pf(this.multi,[])}function Bx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=$r(n,n[J],this.providerFactory.index,r);s=c.slice(0,o),pf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],pf(i,s);return s}function pf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function $x(t,e,n,r,i){let s=new Br(t,n,Y);return s.multi=[],s.index=e,s.componentProviders=0,IE(s,i,r&&!n),s}function Lo(t,e=[]){return n=>{n.providersResolver=(r,i)=>Ux(r,i?i(t):t,e)}}var Hx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=LI(!1,r.type),s=i.length>0?Xf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(ie(xt))});let t=e;return t})();function gt(t){lE("NgStandalone"),t.getStandaloneInjector=e=>e.get(Hx).getOrCreateStandaloneInjector(t)}var Cn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},wE=new Cn("17.3.4"),Su=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var EE=new H("");function Xr(t){return!!t&&typeof t.then=="function"}function DE(t){return!!t&&typeof t.subscribe=="function"}var CE=new H(""),bE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(CE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Xr(o))r.push(o);else if(DE(o)){let c=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ep=new H("");function qx(){d_(()=>{throw new U(600,!1)})}function zx(t){return t.isBoundToModule}function Gx(t,e,n){try{let r=n();return Xr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Uo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(Iw),this.afterRenderEffectManager=k(dE),this.externalTestViews=new Set,this.beforeRender=new et,this.afterTick=new et,this.componentTypes=[],this.components=[],this.isStable=k(bu).hasPendingTasks.pipe(re(r=>!r)),this._injector=k(xt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ou;if(!this._injector.get(bE).done){let b=!s&&OI(r),A=!1;throw new U(405,A)}let c;s?c=r:c=this._injector.get(Cu).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=zx(c)?void 0:this._injector.get(ir),l=i||c.selector,f=c.create(Pt.NULL,[],l,u),g=f.location.nativeElement,y=f.injector.get(EE,null);return y?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),Th(this.components,f),y?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new U(101,!1);let i=de(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,de(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===sE)throw new U(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:c,notifyErrorHandler:u}of this._views)Wx(c,o,u)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>gf(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>gf(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Th(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ep,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Th(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new U(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Th(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Wx(t,e,n){!e&&!gf(t)||Kx(t,n,e)}function gf(t){return Tf(t)}function Kx(t,e,n){let r;n?(r=0,t[B]|=1024):t[B]&64?r=0:r=1,oE(t,e,r)}var mf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},tp=(()=>{let e=class e{compileModuleSync(r){return new lf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=kI(r),o=Nw(s.declarations).reduce((c,u)=>{let l=Vr(u);return l&&c.push(new So(l)),c},[]);return new mf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qx=(()=>{let e=class e{constructor(){this.zone=k(ye),this.applicationRef=k(Uo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yx(t){return[{provide:ye,useFactory:t},{provide:Zi,multi:!0,useFactory:()=>{let e=k(Qx,{optional:!0});return()=>e.initialize()}},{provide:Zi,multi:!0,useFactory:()=>{let e=k(eN);return()=>{e.initialize()}}},{provide:Iw,useFactory:Jx}]}function Jx(){let t=k(ye),e=k(En);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Zx(t){let e=Yx(()=>new ye(Xx(t)));return tn([[],e])}function Xx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var eN=(()=>{let e=class e{constructor(){this.subscription=new Se,this.initialized=!1,this.zone=k(ye),this.pendingTasks=k(bu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tN(){return typeof $localize<"u"&&$localize.locale||lu}var np=new H("",{providedIn:"root",factory:()=>k(np,Z.Optional|Z.SkipSelf)||tN()});var TE=new H("");var Gc=null;function nN(t=[],e){return Pt.create({name:e,providers:[{provide:pu,useValue:"platform"},{provide:TE,useValue:new Set([()=>Gc=null])},...t]})}function rN(t=[]){if(Gc)return Gc;let e=nN(t);return Gc=e,qx(),iN(e),e}function iN(t){t.get(Vf,null)?.forEach(n=>n())}var lr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=sN;let t=e;return t})();function sN(t){return oN(lt(),ve(),(t&16)===16)}function oN(t,e,n){if(mu(t)&&!n){let r=sr(t.index,e);return new qr(r,r)}else if(t.type&47){let r=e[Xt];return new qr(r,e)}return null}function SE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=rN(r),s=[Zx(),...n||[]],c=new cu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(ye);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(En,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:b=>{l.handleError(b)}})});let g=()=>c.destroy(),y=i.get(TE);return y.add(g),c.onDestroy(()=>{f.unsubscribe(),y.delete(g)}),Gx(l,u,()=>{let b=c.get(bE);return b.runInitializers(),b.donePromise.then(()=>{let A=c.get(np,lu);Fx(A||lu);let N=c.get(Uo);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function dr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var xE=null;function xn(){return xE}function NE(t){xE??=t}var Au=class{};var kt=new H(""),PE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(aN),providedIn:"platform"});let t=e;return t})();var aN=(()=>{let e=class e extends PE{constructor(){super(),this._doc=k(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xn().getBaseHref(this._doc)}onPopState(r){let i=xn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=xn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function OE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function AE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ei(t){return t&&t[0]!=="?"?"?"+t:t}var us=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(kE),providedIn:"root"});let t=e;return t})(),cN=new H(""),kE=(()=>{let e=class e extends us{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return OE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ei(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+ei(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+ei(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ie(PE),ie(cN,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jo=(()=>{let e=class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=dN(AE(RE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ei(i))}normalize(r){return e.stripTrailingSlash(lN(this._basePath,RE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ei(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ei(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ei,e.joinWithSlash=OE,e.stripTrailingSlash=AE,e.\u0275fac=function(i){return new(i||e)(ie(us))},e.\u0275prov=z({token:e,factory:()=>uN(),providedIn:"root"});let t=e;return t})();function uN(){return new jo(ie(us))}function lN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function RE(t){return t.replace(/\/index.html$/,"")}function dN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function FE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ls=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new rp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){ME("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){ME("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Y(Yr),Y(ns))},e.\u0275dir=We({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),rp=class{constructor(){this.$implicit=null,this.ngIf=null}};function ME(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ct(e)}'.`)}var ti=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Wr({});let t=e;return t})(),VE="browser",hN="server";function ip(t){return t===hN}var Ru=class{};var ap=class extends Au{constructor(){super(...arguments),this.supportsDOMEvents=!0}},cp=class t extends ap{static makeCurrent(){NE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=fN();return n==null?null:pN(n)}resetBaseElement(){Bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return FE(document.cookie,e)}},Bo=null;function fN(){return Bo=Bo||document.querySelector("base"),Bo?Bo.getAttribute("href"):null}function pN(t){return new URL(t,document.baseURI).pathname}var gN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),up=new H(""),BE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ie(up),ie(ye))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),xu=class{constructor(e){this._doc=e}},sp="ng-app-id",$E=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ip(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${sp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(sp),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(sp,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ie(kt),ie(Ff),ie(Lf,8),ie(or))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),op={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dp=/%COMP%/g,HE="%COMP%",mN=`_nghost-${HE}`,yN=`_ngcontent-${HE}`,vN=!0,_N=new H("",{providedIn:"root",factory:()=>vN});function IN(t){return yN.replace(dp,t)}function wN(t){return mN.replace(dp,t)}function qE(t,e){return e.map(n=>n.replace(dp,t))}var LE=(()=>{let e=class e{constructor(r,i,s,o,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=ip(u),this.defaultRenderer=new $o(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zt.ShadowDom&&(i=me(O({},i),{encapsulation:Zt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Nu?s.applyToHost(r):s instanceof Ho&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case Zt.Emulated:o=new Nu(l,f,i,this.appId,g,c,u,y);break;case Zt.ShadowDom:return new lp(l,f,r,i,c,u,this.nonce,y);default:o=new Ho(l,f,i,g,c,u,y);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ie(BE),ie($E),ie(Ff),ie(_N),ie(kt),ie(or),ie(ye),ie(Lf))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),$o=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(op[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(UE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(UE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=op[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=op[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Dn.DashCase|Dn.Important)?e.style.setProperty(n,r,i&Dn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Dn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=xn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function UE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var lp=class extends $o{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=qE(i.id,i.styles);for(let f of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ho=class extends $o{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?qE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Nu=class extends Ho{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=IN(l),this.hostAttr=wN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},EN=(()=>{let e=class e extends xu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),jE=["alt","control","meta","shift"],DN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},bN=(()=>{let e=class e extends xu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xn().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),jE.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=DN[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),jE.forEach(c=>{if(c!==s){let u=CN[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function zE(t,e){return SE(O({rootComponent:t},TN(e)))}function TN(t){return{appProviders:[...xN,...t?.providers??[]],platformProviders:MN}}function SN(){cp.makeCurrent()}function AN(){return new En}function RN(){return Sw(document),document}var MN=[{provide:or,useValue:VE},{provide:Vf,useValue:SN,multi:!0},{provide:kt,useFactory:RN,deps:[]}];var xN=[{provide:pu,useValue:"root"},{provide:En,useFactory:AN,deps:[]},{provide:up,useClass:EN,multi:!0,deps:[kt,ye,or]},{provide:up,useClass:bN,multi:!0,deps:[kt]},LE,$E,BE,{provide:To,useExisting:LE},{provide:Ru,useClass:gN,deps:[]},[]];var GE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var K="primary",ia=Symbol("RouteTitle"),mp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function gs(t){return new mp(t)}function PN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o.startsWith(":"))i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ON(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rn(t[n],e[n]))return!1;return!0}function rn(t,e){let n=t?yp(t):void 0,r=e?yp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ZE(t[i],e[i]))return!1;return!0}function yp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ZE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function XE(t){return t.length>0?t[t.length-1]:null}function pr(t){return sh(t)?t:Xr(t)?Te(Promise.resolve(t)):q(t)}var kN={exact:tD,subset:nD},eD={exact:FN,subset:VN,ignored:()=>!0};function WE(t,e,n){return kN[n.paths](t.root,e.root,n.matrixParams)&&eD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function FN(t,e){return rn(t,e)}function tD(t,e,n){if(!ri(t.segments,e.segments)||!ku(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!tD(t.children[r],e.children[r],n))return!1;return!0}function VN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ZE(t[n],e[n]))}function nD(t,e,n){return rD(t,e,e.segments,n)}function rD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ri(i,n)||e.hasChildren()||!ku(i,n,r))}else if(t.segments.length===n.length){if(!ri(t.segments,n)||!ku(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!nD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ri(t.segments,i)||!ku(t.segments,i,r)||!t.children[K]?!1:rD(t.children[K],e,s,r)}}function ku(t,e,n){return e.every((r,i)=>eD[n](t[i].parameters,r.parameters))}var hr=class{constructor(e=new pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=gs(this.queryParams),this._queryParamMap}toString(){return jN.serialize(this)}},pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fu(this)}},ni=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=gs(this.parameters),this._parameterMap}toString(){return sD(this)}};function LN(t,e){return ri(t,e)&&t.every((n,r)=>rn(n.parameters,e[r].parameters))}function ri(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function UN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}var Hp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new Lu,providedIn:"root"});let t=e;return t})(),Lu=class{parse(e){let n=new _p(e);return new hr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${qo(e.root,!0)}`,r=HN(e.queryParams),i=typeof e.fragment=="string"?`#${BN(e.fragment)}`:"";return`${n}${r}${i}`}},jN=new Lu;function Fu(t){return t.segments.map(e=>sD(e)).join("/")}function qo(t,e){if(!t.hasChildren())return Fu(t);if(e){let n=t.children[K]?qo(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${qo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=UN(t,(r,i)=>i===K?[qo(t.children[K],!1)]:[`${i}:${qo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${Fu(t)}/${n[0]}`:`${Fu(t)}/(${n.join("//")})`}}function iD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pu(t){return iD(t).replace(/%3B/gi,";")}function BN(t){return encodeURI(t)}function vp(t){return iD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vu(t){return decodeURIComponent(t)}function KE(t){return Vu(t.replace(/\+/g,"%20"))}function sD(t){return`${vp(t.path)}${$N(t.parameters)}`}function $N(t){return Object.entries(t).map(([e,n])=>`;${vp(e)}=${vp(n)}`).join("")}function HN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Pu(n)}=${Pu(i)}`).join("&"):`${Pu(n)}=${Pu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var qN=/^[^\/()?;#]+/;function hp(t){let e=t.match(qN);return e?e[0]:""}var zN=/^[^\/()?;=#]+/;function GN(t){let e=t.match(zN);return e?e[0]:""}var WN=/^[^=?&#]+/;function KN(t){let e=t.match(WN);return e?e[0]:""}var QN=/^[^&#]+/;function YN(t){let e=t.match(QN);return e?e[0]:""}var _p=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new pe(e,n)),r}parseSegment(){let e=hp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new ni(Vu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=GN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=hp(this.remaining);i&&(r=i,this.capture(r))}e[Vu(n)]=Vu(r)}parseQueryParam(e){let n=KN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=YN(this.remaining);o&&(r=o,this.capture(r))}let i=KE(n),s=KE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=hp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[K]:new pe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function oD(t){return t.segments.length>0?new pe([],{[K]:t}):t}function aD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=aD(i);if(r===K&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new pe(t.segments,e);return JN(n)}function JN(t){if(t.numberOfChildren===1&&t.children[K]){let e=t.children[K];return new pe(t.segments.concat(e.segments),e.children)}return t}function ms(t){return t instanceof hr}function ZN(t,e,n=null,r=null){let i=cD(t);return uD(i,e,n,r)}function cD(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new pe(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=oD(r);return e??i}function uD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return fp(i,i,i,n,r);let s=XN(e);if(s.toRoot())return fp(i,i,new pe([],{}),n,r);let o=eP(s,i,t),c=o.processChildren?Wo(o.segmentGroup,o.index,s.commands):dD(o.segmentGroup,o.index,s.commands);return fp(i,o.segmentGroup,c,n,r)}function Uu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Yo(t){return typeof t=="object"&&t!=null&&t.outlets}function fp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=lD(t,e,n);let c=oD(aD(o));return new hr(c,s,i)}function lD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=lD(s,e,n)}),new pe(t.segments,r)}var ju=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Uu(r[0]))throw new U(4003,!1);let i=r.find(Yo);if(i&&i!==XE(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ju(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new ju(n,e,r)}var fs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function eP(t,e,n){if(t.isAbsolute)return new fs(e,!0,0);if(!n)return new fs(e,!1,NaN);if(n.parent===null)return new fs(n,!0,0);let r=Uu(t.commands[0])?0:1,i=n.segments.length-1+r;return tP(n,i,t.numberOfDoubleDots)}function tP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new fs(r,!1,i-s)}function nP(t){return Yo(t[0])?t[0].outlets:{[K]:t}}function dD(t,e,n){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return Wo(t,e,n);let r=rP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new pe(t.segments.slice(0,r.pathIndex),{});return s.children[K]=new pe(t.segments.slice(r.pathIndex),t.children),Wo(s,0,i)}else return r.match&&i.length===0?new pe(t.segments,{}):r.match&&!t.hasChildren()?Ip(t,e,n):r.match?Wo(t,0,i):Ip(t,e,n)}function Wo(t,e,n){if(n.length===0)return new pe(t.segments,{});{let r=nP(n),i={};if(Object.keys(r).some(s=>s!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let s=Wo(t.children[K],e,n);return new pe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=dD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new pe(t.segments,i)}}function rP(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(Yo(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!YE(u,l,o))return s;r+=2}else{if(!YE(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ip(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Yo(s)){let u=iP(s.outlets);return new pe(r,u)}if(i===0&&Uu(n[0])){let u=t.segments[e];r.push(new ni(u.path,QE(n[0]))),i++;continue}let o=Yo(s)?s.outlets[K]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&Uu(c)?(r.push(new ni(o,QE(c))),i+=2):(r.push(new ni(o,{})),i++)}return new pe(r,{})}function iP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ip(new pe([],{}),0,r))}),e}function QE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function YE(t,e,n){return t==n.path&&rn(e,n.parameters)}var Ko="imperative",Qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qe||{}),Ft=class{constructor(e,n){this.id=e,this.url=n}},Jo=class extends Ft{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Nn=class extends Ft{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ct=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ct||{}),wp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(wp||{}),fr=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ii=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationSkipped}},Zo=class extends Ft{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bu=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ep=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dp=class extends Ft{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Cp=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bp=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tp=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sp=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ap=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rp=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mp=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xp=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Xo=class{},ea=class{constructor(e){this.url=e}};var Np=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ku,this.attachRef=null}},Ku=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Np,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$u=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Pp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Pp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Op(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Op(e,this._root).map(n=>n.value)}};function Pp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Pp(t,n);if(r)return r}return null}function Op(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Op(t,n);if(r.length)return r.unshift(e),r}return[]}var Dt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function hs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Hu=class extends $u{constructor(e,n){super(e),this.snapshot=n,zp(this,e)}toString(){return this.snapshot.toString()}};function hD(t){let e=sP(t),n=new ze([new ni("",{})]),r=new ze({}),i=new ze({}),s=new ze({}),o=new ze(""),c=new si(n,r,s,o,i,K,t,e.root);return c.snapshot=e.root,new Hu(new Dt(c,[]),e)}function sP(t){let e={},n={},r={},i="",s=new ta([],e,r,i,n,K,t,null,{});return new qu("",new Dt(s,[]))}var si=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[ia]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>gs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>gs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&pD(i)&&(r.resolve[ia]=i.title),r}var ta=class{get title(){return this.data?.[ia]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=gs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=gs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},qu=class extends $u{constructor(e,n){super(n),this.url=e,zp(this,n)}toString(){return fD(this._root)}};function zp(t,e){e.value._routerState=t,e.children.forEach(n=>zp(t,n))}function fD(t){let e=t.children.length>0?` { ${t.children.map(fD).join(", ")} } `:"";return`${t.value}${e}`}function pp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),rn(e.params,n.params)||t.paramsSubject.next(n.params),ON(e.url,n.url)||t.urlSubject.next(n.url),rn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function kp(t,e){let n=rn(t.params,e.params)&&LN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||kp(t.parent,e.parent))}function pD(t){return typeof t.title=="string"||t.title===null}var Gp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=k(Ku),this.location=k(Yr),this.changeDetector=k(lr),this.environmentInjector=k(xt),this.inputBinder=k(Wp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Fp(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=We({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Sn]});let t=e;return t})(),Fp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===si?this.route:e===Ku?this.childContexts:this.parent.get(e,n)}},Wp=new H("");function oP(t,e,n){let r=na(t,e._root,n?n._root:void 0);return new Hu(r,e)}function na(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=aP(t,e,n);return new Dt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>na(t,c)),o}}let r=cP(e.value),i=e.children.map(s=>na(t,s));return new Dt(r,i)}}function aP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return na(t,r,i);return na(t,r)})}function cP(t){return new si(new ze(t.url),new ze(t.params),new ze(t.queryParams),new ze(t.fragment),new ze(t.data),t.outlet,t.component,t)}var gD="ngNavigationCancelingError";function mD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ms(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=yD(!1,Ct.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function yD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[gD]=!0,n.cancellationCode=e,n}function uP(t){return vD(t)&&ms(t.url)}function vD(t){return!!t&&t[gD]}var lP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pt({type:e,selectors:[["ng-component"]],standalone:!0,features:[gt],decls:1,vars:0,template:function(i,s){i&1&&Ce(0,"router-outlet")},dependencies:[Gp],encapsulation:2});let t=e;return t})();function dP(t,e){return t.providers&&!t._injector&&(t._injector=Xf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Kp(t){let e=t.children&&t.children.map(Kp),n=e?me(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=lP),n}function sn(t){return t.outlet||K}function hP(t,e){let n=t.filter(r=>sn(r)===e);return n.push(...t.filter(r=>sn(r)!==e)),n}function sa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var fP=(t,e,n,r)=>re(i=>(new Vp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Vp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),pp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=hs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=hs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=hs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=hs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new xp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Rp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(pp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),pp(c.route.value),this.activateChildRoutes(e,null,o.children)}else{let c=sa(i.snapshot);o.attachRef=null,o.route=i,o.injector=c,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},zu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ps=class{constructor(e,n){this.component=e,this.route=n}};function pP(t,e,n){let r=t._root,i=e?e._root:null;return zo(r,i,n,[r.value])}function gP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function vs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!II(t)?t:e.get(t):r}function zo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=hs(e);return t.children.forEach(o=>{mP(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Qo(c,n.getContext(o),i)),i}function mP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=yP(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new zu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?zo(t,e,c?c.children:null,r,i):zo(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new ps(c.outlet.component,o))}else o&&Qo(e,c,i),i.canActivateChecks.push(new zu(r)),s.component?zo(t,null,c?c.children:null,r,i):zo(t,null,n,r,i);return i}function yP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ri(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ri(t.url,e.url)||!rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kp(t,e)||!rn(t.queryParams,e.queryParams);case"paramsChange":default:return!kp(t,e)}}function Qo(t,e,n){let r=hs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Qo(o,e.children.getContext(s),n):Qo(o,null,n):Qo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ps(e.outlet.component,i)):n.canDeactivateChecks.push(new ps(null,i)):n.canDeactivateChecks.push(new ps(null,i))}function oa(t){return typeof t=="function"}function vP(t){return typeof t=="boolean"}function _P(t){return t&&oa(t.canLoad)}function IP(t){return t&&oa(t.canActivate)}function wP(t){return t&&oa(t.canActivateChild)}function EP(t){return t&&oa(t.canDeactivate)}function DP(t){return t&&oa(t.canMatch)}function _D(t){return t instanceof vn||t?.name==="EmptyError"}var Ou=Symbol("INITIAL_VALUE");function ys(){return Bt(t=>Pc(t.map(e=>e.pipe(_n(1),lh(Ou)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===Ou)return Ou;if(n===!1||n instanceof hr)return n}return!0}),jt(e=>e!==Ou),_n(1)))}function CP(t,e){return ke(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?q(me(O({},n),{guardsResult:!0})):bP(o,r,i,t).pipe(ke(c=>c&&vP(c)?TP(r,s,t,e):q(c)),re(c=>me(O({},n),{guardsResult:c})))})}function bP(t,e,n,r){return Te(t).pipe(ke(i=>xP(i.component,i.route,n,e,r)),Qt(i=>i!==!0,!0))}function TP(t,e,n,r){return Te(e).pipe(Hi(i=>$i(AP(i.route.parent,r),SP(i.route,r),MP(t,i.path,n),RP(t,i.route,n))),Qt(i=>i!==!0,!0))}function SP(t,e){return t!==null&&e&&e(new Mp(t)),q(!0)}function AP(t,e){return t!==null&&e&&e(new Ap(t)),q(!0)}function RP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(s=>Oc(()=>{let o=sa(e)??n,c=vs(s,o),u=IP(c)?c.canActivate(e,t):Qr(o,()=>c(e,t));return pr(u).pipe(Qt())}));return q(i).pipe(ys())}function MP(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>gP(o)).filter(o=>o!==null).map(o=>Oc(()=>{let c=o.guards.map(u=>{let l=sa(o.node)??n,f=vs(u,l),g=wP(f)?f.canActivateChild(r,t):Qr(l,()=>f(r,t));return pr(g).pipe(Qt())});return q(c).pipe(ys())}));return q(s).pipe(ys())}function xP(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return q(!0);let o=s.map(c=>{let u=sa(e)??i,l=vs(c,u),f=EP(l)?l.canDeactivate(t,e,n,r):Qr(u,()=>l(t,e,n,r));return pr(f).pipe(Qt())});return q(o).pipe(ys())}function NP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let s=i.map(o=>{let c=vs(o,t),u=_P(c)?c.canLoad(e,n):Qr(t,()=>c(e,n));return pr(u)});return q(s).pipe(ys(),ID(r))}function ID(t){return Jd(Fe(e=>{if(ms(e))throw mD(t,e)}),re(e=>e===!0))}function PP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let s=i.map(o=>{let c=vs(o,t),u=DP(c)?c.canMatch(e,n):Qr(t,()=>c(e,n));return pr(u)});return q(s).pipe(ys(),ID(r))}var ra=class{constructor(e){this.segmentGroup=e||null}},Gu=class extends Error{constructor(e){super(),this.urlTree=e}};function ds(t){return ji(new ra(t))}function OP(t){return ji(new U(4e3,!1))}function kP(t){return ji(yD(!1,Ct.GuardRejected))}var Lp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[K])return OP(e.redirectTo);i=i.children[K]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Gu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new hr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new pe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Up={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FP(t,e,n,r,i){let s=Qp(t,e,n);return s.matched?(r=dP(e,r),PP(r,e,n,i).pipe(re(o=>o===!0?s:O({},Up)))):q(s)}function Qp(t,e,n){if(e.path==="**")return VP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},Up):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||PN)(n,t,e);if(!i)return O({},Up);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function VP(t){return{matched:!0,parameters:t.length>0?XE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function JE(t,e,n,r){return n.length>0&&jP(t,n,r)?{segmentGroup:new pe(e,UP(r,new pe(n,t.children))),slicedSegments:[]}:n.length===0&&BP(t,n,r)?{segmentGroup:new pe(t.segments,LP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:n}}function LP(t,e,n,r){let i={};for(let s of n)if(Qu(t,e,s)&&!r[sn(s)]){let o=new pe([],{});i[sn(s)]=o}return O(O({},r),i)}function UP(t,e){let n={};n[K]=e;for(let r of t)if(r.path===""&&sn(r)!==K){let i=new pe([],{});n[sn(r)]=i}return n}function jP(t,e,n){return n.some(r=>Qu(t,e,r)&&sn(r)!==K)}function BP(t,e,n){return n.some(r=>Qu(t,e,r))}function Qu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $P(t,e,n,r){return sn(t)!==r&&(r===K||!Qu(e,n,t))?!1:Qp(e,t,n).matched}function HP(t,e,n){return e.length===0&&!t.children[n]}var jp=class{};function qP(t,e,n,r,i,s,o="emptyOnly"){return new Bp(t,e,n,r,i,o,s).recognize()}var zP=31,Bp=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Lp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=JE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(n=>{let r=new ta([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),i=new Dt(r,n),s=new qu("",i),o=ZN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,K).pipe(Zn(r=>{if(r instanceof Gu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ra?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=qp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(re(s=>s instanceof Dt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Te(i).pipe(Hi(s=>{let o=r.children[s],c=hP(n,s);return this.processSegmentGroup(e,c,o,s)}),uh((s,o)=>(s.push(...o),s)),Xn(null),ch(),ke(s=>{if(s===null)return ds(r);let o=wD(s);return GP(o),q(o)}))}processSegment(e,n,r,i,s,o){return Te(n).pipe(Hi(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o).pipe(Zn(u=>{if(u instanceof ra)return q(null);throw u}))),Qt(c=>!!c),Zn(c=>{if(_D(c))return HP(r,i,s)?q(new jp):ds(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,c){return $P(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ds(i):ds(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=Qp(n,i,s);if(!c)return ds(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zP&&(this.allowRedirects=!1));let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,g).pipe(ke(y=>this.processSegment(e,r,n,y.concat(f),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=FP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Bt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Bt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:g,parameters:y}=c,b=new ta(f,y,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,KP(r),sn(r),r.component??r._loadedComponent??null,r,QP(r)),{segmentGroup:A,slicedSegments:N}=JE(n,f,g,u);if(N.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(re(F=>F===null?null:new Dt(b,F)));if(u.length===0&&N.length===0)return q(new Dt(b,[]));let P=sn(r)===s;return this.processSegment(l,u,A,N,P?K:s,!0).pipe(re(F=>new Dt(b,F instanceof Dt?[F]:[])))}))):ds(n)))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?q({routes:n._loadedRoutes,injector:n._loadedInjector}):NP(e,n,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):kP(n))):q({routes:[],injector:e})}};function GP(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}function WP(t){let e=t.value.routeConfig;return e&&e.path===""}function wD(t){let e=[],n=new Set;for(let r of t){if(!WP(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=wD(r.children);e.push(new Dt(r.value,i))}return e.filter(r=>!n.has(r))}function KP(t){return t.data||{}}function QP(t){return t.resolve||{}}function YP(t,e,n,r,i,s){return ke(o=>qP(t,e,n,r,o.extractedUrl,i,s).pipe(re(({state:c,tree:u})=>me(O({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function JP(t,e){return ke(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of ED(u))o.add(l);let c=0;return Te(o).pipe(Hi(u=>s.has(u)?ZP(u,r,t,e):(u.data=qp(u,u.parent,t).resolve,q(void 0))),Fe(()=>c++),qi(1),ke(u=>c===o.size?q(n):vt))})}function ED(t){let e=t.children.map(n=>ED(n)).flat();return[t,...e]}function ZP(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!pD(i)&&(s[ia]=i.title),XP(s,t,e,r).pipe(re(o=>(t._resolvedData=o,t.data=qp(t,t.parent,n).resolve,null)))}function XP(t,e,n,r){let i=yp(t);if(i.length===0)return q({});let s={};return Te(i).pipe(ke(o=>eO(t[o],e,n,r).pipe(Qt(),Fe(c=>{s[o]=c}))),qi(1),ah(s),Zn(o=>_D(o)?vt:ji(o)))}function eO(t,e,n,r){let i=sa(e)??r,s=vs(t,i),o=s.resolve?s.resolve(e,n):Qr(i,()=>s(e,n));return pr(o)}function gp(t){return Bt(e=>{let n=t(e);return n?Te(n).pipe(re(()=>e)):q(e)})}var DD=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===K);return i}getResolvedTitleForRoute(r){return r.data[ia]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(tO),providedIn:"root"});let t=e;return t})(),tO=(()=>{let e=class e extends DD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ie(GE))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yp=new H("",{providedIn:"root",factory:()=>({})}),Jp=new H(""),nO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(tp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=pr(r.loadComponent()).pipe(re(CD),Fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),yo(()=>{this.componentLoaders.delete(r)})),s=new Fi(i,()=>new et).pipe(ki());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=rO(i,this.compiler,r,this.onLoadEndListener).pipe(yo(()=>{this.childrenLoaders.delete(i)})),c=new Fi(o,()=>new et).pipe(ki());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rO(t,e,n,r){return pr(t.loadChildren()).pipe(re(CD),ke(i=>i instanceof Ao||Array.isArray(i)?q(i):Te(e.compileModuleAsync(i))),re(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Jp,[],{optional:!0,self:!0}).flat()),{routes:o.map(Kp),injector:s}}))}function iO(t){return t&&typeof t=="object"&&"default"in t}function CD(t){return iO(t)?t.default:t}var Zp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(sO),providedIn:"root"});let t=e;return t})(),sO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oO=new H("");var aO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new et,this.transitionAbortSubject=new et,this.configLoader=k(nO),this.environmentInjector=k(xt),this.urlSerializer=k(Hp),this.rootContexts=k(Ku),this.location=k(jo),this.inputBindingEnabled=k(Wp,{optional:!0})!==null,this.titleStrategy=k(DD),this.options=k(Yp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Zp),this.createViewTransition=k(oO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Tp(s)),i=s=>this.events.next(new Sp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(me(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ze({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ko,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jt(o=>o.id!==0),re(o=>me(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Bt(o=>{let c=!1,u=!1;return q(o).pipe(Bt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ct.SupersededByNewNavigation),vt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?me(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let y="";return this.events.next(new ii(l.id,this.urlSerializer.serialize(l.rawUrl),y,wp.IgnoredSameUrlNavigation)),l.resolve(null),vt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return q(l).pipe(Bt(y=>{let b=this.transitions?.getValue();return this.events.next(new Jo(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),b!==this.transitions?.getValue()?vt:Promise.resolve(y)}),YP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=me(O({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let b=new Bu(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:b,source:A,restoredState:N,extras:P}=l,F=new Jo(y,this.urlSerializer.serialize(b),A,N);this.events.next(F);let te=hD(this.rootComponentType).snapshot;return this.currentTransition=o=me(O({},l),{targetSnapshot:te,urlAfterRedirects:b,extras:me(O({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=b,q(o)}else{let y="";return this.events.next(new ii(l.id,this.urlSerializer.serialize(l.extractedUrl),y,wp.IgnoredByUrlHandlingStrategy)),l.resolve(null),vt}}),Fe(l=>{let f=new Ep(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),re(l=>(this.currentTransition=o=me(O({},l),{guards:pP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),CP(this.environmentInjector,l=>this.events.next(l)),Fe(l=>{if(o.guardsResult=l.guardsResult,ms(l.guardsResult))throw mD(this.urlSerializer,l.guardsResult);let f=new Dp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),jt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ct.GuardRejected),!1)),gp(l=>{if(l.guards.canActivateChecks.length)return q(l).pipe(Fe(f=>{let g=new Cp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),Bt(f=>{let g=!1;return q(f).pipe(JP(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",Ct.NoDataFromResolver)}}))}),Fe(f=>{let g=new bp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),gp(l=>{let f=g=>{let y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(Fe(b=>{g.component=b}),re(()=>{})));for(let b of g.children)y.push(...f(b));return y};return Pc(f(l.targetSnapshot.root)).pipe(Xn(null),_n(1))}),gp(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return g?Te(g).pipe(re(()=>o)):q(o)}),re(l=>{let f=oP(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=me(O({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Fe(()=>{this.events.next(new Xo)}),fP(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),_n(1),Fe({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),dh(this.transitionAbortSubject.pipe(Fe(l=>{throw l}))),yo(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",Ct.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zn(l=>{if(u=!0,vD(l))this.events.next(new fr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),uP(l)?this.events.next(new ea(l.url)):o.resolve(!1);else{this.events.next(new Zo(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return vt}))}))}cancelNavigationTransition(r,i,s){let o=new fr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cO(t){return t!==Ko}var uO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(lO),providedIn:"root"});let t=e;return t})(),$p=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},lO=(()=>{let e=class e extends $p{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=os(e)))(s||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(dO),providedIn:"root"});let t=e;return t})(),dO=(()=>{let e=class e extends bD{constructor(){super(...arguments),this.location=k(jo),this.urlSerializer=k(Hp),this.options=k(Yp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Zp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new hr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Jo)this.stateMemento=this.createStateMemento();else if(r instanceof ii)this.rawUrlTree=i.initialUrl;else if(r instanceof Bu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Xo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof fr&&(r.code===Ct.GuardRejected||r.code===Ct.NoDataFromResolver)?this.restoreHistory(i):r instanceof Zo?this.restoreHistory(i,!0):r instanceof Nn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=os(e)))(s||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Go=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Go||{});function hO(t,e){t.events.pipe(jt(n=>n instanceof Nn||n instanceof fr||n instanceof Zo||n instanceof ii),re(n=>n instanceof Nn||n instanceof ii?Go.COMPLETE:(n instanceof fr?n.code===Ct.Redirect||n.code===Ct.SupersededByNewNavigation:!1)?Go.REDIRECTING:Go.FAILED),jt(n=>n!==Go.REDIRECTING),_n(1)).subscribe(()=>{e()})}function fO(t){throw t}var pO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},on=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Su),this.stateManager=k(bD),this.options=k(Yp,{optional:!0})||{},this.pendingTasks=k(bu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(aO),this.urlSerializer=k(Hp),this.location=k(jo),this.urlHandlingStrategy=k(Zp),this._events=new et,this.errorHandler=this.options.errorHandler||fO,this.navigated=!1,this.routeReuseStrategy=k(uO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Jp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Wp,{optional:!0}),this.eventsSubscription=new Se,this.isNgZoneEnabled=k(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof fr&&i.code!==Ct.Redirect&&i.code!==Ct.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Nn)this.navigated=!0;else if(i instanceof ea){let c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||cO(s.source)};this.scheduleNavigation(c,Ko,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}yO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ko,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Kp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,g=null;switch(u){case"merge":g=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let y;try{let b=s?s.snapshot:this.routerState.snapshot.root;y=cD(b)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),y=this.currentUrlTree.root}return uD(y,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ms(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ko,null,i)}navigate(r,i={skipLocationChange:!1}){return mO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},pO):i===!1?s=O({},gO):s=i,ms(r))return WE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return WE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((y,b)=>{u=y,l=b});let g=this.pendingTasks.add();return hO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function yO(t){return!(t instanceof Xo)&&!(t instanceof ea)}var Wu=(()=>{let e=class e{constructor(r,i,s,o,c,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new et,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof Nn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Mw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Y(on),Y(si),kf("tabindex"),Y(ar),Y(Ot),Y(us))},e.\u0275dir=We({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Et("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&Fo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[tt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",dr],skipLocationChange:[tt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",dr],replaceUrl:[tt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",dr],routerLink:"routerLink"},standalone:!0,features:[Zf,Sn]});let t=e;return t})(),TD=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,c){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Nn&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(Bi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Te(r).pipe(Bi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=vO(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(Y(on),Y(Ot),Y(ar),Y(lr),Y(Wu,8))},e.\u0275dir=We({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&yE(o,Wu,5),i&2){let c;vE(c=_E())&&(s.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Sn]});let t=e;return t})();function vO(t){return!!t.paths}var _O=new H("");function SD(t,...e){return tn([{provide:Jp,multi:!0,useValue:t},[],{provide:si,useFactory:IO,deps:[on]},{provide:ep,multi:!0,useFactory:wO},e.map(n=>n.\u0275providers)])}function IO(t){return t.routerState.root}function wO(){let t=k(Pt);return e=>{let n=t.get(Uo);if(e!==n.components[0])return;let r=t.get(on),i=t.get(EO);t.get(DO)===1&&r.initialNavigation(),t.get(CO,null,Z.Optional)?.setUpPreloading(),t.get(_O,null,Z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var EO=new H("",{factory:()=>new et}),DO=new H("",{providedIn:"root",factory:()=>1});var CO=new H("");var AD=(()=>{let e=class e{ngAfterViewInit(){console.log("about")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pt({type:e,selectors:[["app-about"]],standalone:!0,features:[gt],decls:27,vars:0,consts:[[1,"about"],[1,"datos-personales"],[1,"imagen-alumno"],[1,"imagen-cuadrada"],["src","assets/images/Matias.jpg","alt","Imagen del Alumno",1,"alumno-img"],[1,"texto-alumno"],[1,"titulo-centro"],[1,"explicacion-juego"],["src","assets/images/WordGame.jpg","alt","Imagen del Juego",1,"juego-img"]],template:function(i,s){i&1&&(V(0,"div",0)(1,"h2"),he(2,"\xBFQui\xE9n Soy?"),G(),V(3,"div",1)(4,"div",2)(5,"div",3),Ce(6,"img",4),G()(),V(7,"div",5)(8,"h3")(9,"span",6),he(10,"Datos Personales"),G()(),V(11,"p"),he(12,"Nombre: Matias Bartel"),G(),V(13,"p"),he(14,"Edad: 19"),G(),V(15,"p"),he(16,"Email: "),V(17,"span"),he(18,"matiasbartelavgmail.com"),G()(),V(19,"p"),he(20,"Descripci\xF3n: Soy Estudiante de la TUP en la UTN."),G()()(),V(21,"div",7)(22,"h3"),he(23,"Explicaci\xF3n del Juego Propio"),G(),V(24,"p"),he(25,"Word Game - Ser\xE1 un juego donde el participante ver\xE1 una palabra desordenada y debe reorganizar las letras para formar la palabra correcta, tendr\xE1 un tiempo l\xEDmite; si no logra reorganizar las letras, pierde una vida."),G(),Ce(26,"img",8),G()())},styles:["body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.about[_ngcontent-%COMP%]{max-width:600px;margin:90px auto;padding:20px;background-color:#f0f0f0;border-radius:8px}h2[_ngcontent-%COMP%]{text-align:center;color:#005900}h3[_ngcontent-%COMP%]{margin-top:20px;color:#000}.texto-centro[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}p[_ngcontent-%COMP%]{line-height:1.5;font-family:Arial,sans-serif;color:#000}.datos-personales[_ngcontent-%COMP%]{display:flex;align-items:stretch;margin:20px 0}.imagen-alumno[_ngcontent-%COMP%]{margin-right:20px;margin-top:70px}.imagen-cuadrada[_ngcontent-%COMP%]{width:200px;height:auto;overflow:hidden;border-radius:10px}.alumno-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.texto-alumno[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.explicacion-juego[_ngcontent-%COMP%]{text-align:center}.juego-img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px}"]});let t=e;return t})();var RD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pt({type:e,selectors:[["app-home"]],standalone:!0,features:[gt],decls:17,vars:0,consts:[[1,"home-container"],[1,"icon"],["src","assets/images/PreguntadosGame.jpg","alt","Icono 1"],["src","assets/images/Ahorcado.png","alt","Icono 2"],["src","assets/images/MayorMenor.png","alt","Icono 3"],["src","assets/images/WordGame.png","alt","Icono 4"]],template:function(i,s){i&1&&(V(0,"div",0)(1,"div",1),Ce(2,"img",2),V(3,"label"),he(4,"Preguntados"),G()(),V(5,"div",1),Ce(6,"img",3),V(7,"label"),he(8,"Ahorcado"),G()(),V(9,"div",1),Ce(10,"img",4),V(11,"label"),he(12,"Mayor o Menor"),G()(),V(13,"div",1),Ce(14,"img",5),V(15,"label"),he(16,"Juego de Letras"),G()()())},styles:[".home-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:120px 180px;justify-items:center;margin:90px auto;padding:60px;background-color:#fff;border-radius:10px}.icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;transition:transform .3s ease;cursor:pointer}.icon[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:250px;transition:transform .3s ease;border-radius:10px}.icon[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}label[_ngcontent-%COMP%]{margin-top:15px;text-align:center;color:#000;font-size:20px;font-family:Roboto,sans-serif}"]});let t=e;return t})();var MD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pt({type:e,selectors:[["app-page-not-found"]],standalone:!0,features:[gt],decls:2,vars:0,template:function(i,s){i&1&&(V(0,"h1"),he(1,"Ruta no encontrada"),G())}});let t=e;return t})();var UD=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Y(ar),Y(Ot))},e.\u0275dir=We({type:e});let t=e;return t})(),bO=(()=>{let e=class e extends UD{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=os(e)))(s||e)}})(),e.\u0275dir=We({type:e,features:[An]});let t=e;return t})(),jD=new H("");var TO={provide:jD,useExisting:Gr(()=>ws),multi:!0};function SO(){let t=xn()?xn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var AO=new H(""),ws=(()=>{let e=class e extends UD{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!SO())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Y(ar),Y(Ot),Y(AO,8))},e.\u0275dir=We({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Et("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[Lo([TO]),An]});let t=e;return t})();function RO(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var tg=new H(""),BD=new H("");function MO(t){return RO(t.value)?{required:!0}:null}function xD(t){return null}function $D(t){return t!=null}function HD(t){return Xr(t)?Te(t):t}function qD(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function zD(t,e){return e.map(n=>n(t))}function xO(t){return!t.validate}function GD(t){return t.map(e=>xO(e)?e:n=>e.validate(n))}function NO(t){if(!t)return null;let e=t.filter($D);return e.length==0?null:function(n){return qD(zD(n,e))}}function ng(t){return t!=null?NO(GD(t)):null}function PO(t){if(!t)return null;let e=t.filter($D);return e.length==0?null:function(n){let r=zD(n,e).map(HD);return oh(r).pipe(re(qD))}}function rg(t){return t!=null?PO(GD(t)):null}function ND(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function OO(t){return t._rawValidators}function kO(t){return t._rawAsyncValidators}function eg(t){return t?Array.isArray(t)?t:[t]:[]}function Ju(t,e){return Array.isArray(t)?t.includes(e):t===e}function PD(t,e){let n=eg(e);return eg(t).forEach(i=>{Ju(n,i)||n.push(i)}),n}function OD(t,e){return eg(e).filter(n=>!Ju(t,n))}var Zu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ng(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Is=class extends Zu{get formDirective(){return null}get path(){return null}},la=class extends Zu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Xu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},FO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rG=me(O({},FO),{"[class.ng-submitted]":"isSubmitted"}),nl=(()=>{let e=class e extends Xu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(la,2))},e.\u0275dir=We({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Tu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[An]});let t=e;return t})(),rl=(()=>{let e=class e extends Xu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Is,10))},e.\u0275dir=We({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Tu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[An]});let t=e;return t})();var aa="VALID",Yu="INVALID",_s="PENDING",ca="DISABLED";function WD(t){return(il(t)?t.validators:t)||null}function VO(t){return Array.isArray(t)?ng(t):t||null}function KD(t,e){return(il(e)?e.asyncValidators:t)||null}function LO(t){return Array.isArray(t)?rg(t):t||null}function il(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function UO(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function jO(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new U(1002,"")})}var el=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===aa}get invalid(){return this.status===Yu}get pending(){return this.status==_s}get disabled(){return this.status===ca}get enabled(){return this.status!==ca}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(PD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(OD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(OD(e,this._rawAsyncValidators))}hasValidator(e){return Ju(this._rawValidators,e)}hasAsyncValidator(e){return Ju(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_s,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ca,this.errors=null,this._forEachChild(r=>{r.disable(me(O({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(O({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=aa,this._forEachChild(r=>{r.enable(me(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(O({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===aa||this.status===_s)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ca:aa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_s,this._hasOwnPendingAsyncValidator=!0;let n=HD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?ca:this.errors?Yu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_s)?_s:this._anyControlsHaveStatus(Yu)?Yu:aa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){il(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=VO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=LO(this._rawAsyncValidators)}},tl=class extends el{constructor(e,n,r){super(WD(n),KD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){jO(this,!0,e),Object.keys(e).forEach(r=>{UO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ig=new H("CallSetDisabledState",{providedIn:"root",factory:()=>sg}),sg="always";function BO(t,e){return[...e.path,t]}function QD(t,e,n=sg){YD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),HO(t,e),zO(t,e),qO(t,e),$O(t,e)}function kD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function $O(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function YD(t,e){let n=OO(t);e.validator!==null?t.setValidators(ND(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=kO(t);e.asyncValidator!==null?t.setAsyncValidators(ND(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();kD(e._rawValidators,i),kD(e._rawAsyncValidators,i)}function HO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&JD(t,e)})}function qO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&JD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function JD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zO(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function GO(t,e){t==null,YD(t,e)}function WO(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function KO(t){return Object.getPrototypeOf(t.constructor)===bO}function QO(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function YO(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===ws?n=s:KO(s)?r=s:i=s}),i||r||n||null}var JO={provide:Is,useExisting:Gr(()=>da)},ua=Promise.resolve(),da=(()=>{let e=class e extends Is{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new xe,this.form=new tl({},ng(r),rg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ua.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),QD(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ua.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ua.then(()=>{let i=this._findContainer(r.path),s=new tl({});GO(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ua.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ua.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,QO(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Y(tg,10),Y(BD,10),Y(ig,8))},e.\u0275dir=We({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&Et("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:[tt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Lo([JO]),An]});let t=e;return t})();function FD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function VD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ZO=class extends el{constructor(e=null,n,r){super(WD(n),KD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),il(n)&&(n.nonNullable||n.initialValueIsDefault)&&(VD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){VD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var XO={provide:la,useExisting:Gr(()=>ha)},LD=Promise.resolve(),ha=(()=>{let e=class e extends la{constructor(r,i,s,o,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new ZO,this._registered=!1,this.name="",this.update=new xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=YO(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),WO(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){QD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){LD.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&dr(i);LD.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?BO(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Y(Is,9),Y(tg,10),Y(BD,10),Y(jD,10),Y(lr,8),Y(ig,8))},e.\u0275dir=We({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"],options:[tt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Lo([XO]),An,Sn]});let t=e;return t})(),sl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=We({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var ek=(()=>{let e=class e{constructor(){this._validator=xD}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):xD,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=We({type:e,features:[Sn]});let t=e;return t})();var tk={provide:tg,useExisting:Gr(()=>fa),multi:!0};var fa=(()=>{let e=class e extends ek{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=dr,this.createValidator=r=>MO}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=os(e)))(s||e)}})(),e.\u0275dir=We({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Fo("required",s._enabled?"":null)},inputs:{required:"required"},features:[Lo([tk]),An]});let t=e;return t})();var nk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Wr({});let t=e;return t})();var ol=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:ig,useValue:r.callSetDisabledState??sg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Wr({imports:[nk]});let t=e;return t})();var eC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,b=l&63;u||(b=64,o||(y=64)),r.push(n[f],n[g],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||g==null)throw new ag;let y=s<<2|c>>4;if(r.push(y),l!==64){let b=c<<4&240|l>>2;if(r.push(b),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ag=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ik=function(t){let e=eC(t);return tC.encodeByteArray(e,!0)},pa=function(t){return ik(t).replace(/\./g,"")},ug=function(t){try{return tC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ok=()=>sk().__FIREBASE_DEFAULTS__,ak=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ck=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ug(t[1]);return e&&JSON.parse(e)},cl=()=>{try{return ok()||ak()||ck()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lg=t=>{var e,n;return(n=(e=cl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nC=t=>{let e=lg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dg=()=>{var t;return(t=cl())===null||t===void 0?void 0:t.config},hg=t=>{var e;return(e=cl())===null||e===void 0?void 0:e[`_${t}`]};var al=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function rC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pa(JSON.stringify(n)),pa(JSON.stringify(o)),""].join(".")}function Ue(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function uk(){var t;let e=(t=cl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cC(){let t=Ue();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uC(){return!uk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fg(){try{return typeof indexedDB=="object"}catch{return!1}}function lC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var lk="FirebaseError",bt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pn.prototype.create)}},Pn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?dk(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new bt(i,c,r)}};function dk(t,e){return t.replace(hk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var hk=/\{\$([^}]+)}/g;function dC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(XD(s)&&XD(o)){if(!oi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function XD(t){return t!==null&&typeof t=="object"}function ga(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Es(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ds(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hC(t,e){let n=new cg(t,e);return n.subscribe.bind(n)}var cg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=og),i.error===void 0&&(i.error=og),i.complete===void 0&&(i.complete=og);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function fk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function og(){}var oG=4*60*60*1e3;function Tt(t){return t&&t._delegate?t._delegate:t}var Vt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ai="[DEFAULT]";var pg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new al;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gk(e))try{this.getOrInitializeService({instanceIdentifier:ai})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ai){return this.instances.has(e)}getOptions(e=ai){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ai){return this.component?this.component.multipleInstances?e:ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pk(t){return t===ai?void 0:t}function gk(t){return t.instantiationMode==="EAGER"}var ul=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new pg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var mk=[],se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(se||{}),yk={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},vk=se.INFO,_k={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Ik=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=_k[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gr=class{constructor(e){this.name=e,this._logLevel=vk,this._logHandler=Ik,this._userLogHandler=null,mk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var wk=(t,e)=>e.some(n=>t instanceof n),fC,pC;function Ek(){return fC||(fC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dk(){return pC||(pC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var gC=new WeakMap,mg=new WeakMap,mC=new WeakMap,gg=new WeakMap,vg=new WeakMap;function Ck(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(an(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gC.set(n,t)}).catch(()=>{}),vg.set(e,t),e}function bk(t){if(mg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mg.set(t,e)}var yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return an(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yC(t){yg=t(yg)}function Tk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ll(this),e,...n);return mC.set(r,e.sort?e.sort():[e]),an(r)}:Dk().includes(t)?function(...e){return t.apply(ll(this),e),an(gC.get(this))}:function(...e){return an(t.apply(ll(this),e))}}function Sk(t){return typeof t=="function"?Tk(t):(t instanceof IDBTransaction&&bk(t),wk(t,Ek())?new Proxy(t,yg):t)}function an(t){if(t instanceof IDBRequest)return Ck(t);if(gg.has(t))return gg.get(t);let e=Sk(t);return e!==t&&(gg.set(t,e),vg.set(e,t)),e}var ll=t=>vg.get(t);function _C(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=an(o);return r&&o.addEventListener("upgradeneeded",u=>{r(an(o.result),u.oldVersion,u.newVersion,an(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var Ak=["get","getKey","getAll","getAllKeys","count"],Rk=["put","add","delete","clear"],_g=new Map;function vC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_g.get(e))return _g.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Rk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ak.includes(n)))return;let s=function(o,...c){return I(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return _g.set(e,s),s}yC(t=>me(O({},t),{get:(e,n,r)=>vC(e,n)||t.get(e,n,r),has:(e,n)=>!!vC(e,n)||t.has(e,n)}));var wg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Mk(t){let e=t.getComponent();return e?.type==="VERSION"}var Eg="@firebase/app",IC="0.10.13";var On=new gr("@firebase/app"),xk="@firebase/app-compat",Nk="@firebase/analytics-compat",Pk="@firebase/analytics",Ok="@firebase/app-check-compat",kk="@firebase/app-check",Fk="@firebase/auth",Vk="@firebase/auth-compat",Lk="@firebase/database",Uk="@firebase/data-connect",jk="@firebase/database-compat",Bk="@firebase/functions",$k="@firebase/functions-compat",Hk="@firebase/installations",qk="@firebase/installations-compat",zk="@firebase/messaging",Gk="@firebase/messaging-compat",Wk="@firebase/performance",Kk="@firebase/performance-compat",Qk="@firebase/remote-config",Yk="@firebase/remote-config-compat",Jk="@firebase/storage",Zk="@firebase/storage-compat",Xk="@firebase/firestore",e1="@firebase/vertexai-preview",t1="@firebase/firestore-compat",n1="firebase",r1="10.14.1";var Dg="[DEFAULT]",i1={[Eg]:"fire-core",[xk]:"fire-core-compat",[Pk]:"fire-analytics",[Nk]:"fire-analytics-compat",[kk]:"fire-app-check",[Ok]:"fire-app-check-compat",[Fk]:"fire-auth",[Vk]:"fire-auth-compat",[Lk]:"fire-rtdb",[Uk]:"fire-data-connect",[jk]:"fire-rtdb-compat",[Bk]:"fire-fn",[$k]:"fire-fn-compat",[Hk]:"fire-iid",[qk]:"fire-iid-compat",[zk]:"fire-fcm",[Gk]:"fire-fcm-compat",[Wk]:"fire-perf",[Kk]:"fire-perf-compat",[Qk]:"fire-rc",[Yk]:"fire-rc-compat",[Jk]:"fire-gcs",[Zk]:"fire-gcs-compat",[Xk]:"fire-fst",[t1]:"fire-fst-compat",[e1]:"fire-vertex","fire-js":"fire-js",[n1]:"fire-js-all"};var ma=new Map,s1=new Map,Cg=new Map;function wC(t,e){try{t.container.addComponent(e)}catch(n){On.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yr(t){let e=t.name;if(Cg.has(e))return On.debug(`There were multiple attempts to register component ${e}.`),!1;Cg.set(e,t);for(let n of ma.values())wC(n,t);for(let n of s1.values())wC(n,t);return!0}function va(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kt(t){return t.settings!==void 0}var o1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new Pn("app","Firebase",o1);var bg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}};var vr=r1;function ci(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Dg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mr.create("bad-app-name",{appName:String(i)});if(n||(n=dg()),!n)throw mr.create("no-options");let s=ma.get(i);if(s){if(oi(n,s.options)&&oi(r,s.config))return s;throw mr.create("duplicate-app",{appName:i})}let o=new ul(i);for(let u of Cg.values())o.addComponent(u);let c=new bg(n,r,o);return ma.set(i,c),c}function Cs(t=Dg){let e=ma.get(t);if(!e&&t===Dg&&dg())return ci();if(!e)throw mr.create("no-app",{appName:t});return e}function dl(){return Array.from(ma.values())}function Le(t,e,n){var r;let i=(r=i1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),On.warn(c.join(" "));return}yr(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var a1="firebase-heartbeat-database",c1=1,ya="firebase-heartbeat-store",Ig=null;function bC(){return Ig||(Ig=_C(a1,c1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ya)}catch(n){console.warn(n)}}}}).catch(t=>{throw mr.create("idb-open",{originalErrorMessage:t.message})})),Ig}function u1(t){return I(this,null,function*(){try{let n=(yield bC()).transaction(ya),r=yield n.objectStore(ya).get(TC(t));return yield n.done,r}catch(e){if(e instanceof bt)On.warn(e.message);else{let n=mr.create("idb-get",{originalErrorMessage:e?.message});On.warn(n.message)}}})}function EC(t,e){return I(this,null,function*(){try{let r=(yield bC()).transaction(ya,"readwrite");yield r.objectStore(ya).put(e,TC(t)),yield r.done}catch(n){if(n instanceof bt)On.warn(n.message);else{let r=mr.create("idb-set",{originalErrorMessage:n?.message});On.warn(r.message)}}})}function TC(t){return`${t.name}!${t.options.appId}`}var l1=1024,d1=30*24*60*60*1e3,Tg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Sg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=d1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){On.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=DC(),{heartbeatsToSend:r,unsentEntries:i}=h1(this._heartbeatsCache.heartbeats),s=pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return On.warn(n),""}})}};function DC(){return new Date().toISOString().substring(0,10)}function h1(t,e=l1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Sg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return fg()?lC().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield u1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return EC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return EC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function CC(t){return pa(JSON.stringify({version:2,heartbeats:t})).length}function f1(t){yr(new Vt("platform-logger",e=>new wg(e),"PRIVATE")),yr(new Vt("heartbeat",e=>new Tg(e),"PRIVATE")),Le(Eg,IC,t),Le(Eg,IC,"esm2017"),Le("fire-js","")}f1("");function HC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qC=HC,zC=new Pn("auth","Firebase",HC());var yl=new gr("@firebase/auth");function p1(t,...e){yl.logLevel<=se.WARN&&yl.warn(`Auth (${vr}): ${t}`,...e)}function fl(t,...e){yl.logLevel<=se.ERROR&&yl.error(`Auth (${vr}): ${t}`,...e)}function un(t,...e){throw Yg(t,...e)}function ui(t,...e){return Yg(t,...e)}function GC(t,e,n){let r=Object.assign(Object.assign({},qC()),{[e]:n});return new Pn("auth","Firebase",r).create(e,{appName:t.name})}function Vn(t){return GC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zC.create(t,...e)}function $(t,e,...n){if(!t)throw Yg(e,...n)}function kn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw fl(e),new Error(e)}function Ir(t,e){t||kn(e)}function xg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function g1(){return SC()==="http:"||SC()==="https:"}function SC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function m1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g1()||oC()||"connection"in navigator)?navigator.onLine:!0}function y1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var li=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ir(n>e,"Short delay should be less than long delay!"),this.isMobile=iC()||aC()}get(){return m1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Jg(t,e){Ir(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var vl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var v1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _1=new li(3e4,6e4);function wr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Er(s,o,c,u){return I(this,arguments,function*(t,e,n,r,i={}){return WC(t,i,()=>I(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=ga(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let b=Object.assign({method:e,headers:y},l);return sC()||(b.referrerPolicy="no-referrer"),vl.fetch()(KC(t,t.config.apiHost,n,g),b)}))})}function WC(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},v1),e);try{let i=new Ng(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw hl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw hl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw hl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw hl(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw GC(t,f,l);un(t,f)}}catch(i){if(i instanceof bt)throw i;un(t,"network-request-failed",{message:String(i)})}})}function Ta(s,o,c,u){return I(this,arguments,function*(t,e,n,r,i={}){let l=yield Er(t,e,n,r,i);return"mfaPendingCredential"in l&&un(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function KC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Jg(t.config,i):`${t.config.apiScheme}://${i}`}function I1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ng=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),_1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function hl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ui(t,e,r);return i.customData._tokenResponse=n,i}function AC(t){return t!==void 0&&t.enterprise!==void 0}var Pg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return I1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function w1(t,e){return I(this,null,function*(){return Er(t,"GET","/v2/recaptchaConfig",wr(t,e))})}function E1(t,e){return I(this,null,function*(){return Er(t,"POST","/v1/accounts:delete",e)})}function QC(t,e){return I(this,null,function*(){return Er(t,"POST","/v1/accounts:lookup",e)})}function _a(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Zg(t,e=!1){return I(this,null,function*(){let n=Tt(t),r=yield n.getIdToken(e),i=Xg(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:_a(Ag(i.auth_time)),issuedAtTime:_a(Ag(i.iat)),expirationTime:_a(Ag(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Ag(t){return Number(t)*1e3}function Xg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fl("JWT malformed, contained fewer than 3 sections"),null;try{let i=ug(n);return i?JSON.parse(i):(fl("Failed to decode base64 JWT payload"),null)}catch(i){return fl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function RC(t){let e=Xg(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function wa(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof bt&&D1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function D1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Og=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ea=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_a(this.lastLoginAt),this.creationTime=_a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _l(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield wa(t,QC(n,{idToken:r}));$(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?YC(s.providerUserInfo):[],c=C1(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ea(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function em(t){return I(this,null,function*(){let e=Tt(t);yield _l(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function C1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YC(t){return t.map(e=>{var{providerId:n}=e,r=ih(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function b1(t,e){return I(this,null,function*(){let n=yield WC(t,{},()=>I(this,null,function*(){let r=ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=KC(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",vl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function T1(t,e){return I(this,null,function*(){return Er(t,"POST","/v2/accounts:revokeToken",wr(t,e))})}var Ia=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");let n=RC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield b1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&($(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return kn("not implemented")}};function _r(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var bs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ih(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Og(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ea(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield wa(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Zg(this,e)}reload(){return em(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield _l(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Kt(this.auth.app))return Promise.reject(Vn(this.auth));let e=yield this.getIdToken();return yield wa(this,E1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,b=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,te=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Q,emailVerified:ge,isAnonymous:He,providerData:fe,stsTokenManager:E}=n;$(Q&&E,e,"internal-error");let m=Ia.fromJSON(this.name,E);$(typeof Q=="string",e,"internal-error"),_r(g,e.name),_r(y,e.name),$(typeof ge=="boolean",e,"internal-error"),$(typeof He=="boolean",e,"internal-error"),_r(b,e.name),_r(A,e.name),_r(N,e.name),_r(P,e.name),_r(F,e.name),_r(te,e.name);let v=new t({uid:Q,auth:e,email:y,emailVerified:ge,displayName:g,isAnonymous:He,photoURL:A,phoneNumber:b,tenantId:N,stsTokenManager:m,createdAt:F,lastLoginAt:te});return fe&&Array.isArray(fe)&&(v.providerData=fe.map(w=>Object.assign({},w))),P&&(v._redirectEventId=P),v}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new Ia;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _l(s),s})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];$(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?YC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ia;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ea(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var MC=new Map;function Fn(t){Ir(t instanceof Function,"Expected a class definition");let e=MC.get(t);return e?(Ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MC.set(t,e),e)}var S1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),kg=S1;function pl(t,e,n){return`firebase:${t}:${e}:${n}`}var Il=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=pl(this.userKey,i.apiKey,s),this.fullPersistenceKey=pl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?bs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(Fn(kg),e,r);let i=(yield Promise.all(n.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Fn(kg),o=pl(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let g=bs._fromJSON(e,f);l!==s&&(c=g),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>I(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function xC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nb(e))return"Blackberry";if(rb(e))return"Webos";if(ZC(e))return"Safari";if((e.includes("chrome/")||XC(e))&&!e.includes("edge/"))return"Chrome";if(tb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function JC(t=Ue()){return/firefox\//i.test(t)}function ZC(t=Ue()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XC(t=Ue()){return/crios\//i.test(t)}function eb(t=Ue()){return/iemobile/i.test(t)}function tb(t=Ue()){return/android/i.test(t)}function nb(t=Ue()){return/blackberry/i.test(t)}function rb(t=Ue()){return/webos/i.test(t)}function tm(t=Ue()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A1(t=Ue()){var e;return tm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R1(){return cC()&&document.documentMode===10}function ib(t=Ue()){return tm(t)||tb(t)||rb(t)||nb(t)||/windows phone/i.test(t)||eb(t)}function sb(t,e=[]){let n;switch(t){case"Browser":n=xC(Ue());break;case"Worker":n=`${xC(Ue())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vr}/${r}`}var Fg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function M1(n){return I(this,arguments,function*(t,e={}){return Er(t,"GET","/v2/passwordPolicy",wr(t,e))})}var x1=6,Vg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:x1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Lg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wl(this),this.idTokenSubscription=new wl(this),this.beforeStateQueue=new Fg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Il.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield QC(this,{idToken:e}),r=yield bs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(Kt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield _l(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=y1()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Kt(this.app))return Promise.reject(Vn(this));let n=e?Tt(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Kt(this.app)?Promise.reject(Vn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kt(this.app)?Promise.reject(Vn(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Fn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield M1(this),n=new Vg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield T1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fn(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=yield Il.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if($(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&p1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function hi(t){return Tt(t)}var wl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=hC(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Al={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N1(t){Al=t}function ob(t){return Al.loadJS(t)}function P1(){return Al.recaptchaEnterpriseScript}function O1(){return Al.gapiScript}function ab(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var k1="recaptcha-enterprise",F1="NO_RECAPTCHA",Ug=class{constructor(e){this.type=k1,this.auth=hi(e)}verify(e="verify",n=!1){return I(this,null,function*(){function r(s){return I(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>I(this,null,function*(){w1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new Pg(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;AC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(F1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&AC(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=P1();u.length!==0&&(u+=c),ob(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function NC(t,e,n,r=!1){return I(this,null,function*(){let i=new Ug(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function jg(t,e,n,r){return I(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield NC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>I(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield NC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function nm(t,e){let n=va(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(oi(s,e??{}))return i;un(i,"already-initialized")}return n.initialize({options:e})}function V1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function rm(t,e,n){let r=hi(t);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=cb(e),{host:o,port:c}=L1(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||U1()}function cb(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L1(t){let e=cb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:PC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:PC(o)}}}function PC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function U1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Da=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kn("not implemented")}_getIdTokenResponse(e){return kn("not implemented")}_linkToIdToken(e,n){return kn("not implemented")}_getReauthenticationResolver(e){return kn("not implemented")}};function j1(t,e){return I(this,null,function*(){return Er(t,"POST","/v1/accounts:signUp",e)})}function B1(t,e){return I(this,null,function*(){return Ta(t,"POST","/v1/accounts:signInWithPassword",wr(t,e))})}function $1(t,e){return I(this,null,function*(){return Ta(t,"POST","/v1/accounts:signInWithEmailLink",wr(t,e))})}function H1(t,e){return I(this,null,function*(){return Ta(t,"POST","/v1/accounts:signInWithEmailLink",wr(t,e))})}var Ca=class t extends Da{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,n,"signInWithPassword",B1);case"emailLink":return $1(e,{email:this._email,oobCode:this._password});default:un(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,r,"signUpPassword",j1);case"emailLink":return H1(e,{idToken:n,email:this._email,oobCode:this._password});default:un(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Rg(t,e){return I(this,null,function*(){return Ta(t,"POST","/v1/accounts:signInWithIdp",wr(t,e))})}function q1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z1(t){let e=Es(Ds(t)).link,n=e?Es(Ds(e)).deep_link_id:null,r=Es(Ds(t)).deep_link_id;return(r?Es(Ds(r)).link:null)||r||n||e||t}var El=class t{constructor(e){var n,r,i,s,o,c;let u=Es(Ds(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=q1((i=u.mode)!==null&&i!==void 0?i:null);$(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=z1(e);try{return new t(n)}catch{return null}}};var ub=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ca._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=El.parseLink(r);return $(i,"argument-error"),Ca._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Dl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Bg=class extends Dl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function G1(t,e){return I(this,null,function*(){return Ta(t,"POST","/v1/accounts:signUp",wr(t,e))})}var Ts=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let s=yield bs._fromIdTokenResponse(e,r,i),o=OC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=OC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function OC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var $g=class t extends bt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function lb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$g._fromErrorAndOperation(t,s,e,r):s})}function W1(t,e,n=!1){return I(this,null,function*(){let r=yield wa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ts._forOperation(t,"link",r)})}function K1(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(Kt(r.app))return Promise.reject(Vn(r));let i="reauthenticate";try{let s=yield wa(t,lb(r,i,e,t),n);$(s.idToken,r,"internal-error");let o=Xg(s.idToken);$(o,r,"internal-error");let{sub:c}=o;return $(t.uid===c,r,"user-mismatch"),Ts._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&un(r,"user-mismatch"),s}})}function db(t,e,n=!1){return I(this,null,function*(){if(Kt(t.app))return Promise.reject(Vn(t));let r="signIn",i=yield lb(t,r,e),s=yield Ts._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function im(t,e){return I(this,null,function*(){return db(hi(t),e)})}function hb(t){return I(this,null,function*(){let e=hi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Rl(t,e,n){return I(this,null,function*(){if(Kt(t.app))return Promise.reject(Vn(t));let r=hi(t),o=yield jg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",G1).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&hb(t),u}),c=yield Ts._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function Ml(t,e,n){return Kt(t.app)?Promise.reject(Vn(t)):im(Tt(t),ub.credential(e,n)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&hb(t),r}))}function sm(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function om(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}var Cl="__sak";var bl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cl,"1"),this.storage.removeItem(Cl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Q1=1e3,Y1=10,J1=(()=>{class t extends bl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ib(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);R1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Y1):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Q1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield Kn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield Kn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield Kn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),fb=J1;var Z1=(()=>{class t extends bl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),am=Z1;function X1(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var eF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>I(this,null,function*(){return f(r.origin,o)})),l=yield X1(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function pb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Hg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=pb("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let y=g;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function cn(){return window}function tF(t){cn().location.href=t}function gb(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}function nF(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function rF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iF(){return gb()?self:null}var mb="firebaseLocalStorageDb",sF=1,Tl="firebaseLocalStorage",yb="fbase_key",di=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function xl(t,e){return t.transaction([Tl],e?"readwrite":"readonly").objectStore(Tl)}function oF(){let t=indexedDB.deleteDatabase(mb);return new di(t).toPromise()}function qg(){let t=indexedDB.open(mb,sF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Tl,{keyPath:yb})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Tl)?e(r):(r.close(),yield oF(),e(yield qg()))}))})}function kC(t,e,n){return I(this,null,function*(){let r=xl(t,!0).put({[yb]:e,value:n});return new di(r).toPromise()})}function aF(t,e){return I(this,null,function*(){let n=xl(t,!1).get(e),r=yield new di(n).toPromise();return r===void 0?null:r.value})}function FC(t,e){let n=xl(t,!0).delete(e);return new di(n).toPromise()}var cF=800,uF=3,lF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield qg(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>uF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return gb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=eF._getInstance(iF()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield nF(),!this.activeServiceWorker)return;this.sender=new Hg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||rF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield qg();return yield kC(n,Cl,"1"),yield FC(n,Cl),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>kC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>aF(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>FC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(s=>{let o=xl(s,!1).getAll();return new di(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),cF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),vb=lF;var PG=ab("rcb"),OG=new li(3e4,6e4);function dF(t,e){return e?Fn(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ba=class extends Da{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function hF(t){return db(t.auth,new ba(t),t.bypassAuthState)}function fF(t){let{auth:e,user:n}=t;return $(n,e,"internal-error"),K1(n,new ba(t),t.bypassAuthState)}function pF(t){return I(this,null,function*(){let{auth:e,user:n}=t;return $(n,e,"internal-error"),W1(n,new ba(t),t.bypassAuthState)})}var zg=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hF;case"linkViaPopup":case"linkViaRedirect":return pF;case"reauthViaPopup":case"reauthViaRedirect":return fF;default:un(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var kG=new li(2e3,1e4);var gF="pendingRedirect",gl=new Map,Gg=class t extends zg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=gl.get(this.auth._key());if(!e){try{let r=(yield mF(this.resolver,this.auth))?yield Kn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gl.set(this.auth._key(),e)}return this.bypassAuthState||gl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Kn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Kn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function mF(t,e){return I(this,null,function*(){let n=_F(e),r=vF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function yF(t,e){gl.set(t._key(),e)}function vF(t){return Fn(t._redirectPersistence)}function _F(t){return pl(gF,t.config.apiKey,t.name)}function IF(t,e,n=!1){return I(this,null,function*(){if(Kt(t.app))return Promise.reject(Vn(t));let r=hi(t),i=dF(r,e),o=yield new Gg(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var wF=10*60*1e3,Wg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_b(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wF&&this.cachedEventUids.clear(),this.cachedEventUids.has(VC(e))}saveEventToCache(e){this.cachedEventUids.add(VC(e)),this.lastProcessedEventTime=Date.now()}};function VC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _b({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function EF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _b(t);default:return!1}}function DF(n){return I(this,arguments,function*(t,e={}){return Er(t,"GET","/v1/projects",e)})}var CF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bF=/^https?/;function TF(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield DF(t);for(let n of e)try{if(SF(n))return}catch{}un(t,"unauthorized-domain")})}function SF(t){let e=xg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bF.test(n))return!1;if(CF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var AF=new li(3e4,6e4);function LC(){let t=cn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RF(t){return new Promise((e,n)=>{var r,i,s;function o(){LC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LC(),n(ui(t,"network-request-failed"))},timeout:AF.get()})}if(!((i=(r=cn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=cn().gapi)===null||s===void 0)&&s.load)o();else{let c=ab("iframefcb");return cn()[c]=()=>{gapi.load?o():n(ui(t,"network-request-failed"))},ob(`${O1()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw ml=null,e})}var ml=null;function MF(t){return ml=ml||RF(t),ml}var xF=new li(5e3,15e3),NF="__/auth/iframe",PF="emulator/auth/iframe",OF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FF(t){let e=t.config;$(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Jg(e,PF):`https://${t.config.authDomain}/${NF}`,r={apiKey:e.apiKey,appName:t.name,v:vr},i=kF.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ga(r).slice(1)}`}function VF(t){return I(this,null,function*(){let e=yield MF(t),n=cn().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:FF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OF,dontclear:!0},r=>new Promise((i,s)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ui(t,"network-request-failed"),c=cn().setTimeout(()=>{s(o)},xF.get());function u(){cn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var LF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UF=500,jF=600,BF="_blank",$F="http://localhost",Sl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function HF(t,e,n,r=UF,i=jF){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},LF),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ue().toLowerCase();n&&(c=XC(l)?BF:n),JC(l)&&(e=e||$F,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[b,A])=>`${y}${b}=${A},`,"");if(A1(l)&&c!=="_self")return qF(e||"",c),new Sl(null);let g=window.open(e||"",c,f);$(g,t,"popup-blocked");try{g.focus()}catch{}return new Sl(g)}function qF(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zF="__/auth/handler",GF="emulator/auth/handler",WF=encodeURIComponent("fac");function UC(t,e,n,r,i,s){return I(this,null,function*(){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vr,eventId:i};if(e instanceof Dl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",dC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof Bg){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${WF}=${encodeURIComponent(u)}`:"";return`${KF(t)}?${ga(c).slice(1)}${l}`})}function KF({config:t}){return t.emulator?Jg(t,GF):`https://${t.authDomain}/${zF}`}var Mg="webStorageSupport",Kg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=am,this._completeRedirectFn=IF,this._overrideRedirectResult=yF}_openPopup(e,n,r,i){return I(this,null,function*(){var s;Ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield UC(e,n,r,xg(),i);return HF(e,o,pb())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let s=yield UC(e,n,r,xg(),i);return tF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ir(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield VF(e),r=new Wg(e);return n.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mg,{type:Mg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Mg];o!==void 0&&n(!!o),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ib()||ZC()||tm()}},Ib=Kg;var jC="@firebase/auth",BC="1.7.9";var Qg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function QF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YF(t){yr(new Vt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(t)},l=new Lg(r,i,s,u);return V1(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yr(new Vt("auth-internal",e=>{let n=hi(e.getProvider("auth").getImmediate());return(r=>new Qg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(jC,BC,QF(t)),Le(jC,BC,"esm2017")}var JF=5*60,ZF=hg("authIdTokenMaxAge")||JF,$C=null,XF=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZF)return;let i=n?.token;$C!==i&&($C=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function fi(t=Cs()){let e=va(t,"auth");if(e.isInitialized())return e.getImmediate();let n=nm(t,{popupRedirectResolver:Ib,persistence:[vb,fb,am]}),r=hg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=XF(s.toString());om(n,o,()=>o(n.currentUser)),sm(n,c=>o(c))}}let i=lg("auth");return i&&rm(n,`http://${i}`),n}function eV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}N1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ui("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",eV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YF("Browser");var wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Eb={};var cm,Db;(function(){var t;function e(E,m){function v(){}v.prototype=m.prototype,E.D=m.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(w,D,T){for(var _=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)_[gn-2]=arguments[gn];return m.prototype[D].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,v){v||(v=0);var w=Array(16);if(typeof m=="string")for(var D=0;16>D;++D)w[D]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(D=0;16>D;++D)w[D]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=E.g[0],v=E.g[1],D=E.g[2];var T=E.g[3],_=m+(T^v&(D^T))+w[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=T+(D^m&(v^D))+w[1]+3905402710&4294967295,T=m+(_<<12&4294967295|_>>>20),_=D+(v^T&(m^v))+w[2]+606105819&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(m^D&(T^m))+w[3]+3250441966&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(T^v&(D^T))+w[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(D^m&(v^D))+w[5]+1200080426&4294967295,T=m+(_<<12&4294967295|_>>>20),_=D+(v^T&(m^v))+w[6]+2821735955&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(m^D&(T^m))+w[7]+4249261313&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(T^v&(D^T))+w[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(D^m&(v^D))+w[9]+2336552879&4294967295,T=m+(_<<12&4294967295|_>>>20),_=D+(v^T&(m^v))+w[10]+4294925233&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(m^D&(T^m))+w[11]+2304563134&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(T^v&(D^T))+w[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(D^m&(v^D))+w[13]+4254626195&4294967295,T=m+(_<<12&4294967295|_>>>20),_=D+(v^T&(m^v))+w[14]+2792965006&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(m^D&(T^m))+w[15]+1236535329&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(D^T&(v^D))+w[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(m^v))+w[6]+3225465664&4294967295,T=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(T^m))+w[11]+643717713&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(D^T))+w[0]+3921069994&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^T&(v^D))+w[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(m^v))+w[10]+38016083&4294967295,T=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(T^m))+w[15]+3634488961&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(D^T))+w[4]+3889429448&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^T&(v^D))+w[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(m^v))+w[14]+3275163606&4294967295,T=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(T^m))+w[3]+4107603335&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(D^T))+w[8]+1163531501&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^T&(v^D))+w[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(m^v))+w[2]+4243563512&4294967295,T=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(T^m))+w[7]+1735328473&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(D^T))+w[12]+2368359562&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(v^D^T)+w[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^D)+w[8]+2272392833&4294967295,T=m+(_<<11&4294967295|_>>>21),_=D+(T^m^v)+w[11]+1839030562&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^m)+w[14]+4259657740&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^T)+w[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^D)+w[4]+1272893353&4294967295,T=m+(_<<11&4294967295|_>>>21),_=D+(T^m^v)+w[7]+4139469664&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^m)+w[10]+3200236656&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^T)+w[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^D)+w[0]+3936430074&4294967295,T=m+(_<<11&4294967295|_>>>21),_=D+(T^m^v)+w[3]+3572445317&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^m)+w[6]+76029189&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^T)+w[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^D)+w[12]+3873151461&4294967295,T=m+(_<<11&4294967295|_>>>21),_=D+(T^m^v)+w[15]+530742520&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^m)+w[2]+3299628645&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(D^(v|~T))+w[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~D))+w[7]+1126891415&4294967295,T=m+(_<<10&4294967295|_>>>22),_=D+(m^(T|~v))+w[14]+2878612391&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~m))+w[5]+4237533241&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~T))+w[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~D))+w[3]+2399980690&4294967295,T=m+(_<<10&4294967295|_>>>22),_=D+(m^(T|~v))+w[10]+4293915773&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~m))+w[1]+2240044497&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~T))+w[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~D))+w[15]+4264355552&4294967295,T=m+(_<<10&4294967295|_>>>22),_=D+(m^(T|~v))+w[6]+2734768916&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~m))+w[13]+1309151649&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~T))+w[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~D))+w[11]+3174756917&4294967295,T=m+(_<<10&4294967295|_>>>22),_=D+(m^(T|~v))+w[2]+718787259&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~m))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+T&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var v=m-this.blockSize,w=this.B,D=this.h,T=0;T<m;){if(D==0)for(;T<=v;)i(this,E,T),T+=this.blockSize;if(typeof E=="string"){for(;T<m;)if(w[D++]=E.charCodeAt(T++),D==this.blockSize){i(this,w),D=0;break}}else for(;T<m;)if(w[D++]=E[T++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var v=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=v&255,v/=256;for(this.u(E),E=Array(16),m=v=0;4>m;++m)for(var w=0;32>w;w+=8)E[v++]=this.g[m]>>>w&255;return E};function s(E,m){var v=c;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=m(E)}function o(E,m){this.h=m;for(var v=[],w=!0,D=E.length-1;0<=D;D--){var T=E[D]|0;w&&T==m||(v[D]=T,w=!1)}this.g=v}var c={};function u(E){return-128<=E&&128>E?s(E,function(m){return new o([m|0],0>m?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return P(l(-E));for(var m=[],v=1,w=0;E>=v;w++)m[w]=E/v|0,v*=4294967296;return new o(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return P(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),w=g,D=0;D<E.length;D+=8){var T=Math.min(8,E.length-D),_=parseInt(E.substring(D,D+T),m);8>T?(T=l(Math.pow(m,T)),w=w.j(T).add(l(_))):(w=w.j(v),w=w.add(l(_)))}return w}var g=u(0),y=u(1),b=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-P(this).m();for(var E=0,m=1,v=0;v<this.g.length;v++){var w=this.i(v);E+=(0<=w?w:4294967296+w)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(N(this))return"-"+P(this).toString(E);for(var m=l(Math.pow(E,6)),v=this,w="";;){var D=ge(v,m).g;v=F(v,D.j(m));var T=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=D,A(v))return T+w;for(;6>T.length;)T="0"+T;w=T+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=F(this,E),N(E)?-1:A(E)?0:1};function P(E){for(var m=E.g.length,v=[],w=0;w<m;w++)v[w]=~E.g[w];return new o(v,~E.h).add(y)}t.abs=function(){return N(this)?P(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0,D=0;D<=m;D++){var T=w+(this.i(D)&65535)+(E.i(D)&65535),_=(T>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);w=_>>>16,T&=65535,_&=65535,v[D]=_<<16|T}return new o(v,v[v.length-1]&-2147483648?-1:0)};function F(E,m){return E.add(P(m))}t.j=function(E){if(A(this)||A(E))return g;if(N(this))return N(E)?P(this).j(P(E)):P(P(this).j(E));if(N(E))return P(this.j(P(E)));if(0>this.l(b)&&0>E.l(b))return l(this.m()*E.m());for(var m=this.g.length+E.g.length,v=[],w=0;w<2*m;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<E.g.length;D++){var T=this.i(w)>>>16,_=this.i(w)&65535,gn=E.i(D)>>>16,Qs=E.i(D)&65535;v[2*w+2*D]+=_*Qs,te(v,2*w+2*D),v[2*w+2*D+1]+=T*Qs,te(v,2*w+2*D+1),v[2*w+2*D+1]+=_*gn,te(v,2*w+2*D+1),v[2*w+2*D+2]+=T*gn,te(v,2*w+2*D+2)}for(w=0;w<m;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=m;w<2*m;w++)v[w]=0;return new o(v,0)};function te(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function Q(E,m){this.g=E,this.h=m}function ge(E,m){if(A(m))throw Error("division by zero");if(A(E))return new Q(g,g);if(N(E))return m=ge(P(E),m),new Q(P(m.g),P(m.h));if(N(m))return m=ge(E,P(m)),new Q(P(m.g),m.h);if(30<E.g.length){if(N(E)||N(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,w=m;0>=w.l(E);)v=He(v),w=He(w);var D=fe(v,1),T=fe(w,1);for(w=fe(w,2),v=fe(v,2);!A(w);){var _=T.add(w);0>=_.l(E)&&(D=D.add(v),T=_),w=fe(w,1),v=fe(v,1)}return m=F(E,D.j(m)),new Q(D,m)}for(D=g;0<=E.l(m);){for(v=Math.max(1,Math.floor(E.m()/m.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),T=l(v),_=T.j(m);N(_)||0<_.l(E);)v-=w,T=l(v),_=T.j(m);A(T)&&(T=y),D=D.add(T),E=F(E,_)}return new Q(D,E)}t.A=function(E){return ge(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)&E.i(w);return new o(v,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)|E.i(w);return new o(v,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)^E.i(w);return new o(v,this.h^E.h)};function He(E){for(var m=E.g.length+1,v=[],w=0;w<m;w++)v[w]=E.i(w)<<1|E.i(w-1)>>>31;return new o(v,E.h)}function fe(E,m){var v=m>>5;m%=32;for(var w=E.g.length-v,D=[],T=0;T<w;T++)D[T]=0<m?E.i(T+v)>>>m|E.i(T+v+1)<<32-m:E.i(T+v);return new o(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Db=Eb.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,cm=Eb.Integer=o}).apply(typeof wb<"u"?wb:typeof self<"u"?self:typeof window<"u"?window:{});var Nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ln={};var um,zV,Ss,lm,Sa,Pl,dm,hm,fm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nl=="object"&&Nl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var C=a[p];if(!(C in h))break e;h=h[C]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,p=!1,C={next:function(){if(!p&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,y.apply(null,arguments)}function b(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,C,S){for(var x=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)x[_e-2]=arguments[_e];return d.prototype[C].apply(p,x)}}function N(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function P(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let C=a.length||0,S=p.length||0;a.length=C+S;for(let x=0;x<S;x++)a[C+x]=p[x]}else a.push(p)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function te(a){return/^[\s\xa0]*$/.test(a)}function Q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ge(a){return ge[" "](a),a}ge[" "]=function(){};var He=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function fe(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(h in p)a[h]=p[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function D(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function _(){var a=md;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class gn{constructor(){this.h=this.g=null}add(d,h){let p=Qs.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var Qs=new F(()=>new U0,a=>a.reset());class U0{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ys,Js=!1,md=new gn,rv=()=>{let a=c.Promise.resolve(void 0);Ys=()=>{a.then(j0)}};var j0=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){T(h)}var d=Qs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Js=!1};function qn(){this.s=this.s,this.C=this.C}qn.prototype.s=!1,qn.prototype.ma=function(){this.s||(this.s=!0,this.N())},qn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var B0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Zs(a,d){if(Ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(He){e:{try{ge(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:$0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Zs.aa.h.call(this)}}A(Zs,Ye);var $0={2:"touch",3:"pen",4:"mouse"};Zs.prototype.h=function(){Zs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Xs="closure_listenable_"+(1e6*Math.random()|0),H0=0;function q0(a,d,h,p,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=C,this.key=++H0,this.da=this.fa=!1}function Wa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ka(a){this.src=a,this.g={},this.h=0}Ka.prototype.add=function(a,d,h,p,C){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var x=vd(a,d,p,C);return-1<x?(d=a[x],h||(d.fa=!1)):(d=new q0(d,this.src,S,!!p,C),d.fa=h,a.push(d)),d};function yd(a,d){var h=d.type;if(h in a.g){var p=a.g[h],C=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(p,C,1),S&&(Wa(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function vd(a,d,h,p){for(var C=0;C<a.length;++C){var S=a[C];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return C}return-1}var _d="closure_lm_"+(1e6*Math.random()|0),Id={};function iv(a,d,h,p,C){if(p&&p.once)return ov(a,d,h,p,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)iv(a,d[S],h,p,C);return null}return h=Cd(h),a&&a[Xs]?a.K(d,h,l(p)?!!p.capture:!!p,C):sv(a,d,h,!1,p,C)}function sv(a,d,h,p,C,S){if(!d)throw Error("Invalid event type");var x=l(C)?!!C.capture:!!C,_e=Ed(a);if(_e||(a[_d]=_e=new Ka(a)),h=_e.add(d,h,p,x,S),h.proxy)return h;if(p=z0(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)B0||(C=x),C===void 0&&(C=!1),a.addEventListener(d.toString(),p,C);else if(a.attachEvent)a.attachEvent(cv(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function z0(){function a(h){return d.call(a.src,a.listener,h)}let d=G0;return a}function ov(a,d,h,p,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)ov(a,d[S],h,p,C);return null}return h=Cd(h),a&&a[Xs]?a.L(d,h,l(p)?!!p.capture:!!p,C):sv(a,d,h,!0,p,C)}function av(a,d,h,p,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)av(a,d[S],h,p,C);else p=l(p)?!!p.capture:!!p,h=Cd(h),a&&a[Xs]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=vd(S,h,p,C),-1<h&&(Wa(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Ed(a))&&(d=a.g[d.toString()],a=-1,d&&(a=vd(d,h,p,C)),(h=-1<a?d[a]:null)&&wd(h))}function wd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Xs])yd(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(cv(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=Ed(d))?(yd(h,a),h.h==0&&(h.src=null,d[_d]=null)):Wa(a)}}}function cv(a){return a in Id?Id[a]:Id[a]="on"+a}function G0(a,d){if(a.da)a=!0;else{d=new Zs(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&wd(a),a=h.call(p,d)}return a}function Ed(a){return a=a[_d],a instanceof Ka?a:null}var Dd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cd(a){return typeof a=="function"?a:(a[Dd]||(a[Dd]=function(d){return a.handleEvent(d)}),a[Dd])}function Je(){qn.call(this),this.i=new Ka(this),this.M=this,this.F=null}A(Je,qn),Je.prototype[Xs]=!0,Je.prototype.removeEventListener=function(a,d,h,p){av(this,a,d,h,p)};function st(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new Ye(d,a);else if(d instanceof Ye)d.target=d.target||a;else{var C=d;d=new Ye(p,a),w(d,C)}if(C=!0,h)for(var S=h.length-1;0<=S;S--){var x=d.g=h[S];C=Qa(x,p,!0,d)&&C}if(x=d.g=a,C=Qa(x,p,!0,d)&&C,C=Qa(x,p,!1,d)&&C,h)for(S=0;S<h.length;S++)x=d.g=h[S],C=Qa(x,p,!1,d)&&C}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)Wa(h[p]);delete a.g[d],a.h--}}this.F=null},Je.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},Je.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function Qa(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var x=d[S];if(x&&!x.da&&x.capture==h){var _e=x.listener,qe=x.ha||x.src;x.fa&&yd(a.i,x),C=_e.call(qe,p)!==!1&&C}}return C&&!p.defaultPrevented}function uv(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function lv(a){a.g=uv(()=>{a.g=null,a.i&&(a.i=!1,lv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class W0 extends qn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:lv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eo(a){qn.call(this),this.h=a,this.g={}}A(eo,qn);var dv=[];function hv(a){fe(a.g,function(d,h){this.g.hasOwnProperty(h)&&wd(d)},a),a.g={}}eo.prototype.N=function(){eo.aa.N.call(this),hv(this)},eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bd=c.JSON.stringify,K0=c.JSON.parse,Q0=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Td(){}Td.prototype.h=null;function fv(a){return a.h||(a.h=a.i())}function pv(){}var to={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sd(){Ye.call(this,"d")}A(Sd,Ye);function Ad(){Ye.call(this,"c")}A(Ad,Ye);var Sr={},gv=null;function Ya(){return gv=gv||new Je}Sr.La="serverreachability";function mv(a){Ye.call(this,Sr.La,a)}A(mv,Ye);function no(a){let d=Ya();st(d,new mv(d))}Sr.STAT_EVENT="statevent";function yv(a,d){Ye.call(this,Sr.STAT_EVENT,a),this.stat=d}A(yv,Ye);function ot(a){let d=Ya();st(d,new yv(d,a))}Sr.Ma="timingevent";function vv(a,d){Ye.call(this,Sr.Ma,a),this.size=d}A(vv,Ye);function ro(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function io(){this.g=!0}io.prototype.xa=function(){this.g=!1};function Y0(a,d,h,p,C,S){a.info(function(){if(a.g)if(S)for(var x="",_e=S.split("&"),qe=0;qe<_e.length;qe++){var le=_e[qe].split("=");if(1<le.length){var Ze=le[0];le=le[1];var Xe=Ze.split("_");x=2<=Xe.length&&Xe[1]=="type"?x+(Ze+"="+le+"&"):x+(Ze+"=redacted&")}}else x=null;else x=S;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+d+`
`+h+`
`+x})}function J0(a,d,h,p,C,S,x){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+d+`
`+h+`
`+S+" "+x})}function Ti(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+X0(a,h)+(p?" "+p:"")})}function Z0(a,d){a.info(function(){return"TIMEOUT: "+d})}io.prototype.info=function(){};function X0(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var x=1;x<C.length;x++)C[x]=""}}}}return bd(h)}catch{return d}}var Ja={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_v={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rd;function Za(){}A(Za,Td),Za.prototype.g=function(){return new XMLHttpRequest},Za.prototype.i=function(){return{}},Rd=new Za;function zn(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new eo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Iv}function Iv(){this.i=null,this.g="",this.h=!1}var wv={},Md={};function xd(a,d,h){a.L=1,a.v=nc(mn(d)),a.m=h,a.P=!0,Ev(a,null)}function Ev(a,d){a.F=Date.now(),Xa(a),a.A=mn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),Fv(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Iv,a.g=e_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new W0(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(dv[0]=C.toString()),C=dv);for(var S=0;S<C.length;S++){var x=iv(h,C[S],p||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),no(),Y0(a.i,a.u,a.A,a.l,a.R,a.m)}zn.prototype.ca=function(a){a=a.target;let d=this.M;d&&yn(a)==3?d.j():this.Y(a)},zn.prototype.Y=function(a){try{if(a==this.g)e:{let Xe=yn(this.g);var d=this.g.Ba();let Ri=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||Hv(this.g)))){this.J||Xe!=4||d==7||(d==8||0>=Ri?no(3):no(2)),Nd(this);var h=this.g.Z();this.X=h;t:if(Dv(this)){var p=Hv(this.g);a="";var C=p.length,S=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),so(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(S&&d==C-1)});p.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=h==200,J0(this.i,this.u,this.A,this.l,this.R,Xe,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,qe=this.g;if((_e=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(_e)){var le=_e;break t}}le=null}if(h=le)Ti(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pd(this,h);else{this.o=!1,this.s=3,ot(12),Ar(this),so(this);break e}}if(this.P){h=!0;let Lt;for(;!this.J&&this.C<x.length;)if(Lt=eT(this,x),Lt==Md){Xe==4&&(this.s=4,ot(14),h=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==wv){this.s=4,ot(15),Ti(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Ti(this.i,this.l,Lt,null),Pd(this,Lt);if(Dv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||x.length!=0||this.h.h||(this.s=1,ot(16),h=!1),this.o=this.o&&h,!h)Ti(this.i,this.l,x,"[Invalid Chunked Response]"),Ar(this),so(this);else if(0<x.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Ud(Ze),Ze.M=!0,ot(11))}}else Ti(this.i,this.l,x,null),Pd(this,x);Xe==4&&Ar(this),this.o&&!this.J&&(Xe==4?Yv(this.j,this):(this.o=!1,Xa(this)))}else yT(this.g),h==400&&0<x.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Ar(this),so(this)}}}catch{}finally{}};function Dv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function eT(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?Md:(h=Number(d.substring(h,p)),isNaN(h)?wv:(p+=1,p+h>d.length?Md:(d=d.slice(p,p+h),a.C=p+h,d)))}zn.prototype.cancel=function(){this.J=!0,Ar(this)};function Xa(a){a.S=Date.now()+a.I,Cv(a,a.I)}function Cv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ro(y(a.ba,a),d)}function Nd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}zn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(Z0(this.i,this.A),this.L!=2&&(no(),ot(17)),Ar(this),this.s=2,so(this)):Cv(this,this.S-a)};function so(a){a.j.G==0||a.J||Yv(a.j,a)}function Ar(a){Nd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,hv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Pd(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Od(h.h,a))){if(!a.K&&Od(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)ac(h),sc(h);else break e;Ld(h),ot(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=ro(y(h.Za,h),6e3));if(1>=Sv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Mr(h,11)}else if((a.K||h.g==a)&&ac(h),!te(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let le=C[d];if(h.T=le[0],le=le[1],h.G==2)if(le[0]=="c"){h.K=le[1],h.ia=le[2];let Ze=le[3];Ze!=null&&(h.la=Ze,h.j.info("VER="+h.la));let Xe=le[4];Xe!=null&&(h.Aa=Xe,h.j.info("SVER="+h.Aa));let Ri=le[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(p=1.5*Ri,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Lt=a.g;if(Lt){let uc=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uc){var S=p.h;S.g||uc.indexOf("spdy")==-1&&uc.indexOf("quic")==-1&&uc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(kd(S,S.h),S.h=null))}if(p.D){let jd=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;jd&&(p.ya=jd,De(p.I,p.D,jd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var x=a;if(p.qa=Xv(p,p.J?p.ia:null,p.W),x.K){Av(p.h,x);var _e=x,qe=p.L;qe&&(_e.I=qe),_e.B&&(Nd(_e),Xa(_e)),p.g=x}else Kv(p);0<h.i.length&&oc(h)}else le[0]!="stop"&&le[0]!="close"||Mr(h,7);else h.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Mr(h,7):Vd(h):le[0]!="noop"&&h.l&&h.l.ta(le),h.v=0)}}no(4)}catch{}}var tT=class{constructor(a,d){this.g=a,this.map=d}};function bv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Sv(a){return a.h?1:a.g?a.g.size:0}function Od(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function kd(a,d){a.g?a.g.add(d):a.h=d}function Av(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}bv.prototype.cancel=function(){if(this.i=Rv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Rv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function nT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function rT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function Mv(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=rT(a),p=nT(a),C=p.length,S=0;S<C;S++)d.call(void 0,p[S],h&&h[S],a)}var xv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iT(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),C=null;if(0<=p){var S=a[h].substring(0,p);C=a[h].substring(p+1)}else S=a[h];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Rr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Rr){this.h=a.h,ec(this,a.j),this.o=a.o,this.g=a.g,tc(this,a.s),this.l=a.l;var d=a.i,h=new co;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Nv(this,h),this.m=a.m}else a&&(d=String(a).match(xv))?(this.h=!1,ec(this,d[1]||"",!0),this.o=oo(d[2]||""),this.g=oo(d[3]||"",!0),tc(this,d[4]),this.l=oo(d[5]||"",!0),Nv(this,d[6]||"",!0),this.m=oo(d[7]||"")):(this.h=!1,this.i=new co(null,this.h))}Rr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ao(d,Pv,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ao(d,Pv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ao(h,h.charAt(0)=="/"?aT:oT,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ao(h,uT)),a.join("")};function mn(a){return new Rr(a)}function ec(a,d,h){a.j=h?oo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function tc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Nv(a,d,h){d instanceof co?(a.i=d,lT(a.i,a.h)):(h||(d=ao(d,cT)),a.i=new co(d,a.h))}function De(a,d,h){a.i.set(d,h)}function nc(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function oo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ao(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,sT),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function sT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Pv=/[#\/\?@]/g,oT=/[#\?:]/g,aT=/[#\?]/g,cT=/[#\?@]/g,uT=/#/g;function co(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Gn(a){a.g||(a.g=new Map,a.h=0,a.i&&iT(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=co.prototype,t.add=function(a,d){Gn(this),this.i=null,a=Si(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Ov(a,d){Gn(a),d=Si(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function kv(a,d){return Gn(a),d=Si(a,d),a.g.has(d)}t.forEach=function(a,d){Gn(this),this.g.forEach(function(h,p){h.forEach(function(C){a.call(d,C,p,this)},this)},this)},t.na=function(){Gn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let C=a[p];for(let S=0;S<C.length;S++)h.push(d[p])}return h},t.V=function(a){Gn(this);let d=[];if(typeof a=="string")kv(this,a)&&(d=d.concat(this.g.get(Si(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Gn(this),this.i=null,a=Si(this,a),kv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Fv(a,d,h){Ov(a,d),0<h.length&&(a.i=null,a.g.set(Si(a,d),N(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),x=this.V(p);for(p=0;p<x.length;p++){var C=S;x[p]!==""&&(C+="="+encodeURIComponent(String(x[p]))),a.push(C)}}return this.i=a.join("&")};function Si(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function lT(a,d){d&&!a.j&&(Gn(a),a.i=null,a.g.forEach(function(h,p){var C=p.toLowerCase();p!=C&&(Ov(this,p),Fv(this,C,h))},a)),a.j=d}function dT(a,d){let h=new io;if(c.Image){let p=new Image;p.onload=b(Wn,h,"TestLoadImage: loaded",!0,d,p),p.onerror=b(Wn,h,"TestLoadImage: error",!1,d,p),p.onabort=b(Wn,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=b(Wn,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function hT(a,d){let h=new io,p=new AbortController,C=setTimeout(()=>{p.abort(),Wn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(C),S.ok?Wn(h,"TestPingServer: ok",!0,d):Wn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Wn(h,"TestPingServer: error",!1,d)})}function Wn(a,d,h,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(h)}catch{}}function fT(){this.g=new Q0}function pT(a,d,h){let p=h||"";try{Mv(a,function(C,S){let x=C;l(C)&&(x=bd(C)),d.push(p+S+"="+encodeURIComponent(x))})}catch(C){throw d.push(p+"type="+encodeURIComponent("_badmap")),C}}function uo(a){this.l=a.Ub||null,this.j=a.eb||!1}A(uo,Td),uo.prototype.g=function(){return new rc(this.l,this.j)},uo.prototype.i=function(a){return function(){return a}}({});function rc(a,d){Je.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(rc,Je),t=rc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ho(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?lo(this):ho(this),this.readyState==3&&Vv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,lo(this))},t.Qa=function(a){this.g&&(this.response=a,lo(this))},t.ga=function(){this.g&&lo(this)};function lo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ho(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function ho(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(rc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Lv(a){let d="";return fe(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function Fd(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=Lv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):De(a,d,h))}function be(a){Je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(be,Je);var gT=/^https?$/i,mT=["POST","PUT"];t=be.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rd.g(),this.v=this.o?fv(this.o):fv(Rd),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){Uv(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)h.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(mT,d,void 0))||p||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,x]of h)this.g.setRequestHeader(S,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$v(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){Uv(this,S)}};function Uv(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,jv(a),ic(a)}function jv(a){a.A||(a.A=!0,st(a,"complete"),st(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,st(this,"complete"),st(this,"abort"),ic(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ic(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bv(this):this.bb())},t.bb=function(){Bv(this)};function Bv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||yn(a)!=4||a.Z()!=2)){if(a.u&&yn(a)==4)uv(a.Ea,0,a);else if(st(a,"readystatechange"),yn(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=x===0){var C=String(a.D).match(xv)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),p=!gT.test(C?C.toLowerCase():"")}h=p}if(h)st(a,"complete"),st(a,"success");else{a.m=6;try{var S=2<yn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",jv(a)}}finally{ic(a)}}}}function ic(a,d){if(a.g){$v(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||st(a,"ready");try{h.onreadystatechange=p}catch{}}}function $v(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function yn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),K0(d)}};function Hv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function yT(a){let d={};a=(a.g&&2<=yn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(te(a[p]))continue;var h=D(a[p]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[C]||[];d[C]=S,S.push(h)}E(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function qv(a){this.Aa=0,this.i=[],this.j=new io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fo("baseRetryDelayMs",5e3,a),this.cb=fo("retryDelaySeedMs",1e4,a),this.Wa=fo("forwardChannelMaxRetries",2,a),this.wa=fo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new bv(a&&a.concurrentRequestLimit),this.Da=new fT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qv.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){ot(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=Xv(this,null,this.W),oc(this)};function Vd(a){if(zv(a),a.G==3){var d=a.U++,h=mn(a.I);if(De(h,"SID",a.K),De(h,"RID",d),De(h,"TYPE","terminate"),po(a,h),d=new zn(a,a.j,d),d.L=2,d.v=nc(mn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=e_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xa(d)}Zv(a)}function sc(a){a.g&&(Ud(a),a.g.cancel(),a.g=null)}function zv(a){sc(a),a.u&&(c.clearTimeout(a.u),a.u=null),ac(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function oc(a){if(!Tv(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ys||rv(),Js||(Ys(),Js=!0),md.add(d,a),a.B=0}}function vT(a,d){return Sv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ro(y(a.Ga,a,d),Jv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new zn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Wv(this,C,d),h=mn(this.I),De(h,"RID",a),De(h,"CVER",22),this.D&&De(h,"X-HTTP-Session-Id",this.D),po(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(Lv(S)))+"&"+d:this.m&&Fd(h,this.m,S)),kd(this.h,C),this.Ua&&De(h,"TYPE","init"),this.P?(De(h,"$req",d),De(h,"SID","null"),C.T=!0,xd(C,h,null)):xd(C,h,d),this.G=2}}else this.G==3&&(a?Gv(this,a):this.i.length==0||Tv(this.h)||Gv(this))};function Gv(a,d){var h;d?h=d.l:h=a.U++;let p=mn(a.I);De(p,"SID",a.K),De(p,"RID",h),De(p,"AID",a.T),po(a,p),a.m&&a.o&&Fd(p,a.m,a.o),h=new zn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Wv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),kd(a.h,h),xd(h,p,d)}function po(a,d){a.H&&fe(a.H,function(h,p){De(d,p,h)}),a.l&&Mv({},function(h,p){De(d,p,h)})}function Wv(a,d,h){h=Math.min(a.i.length,h);var p=a.l?y(a.l.Na,a.l,a):null;e:{var C=a.i;let S=-1;for(;;){let x=["count="+h];S==-1?0<h?(S=C[0].g,x.push("ofs="+S)):S=0:x.push("ofs="+S);let _e=!0;for(let qe=0;qe<h;qe++){let le=C[qe].g,Ze=C[qe].map;if(le-=S,0>le)S=Math.max(0,C[qe].g-100),_e=!1;else try{pT(Ze,x,"req"+le+"_")}catch{p&&p(Ze)}}if(_e){p=x.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function Kv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ys||rv(),Js||(Ys(),Js=!0),md.add(d,a),a.v=0}}function Ld(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ro(y(a.Fa,a),Jv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Qv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ro(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),sc(this),Qv(this))};function Ud(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Qv(a){a.g=new zn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=mn(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),po(a,d),a.m&&a.o&&Fd(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=nc(mn(d)),h.m=null,h.P=!0,Ev(h,a)}t.Za=function(){this.C!=null&&(this.C=null,sc(this),Ld(this),ot(19))};function ac(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Yv(a,d){var h=null;if(a.g==d){ac(a),Ud(a),a.g=null;var p=2}else if(Od(a.h,d))h=d.D,Av(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;p=Ya(),st(p,new vv(p,h)),oc(a)}else Kv(a);else if(C=d.s,C==3||C==0&&0<d.X||!(p==1&&vT(a,d)||p==2&&Ld(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:Mr(a,5);break;case 4:Mr(a,10);break;case 3:Mr(a,6);break;default:Mr(a,2)}}}function Jv(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Mr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),p=a.Xa;let C=!p;p=new Rr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ec(p,"https"),nc(p),C?dT(p.toString(),h):hT(p.toString(),h)}else ot(2);a.G=0,a.l&&a.l.sa(d),Zv(a),zv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Zv(a){if(a.G=0,a.ka=[],a.l){let d=Rv(a.h);(d.length!=0||a.i.length!=0)&&(P(a.ka,d),P(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function Xv(a,d,h){var p=h instanceof Rr?mn(h):new Rr(h);if(p.g!="")d&&(p.g=d+"."+p.g),tc(p,p.s);else{var C=c.location;p=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new Rr(null);p&&ec(S,p),d&&(S.g=d),C&&tc(S,C),h&&(S.l=h),p=S}return h=a.D,d=a.ya,h&&d&&De(p,h,d),De(p,"VER",a.la),po(a,p),p}function e_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new be(new uo({eb:h})):new be(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function t_(){}t=t_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cc(){}cc.prototype.g=function(a,d){return new mt(a,d)};function mt(a,d){Je.call(this),this.g=new qv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!te(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!te(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ai(this)}A(mt,Je),mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mt.prototype.close=function(){Vd(this.g)},mt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=bd(a),a=h);d.i.push(new tT(d.Ya++,a)),d.G==3&&oc(d)},mt.prototype.N=function(){this.g.l=null,delete this.j,Vd(this.g),delete this.g,mt.aa.N.call(this)};function n_(a){Sd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(n_,Sd);function r_(){Ad.call(this),this.status=1}A(r_,Ad);function Ai(a){this.g=a}A(Ai,t_),Ai.prototype.ua=function(){st(this.g,"a")},Ai.prototype.ta=function(a){st(this.g,new n_(a))},Ai.prototype.sa=function(a){st(this.g,new r_)},Ai.prototype.ra=function(){st(this.g,"b")},cc.prototype.createWebChannel=cc.prototype.g,mt.prototype.send=mt.prototype.o,mt.prototype.open=mt.prototype.m,mt.prototype.close=mt.prototype.close,fm=Ln.createWebChannelTransport=function(){return new cc},hm=Ln.getStatEventTarget=function(){return Ya()},dm=Ln.Event=Sr,Pl=Ln.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ja.NO_ERROR=0,Ja.TIMEOUT=8,Ja.HTTP_ERROR=6,Sa=Ln.ErrorCode=Ja,_v.COMPLETE="complete",lm=Ln.EventType=_v,pv.EventType=to,to.OPEN="a",to.CLOSE="b",to.ERROR="c",to.MESSAGE="d",Je.prototype.listen=Je.prototype.K,Ss=Ln.WebChannel=pv,zV=Ln.FetchXmlHttpFactory=uo,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,um=Ln.XhrIo=be}).apply(typeof Nl<"u"?Nl:typeof self<"u"?self:typeof window<"u"?window:{});var Cb="@firebase/firestore";var je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");var qs="10.14.0";var yi=new gr("@firebase/firestore");function Aa(){return yi.logLevel}function L(t,...e){if(yi.logLevel<=se.DEBUG){let n=e.map(Oy);yi.debug(`Firestore (${qs}): ${t}`,...n)}}function vi(t,...e){if(yi.logLevel<=se.ERROR){let n=e.map(Oy);yi.error(`Firestore (${qs}): ${t}`,...n)}}function Ul(t,...e){if(yi.logLevel<=se.WARN){let n=e.map(Oy);yi.warn(`Firestore (${qs}): ${t}`,...n)}}function Oy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+t;throw vi(e),new Error(e)}function Re(t,e){t||oe()}function Ee(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Un=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var jl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ym=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(je.UNAUTHENTICATED))}shutdown(){}},vm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},_m=class{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Un,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Un)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new jl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new je(e)}},Im=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},wm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Im(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Em=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Dm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new Em(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function GV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Bl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=GV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function we(t,e){return t<e?-1:t>e?1:0}function xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var it=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new it(0,0))}static max(){return new t(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $l=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Be=class t extends $l{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},WV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,St=class t extends $l{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return WV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new j(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new j(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new j(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ee=class t{constructor(e){this.path=e}static fromPath(e){return new t(Be.fromString(e))}static fromName(e){return new t(Be.fromString(e).popFirst(5))}static empty(){return new t(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Be(e.slice()))}};var Cm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Cm.UNKNOWN_ID=-1;function KV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new _i(i,ee.empty(),e)}function QV(t){return new _i(t.readTime,t.key,-1)}var _i=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ae.min(),ee.empty(),-1)}static max(){return new t(Ae.max(),ee.empty(),-1)}};function YV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}var JV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Gb(t){return I(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==JV)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function ZV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ad(t){return t.name==="IndexedDbTransactionError"}var XV=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ky(t){return t==null}function Oa(t){return t===0&&1/t==-1/0}function eL(t){return typeof t=="number"&&Number.isInteger(t)&&!Oa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var tL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DW=[...tL,"documentOverlays"],nL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rL=nL,iL=[...rL,"indexConfiguration","indexState","indexEntries"];var CW=[...iL,"globals"];function bb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ja(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var At=class t{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rs(this.root,e,this.comparator,!0)}},Rs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hl(this.data.getIterator())}getIteratorFrom(e){return new Hl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Hl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var hn=class t{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(St.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Tm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Bn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Tm("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Bn.EMPTY_BYTE_STRING=new Bn("");var sL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(t){if(Re(!!t),typeof t=="string"){let e=0,n=sL.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ns(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}function Fy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Kb(t){let e=t.mapValue.fields.__previous_value__;return Fy(e)?Kb(e):e}function ql(t){let e=Dr(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}var Sm=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Am=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fy(t)?4:Yb(t)?9007199254740991:Qb(t)?10:11:oe()}function pn(t,e){if(t===e)return!0;let n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ql(t).isEqual(ql(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Dr(i.timestampValue),c=Dr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ns(i.bytesValue).isEqual(Ns(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Oe(i.geoPointValue.latitude)===Oe(s.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Oe(i.integerValue)===Oe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Oe(i.doubleValue),c=Oe(s.doubleValue);return o===c?Oa(o)===Oa(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return xs(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(bb(o)!==bb(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!pn(o[u],c[u])))return!1;return!0}(t,e);default:return oe()}}function ka(t,e){return(t.values||[]).find(n=>pn(n,e))!==void 0}function Os(t,e){if(t===e)return 0;let n=Ps(t),r=Ps(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Oe(s.integerValue||s.doubleValue),u=Oe(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Tb(t.timestampValue,e.timestampValue);case 4:return Tb(ql(t),ql(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Ns(s),u=Ns(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=we(c[l],u[l]);if(f!==0)return f}return we(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=we(Oe(s.latitude),Oe(o.latitude));return c!==0?c:we(Oe(s.longitude),Oe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Sb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let g=s.fields||{},y=o.fields||{},b=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=y.value)===null||u===void 0?void 0:u.arrayValue,N=we(((l=b?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:Sb(b,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ol.mapValue&&o===Ol.mapValue)return 0;if(s===Ol.mapValue)return 1;if(o===Ol.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let y=we(u[g],f[g]);if(y!==0)return y;let b=Os(c[u[g]],l[f[g]]);if(b!==0)return b}return we(u.length,f.length)}(t.mapValue,e.mapValue);default:throw oe()}}function Tb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);let n=Dr(t),r=Dr(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function Sb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Os(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function ks(t){return Rm(t)}function Rm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Dr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ns(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Rm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Rm(n.fields[o])}`;return i+"}"}(t.mapValue):oe()}function Mm(t){return!!t&&"integerValue"in t}function Vy(t){return!!t&&"arrayValue"in t}function Vl(t){return!!t&&"mapValue"in t}function Qb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ma(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ja(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ma(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ma(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Yb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var dn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Ma(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Vl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ja(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ma(this.value))}};function Jb(t){let e=[];return ja(t.fields,(n,r)=>{let i=new St([n]);if(Vl(r)){let s=Jb(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new hn(e)}var Fs=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Ae.min(),Ae.min(),Ae.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ae.min(),Ae.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ae.min(),Ae.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vs=class{constructor(e,n){this.position=e,this.inclusive=n}};function Ab(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Os(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}var Ls=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function oL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var zl=class{},$e=class t extends zl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Nm(e,n,r):n==="array-contains"?new km(e,r):n==="in"?new Fm(e,r):n==="not-in"?new Vm(e,r):n==="array-contains-any"?new Lm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pm(e,r):new Om(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Os(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(Os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Cr=class t extends zl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Zb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Zb(t){return t.op==="and"}function Xb(t){return aL(t)&&Zb(t)}function aL(t){for(let e of t.filters)if(e instanceof Cr)return!1;return!0}function xm(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+ks(t.value);if(Xb(t))return t.filters.map(e=>xm(e)).join(",");{let e=t.filters.map(n=>xm(n)).join(",");return`${t.op}(${e})`}}function e0(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&pn(r.value,i.value)}(t,e):t instanceof Cr?function(r,i){return i instanceof Cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&e0(o,i.filters[c]),!0):!1}(t,e):void oe()}function t0(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${ks(n.value)}`}(t):t instanceof Cr?function(n){return n.op.toString()+" {"+n.getFilters().map(t0).join(" ,")+"}"}(t):"Filter"}var Nm=class extends $e{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){let n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}},Pm=class extends $e{constructor(e,n){super(e,"in",n),this.keys=n0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Om=class extends $e{constructor(e,n){super(e,"not-in",n),this.keys=n0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function n0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}var km=class extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Vy(n)&&ka(n.arrayValue,this.value)}},Fm=class extends $e{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ka(this.value.arrayValue,n)}},Vm=class extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ka(this.value.arrayValue,n)}},Lm=class extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Vy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ka(this.value.arrayValue,r))}};var Um=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function Mb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Um(t,e,n,r,i,s,o)}function Ly(t){let e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ky(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ks(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ks(r)).join(",")),e.ue=n}return e.ue}function Uy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!e0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rb(t.startAt,e.startAt)&&Rb(t.endAt,e.endAt)}var Us=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function cL(t,e,n,r,i,s,o,c){return new Us(t,e,n,r,i,s,o,c)}function uL(t){return new Us(t)}function xb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lL(t){return t.collectionGroup!==null}function xa(t){let e=Ee(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new dt(St.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ls(s,r))}),n.has(St.keyField().canonicalString())||e.ce.push(new Ls(St.keyField(),r))}return e.ce}function gi(t){let e=Ee(t);return e.le||(e.le=dL(e,xa(t))),e.le}function dL(t,e){if(t.limitType==="F")return Mb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ls(i.field,s)});let n=t.endAt?new Vs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vs(t.startAt.position,t.startAt.inclusive):null;return Mb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jm(t,e,n){return new Us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function r0(t,e){return Uy(gi(t),gi(e))&&t.limitType===e.limitType}function i0(t){return`${Ly(gi(t))}|lt:${t.limitType}`}function Ra(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>t0(i)).join(", ")}]`),ky(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ks(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ks(i)).join(",")),`Target(${r})`}(gi(t))}; limitType=${t.limitType})`}function jy(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of xa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=Ab(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,xa(r),i)||r.endAt&&!function(o,c,u){let l=Ab(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,xa(r),i))}(t,e)}function hL(t){return(e,n)=>{let r=!1;for(let i of xa(t)){let s=fL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fL(t,e,n){let r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Os(u,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var br=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Wb(this.inner)}size(){return this.innerSize}};var pL=new At(ee.comparator);function Gl(){return pL}var s0=new At(ee.comparator);function kl(...t){let e=s0;for(let n of t)e=e.insert(n.key,n);return e}function o0(t){let e=s0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pi(){return Na()}function a0(){return Na()}function Na(){return new br(t=>t.toString(),(t,e)=>t.isEqual(e))}var gL=new At(ee.comparator),mL=new dt(ee.comparator);function rt(...t){let e=mL;for(let n of t)e=e.add(n);return e}var yL=new dt(we);function vL(){return yL}function By(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oa(e)?"-0":e}}function c0(t){return{integerValue:""+t}}function _L(t,e){return eL(e)?c0(e):By(t,e)}var js=class{constructor(){this._=void 0}};function IL(t,e,n){return t instanceof Bs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Fy(s)&&(s=Kb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ii?l0(t,e):t instanceof wi?d0(t,e):function(i,s){let o=u0(i,s),c=Nb(o)+Nb(i.Pe);return Mm(o)&&Mm(i.Pe)?c0(c):By(i.serializer,c)}(t,e)}function wL(t,e,n){return t instanceof Ii?l0(t,e):t instanceof wi?d0(t,e):n}function u0(t,e){return t instanceof $s?function(r){return Mm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Bs=class extends js{},Ii=class extends js{constructor(e){super(),this.elements=e}};function l0(t,e){let n=h0(e);for(let r of t.elements)n.some(i=>pn(i,r))||n.push(r);return{arrayValue:{values:n}}}var wi=class extends js{constructor(e){super(),this.elements=e}};function d0(t,e){let n=h0(e);for(let r of t.elements)n=n.filter(i=>!pn(i,r));return{arrayValue:{values:n}}}var $s=class extends js{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Nb(t){return Oe(t.integerValue||t.doubleValue)}function h0(t){return Vy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ii&&i instanceof Ii||r instanceof wi&&i instanceof wi?xs(r.elements,i.elements,pn):r instanceof $s&&i instanceof $s?pn(r.Pe,i.Pe):r instanceof Bs&&i instanceof Bs}(t.transform,e.transform)}var Bm=class{constructor(e,n){this.version=e,this.transformResults=n}},mi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ll(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Hs=class{};function f0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wl(t.key,mi.none()):new Ei(t.key,t.data,mi.none());{let n=t.data,r=dn.empty(),i=new dt(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $n(t.key,r,new hn(i.toArray()),mi.none())}}function DL(t,e,n){t instanceof Ei?function(i,s,o){let c=i.value.clone(),u=Ob(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof $n?function(i,s,o){if(!Ll(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=Ob(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(p0(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Pa(t,e,n,r){return t instanceof Ei?function(s,o,c,u){if(!Ll(s.precondition,o))return c;let l=s.value.clone(),f=kb(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof $n?function(s,o,c,u){if(!Ll(s.precondition,o))return c;let l=kb(s.fieldTransforms,u,o),f=o.data;return f.setAll(p0(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return Ll(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function CL(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=u0(r.transform,i||null);s!=null&&(n===null&&(n=dn.empty()),n.set(r.field,s))}return n||null}function Pb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xs(r,i,(s,o)=>EL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ei=class extends Hs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},$n=class extends Hs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function p0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Ob(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,wL(o,c,n[i]))}return r}function kb(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,IL(s,o,e))}return r}var Wl=class extends Hs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},$m=class extends Hs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Hm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&DL(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Pa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=a0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=f0(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&xs(this.mutations,e.mutations,(n,r)=>Pb(n,r))&&xs(this.baseMutations,e.baseMutations,(n,r)=>Pb(n,r))}},qm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return gL}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var zm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ne,ue;function bL(t){switch(t){default:return oe();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function TL(t){if(t===void 0)return vi("GRPC error has no .code"),R.UNKNOWN;switch(t){case Ne.OK:return R.OK;case Ne.CANCELLED:return R.CANCELLED;case Ne.UNKNOWN:return R.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return R.INTERNAL;case Ne.UNAVAILABLE:return R.UNAVAILABLE;case Ne.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ne.NOT_FOUND:return R.NOT_FOUND;case Ne.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ne.ABORTED:return R.ABORTED;case Ne.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ne.DATA_LOSS:return R.DATA_LOSS;default:return oe()}}(ue=Ne||(Ne={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var TW=new cm([4294967295,4294967295],0);var Gm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Wm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AL(t,e){return Wm(t,e.toTimestamp())}function Ms(t){return Re(!!t),Ae.fromTimestamp(function(n){let r=Dr(n);return new it(r.seconds,r.nanos)}(t))}function g0(t,e){return Km(t,e).canonicalString()}function Km(t,e){let n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RL(t){let e=Be.fromString(t);return Re(VL(e)),e}function Qm(t,e){return g0(t.databaseId,e.path)}function ML(t){let e=RL(t);return e.length===4?Be.emptyPath():NL(e)}function xL(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NL(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Fb(t,e,n){return{name:Qm(t,e),fields:n.value.mapValue.fields}}function PL(t,e){let n;if(e instanceof Ei)n={update:Fb(t,e.key,e.value)};else if(e instanceof Wl)n={delete:Qm(t,e.key)};else if(e instanceof $n)n={update:Fb(t,e.key,e.data),updateMask:FL(e.fieldMask)};else{if(!(e instanceof $m))return oe();n={verify:Qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Bs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ii)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $s)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:AL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function OL(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ms(i.updateTime):Ms(s);return o.isEqual(Ae.min())&&(o=Ms(s)),new Bm(o,i.transformResults||[])}(n,e))):[]}function kL(t){let e=ML(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let y=m0(g);return y instanceof Cr&&Xb(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(y=>function(A){return new Ls(As(A.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,ky(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(g){let y=!!g.before,b=g.values||[];return new Vs(b,y)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let y=!g.before,b=g.values||[];return new Vs(b,y)}(n.endAt)),cL(e,i,o,s,c,"F",u,l)}function m0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=As(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=As(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=As(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=As(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(As(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cr.create(n.compositeFilter.filters.map(r=>m0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function As(t){return St.fromServerFormat(t.fieldPath)}function FL(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ym=class{constructor(e){this.ct=e}};function LL(t){let e=kL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jm(e,e.limit,"L"):e}var Kl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Oa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Dr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ns(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Yb(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Qb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Oe(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ee.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Kl.vt=new Kl;var Jm=class{constructor(){this.un=new Zm}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(_i.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},Zm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Be.comparator)).toArray()}};var SW=new Uint8Array(0);var ln=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var Fa=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Xm=class{constructor(){this.changes=new br(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ey=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ty=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Pa(r.mutation,i,hn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){let i=pi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=kl();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=pi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Gl(),o=Na(),c=function(){return Na()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof $n)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),Pa(f.mutation,l,f.mutation.getFieldMask(),it.now())):o.set(l.key,hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var g;return c.set(l,new ey(f,(g=o.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Na(),i=new At((o,c)=>o-c),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||hn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||rt()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=a0();f.forEach(y=>{if(!s.has(y)){let b=f0(n.get(y),r.get(y));b!==null&&g.set(y,b),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(pi()),c=-1,u=s;return o.next(l=>M.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,rt())).next(f=>({batchId:c,changes:o0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=kl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=kl();return this.indexManager.getCollectionParents(e,s).next(c=>M.forEach(c,u=>{let l=function(g,y){return new Us(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Fs.newInvalidDocument(f)))});let c=kl();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&Pa(f.mutation,l,hn.empty(),it.now()),jy(n,l)&&(c=c.insert(u,l))}),c})}};var ny=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ms(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:LL(i.bundledQuery),readTime:Ms(i.readTime)}}(n)),M.resolve()}};var ry=class{constructor(){this.overlays=new At(ee.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=pi();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=pi(),s=n.length+1,o=new ee(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new At((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=pi(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=pi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return M.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zm(n,r));let s=this.Ir.get(n);s===void 0&&(s=rt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var iy=class{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var Va=class{constructor(){this.Tr=new dt(Pe.Er),this.dr=new dt(Pe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Pe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ee(new Be([])),r=new Pe(n,e),i=new Pe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ee(new Be([])),r=new Pe(n,e),i=new Pe(n,e+1),s=rt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Pe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Pe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||ee.comparator(e.key,n.key)}};var sy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new dt(Pe.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Hm(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Pe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Pe(n,0),i=new Pe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(we);return n.forEach(i=>{let s=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;ee.isDocumentKey(s)||(s=s.child(""));let o=new Pe(new ee(s),0),c=new dt(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),M.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let s=new Pe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Pe(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var oy=class{constructor(e){this.Mr=e,this.docs=function(){return new At(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Fs.newInvalidDocument(n))}getEntries(e,n){let r=Gl();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Fs.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gl(),o=n.path,c=new ee(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||YV(QV(f),r)<=0||(i.has(f.key)||jy(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ay(this)}getSize(e){return M.resolve(this.size)}},ay=class extends Xm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var cy=class{constructor(e){this.persistence=e,this.Nr=new br(n=>Ly(n),Uy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Va,this.targetCount=0,this.kr=Fa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Fa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var uy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new XV(0),this.Kr=!1,this.Kr=!0,this.$r=new iy,this.referenceDelegate=e(this),this.Ur=new cy(this),this.indexManager=new Jm,this.remoteDocumentCache=function(i){return new oy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ym(n),this.Gr=new ny(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ry,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new sy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new ly(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},ly=class extends bm{constructor(e){super(),this.currentSequenceNumber=e}},dy=class t{constructor(e){this.persistence=e,this.Jr=new Va,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=ee.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var hy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=rt(),i=rt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var fy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var py=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uC()?8:ZV(Ue())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new fy;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Aa()<=se.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(Aa()<=se.DEBUG&&L("QueryEngine","Query:",Ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Aa()<=se.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):M.resolve())}Yi(e,n){if(xb(n))return M.resolve(null);let r=gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jm(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=rt(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,jm(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return xb(n)||i.isEqual(Ae.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(Aa()<=se.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ra(n)),this.rs(e,o,n,KV(i,-1)).next(c=>c))})}ts(e,n){let r=new dt(hL(e));return n.forEach((i,s)=>{jy(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Aa()<=se.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Ra(n)),this.Ji.getDocumentsMatchingQuery(e,n,_i.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var gy=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new At(we),this._s=new br(s=>Ly(s),Uy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ty(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function UL(t,e,n,r){return new gy(t,e,n,r)}function y0(t,e){return I(this,null,function*(){let n=Ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=rt();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function jL(t,e){let n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let g=l.batch,y=g.keys(),b=M.resolve();return y.forEach(A=>{b=b.next(()=>f.getEntry(u,A)).next(N=>{let P=l.docVersions.get(A);Re(P!==null),N.version.compareTo(P)<0&&(g.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),f.addEntry(N)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=rt();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BL(t){let e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function $L(t,e){let n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Ql=class{constructor(){this.activeTargetIds=vL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var my=class{constructor(){this.so=new Ql,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ql,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var yy=class{_o(e){}shutdown(){}};var Yl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Fl=null;function pm(){return Fl===null?Fl=function(){return 268435456+Math.round(2147483648*Math.random())}():Fl++,"0x"+Fl.toString(16)}var HL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var vy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var nt="WebChannelConnection",_y=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=pm(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(L("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Ul("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=HL[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=pm();return new Promise((o,c)=>{let u=new um;u.setWithCredentials(!0),u.listenOnce(lm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Sa.NO_ERROR:let f=u.getResponseJson();L(nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Sa.TIMEOUT:L(nt,`RPC '${e}' ${s} timed out`),c(new j(R.DEADLINE_EXCEEDED,"Request time out"));break;case Sa.HTTP_ERROR:let g=u.getStatus();if(L(nt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let A=function(P){let F=P.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(F)>=0?F:R.UNKNOWN}(b.status);c(new j(A,b.message))}else c(new j(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new j(R.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{L(nt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(nt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=pm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fm(),c=hm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");L(nt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),y=!1,b=!1,A=new vy({Io:P=>{b?L(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(y||(L(nt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),L(nt,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},To:()=>g.close()}),N=(P,F,te)=>{P.listen(F,Q=>{try{te(Q)}catch(ge){setTimeout(()=>{throw ge},0)}})};return N(g,Ss.EventType.OPEN,()=>{b||(L(nt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),N(g,Ss.EventType.CLOSE,()=>{b||(b=!0,L(nt,`RPC '${e}' stream ${i} transport closed`),A.So())}),N(g,Ss.EventType.ERROR,P=>{b||(b=!0,Ul(nt,`RPC '${e}' stream ${i} transport errored:`,P),A.So(new j(R.UNAVAILABLE,"The operation could not be completed")))}),N(g,Ss.EventType.MESSAGE,P=>{var F;if(!b){let te=P.data[0];Re(!!te);let Q=te,ge=Q.error||((F=Q[0])===null||F===void 0?void 0:F.error);if(ge){L(nt,`RPC '${e}' stream ${i} received error:`,ge);let He=ge.status,fe=function(v){let w=Ne[v];if(w!==void 0)return TL(w)}(He),E=ge.message;fe===void 0&&(fe=R.INTERNAL,E="Unknown error status: "+He+" with message "+ge.message),b=!0,A.So(new j(fe,E)),g.close()}else L(nt,`RPC '${e}' stream ${i} received:`,te),A.bo(te)}}),N(c,dm.STAT_EVENT,P=>{P.stat===Pl.PROXY?L(nt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Pl.NOPROXY&&L(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function gm(){return typeof document<"u"?document:null}function cd(t){return new Gm(t,!0)}var Jl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Iy=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Jl(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new j(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var wy=class extends Iy{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=OL(e.writeResults,e.commitTime),r=Ms(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=xL(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>PL(this.serializer,r))};this.a_(n)}};var Ey=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new j(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Km(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(R.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Km(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Dy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vi(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Cy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>I(this,null,function*(){$a(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=Ee(u);l.L_.add(4),yield Ba(l),l.q_.set("Unknown"),l.L_.delete(4),yield ud(l)})}(this))}))}),this.q_=new Dy(r,i)}};function ud(t){return I(this,null,function*(){if($a(t))for(let e of t.B_)yield e(!0)})}function Ba(t){return I(this,null,function*(){for(let e of t.B_)yield e(!1)})}function $a(t){return Ee(t).L_.size===0}function v0(t,e,n){return I(this,null,function*(){if(!ad(e))throw e;t.L_.add(1),yield Ba(t),t.q_.set("Offline"),n||(n=()=>BL(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield ud(t)}))})}function _0(t,e){return e().catch(n=>v0(t,n,e))}function ld(t){return I(this,null,function*(){let e=Ee(t),n=Tr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qL(e);)try{let i=yield $L(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,zL(e,i)}catch(i){yield v0(e,i)}I0(e)&&w0(e)})}function qL(t){return $a(t)&&t.O_.length<10}function zL(t,e){t.O_.push(e);let n=Tr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function I0(t){return $a(t)&&!Tr(t).n_()&&t.O_.length>0}function w0(t){Tr(t).start()}function GL(t){return I(this,null,function*(){Tr(t).p_()})}function WL(t){return I(this,null,function*(){let e=Tr(t);for(let n of t.O_)e.m_(n.mutations)})}function KL(t,e,n){return I(this,null,function*(){let r=t.O_.shift(),i=qm.from(r,e,n);yield _0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ld(t)})}function QL(t,e){return I(this,null,function*(){e&&Tr(t).V_&&(yield function(r,i){return I(this,null,function*(){if(function(o){return bL(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();Tr(r).s_(),yield _0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield ld(r)}})}(t,e)),I0(t)&&w0(t)})}function Vb(t,e){return I(this,null,function*(){let n=Ee(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=$a(n);n.L_.add(3),yield Ba(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield ud(n)})}function YL(t,e){return I(this,null,function*(){let n=Ee(t);e?(n.L_.delete(2),yield ud(n)):e||(n.L_.add(2),yield Ba(n),n.q_.set("Unknown"))})}function Tr(t){return t.U_||(t.U_=function(n,r,i){let s=Ee(n);return s.w_(),new wy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:GL.bind(null,t),mo:QL.bind(null,t),f_:WL.bind(null,t),g_:KL.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.U_.s_(),yield ld(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var by=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function E0(t,e){if(vi("AsyncQueue",`${e}: ${t}`),ad(t))return new j(R.UNAVAILABLE,`${e}: ${t}`);throw t}var Ty=class{constructor(){this.queries=Lb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Ee(n),s=i.queries;i.queries=Lb(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new j(R.ABORTED,"Firestore shutting down"))}};function Lb(){return new br(t=>i0(t),r0)}function JL(t){t.Y_.forEach(e=>{e.next()})}var Ub,jb;(jb=Ub||(Ub={})).ea="default",jb.Cache="cache";var Sy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new br(c=>i0(c),r0),this.Ma=new Map,this.xa=new Set,this.Oa=new At(ee.comparator),this.Na=new Map,this.La=new Va,this.Ba={},this.ka=new Map,this.qa=Fa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function ZL(t,e,n){return I(this,null,function*(){let r=nU(t);try{let i=yield function(o,c){let u=Ee(o),l=it.now(),f=c.reduce((b,A)=>b.add(A.key),rt()),g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>{let A=Gl(),N=rt();return u.cs.getEntries(b,f).next(P=>{A=P,A.forEach((F,te)=>{te.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(b,A)).next(P=>{g=P;let F=[];for(let te of c){let Q=CL(te,g.get(te.key).overlayedDocument);Q!=null&&F.push(new $n(te.key,Q,Jb(Q.value.mapValue),mi.exists(!0)))}return u.mutationQueue.addMutationBatch(b,l,F,c)}).next(P=>{y=P;let F=P.applyToLocalDocumentSet(g,N);return u.documentOverlayCache.saveOverlays(b,P.batchId,F)})}).then(()=>({batchId:y.batchId,changes:o0(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new At(we)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield dd(r,i.changes),yield ld(r.remoteStore)}catch(i){let s=E0(i,"Failed to persist write");n.reject(s)}})}function Bb(t,e,n){let r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=Ee(o);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let y of g.j_)y.Z_(c)&&(l=!0)}),l&&JL(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function XL(t,e){return I(this,null,function*(){let n=Ee(t),r=e.batch.batchId;try{let i=yield jL(n.localStore,e);C0(n,r,null),D0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield dd(n,i)}catch(i){yield Gb(i)}})}function eU(t,e,n){return I(this,null,function*(){let r=Ee(t);try{let i=yield function(o,c){let u=Ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(g=>(Re(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);C0(r,e,n),D0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield dd(r,i)}catch(i){yield Gb(i)}})}function D0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function C0(t,e,n){let r=Ee(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function dd(t,e,n){return I(this,null,function*(){let r=Ee(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=hy.Wi(u.targetId,l);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return I(this,null,function*(){let f=Ee(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(l,y=>M.forEach(y.$i,b=>f.persistence.referenceDelegate.addReference(g,y.targetId,b)).next(()=>M.forEach(y.Ui,b=>f.persistence.referenceDelegate.removeReference(g,y.targetId,b)))))}catch(g){if(!ad(g))throw g;L("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let y=g.targetId;if(!g.fromCache){let b=f.os.get(y),A=b.snapshotVersion,N=b.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(y,N)}}})}(r.localStore,s))})}function tU(t,e){return I(this,null,function*(){let n=Ee(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield y0(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new j(R.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dd(n,r.hs)}})}function nU(t){let e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eU.bind(null,e),e}var $b=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return I(this,null,function*(){this.serializer=cd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return UL(this.persistence,new py,n.initialUser,this.serializer)}Ga(n){return new uy(dy.Zr,this.serializer)}Wa(n){return new my}terminate(){return I(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var rU=(()=>{class t{initialize(n,r){return I(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Bb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=tU.bind(null,this.syncEngine),yield YL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Ty}()}createDatastore(n){let r=cd(n.databaseInfo.databaseId),i=function(o){return new _y(o)}(n.databaseInfo);return function(o,c,u,l){return new Ey(o,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new Cy(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>Bb(this.syncEngine,r,0),function(){return Yl.D()?new Yl:new yy}())}createSyncEngine(n,r){return function(s,o,c,u,l,f,g){let y=new Sy(s,o,c,u,l,f);return g&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var n,r;yield function(s){return I(this,null,function*(){let o=Ee(s);L("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ba(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Ay=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=je.UNAUTHENTICATED,this.clientId=Bl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>I(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=E0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function mm(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield y0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Hb(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield iU(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Vb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Vb(e.remoteStore,i)),t._onlineComponents=e})}function iU(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ul("Error using user provided cache. Falling back to memory cache: "+n),yield mm(t,new $b)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield mm(t,new $b);return t._offlineComponents})}function sU(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hb(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield Hb(t,new rU))),t._onlineComponents})}function oU(t){return sU(t).then(e=>e.syncEngine)}function b0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var qb=new Map;function aU(t,e,n){if(!n)throw new j(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cU(t,e,n,r){if(e===!0&&r===!0)throw new j(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zb(t){if(!ee.isDocumentKey(t))throw new j(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $y(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Ry(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=$y(t);throw new j(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Zl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new j(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new j(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new j(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},La=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ym;switch(r.type){case"firstParty":return new wm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=qb.get(n);r&&(L("ComponentProvider","Removing Datastore"),qb.delete(n),r.terminate())}(this),Promise.resolve()}};function T0(t,e,n,r={}){var i;let s=(t=Ry(t,La))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=je.MOCK_USER;else{c=rC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new je(l)}t._authCredentials=new vm(new jl(c,u))}}var My=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},jn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ua=class t extends My{constructor(e,n,r){super(e,n,uL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new ee(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Hy(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=Bl.newId()),aU("doc","path",e),t instanceof La){let r=Be.fromString(e,...n);return zb(r),new jn(t,null,new ee(r))}{if(!(t instanceof jn||t instanceof Ua))throw new j(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return zb(r),new jn(t.firestore,t instanceof Ua?t.converter:null,new ee(r))}}var Xl=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Jl(this,"async_queue_retry"),this.Vu=()=>{let r=gm();r&&L("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Un;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return I(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ad(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw vi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=by.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}wu(){return I(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var ed=class extends La{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Xl,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Xl(e),this._firestoreClient=void 0,yield e}})}};function hd(t,e){let n=typeof t=="object"?t:Cs(),r=typeof t=="string"?t:e||"(default)",i=va(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=nC("firestore");s&&T0(i,...s)}return i}function uU(t){if(t._terminated)throw new j(R.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lU(t),t._firestoreClient}function lU(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new Sm(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,b0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ay(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var td=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Bn.fromBase64String(e))}catch(n){throw new j(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var nd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var rd=class{constructor(e){this._methodName=e}};var id=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var sd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var dU=/^__.*__$/,xy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $n(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ei(e,this.data,n,this.fieldTransforms)}};function S0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var Ny=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return od(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(S0(this.Cu)&&dU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Py=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cd(e)}Qu(e,n,r,i=!1){return new Ny({Cu:e,methodName:n,qu:r,path:St.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function hU(t){let e=t._freezeSettings(),n=cd(t._databaseId);return new Py(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fU(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);x0("Data must be an object, but it was:",o,r);let c=R0(r,o),u,l;if(s.merge)u=new hn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let y=pU(e,g,n);if(!o.contains(y))throw new j(R.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);yU(f,y)||f.push(y)}u=new hn(f),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new xy(new dn(c),u,l)}function A0(t,e){if(M0(t=Tt(t)))return x0("Unsupported field value:",e,t),R0(t,e);if(t instanceof rd)return function(r,i){if(!S0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=A0(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _L(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=it.fromDate(r);return{timestampValue:Wm(i.serializer,s)}}if(r instanceof it){let s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wm(i.serializer,s)}}if(r instanceof id)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof td)return{bytesValue:SL(i.serializer,r._byteString)};if(r instanceof jn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:g0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sd)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return By(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${$y(r)}`)}(t,e)}function R0(t,e){let n={};return Wb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(t,(r,i)=>{let s=A0(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function M0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof id||t instanceof td||t instanceof jn||t instanceof rd||t instanceof sd)}function x0(t,e,n){if(!M0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=$y(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function pU(t,e,n){if((e=Tt(e))instanceof nd)return e._internalPath;if(typeof e=="string")return mU(t,e);throw od("Field path arguments must be of type string or ",t,!1,void 0,n)}var gU=new RegExp("[~\\*/\\[\\]]");function mU(t,e,n){if(e.search(gU)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nd(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function od(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new j(R.INVALID_ARGUMENT,c+t+u)}function yU(t,e){return t.some(n=>n.isEqual(e))}function vU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function qy(t,e,n){t=Ry(t,jn);let r=Ry(t.firestore,ed),i=vU(t.converter,e,n);return _U(r,[fU(hU(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mi.none())])}function _U(t,e){return function(r,i){let s=new Un;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return ZL(yield oU(r),i,s)})),s.promise}(uU(t),e)}(function(e,n=!0){(function(i){qs=i})(vr),yr(new Vt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new ed(new _m(r.getProvider("auth-internal")),new Dm(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Am(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Le(Cb,"4.7.3",e),Le(Cb,"4.7.3","esm2017")})();function IU(t,e){if(t&1&&(V(0,"div",15),he(1),G()),t&2){let n=Zr();Ke(),Vo(" ",n.errorMessage," ")}}var N0=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.nombre="",this.correo="",this.errorMessage=""}onSubmit(){return I(this,null,function*(){let r=fi(),i=hd();if(!this.nombre||!this.username||!this.correo||!this.password){this.errorMessage="Todos los campos son obligatorios.";return}if(!this.validateEmail(this.correo)){this.errorMessage="Por favor, ingresa un correo v\xE1lido.";return}if(this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres.";return}try{let o=(yield Rl(r,this.correo,this.password)).user,c=Hy(i,"usuarios",o.uid);yield qy(c,{nombre:this.nombre,username:this.username,correo:this.correo,fechaIngreso:new Date().toISOString()}),console.log("Usuario registrado exitosamente:",o),console.log("Fecha de ingreso:",new Date().toISOString()),this.router.navigate(["/home"])}catch(s){switch(s.code){case"auth/email-already-in-use":this.errorMessage="El correo ya est\xE1 registrado.";break;case"auth/invalid-email":this.errorMessage="El formato del correo es inv\xE1lido.";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a es demasiado d\xE9bil.";break;default:this.errorMessage="Error al registrar el usuario. Intenta nuevamente."}console.error("Error al registrar el usuario:",s)}})}validateEmail(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}};e.\u0275fac=function(i){return new(i||e)(Y(on))},e.\u0275cmp=pt({type:e,selectors:[["app-registro"]],standalone:!0,features:[gt],decls:20,vars:5,consts:[["registroForm","ngForm"],[3,"ngSubmit"],["href",_u`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"titulo"],[1,"input-container"],["src","assets/images/nombre.png","alt","Nombre",1,"input-icon"],["id","nombre","name","nombre","required","","type","text","placeholder","Nombre",3,"ngModelChange","ngModel"],["src","assets/images/mail.png","alt","Mail",1,"input-icon"],["id","correo","name","correo","required","","type","email","placeholder","Correo",3,"ngModelChange","ngModel"],["src","assets/images/UsuarioTP.png","alt","Usuario",1,"input-icon"],["id","username","name","username","required","","type","text","placeholder","Usuario",3,"ngModelChange","ngModel"],["src","assets/images/Candadito.png","alt","Candado",1,"input-icon"],["id","password","name","password","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit"],[1,"error-message"]],template:function(i,s){if(i&1){let o=Jr();V(0,"form",1,0),Et("ngSubmit",function(){return It(o),wt(s.onSubmit())}),Ce(2,"link",2),V(3,"div",3),he(4," \xA1REGISTRATE AHORA! "),G(),V(5,"div",4),Ce(6,"img",5),V(7,"input",6),Mn("ngModelChange",function(u){return It(o),ur(s.nombre,u)||(s.nombre=u),wt(u)}),G()(),V(8,"div",4),Ce(9,"img",7),V(10,"input",8),Mn("ngModelChange",function(u){return It(o),ur(s.correo,u)||(s.correo=u),wt(u)}),G()(),V(11,"div",4),Ce(12,"img",9),V(13,"input",10),Mn("ngModelChange",function(u){return It(o),ur(s.username,u)||(s.username=u),wt(u)}),G()(),V(14,"div",4),Ce(15,"img",11),V(16,"input",12),Mn("ngModelChange",function(u){return It(o),ur(s.password,u)||(s.password=u),wt(u)}),G()(),cr(17,IU,2,1,"div",13),V(18,"button",14),he(19,"Registrarse"),G()()}i&2&&(Ke(7),Rn("ngModel",s.nombre),Ke(3),Rn("ngModel",s.correo),Ke(3),Rn("ngModel",s.username),Ke(3),Rn("ngModel",s.password),Ke(),nn("ngIf",s.errorMessage))},dependencies:[ol,sl,ws,nl,rl,fa,ha,da,ti,ls],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:200px auto;padding:60px;border:1px solid #ccc;border-radius:10px;box-shadow:0 4px 20px #0003;background-color:#fff;font-family:Roboto}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:35px;font-weight:700;color:#4caf50;margin-bottom:30px;text-transform:uppercase}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.input-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%]{width:80%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:16px}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;margin-top:10px;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:-10px;margin-bottom:15px}a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]});let t=e;return t})();var P0=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:RD},{path:"about",component:AD},{path:"registro",component:N0},{path:"**",component:MD}];var wU="firebase",EU="10.14.1";Le(wU,EU,"app");var Ci=new Cn("ANGULARFIRE2_VERSION");function pd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ha=(t,e)=>{let n=e?[e]:dl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Gs=class{constructor(){return Ha(DU)}},DU="app-check";function zs(){}var fd=class{zone;delegate;constructor(e,n=rh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},zy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs)),n.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ws=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new fd(Zone.current)),this.insideAngular=n.run(()=>new fd(Zone.current,nh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ie(ye))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function CU(t){return gd().ngZone.runOutsideAngular(()=>t())}function Di(t){return gd().ngZone.run(()=>t())}function bU(t){return TU(gd())(t)}function TU(t){return function(n){return n=n.lift(new zy(t.ngZone)),n.pipe(Jn(t.outsideAngular),Yn(t.insideAngular))}}var SU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Di(()=>t.apply(void 0,r))},Ks=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Di(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs))),r[s]=SU(r[s],n));let i=CU(()=>t.apply(this,r));if(!e)if(i instanceof ae){let s=gd();return i.pipe(Jn(s.outsideAngular),Yn(s.insideAngular))}else return Di(()=>i);return i instanceof ae?i.pipe(bU):i instanceof Promise?Di(()=>new Promise((s,o)=>i.then(c=>Di(()=>s(c)),c=>Di(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Di(()=>i)};var Hn=class{constructor(e){return e}},bi=class{constructor(){return dl()}};function AU(t){return t&&t.length===1?t[0]:new Hn(Cs())}var Gy=new H("angularfire2._apps"),RU={provide:Hn,useFactory:AU,deps:[[new ft,Gy]]},MU={provide:bi,deps:[[new ft,Gy]]};function xU(t){return(e,n)=>{let r=n.get(or);Le("angularfire",Ci.full,"core"),Le("angularfire",Ci.full,"app"),Le("angular",wE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Hn(i)}}function Wy(t,...e){return tn([RU,MU,{provide:Gy,useFactory:xU(t),multi:!0,deps:[ye,Pt,Ws,...e]}])}var Ky=Ks(ci,!0);var O0="auth",qa=class{constructor(e){return e}},za=class{constructor(){return Ha(O0)}};var Qy=new H("angularfire2.auth-instances");function NU(t,e){let n=pd(O0,t,e);return n&&new qa(n)}function PU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qa(r)}}var OU={provide:za,deps:[[new ft,Qy]]},kU={provide:qa,useFactory:NU,deps:[[new ft,Qy],Hn]};function Yy(t,...e){return Le("angularfire",Ci.full,"auth"),tn([kU,OU,{provide:Qy,useFactory:PU(t),multi:!0,deps:[ye,Pt,Ws,bi,[new ft,Gs],...e]}])}var Jy=Ks(fi,!0);var Ga=class{constructor(e){return e}},k0="firestore",Zy=class{constructor(){return Ha(k0)}};var Xy=new H("angularfire2.firestore-instances");function FU(t,e){let n=pd(k0,t,e);return n&&new Ga(n)}function VU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ga(r)}}var LU={provide:Zy,deps:[[new ft,Xy]]},UU={provide:Ga,useFactory:FU,deps:[[new ft,Xy],Hn]};function ev(t,...e){return Le("angularfire",Ci.full,"fst"),tn([UU,LU,{provide:Xy,useFactory:VU(t),multi:!0,deps:[ye,Pt,Ws,bi,[new ft,za],[new ft,Gs],...e]}])}var tv=Ks(hd,!0);var F0={providers:[SD(P0),Wy(()=>Ky({projectId:"aaaa-9fb9f",appId:"1:342205528522:web:89eb0a8ea87755363b7733",storageBucket:"aaaa-9fb9f.appspot.com",apiKey:"AIzaSyA3WBEV4kRTlU60DEyBr5JiMquwfbhA-VY",authDomain:"aaaa-9fb9f.firebaseapp.com",messagingSenderId:"342205528522",measurementId:"G-BFXLPQBBYR"})),Yy(()=>Jy()),ev(()=>tv()),Wy(()=>Ky({projectId:"salajuegos-bartel",appId:"1:500772714952:web:203ffc93567f0feb75e8fd",storageBucket:"salajuegos-bartel.appspot.com",apiKey:"AIzaSyDwWtnrBJsAhV_bpBgDDtJOH4ApwmFHfVw",authDomain:"salajuegos-bartel.firebaseapp.com",messagingSenderId:"500772714952"})),Yy(()=>Jy()),ev(()=>tv())]};var nv={apiKey:"AIzaSyDwWtnrBJsAhV_bpBgDDtJOH4ApwmFHfVw",authDomain:"salajuegos-bartel.firebaseapp.com",projectId:"salajuegos-bartel",storageBucket:"salajuegos-bartel.appspot.com",messagingSenderId:"500772714952",appId:"1:500772714952:web:203ffc93567f0feb75e8fd"},z9=ci(nv);function jU(t,e){if(t&1&&(V(0,"div",11),he(1),G()),t&2){let n=Zr();Ke(),Vo(" ",n.errorMessage," ")}}var V0=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new xe,this.username="",this.password="",this.errorMessage="",this.app=ci(nv),this.auth=fi(this.app)}onSubmit(){return I(this,null,function*(){try{let r=yield Ml(this.auth,this.username,this.password);this.loginStatusChange.emit(!0),this.router.navigate(["/home"])}catch(r){switch(r.code){case"auth/invalid-credential":this.errorMessage="Correo o contrase\xF1a incorrecta.";break;case"auth/invalid-email":this.errorMessage="Formato de correo inv\xE1lido.";break;default:this.errorMessage="Error al iniciar sesi\xF3n. Intenta nuevamente."}console.error("Error en login:",r),this.loginStatusChange.emit(!1)}})}};e.\u0275fac=function(i){return new(i||e)(Y(on))},e.\u0275cmp=pt({type:e,selectors:[["app-login"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[gt],decls:14,vars:3,consts:[["loginForm","ngForm"],[3,"ngSubmit"],["href",_u`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"titulo"],[1,"input-container"],["src","assets/images/UsuarioTP.png","alt","Usuario",1,"input-icon"],["id","username","name","username","required","","type","text","placeholder","Correo",3,"ngModelChange","ngModel"],["src","assets/images/Candadito.png","alt","Candado",1,"input-icon"],["id","password","name","password","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit"],[1,"error-message"]],template:function(i,s){if(i&1){let o=Jr();V(0,"form",1,0),Et("ngSubmit",function(){return It(o),wt(s.onSubmit())}),Ce(2,"link",2),V(3,"div",3),he(4," \xA1COMENZ\xC1 A JUGAR! "),G(),V(5,"div",4),Ce(6,"img",5),V(7,"input",6),Mn("ngModelChange",function(u){return It(o),ur(s.username,u)||(s.username=u),wt(u)}),G()(),V(8,"div",4),Ce(9,"img",7),V(10,"input",8),Mn("ngModelChange",function(u){return It(o),ur(s.password,u)||(s.password=u),wt(u)}),G()(),cr(11,jU,2,1,"div",9),V(12,"button",10),he(13,"Iniciar sesi\xF3n"),G()()}i&2&&(Ke(7),Rn("ngModel",s.username),Ke(3),Rn("ngModel",s.password),Ke(),nn("ngIf",s.errorMessage))},dependencies:[ol,sl,ws,nl,rl,fa,ha,da,ti,ls],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:200px auto;padding:60px;border:1px solid #ccc;border-radius:10px;box-shadow:0 4px 20px #0003;background-color:#fff;font-family:Roboto}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:35px;font-weight:700;color:#4caf50;margin-bottom:30px;text-transform:uppercase}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.input-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:80%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:16px}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;margin-top:10px;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:-10px;margin-bottom:15px}a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]});let t=e;return t})();function BU(t,e){t&1&&(V(0,"div",10)(1,"button",11),he(2,"INICIAR SESION"),G()())}function $U(t,e){t&1&&(V(0,"div",12)(1,"button",13),he(2,"REGISTRARSE"),G()())}function HU(t,e){if(t&1){let n=Jr();V(0,"div",14)(1,"button",15),Et("click",function(){It(n);let i=Zr();return wt(i.logout())}),he(2,"CERRAR SESION"),G()()}}function qU(t,e){if(t&1){let n=Jr();V(0,"app-login",16),Et("loginStatusChange",function(i){It(n);let s=Zr();return wt(s.setLoginStatus(i))}),G()}}var L0=(()=>{let e=class e{constructor(r){this.router=r,this.title="rutas",this.isLoggedIn=!1}setLoginStatus(r){this.isLoggedIn=r}logout(){this.isLoggedIn=!1,this.router.navigate(["/login"])}};e.\u0275fac=function(i){return new(i||e)(Y(on))},e.\u0275cmp=pt({type:e,selectors:[["app-root"]],standalone:!0,features:[gt],decls:13,vars:4,consts:[[1,"nav"],[1,"button-group"],["routerLink","home","routerLinkActive","active-route"],["routerLink","about","routerLinkActive","active-route"],["class","login-button-container",4,"ngIf"],["class","register-button-container",4,"ngIf"],["class","logout-button-container",4,"ngIf"],[1,"form-container1"],[1,"form-container"],[3,"loginStatusChange",4,"ngIf"],[1,"login-button-container"],["routerLink","login","routerLinkActive","active-route"],[1,"register-button-container"],["routerLink","registro","routerLinkActive","active-route"],[1,"logout-button-container"],[3,"click"],[3,"loginStatusChange"]],template:function(i,s){i&1&&(V(0,"div",0)(1,"div",1)(2,"button",2),he(3,"INICIO"),G(),V(4,"button",3),he(5,"\xBFQUI\xC9N SOY?"),G()(),cr(6,BU,3,0,"div",4)(7,$U,3,0,"div",5)(8,HU,3,0,"div",6),G(),V(9,"div",7),Ce(10,"router-outlet"),G(),V(11,"div",8),cr(12,qU,1,0,"app-login",9),G()),i&2&&(Ke(6),nn("ngIf",!s.isLoggedIn),Ke(),nn("ngIf",!s.isLoggedIn),Ke(),nn("ngIf",s.isLoggedIn),Ke(4),nn("ngIf",s.router.url==="/login"))},dependencies:[Gp,Wu,TD,ti,ls,V0],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100vh}.form-container[_ngcontent-%COMP%], .form-container1[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:50px}.login-button-container[_ngcontent-%COMP%], .logout-button-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:50px}.register-button-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:250px}.button-group[_ngcontent-%COMP%]{position:relative;top:10px;left:50px}button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;background-color:#fff;margin:0 10px;color:#000;font-size:20px}button[_ngcontent-%COMP%]:hover{color:#008a5c}.nav[_ngcontent-%COMP%]{width:100%;background-color:#fff;min-height:60px;box-shadow:0 4px 6px #0000001a;position:fixed;top:0;left:0;z-index:1000;display:flex;font-family:Roboto,sans-serif}"]});let t=e;return t})();zE(L0,F0).catch(t=>console.error(t));
