var LM=Object.defineProperty,UM=Object.defineProperties;var jM=Object.getOwnPropertyDescriptors;var xE=Object.getOwnPropertySymbols,BM=Object.getPrototypeOf,$M=Object.prototype.hasOwnProperty,HM=Object.prototype.propertyIsEnumerable,zM=Reflect.get;var AE=(t,e,n)=>e in t?LM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e)=>{for(var n in e||={})$M.call(e,n)&&AE(t,n,e[n]);if(xE)for(var n of xE(e))HM.call(e,n)&&AE(t,n,e[n]);return t},Se=(t,e)=>UM(t,jM(e));var si=(t,e,n)=>zM(BM(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var ME=null;var Sp=1,xp=Symbol("SIGNAL");function Oe(t){let e=ME;return ME=t,e}var RE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qM(t){if(!(Rp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Sp)){if(!t.producerMustRecompute(t)&&!Ap(t)){t.dirty=!1,t.lastCleanEpoch=Sp;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Sp}}function PE(t){return t&&(t.nextProducerIndex=0),Oe(t)}function NE(t,e){if(Oe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Rp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Mp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ap(t){tl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(qM(n),r!==n.version))return!0}return!1}function OE(t){if(tl(t),Rp(t))for(let e=0;e<t.producerNode.length;e++)Mp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Mp(t,e){if(GM(t),tl(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Mp(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];tl(i),i.producerIndexOfThis[r]=e}}function Rp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function tl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function GM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function WM(){throw new Error}var KM=WM;function kE(t){KM=t}function le(t){return typeof t=="function"}function Wo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nl=Wo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Hi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var et=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof nl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{FE(o)}catch(s){e=e??[],s instanceof nl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new nl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)FE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Hi(n,e)}remove(e){let{_finalizers:n}=this;n&&Hi(n,e),e instanceof t&&e._removeParent(this)}};et.EMPTY=(()=>{let t=new et;return t.closed=!0,t})();var Pp=et.EMPTY;function rl(t){return t instanceof et||t&&"closed"in t&&le(t.remove)&&le(t.add)&&le(t.unsubscribe)}function FE(t){le(t)?t():t.unsubscribe()}var Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ko={setTimeout(t,e,...n){let{delegate:r}=Ko;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ko;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function il(t){Ko.setTimeout(()=>{let{onUnhandledError:e}=Tn;if(e)e(t);else throw t})}function Wa(){}var VE=Np("C",void 0,void 0);function LE(t){return Np("E",void 0,t)}function UE(t){return Np("N",t,void 0)}function Np(t,e,n){return{kind:t,value:e,error:n}}var zi=null;function Qo(t){if(Tn.useDeprecatedSynchronousErrorHandling){let e=!zi;if(e&&(zi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=zi;if(zi=null,n)throw r}}else t()}function jE(t){Tn.useDeprecatedSynchronousErrorHandling&&zi&&(zi.errorThrown=!0,zi.error=t)}var qi=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rl(e)&&e.add(this)):this.destination=JM}static create(e,n,r){return new ai(e,n,r)}next(e){this.isStopped?kp(UE(e),this):this._next(e)}error(e){this.isStopped?kp(LE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kp(VE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QM=Function.prototype.bind;function Op(t,e){return QM.call(t,e)}var Fp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ol(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ol(r)}else ol(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ol(n)}}},ai=class extends qi{constructor(e,n,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Op(e.next,o),error:e.error&&Op(e.error,o),complete:e.complete&&Op(e.complete,o)}):i=e}this.destination=new Fp(i)}};function ol(t){Tn.useDeprecatedSynchronousErrorHandling?jE(t):il(t)}function YM(t){throw t}function kp(t,e){let{onStoppedNotification:n}=Tn;n&&Ko.setTimeout(()=>n(t,e))}var JM={closed:!0,next:Wa,error:YM,complete:Wa};var Yo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function on(t){return t}function sl(...t){return Vp(t)}function Vp(t){return t.length===0?on:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var we=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=XM(n)?n:new ai(n,r,i);return Qo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=BE(r),new r((i,o)=>{let s=new ai({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Yo](){return this}pipe(...n){return Vp(n)(this)}toPromise(n){return n=BE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function BE(t){var e;return(e=t??Tn.Promise)!==null&&e!==void 0?e:Promise}function ZM(t){return t&&le(t.next)&&le(t.error)&&le(t.complete)}function XM(t){return t&&t instanceof qi||ZM(t)&&rl(t)}function Lp(t){return le(t?.lift)}function Ce(t){return e=>{if(Lp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ee(t,e,n,r,i){return new Up(t,e,n,r,i)}var Up=class extends qi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Jo(){return Ce((t,e)=>{let n=null;t._refCount++;let r=Ee(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Zo=class extends we{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Lp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let n=this.getSubject();e.add(this.source.subscribe(Ee(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return Jo()(this)}};var $E=Wo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var St=(()=>{class t extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new al(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $E}next(n){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Pp:(this.currentObservers=null,o.push(n),new et(()=>{this.currentObservers=null,Hi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new we;return n.source=this,n}}return t.create=(e,n)=>new al(e,n),t})(),al=class extends St{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Pp}};var mt=class extends St{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var jp={now(){return(jp.delegate||Date).now()},delegate:void 0};var cl=class extends et{constructor(e,n){super()}schedule(e,n=0){return this}};var Ka={setInterval(t,e,...n){let{delegate:r}=Ka;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ka;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Xo=class extends cl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ka.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ka.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var es=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};es.now=jp.now;var ts=class extends es{constructor(e,n=es.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Bp=new ts(Xo);var ul=class extends Xo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ll=class extends ts{};var $p=new ll(ul);var sn=new we(t=>t.complete());function HE(t){return t&&le(t.schedule)}function zE(t){return t[t.length-1]}function dl(t){return le(zE(t))?t.pop():void 0}function ci(t){return HE(zE(t))?t.pop():void 0}function Hp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function qE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gi(t){return this instanceof Gi?(this.v=t,this):new Gi(t)}function WE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(E){return new Promise(function(M,k){o.push([g,E,M,k])>1||a(g,E)})})}function a(g,E){try{u(r[g](E))}catch(M){p(o[0][3],M)}}function u(g){g.value instanceof Gi?Promise.resolve(g.value.v).then(l,h):p(o[0][2],g)}function l(g){a("next",g)}function h(g){a("throw",g)}function p(g,E){g(E),o.shift(),o.length&&a(o[0][0],o[0][1])}}function KE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qE=="function"?qE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var hl=t=>t&&typeof t.length=="number"&&typeof t!="function";function fl(t){return le(t?.then)}function pl(t){return le(t[Yo])}function ml(t){return Symbol.asyncIterator&&le(t?.[Symbol.asyncIterator])}function gl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yl=eR();function _l(t){return le(t?.[yl])}function vl(t){return WE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Gi(n.read());if(i)return yield Gi(void 0);yield yield Gi(r)}}finally{n.releaseLock()}})}function wl(t){return le(t?.getReader)}function it(t){if(t instanceof we)return t;if(t!=null){if(pl(t))return tR(t);if(hl(t))return nR(t);if(fl(t))return rR(t);if(ml(t))return QE(t);if(_l(t))return iR(t);if(wl(t))return oR(t)}throw gl(t)}function tR(t){return new we(e=>{let n=t[Yo]();if(le(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nR(t){return new we(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function rR(t){return new we(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,il)})}function iR(t){return new we(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function QE(t){return new we(e=>{sR(t,e).catch(n=>e.error(n))})}function oR(t){return QE(vl(t))}function sR(t,e){var n,r,i,o;return GE(this,void 0,void 0,function*(){try{for(n=KE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Gt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ui(t,e=0){return Ce((n,r)=>{n.subscribe(Ee(r,i=>Gt(r,t,()=>r.next(i),e),()=>Gt(r,t,()=>r.complete(),e),i=>Gt(r,t,()=>r.error(i),e)))})}function li(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function YE(t,e){return it(t).pipe(li(e),ui(e))}function JE(t,e){return it(t).pipe(li(e),ui(e))}function ZE(t,e){return new we(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function XE(t,e){return new we(n=>{let r;return Gt(n,e,()=>{r=t[yl](),Gt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function El(t,e){if(!t)throw new Error("Iterable cannot be null");return new we(n=>{Gt(n,e,()=>{let r=t[Symbol.asyncIterator]();Gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function eb(t,e){return El(vl(t),e)}function tb(t,e){if(t!=null){if(pl(t))return YE(t,e);if(hl(t))return ZE(t,e);if(fl(t))return JE(t,e);if(ml(t))return El(t,e);if(_l(t))return XE(t,e);if(wl(t))return eb(t,e)}throw gl(t)}function qe(t,e){return e?tb(t,e):it(t)}function ce(...t){let e=ci(t);return qe(t,e)}function ns(t,e){let n=le(t)?t:()=>t,r=i=>i.error(n());return new we(e?i=>e.schedule(r,0,i):r)}function zp(t){return!!t&&(t instanceof we||le(t.lift)&&le(t.subscribe))}var Sn=Wo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function qp(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new ai({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Sn)}});t.subscribe(o)})}function _e(t,e){return Ce((n,r)=>{let i=0;n.subscribe(Ee(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:aR}=Array;function cR(t,e){return aR(e)?t(...e):t(e)}function bl(t){return _e(e=>cR(t,e))}var{isArray:uR}=Array,{getPrototypeOf:lR,prototype:dR,keys:hR}=Object;function Il(t){if(t.length===1){let e=t[0];if(uR(e))return{args:e,keys:null};if(fR(e)){let n=hR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function fR(t){return t&&typeof t=="object"&&lR(t)===dR}function Cl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Dl(...t){let e=ci(t),n=dl(t),{args:r,keys:i}=Il(t);if(r.length===0)return qe([],e);let o=new we(pR(r,e,i?s=>Cl(i,s):on));return n?o.pipe(bl(n)):o}function pR(t,e,n=on){return r=>{nb(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)nb(e,()=>{let l=qe(t[u],e),h=!1;l.subscribe(Ee(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function nb(t,e,n){t?Gt(n,t,e):e()}function rb(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},E=k=>l<r?M(k):u.push(k),M=k=>{o&&e.next(k),l++;let F=!1;it(n(k,h++)).subscribe(Ee(e,B=>{i?.(B),o?E(B):e.next(B)},()=>{F=!0},void 0,()=>{if(F)try{for(l--;u.length&&l<r;){let B=u.shift();s?Gt(e,s,()=>M(B)):M(B)}g()}catch(B){e.error(B)}}))};return t.subscribe(Ee(e,E,()=>{p=!0,g()})),()=>{a?.()}}function ut(t,e,n=1/0){return le(e)?ut((r,i)=>_e((o,s)=>e(r,o,i,s))(it(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>rb(r,i,t,n)))}function rs(t=1/0){return ut(on,t)}function ib(){return rs(1)}function is(...t){return ib()(qe(t,ci(t)))}function Tl(t){return new we(e=>{it(t()).subscribe(e)})}function Gp(...t){let e=dl(t),{args:n,keys:r}=Il(t),i=new we(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;it(n[h]).subscribe(Ee(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Cl(r,a):a),o.complete())}))}});return e?i.pipe(bl(e)):i}function gn(t,e){return Ce((n,r)=>{let i=0;n.subscribe(Ee(r,o=>t.call(e,o,i++)&&r.next(o)))})}function di(t){return Ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Ee(n,void 0,void 0,s=>{o=it(t(s,di(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ob(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(Ee(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function os(t,e){return le(e)?ut(t,e,1):ut(t,1)}function hi(t){return Ce((e,n)=>{let r=!1;e.subscribe(Ee(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Mr(t){return t<=0?()=>sn:Ce((e,n)=>{let r=0;e.subscribe(Ee(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Wp(t){return _e(()=>t)}function Sl(t=mR){return Ce((e,n)=>{let r=!1;e.subscribe(Ee(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mR(){return new Sn}function Qa(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function qn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gn((i,o)=>t(i,o,r)):on,Mr(1),n?hi(e):Sl(()=>new Sn))}function ss(t){return t<=0?()=>sn:Ce((e,n)=>{let r=[];e.subscribe(Ee(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Kp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gn((i,o)=>t(i,o,r)):on,ss(1),n?hi(e):Sl(()=>new Sn))}function xl(t,e){return Ce(ob(t,e,arguments.length>=2,!0))}function Al(...t){let e=ci(t);return Ce((n,r)=>{(e?is(t,n,e):is(t,n)).subscribe(r)})}function xn(t,e){return Ce((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Ee(r,u=>{i?.unsubscribe();let l=0,h=o++;it(t(u,h)).subscribe(i=Ee(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qp(t){return Ce((e,n)=>{it(t).subscribe(Ee(n,()=>n.complete(),Wa)),!n.closed&&e.subscribe(n)})}function lt(t,e,n){let r=le(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ee(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):on}var Bb="https://g.co/ng/security#xss",X=class extends Error{constructor(e,n){super(ig(e,n)),this.code=e}};function ig(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function cc(t){return{toString:t}.toString()}var Ml="__parameters__";function gR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function $b(t,e,n){return cc(()=>{let r=gR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Ml)?u[Ml]:Object.defineProperty(u,Ml,{value:[]})[Ml];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Rr=globalThis;function $e(t){for(let e in t)if(t[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function yR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function dm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var _R=$e({__forward_ref__:$e});function Qt(t){return t.__forward_ref__=Qt,t.toString=function(){return jt(this())},t}function Ut(t){return Hb(t)?t():t}function Hb(t){return typeof t=="function"&&t.hasOwnProperty(_R)&&t.__forward_ref__===Qt}function re(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function cd(t){return sb(t,qb)||sb(t,Gb)}function zb(t){return cd(t)!==null}function sb(t,e){return t.hasOwnProperty(e)?t[e]:null}function vR(t){let e=t&&(t[qb]||t[Gb]);return e||null}function ab(t){return t&&(t.hasOwnProperty(cb)||t.hasOwnProperty(wR))?t[cb]:null}var qb=$e({\u0275prov:$e}),cb=$e({\u0275inj:$e}),Gb=$e({ngInjectableDef:$e}),wR=$e({ngInjectorDef:$e}),oe=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=re({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Wb(t){return t&&!!t.\u0275providers}var ER=$e({\u0275cmp:$e}),bR=$e({\u0275dir:$e}),IR=$e({\u0275pipe:$e}),CR=$e({\u0275mod:$e}),Bl=$e({\u0275fac:$e}),Ya=$e({__NG_ELEMENT_ID__:$e}),ub=$e({__NG_ENV_ID__:$e});function hs(t){return typeof t=="string"?t:t==null?"":String(t)}function DR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():hs(t)}function TR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new X(-200,t)}function og(t,e){throw new X(-201,!1)}var pe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(pe||{}),hm;function Kb(){return hm}function Wt(t){let e=hm;return hm=t,e}function Qb(t,e,n){let r=cd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&pe.Optional)return null;if(e!==void 0)return e;og(t,"Injector")}var SR={},Ja=SR,fm="__NG_DI_FLAG__",$l="ngTempTokenPath",xR="ngTokenPath",AR=/\n/gm,MR="\u0275",lb="__source",ls;function RR(){return ls}function fi(t){let e=ls;return ls=t,e}function PR(t,e=pe.Default){if(ls===void 0)throw new X(-203,!1);return ls===null?Qb(t,void 0,e):ls.get(t,e&pe.Optional?null:void 0,e)}function ge(t,e=pe.Default){return(Kb()||PR)(Ut(t),e)}function G(t,e=pe.Default){return ge(t,ud(e))}function ud(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pm(t){let e=[];for(let n=0;n<t.length;n++){let r=Ut(t[n]);if(Array.isArray(r)){if(r.length===0)throw new X(900,!1);let i,o=pe.Default;for(let s=0;s<r.length;s++){let a=r[s],u=NR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ge(i,o))}else e.push(ge(r))}return e}function Yb(t,e){return t[fm]=e,t.prototype[fm]=e,t}function NR(t){return t[fm]}function OR(t,e,n,r){let i=t[$l];throw e[lb]&&i.unshift(e[lb]),t.message=kR(`
`+t.message,i,n,r),t[xR]=i,t[$l]=null,t}function kR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==MR?t.slice(2):t;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(AR,`
  `)}`}var Bt=Yb($b("Optional"),8);var Jb=Yb($b("SkipSelf"),4);function Qi(t,e){let n=t.hasOwnProperty(Bl);return n?t[Bl]:null}function FR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function VR(t){return t.flat(Number.POSITIVE_INFINITY)}function sg(t,e){t.forEach(n=>Array.isArray(n)?sg(n,e):e(n))}function Zb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function LR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ag(t,e,n){let r=uc(t,e);return r>=0?t[r|1]=n:(r=~r,LR(t,r,e,n)),r}function Yp(t,e){let n=uc(t,e);if(n>=0)return t[n|1]}function uc(t,e){return UR(t,e,1)}function UR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var fs={},Kt=[],ps=new oe(""),Xb=new oe("",-1),eI=new oe(""),zl=class{get(e,n=Ja){if(n===Ja){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return n}},tI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(tI||{}),Kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Kn||{}),tt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(tt||{});function jR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function mm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];BR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function nI(t){return t===3||t===4||t===6}function BR(t){return t.charCodeAt(0)===64}function Za(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?db(t,n,i,null,e[++r]):db(t,n,i,null,null))}}return t}function db(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var rI="ng-template";function $R(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(cg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function cg(t){return t.type===4&&t.value!==rI}function HR(t,e,n){let r=t.type===4&&!n?rI:t.value;return e===r}function zR(t,e,n){let r=4,i=t.attrs,o=i!==null?WR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!An(r)&&!An(u))return!1;if(s&&An(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!HR(t,u,n)||u===""&&e.length===1){if(An(r))return!1;s=!0}}else if(r&8){if(i===null||!$R(t,i,u,n)){if(An(r))return!1;s=!0}}else{let l=e[++a],h=qR(u,i,cg(t),n);if(h===-1){if(An(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(An(r))return!1;s=!0}}}}return An(r)||s}function An(t){return(t&1)===0}function qR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return KR(e,t)}function GR(t,e,n=!1){for(let r=0;r<e.length;r++)if(zR(t,e[r],n))return!0;return!1}function WR(t){for(let e=0;e<t.length;e++){let n=t[e];if(nI(n))return e}return t.length}function KR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function hb(t,e){return t?":not("+e.trim()+")":e}function QR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!An(s)&&(e+=hb(o,i),i=""),r=s,o=o||!An(r);n++}return i!==""&&(e+=hb(o,i)),e}function YR(t){return t.map(QR).join(",")}function JR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!An(i))break;i=o}r++}return{attrs:e,classes:n}}function Ye(t){return cc(()=>{let e=uI(t),n=Se(q({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===tI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Kn.Emulated,styles:t.styles||Kt,_:null,schemas:t.schemas||null,tView:null,id:""});lI(n);let r=t.dependencies;return n.directiveDefs=pb(r,!1),n.pipeDefs=pb(r,!0),n.id=eP(n),n})}function ZR(t){return Yi(t)||oI(t)}function XR(t){return t!==null}function Zn(t){return cc(()=>({type:t.type,bootstrap:t.bootstrap||Kt,declarations:t.declarations||Kt,imports:t.imports||Kt,exports:t.exports||Kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fb(t,e){if(t==null)return fs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=tt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==tt.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Fe(t){return cc(()=>{let e=uI(t);return lI(e),e})}function iI(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yi(t){return t[ER]||null}function oI(t){return t[bR]||null}function sI(t){return t[IR]||null}function aI(t){let e=Yi(t)||oI(t)||sI(t);return e!==null?e.standalone:!1}function cI(t,e){let n=t[CR]||null;if(!n&&e===!0)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return n}function uI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||fs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fb(t.inputs,e),outputs:fb(t.outputs),debugInfo:null}}function lI(t){t.features?.forEach(e=>e(t))}function pb(t,e){if(!t)return null;let n=e?sI:ZR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(XR)}function eP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Xn(t){return{\u0275providers:t}}function tP(...t){return{\u0275providers:dI(!0,t),\u0275fromNgModule:!0}}function dI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return sg(e,s=>{let a=s;gm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&hI(i,o),n}function hI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ug(i,o=>{e(o,r)})}}function gm(t,e,n,r){if(t=Ut(t),!t)return!1;let i=null,o=ab(t),s=!o&&Yi(t);if(!o&&!s){let u=t.ngModule;if(o=ab(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)gm(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{sg(o.imports,h=>{gm(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&hI(l,e)}if(!a){let l=Qi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Kt},i),e({provide:eI,useValue:i,multi:!0},i),e({provide:ps,useValue:()=>ge(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;ug(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ug(t,e){for(let n of t)Wb(n)&&(n=n.\u0275providers),Array.isArray(n)?ug(n,e):e(n)}var nP=$e({provide:String,useValue:$e});function fI(t){return t!==null&&typeof t=="object"&&nP in t}function rP(t){return!!(t&&t.useExisting)}function iP(t){return!!(t&&t.useFactory)}function ms(t){return typeof t=="function"}function oP(t){return!!t.useClass}var ld=new oe(""),kl={},sP={},Jp;function lg(){return Jp===void 0&&(Jp=new zl),Jp}var yn=class{},Xa=class extends yn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_m(e,s=>this.processProvider(s)),this.records.set(Xb,as(void 0,this)),i.has("environment")&&this.records.set(yn,as(void 0,this));let o=this.records.get(ld);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(eI,Kt,pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=fi(this),r=Wt(void 0),i;try{return e()}finally{fi(n),Wt(r)}}get(e,n=Ja,r=pe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ub))return e[ub](this);r=ud(r);let i,o=fi(this),s=Wt(void 0);try{if(!(r&pe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=dP(e)&&cd(e);l&&this.injectableDefInScope(l)?u=as(ym(e),kl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&pe.Self?lg():this.parent;return n=r&pe.Optional&&n===Ja?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[$l]=a[$l]||[]).unshift(jt(e)),o)throw a;return OR(a,e,"R3InjectorError",this.source)}else throw a}finally{Wt(s),fi(o)}}resolveInjectorInitializers(){let e=Oe(null),n=fi(this),r=Wt(void 0),i;try{let o=this.get(ps,Kt,pe.Self);for(let s of o)s()}finally{fi(n),Wt(r),Oe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){e=Ut(e);let n=ms(e)?e:Ut(e&&e.provide),r=cP(e);if(!ms(e)&&e.multi===!0){let i=this.records.get(n);i||(i=as(void 0,kl,!0),i.factory=()=>pm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Oe(null);try{return n.value===kl&&(n.value=sP,n.value=n.factory()),typeof n.value=="object"&&n.value&&lP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ut(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ym(t){let e=cd(t),n=e!==null?e.factory:Qi(t);if(n!==null)return n;if(t instanceof oe)throw new X(204,!1);if(t instanceof Function)return aP(t);throw new X(204,!1)}function aP(t){if(t.length>0)throw new X(204,!1);let n=vR(t);return n!==null?()=>n.factory(t):()=>new t}function cP(t){if(fI(t))return as(void 0,t.useValue);{let e=pI(t);return as(e,kl)}}function pI(t,e,n){let r;if(ms(t)){let i=Ut(t);return Qi(i)||ym(i)}else if(fI(t))r=()=>Ut(t.useValue);else if(iP(t))r=()=>t.useFactory(...pm(t.deps||[]));else if(rP(t))r=()=>ge(Ut(t.useExisting));else{let i=Ut(t&&(t.useClass||t.provide));if(uP(t))r=()=>new i(...pm(t.deps));else return Qi(i)||ym(i)}return r}function as(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function uP(t){return!!t.deps}function lP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function dP(t){return typeof t=="function"||typeof t=="object"&&t instanceof oe}function _m(t,e){for(let n of t)Array.isArray(n)?_m(n,e):n&&Wb(n)?_m(n.\u0275providers,e):e(n)}function io(t,e){t instanceof Xa&&t.assertNotDestroyed();let n,r=fi(t),i=Wt(void 0);try{return e()}finally{fi(r),Wt(i)}}function hP(){return Kb()!==void 0||RR()!=null}function fP(t){return typeof t=="function"}var Lr=0,me=1,ie=2,gt=3,Rn=4,On=5,ql=6,ec=7,Pn=8,gs=9,Nn=10,Qe=11,tc=12,mb=13,ws=14,Qn=15,lc=16,cs=17,Pr=18,dd=19,mI=20,pi=21,Zp=22,Ji=23,_n=25,gI=1;var Zi=7,Gl=8,ys=9,an=10,dg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(dg||{});function Wi(t){return Array.isArray(t)&&typeof t[gI]=="object"}function Ur(t){return Array.isArray(t)&&t[gI]===!0}function hg(t){return(t.flags&4)!==0}function hd(t){return t.componentOffset>-1}function fd(t){return(t.flags&1)===1}function mi(t){return!!t.template}function pP(t){return(t[ie]&512)!==0}var vm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function yI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Yt(){return _I}function _I(t){return t.type.prototype.ngOnChanges&&(t.setInput=gP),mP}Yt.ngInherit=!0;function mP(){let t=wI(this),e=t?.current;if(e){let n=t.previous;if(n===fs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function gP(t,e,n,r,i){let o=this.declaredInputs[r],s=wI(t)||yP(t,{previous:fs,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new vm(l&&l.currentValue,n,u===fs),yI(t,e,i,n)}var vI="__ngSimpleChanges__";function wI(t){return t[vI]||null}function yP(t,e){return t[vI]=e}var gb=null;var Gn=function(t,e,n){gb?.(t,e,n)},_P="svg",vP="math",wP=!1;function EP(){return wP}function Yn(t){for(;Array.isArray(t);)t=t[Lr];return t}function EI(t,e){return Yn(e[t])}function vn(t,e){return Yn(e[t.index])}function bI(t,e){return t.data[e]}function II(t,e){return t[e]}function _i(t,e){let n=e[t];return Wi(n)?n:n[Lr]}function bP(t){return(t[ie]&4)===4}function fg(t){return(t[ie]&128)===128}function IP(t){return Ur(t[gt])}function _s(t,e){return e==null?null:t[e]}function CI(t){t[cs]=0}function CP(t){t[ie]&1024||(t[ie]|=1024,fg(t)&&nc(t))}function DP(t,e){for(;t>0;)e=e[ws],t--;return e}function pg(t){return!!(t[ie]&9216||t[Ji]?.dirty)}function wm(t){t[Nn].changeDetectionScheduler?.notify(1),pg(t)?nc(t):t[ie]&64&&(EP()?(t[ie]|=1024,nc(t)):t[Nn].changeDetectionScheduler?.notify())}function nc(t){t[Nn].changeDetectionScheduler?.notify();let e=rc(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!fg(e)));)e=rc(e)}function DI(t,e){if((t[ie]&256)===256)throw new X(911,!1);t[pi]===null&&(t[pi]=[]),t[pi].push(e)}function TP(t,e){if(t[pi]===null)return;let n=t[pi].indexOf(e);n!==-1&&t[pi].splice(n,1)}function rc(t){let e=t[gt];return Ur(e)?e[gt]:e}var ye={lFrame:PI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function SP(){return ye.lFrame.elementDepthCount}function xP(){ye.lFrame.elementDepthCount++}function AP(){ye.lFrame.elementDepthCount--}function TI(){return ye.bindingsEnabled}function MP(){return ye.skipHydrationRootTNode!==null}function RP(t){return ye.skipHydrationRootTNode===t}function PP(){ye.skipHydrationRootTNode=null}function ve(){return ye.lFrame.lView}function nt(){return ye.lFrame.tView}function $(t){return ye.lFrame.contextLView=t,t[Pn]}function H(t){return ye.lFrame.contextLView=null,t}function xt(){let t=SI();for(;t!==null&&t.type===64;)t=t.parent;return t}function SI(){return ye.lFrame.currentTNode}function NP(){let t=ye.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function oo(t,e){let n=ye.lFrame;n.currentTNode=t,n.isParent=e}function mg(){return ye.lFrame.isParent}function xI(){ye.lFrame.isParent=!1}function OP(){return ye.lFrame.contextLView}function pd(){let t=ye.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function kP(){return ye.lFrame.bindingIndex}function FP(t){return ye.lFrame.bindingIndex=t}function md(){return ye.lFrame.bindingIndex++}function gg(t){let e=ye.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function VP(){return ye.lFrame.inI18n}function LP(t,e){let n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=t,Em(e)}function UP(){return ye.lFrame.currentDirectiveIndex}function Em(t){ye.lFrame.currentDirectiveIndex=t}function jP(t){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function AI(){return ye.lFrame.currentQueryIndex}function yg(t){ye.lFrame.currentQueryIndex=t}function BP(t){let e=t[me];return e.type===2?e.declTNode:e.type===1?t[On]:null}function MI(t,e,n){if(n&pe.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&pe.Host);)if(i=BP(o),i===null||(o=o[ws],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ye.lFrame=RI();return r.currentTNode=e,r.lView=t,!0}function _g(t){let e=RI(),n=t[me];ye.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function RI(){let t=ye.lFrame,e=t===null?null:t.child;return e===null?PI(t):e}function PI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function NI(){let t=ye.lFrame;return ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var OI=NI;function vg(){let t=NI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $P(t){return(ye.lFrame.contextLView=DP(t,ye.lFrame.contextLView))[Pn]}function vi(){return ye.lFrame.selectedIndex}function Xi(t){ye.lFrame.selectedIndex=t}function gd(){let t=ye.lFrame;return bI(t.tView,t.selectedIndex)}function HP(){return ye.lFrame.currentNamespace}var kI=!0;function yd(){return kI}function _d(t){kI=t}function zP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=_I(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function vd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Fl(t,e,n){FI(t,e,3,n)}function Vl(t,e,n,r){(t[ie]&3)===n&&FI(t,e,n,r)}function Xp(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function FI(t,e,n,r){let i=r!==void 0?t[cs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[cs]+=65536),(a<o||o==-1)&&(qP(t,n,e,u),t[cs]=(t[cs]&4294901760)+u+2),u++}function yb(t,e){Gn(4,t,e);let n=Oe(null);try{e.call(t)}finally{Oe(n),Gn(5,t,e)}}function qP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ie]>>14<t[cs]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,yb(a,o)):yb(a,o)}var ds=-1,eo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function GP(t){return t instanceof eo}function WP(t){return(t.flags&8)!==0}function KP(t){return(t.flags&16)!==0}function VI(t){return t!==ds}function Wl(t){return t&32767}function QP(t){return t>>16}function Kl(t,e){let n=QP(t),r=e;for(;n>0;)r=r[ws],n--;return r}var bm=!0;function Ql(t){let e=bm;return bm=t,e}var YP=256,LI=YP-1,UI=5,JP=0,Wn={};function ZP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ya)&&(r=n[Ya]),r==null&&(r=n[Ya]=JP++);let i=r&LI,o=1<<i;e.data[t+(i>>UI)]|=o}function Yl(t,e){let n=jI(t,e);if(n!==-1)return n;let r=e[me];r.firstCreatePass&&(t.injectorIndex=e.length,em(r.data,t),em(e,null),em(r.blueprint,null));let i=wg(t,e),o=t.injectorIndex;if(VI(i)){let s=Wl(i),a=Kl(i,e),u=a[me].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function em(t,e){t.push(0,0,0,0,0,0,0,0,e)}function jI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function wg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=qI(i),r===null)return ds;if(n++,i=i[ws],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ds}function Im(t,e,n){ZP(t,e,n)}function XP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(nI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function BI(t,e,n){if(n&pe.Optional||t!==void 0)return t;og(e,"NodeInjector")}function $I(t,e,n,r){if(n&pe.Optional&&r===void 0&&(r=null),!(n&(pe.Self|pe.Host))){let i=t[gs],o=Wt(void 0);try{return i?i.get(e,r,n&pe.Optional):Qb(e,r,n&pe.Optional)}finally{Wt(o)}}return BI(r,e,n)}function HI(t,e,n,r=pe.Default,i){if(t!==null){if(e[ie]&2048&&!(r&pe.Self)){let s=rN(t,e,n,r,Wn);if(s!==Wn)return s}let o=zI(t,e,n,r,Wn);if(o!==Wn)return o}return $I(e,n,r,i)}function zI(t,e,n,r,i){let o=tN(n);if(typeof o=="function"){if(!MI(e,t,r))return r&pe.Host?BI(i,n,r):$I(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&pe.Optional))og(n);else return s}finally{OI()}}else if(typeof o=="number"){let s=null,a=jI(t,e),u=ds,l=r&pe.Host?e[Qn][On]:null;for((a===-1||r&pe.SkipSelf)&&(u=a===-1?wg(t,e):e[a+8],u===ds||!vb(r,!1)?a=-1:(s=e[me],a=Wl(u),e=Kl(u,e)));a!==-1;){let h=e[me];if(_b(o,a,h.data)){let p=eN(a,e,n,s,r,l);if(p!==Wn)return p}u=e[a+8],u!==ds&&vb(r,e[me].data[a+8]===l)&&_b(o,a,e)?(s=h,a=Wl(u),e=Kl(u,e)):a=-1}}return i}function eN(t,e,n,r,i,o){let s=e[me],a=s.data[t+8],u=r==null?hd(a)&&bm:r!=s&&(a.type&3)!==0,l=i&pe.Host&&o===a,h=Ll(a,s,n,u,l);return h!==null?to(e,s,h,a):Wn}function Ll(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let E=p;E<g;E++){let M=s[E];if(E<u&&n===M||E>=u&&M.type===n)return E}if(i){let E=s[u];if(E&&mi(E)&&E.type===n)return u}return null}function to(t,e,n,r){let i=t[n],o=e.data;if(GP(i)){let s=i;s.resolving&&TR(DR(o[n]));let a=Ql(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Wt(s.injectImpl):null,h=MI(t,r,pe.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&zP(n,o[n],e)}finally{l!==null&&Wt(l),Ql(a),s.resolving=!1,OI()}}return i}function tN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ya)?t[Ya]:void 0;return typeof e=="number"?e>=0?e&LI:nN:e}function _b(t,e,n){let r=1<<t;return!!(n[e+(t>>UI)]&r)}function vb(t,e){return!(t&pe.Self)&&!(t&pe.Host&&e)}var Ki=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return HI(this._tNode,this._lView,e,ud(r),n)}};function nN(){return new Ki(xt(),ve())}function jr(t){return cc(()=>{let e=t.prototype.constructor,n=e[Bl]||Cm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Bl]||Cm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cm(t){return Hb(t)?()=>{let e=Cm(Ut(t));return e&&e()}:Qi(t)}function rN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!(s[ie]&512);){let a=zI(o,s,n,r|pe.Self,Wn);if(a!==Wn)return a;let u=o.parent;if(!u){let l=s[mI];if(l){let h=l.get(n,Wn,r);if(h!==Wn)return h}u=qI(s),s=s[ws]}o=u}return i}function qI(t){let e=t[me],n=e.type;return n===2?e.declTNode:n===1?t[On]:null}function Eg(t){return XP(xt(),t)}function wb(t,e=null,n=null,r){let i=GI(t,e,n,r);return i.resolveInjectorInitializers(),i}function GI(t,e=null,n=null,r,i=new Set){let o=[n||Kt,tP(t)];return r=r||(typeof t=="object"?void 0:jt(t)),new Xa(o,e||lg(),r||null,i)}var $t=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return wb({name:""},i,r,"");{let o=r.name??"";return wb({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Ja,e.NULL=new zl,e.\u0275prov=re({token:e,providedIn:"any",factory:()=>ge(Xb)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var iN="ngOriginalError";function tm(t){return t[iN]}var Nr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&tm(e);for(;n&&tm(n);)n=tm(n);return n||null}},WI=new oe("",{providedIn:"root",factory:()=>G(Nr).handleError.bind(void 0)}),KI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Dm=class extends KI{constructor(e){super(),this._lView=e}onDestroy(e){return DI(this._lView,e),()=>TP(this._lView,e)}};function oN(){return new Dm(ve())}function sN(){return Es(xt(),ve())}function Es(t,e){return new Ht(vn(t,e))}var Ht=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=sN;let t=e;return t})();function aN(t){return t instanceof Ht?t.nativeElement:t}var Tm=class extends St{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,hP()&&(this.destroyRef=G(KI,{optional:!0})??void 0)}emit(e){let n=Oe(null);try{super.next(e)}finally{Oe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=nm(o),i&&(i=nm(i)),s&&(s=nm(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof et&&e.add(a),a}};function nm(t){return e=>{setTimeout(t,void 0,e)}}var ke=Tm;function cN(){return this._results[Symbol.iterator]()}var Sm=class t{get changes(){return this._changes??=new ke}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=cN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=VR(e);(this._changesDetected=!FR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function QI(t){return(t.flags&128)===128}var YI=new Map,uN=0;function lN(){return uN++}function dN(t){YI.set(t[dd],t)}function hN(t){YI.delete(t[dd])}var Eb="__ngContext__";function gi(t,e){Wi(e)?(t[Eb]=e[dd],dN(e)):t[Eb]=e}function JI(t){return XI(t[tc])}function ZI(t){return XI(t[Rn])}function XI(t){for(;t!==null&&!Ur(t);)t=t[Rn];return t}var xm;function eC(t){xm=t}function fN(){if(xm!==void 0)return xm;if(typeof document<"u")return document;throw new X(210,!1)}var bg=new oe("",{providedIn:"root",factory:()=>pN}),pN="ng",Ig=new oe(""),wi=new oe("",{providedIn:"platform",factory:()=>"unknown"});var Cg=new oe("",{providedIn:"root",factory:()=>fN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mN="h",gN="b";var yN=()=>null;function Dg(t,e,n=!1){return yN(t,e,n)}var tC=!1,_N=new oe("",{providedIn:"root",factory:()=>tC});var Rl;function vN(){if(Rl===void 0&&(Rl=null,Rr.trustedTypes))try{Rl=Rr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rl}function wN(t){return vN()?.createScriptURL(t)||t}var Pl;function EN(){if(Pl===void 0&&(Pl=null,Rr.trustedTypes))try{Pl=Rr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pl}function bb(t){return EN()?.createScriptURL(t)||t}var Jl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bb})`}};function bs(t){return t instanceof Jl?t.changingThisBreaksApplicationSecurity:t}function Tg(t,e){let n=bN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Bb})`)}return n===e}function bN(t){return t instanceof Jl&&t.getTypeName()||null}var IN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nC(t){return t=String(t),t.match(IN)?t:"unsafe:"+t}var wd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wd||{});function er(t){let e=oC();return e?e.sanitize(wd.URL,t)||"":Tg(t,"URL")?bs(t):nC(hs(t))}function CN(t){let e=oC();if(e)return bb(e.sanitize(wd.RESOURCE_URL,t)||"");if(Tg(t,"ResourceURL"))return bb(bs(t));throw new X(904,!1)}function rC(t){return wN(t[0])}function DN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?CN:er}function iC(t,e,n){return DN(e,n)(t)}function oC(){let t=ve();return t&&t[Nn].sanitizer}var TN=/^>|^->|<!--|-->|--!>|<!-$/g,SN=/(<|>)/g,xN="\u200B$1\u200B";function AN(t){return t.replace(TN,e=>e.replace(SN,xN))}function sC(t){return t instanceof Function?t():t}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Or||{}),MN;function Sg(t,e){return MN(t,e)}function us(t,e,n,r,i){if(r!=null){let o,s=!1;Ur(r)?o=r:Wi(r)&&(s=!0,r=r[Lr]);let a=Yn(r);t===0&&n!==null?i==null?dC(e,n,a):Zl(e,n,a,i||null,!0):t===1&&n!==null?Zl(e,n,a,i||null,!0):t===2?KN(e,a,s):t===3&&e.destroyNode(a),o!=null&&YN(e,t,o,n,i)}}function RN(t,e){return t.createText(e)}function PN(t,e,n){t.setValue(e,n)}function NN(t,e){return t.createComment(AN(e))}function aC(t,e,n){return t.createElement(e,n)}function ON(t,e){cC(t,e),e[Lr]=null,e[On]=null}function kN(t,e,n,r,i,o){r[Lr]=i,r[On]=e,bd(t,r,n,1,i,o)}function cC(t,e){e[Nn].changeDetectionScheduler?.notify(1),bd(t,e,e[Qe],2,null,null)}function FN(t){let e=t[tc];if(!e)return rm(t[me],t);for(;e;){let n=null;if(Wi(e))n=e[tc];else{let r=e[an];r&&(n=r)}if(!n){for(;e&&!e[Rn]&&e!==t;)Wi(e)&&rm(e[me],e),e=e[gt];e===null&&(e=t),Wi(e)&&rm(e[me],e),n=e&&e[Rn]}e=n}}function VN(t,e,n,r){let i=an+r,o=n.length;r>0&&(n[i-1][Rn]=e),r<o-an?(e[Rn]=n[i],Zb(n,an+r,e)):(n.push(e),e[Rn]=null),e[gt]=n;let s=e[lc];s!==null&&n!==s&&LN(s,e);let a=e[Pr];a!==null&&a.insertView(t),wm(e),e[ie]|=128}function LN(t,e){let n=t[ys],i=e[gt][gt][Qn];e[Qn]!==i&&(t[ie]|=dg.HasTransplantedViews),n===null?t[ys]=[e]:n.push(e)}function uC(t,e){let n=t[ys],r=n.indexOf(e);n.splice(r,1)}function Am(t,e){if(t.length<=an)return;let n=an+e,r=t[n];if(r){let i=r[lc];i!==null&&i!==t&&uC(i,r),e>0&&(t[n-1][Rn]=r[Rn]);let o=Hl(t,an+e);ON(r[me],r);let s=o[Pr];s!==null&&s.detachView(o[me]),r[gt]=null,r[Rn]=null,r[ie]&=-129}return r}function lC(t,e){if(!(e[ie]&256)){let n=e[Qe];n.destroyNode&&bd(t,e,n,3,null,null),FN(e)}}function rm(t,e){if(e[ie]&256)return;let n=Oe(null);try{e[ie]&=-129,e[ie]|=256,e[Ji]&&OE(e[Ji]),jN(t,e),UN(t,e),e[me].type===1&&e[Qe].destroy();let r=e[lc];if(r!==null&&Ur(e[gt])){r!==e[gt]&&uC(r,e);let i=e[Pr];i!==null&&i.detachView(t)}hN(e)}finally{Oe(n)}}function UN(t,e){let n=t.cleanup,r=e[ec];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ec]=null);let i=e[pi];if(i!==null){e[pi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function jN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof eo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Gn(4,a,u);try{u.call(a)}finally{Gn(5,a,u)}}else{Gn(4,i,o);try{o.call(i)}finally{Gn(5,i,o)}}}}}function BN(t,e,n){return $N(t,e.parent,n)}function $N(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Lr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Kn.None||o===Kn.Emulated)return null}return vn(r,n)}}function Zl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function dC(t,e,n){t.appendChild(e,n)}function Ib(t,e,n,r,i){r!==null?Zl(t,e,n,r,i):dC(t,e,n)}function HN(t,e,n,r){t.removeChild(e,n,r)}function xg(t,e){return t.parentNode(e)}function zN(t,e){return t.nextSibling(e)}function qN(t,e,n){return WN(t,e,n)}function GN(t,e,n){return t.type&40?vn(t,n):null}var WN=GN,Cb;function Ed(t,e,n,r){let i=BN(t,r,e),o=e[Qe],s=r.parent||e[On],a=qN(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Ib(o,i,n[u],a,!1);else Ib(o,i,n,a,!1);Cb!==void 0&&Cb(o,r,e,n,i)}function Ul(t,e){if(e!==null){let n=e.type;if(n&3)return vn(e,t);if(n&4)return Mm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ul(t,r);{let i=t[e.index];return Ur(i)?Mm(-1,i):Yn(i)}}else{if(n&32)return Sg(e,t)()||Yn(t[e.index]);{let r=hC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=rc(t[Qn]);return Ul(i,r)}else return Ul(t,e.next)}}}return null}function hC(t,e){if(e!==null){let r=t[Qn][On],i=e.projection;return r.projection[i]}return null}function Mm(t,e){let n=an+t+1;if(n<e.length){let r=e[n],i=r[me].firstChild;if(i!==null)return Ul(r,i)}return e[Zi]}function KN(t,e,n){let r=xg(t,e);r&&HN(t,r,e,n)}function Ag(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&gi(Yn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Ag(t,e,n.child,r,i,o,!1),us(e,t,i,a,o);else if(u&32){let l=Sg(n,r),h;for(;h=l();)us(e,t,i,h,o);us(e,t,i,a,o)}else u&16?QN(t,e,r,n,i,o):us(e,t,i,a,o);n=s?n.projectionNext:n.next}}function bd(t,e,n,r,i,o){Ag(n,r,t.firstChild,e,i,o,!1)}function QN(t,e,n,r,i,o){let s=n[Qn],u=s[On].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];us(e,t,i,h,o)}else{let l=u,h=s[gt];QI(r)&&(l.flags|=128),Ag(t,e,l,h,i,o,!0)}}function YN(t,e,n,r,i){let o=n[Zi],s=Yn(n);o!==s&&us(e,t,r,o,i);for(let a=an;a<n.length;a++){let u=n[a];bd(u[me],u,t,e,r,o)}}function JN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Or.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Or.Important),t.setStyle(n,r,i,o))}}function ZN(t,e,n){t.setAttribute(e,"style",n)}function fC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&mm(t,e,r),i!==null&&fC(t,e,i),o!==null&&ZN(t,e,o)}var cn={};function D(t=1){mC(nt(),ve(),vi()+t,!1)}function mC(t,e,n,r){if(!r)if((e[ie]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Fl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Vl(e,o,0,n)}Xi(n)}function U(t,e=pe.Default){let n=ve();if(n===null)return ge(t,e);let r=xt();return HI(r,n,Ut(t),e)}function gC(t,e,n,r,i,o){let s=Oe(null);try{let a=null;i&tt.SignalBased&&(a=e[r][xp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&tt.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):yI(e,a,r,o)}finally{Oe(s)}}function XN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Xi(~i);else{let o=i,s=n[++r],a=n[++r];LP(s,o);let u=e[o];a(2,u)}}}finally{Xi(-1)}}function Id(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Lr]=i,p[ie]=r|4|128|8|64,(l!==null||t&&t[ie]&2048)&&(p[ie]|=2048),CI(p),p[gt]=p[ws]=t,p[Pn]=n,p[Nn]=s||t&&t[Nn],p[Qe]=a||t&&t[Qe],p[gs]=u||t&&t[gs]||null,p[On]=o,p[dd]=lN(),p[ql]=h,p[mI]=l,p[Qn]=e.type==2?t[Qn]:p,p}function dc(t,e,n,r,i){let o=t.data[e];if(o===null)o=eO(t,e,n,r,i),VP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=NP();o.injectorIndex=s===null?-1:s.injectorIndex}return oo(o,!0),o}function eO(t,e,n,r,i){let o=SI(),s=mg(),a=s?o:o&&o.parent,u=t.data[e]=sO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function yC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _C(t,e,n,r,i){let o=vi(),s=r&2;try{Xi(-1),s&&e.length>_n&&mC(t,e,_n,!1),Gn(s?2:0,i),n(r,i)}finally{Xi(o),Gn(s?3:1,i)}}function Mg(t,e,n){if(hg(e)){let r=Oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Oe(r)}}}function Rg(t,e,n){TI()&&(hO(t,e,n,vn(n,e)),(n.flags&64)===64&&EC(t,e,n))}function Pg(t,e,n=vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function vC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ng(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ng(t,e,n,r,i,o,s,a,u,l,h){let p=_n+r,g=p+i,E=tO(p,g),M=typeof l=="function"?l():l;return E[me]={type:t,blueprint:E,template:n,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:h}}function tO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:cn);return n}function nO(t,e,n,r){let o=r.get(_N,tC)||n===Kn.ShadowDom,s=t.selectRootElement(e,o);return rO(s),s}function rO(t){iO(t)}var iO=()=>null;function oO(t,e,n,r){let i=CC(e);i.push(n),t.firstCreatePass&&DC(t).push(r,i.length-1)}function sO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return MP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Db(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=tt.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Tb(r,n,l,a,u):Tb(r,n,l,a)}return r}function Tb(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function aO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,E=g?g.inputs:null,M=g?g.outputs:null;u=Db(0,p.inputs,h,u,E),l=Db(1,p.outputs,h,l,M);let k=u!==null&&s!==null&&!cg(e)?IO(u,h,s):null;a.push(k)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function cO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Og(t,e,n,r,i,o,s,a){let u=vn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Fg(t,n,h,r,i),hd(e)&&uO(n,e.index)):e.type&3?(r=cO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function uO(t,e){let n=_i(e,t);n[ie]&16||(n[ie]|=64)}function kg(t,e,n,r){if(TI()){let i=r===null?null:{"":-1},o=pO(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&wC(t,e,n,s,i,a),i&&mO(n,r,i)}n.mergedAttrs=Za(n.mergedAttrs,n.attrs)}function wC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Im(Yl(n,e),t,r[l].type);yO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=yC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Za(n.mergedAttrs,h.hostAttrs),_O(t,n,e,u,h),gO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}aO(t,n,o)}function lO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;dO(s)!=a&&s.push(a),s.push(n,r,o)}}function dO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hO(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;hd(n)&&vO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Yl(n,e),gi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=to(e,t,a,n);if(gi(l,e),s!==null&&bO(e,a-i,l,u,n,s),mi(u)){let h=_i(n.index,e);h[Pn]=to(e,t,a,n)}}}function EC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=UP();try{Xi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Em(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&fO(u,l)}}finally{Xi(-1),Em(s)}}function fO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function pO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(GR(e,s.selectors,!1))if(r||(r=[]),mi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Rm(t,e,u)}else r.unshift(s),Rm(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Rm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new X(-301,!1);r.push(e[i],o)}}}function gO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mi(e)&&(n[""]=t)}}function yO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _O(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Qi(i.type,!0)),s=new eo(o,mi(i),U);t.blueprint[r]=s,n[r]=s,lO(t,e,r,yC(t,n,i.hostVars,cn),i)}function vO(t,e,n){let r=vn(e,t),i=vC(n),o=t[Nn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Cd(t,Id(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function wO(t,e,n,r,i,o){let s=vn(t,e);EO(e[Qe],s,o,t.value,n,r,i)}function EO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?hs(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function bO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];gC(r,n,u,l,h,p)}}function IO(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function bC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function IC(t,e){let n=t.contentQueries;if(n!==null){let r=Oe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];yg(o),a.contentQueries(2,e[s],s)}}}finally{Oe(r)}}}function Cd(t,e){return t[tc]?t[mb][Rn]=e:t[tc]=e,t[mb]=e,e}function Pm(t,e,n){yg(0);let r=Oe(null);try{e(t,n)}finally{Oe(r)}}function CC(t){return t[ec]||(t[ec]=[])}function DC(t){return t.cleanup||(t.cleanup=[])}function TC(t,e){let n=t[gs],r=n?n.get(Nr,null):null;r&&r.handleError(e)}function Fg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];gC(h,l,r,a,u,i)}}function SC(t,e,n){let r=EI(e,t);PN(t[Qe],r,n)}function CO(t,e){let n=_i(e,t),r=n[me];DO(r,n);let i=n[Lr];i!==null&&n[ql]===null&&(n[ql]=Dg(i,n[gs])),Vg(r,n,n[Pn])}function DO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Vg(t,e,n){_g(e);try{let r=t.viewQuery;r!==null&&Pm(1,r,n);let i=t.template;i!==null&&_C(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Pr]?.finishViewCreation(t),t.staticContentQueries&&IC(t,e),t.staticViewQueries&&Pm(2,t.viewQuery,n);let o=t.components;o!==null&&TO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,vg()}}function TO(t,e){for(let n=0;n<e.length;n++)CO(t,e[n])}function SO(t,e,n,r){let i=Oe(null);try{let o=e.tView,a=t[ie]&4096?4096:16,u=Id(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[lc]=l;let h=t[Pr];return h!==null&&(u[Pr]=h.createEmbeddedView(o)),Vg(o,u,n),u}finally{Oe(i)}}function Sb(t,e){return!e||e.firstChild===null||QI(t)}function xO(t,e,n,r=!0){let i=e[me];if(VN(i,e,t,n),r){let s=Mm(n,t),a=e[Qe],u=xg(a,t[Zi]);u!==null&&kN(i,t[On],a,e,u,s)}let o=e[ql];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Xl(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Yn(o)),Ur(o)&&AO(o,r);let s=n.type;if(s&8)Xl(t,e,n.child,r);else if(s&32){let a=Sg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=hC(e,n);if(Array.isArray(a))r.push(...a);else{let u=rc(e[Qn]);Xl(u[me],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function AO(t,e){for(let n=an;n<t.length;n++){let r=t[n],i=r[me].firstChild;i!==null&&Xl(r[me],r,i,e)}t[Zi]!==t[Lr]&&e.push(t[Zi])}var xC=[];function MO(t){return t[Ji]??RO(t)}function RO(t){let e=xC.pop()??Object.create(NO);return e.lView=t,e}function PO(t){t.lView[Ji]!==t&&(t.lView=null,xC.push(t))}var NO=Se(q({},RE),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{nc(t.lView)},consumerOnSignalRead(){this.lView[Ji]=this}}),AC=100;function MC(t,e=!0,n=0){let r=t[Nn],i=r.rendererFactory,o=!1;o||i.begin?.();try{OO(t,n)}catch(s){throw e&&TC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function OO(t,e){Nm(t,e);let n=0;for(;pg(t);){if(n===AC)throw new X(103,!1);n++,Nm(t,1)}}function kO(t,e,n,r){let i=e[ie];if((i&256)===256)return;let o=!1;!o&&e[Nn].inlineEffectRunner?.flush(),_g(e);let s=null,a=null;!o&&FO(t)&&(a=MO(e),s=PE(a));try{CI(e),FP(t.bindingStartIndex),n!==null&&_C(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Fl(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Vl(e,p,0,null),Xp(e,0)}if(VO(e),RC(e,0),t.contentQueries!==null&&IC(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Fl(e,p)}else{let p=t.contentHooks;p!==null&&Vl(e,p,1),Xp(e,1)}XN(t,e);let l=t.components;l!==null&&NC(e,l,0);let h=t.viewQuery;if(h!==null&&Pm(2,h,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Fl(e,p)}else{let p=t.viewHooks;p!==null&&Vl(e,p,2),Xp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zp]){for(let p of e[Zp])p();e[Zp]=null}o||(e[ie]&=-73)}catch(u){throw nc(e),u}finally{a!==null&&(NE(a,s),PO(a)),vg()}}function FO(t){return t.type!==2}function RC(t,e){for(let n=JI(t);n!==null;n=ZI(n))for(let r=an;r<n.length;r++){let i=n[r];PC(i,e)}}function VO(t){for(let e=JI(t);e!==null;e=ZI(e)){if(!(e[ie]&dg.HasTransplantedViews))continue;let n=e[ys];for(let r=0;r<n.length;r++){let i=n[r],o=i[gt];CP(i)}}}function LO(t,e,n){let r=_i(e,t);PC(r,n)}function PC(t,e){fg(t)&&Nm(t,e)}function Nm(t,e){let r=t[me],i=t[ie],o=t[Ji],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ap(o)),o&&(o.dirty=!1),t[ie]&=-9217,s)kO(r,t,r.template,t[Pn]);else if(i&8192){RC(t,1);let a=r.components;a!==null&&NC(t,a,1)}}function NC(t,e,n){for(let r=0;r<e.length;r++)LO(t,e[r],n)}function Lg(t){for(t[Nn].changeDetectionScheduler?.notify();t;){t[ie]|=64;let e=rc(t);if(pP(t)&&!e)return t;t=e}return null}var no=class{get rootNodes(){let e=this._lView,n=e[me];return Xl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pn]}set context(e){this._lView[Pn]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(Ur(e)){let n=e[Gl],r=n?n.indexOf(this):-1;r>-1&&(Am(e,r),Hl(n,r))}this._attachedToViewContainer=!1}lC(this._lView[me],this._lView)}onDestroy(e){DI(this._lView,e)}markForCheck(){Lg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){wm(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,MC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,cC(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e,wm(this._lView)}},kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=BO;let t=e;return t})(),UO=kr,jO=class extends UO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=SO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new no(i)}};function BO(){return Dd(xt(),ve())}function Dd(t,e){return t.type&4?new jO(e,t,Es(t,e)):null}var m7=new RegExp(`^(\\d+)*(${gN}|${mN})*(.*)`);var $O=()=>null;function xb(t,e){return $O(t,e)}var Om=class{},km=class{},ed=class{};function HO(t){let e=Error(`No component factory found for ${jt(t)}.`);return e[zO]=t,e}var zO="ngComponent";var Fm=class{resolveComponentFactory(e){throw HO(e)}},Td=(()=>{let e=class e{};e.NULL=new Fm;let t=e;return t})(),ic=class{},At=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>qO();let t=e;return t})();function qO(){let t=ve(),e=xt(),n=_i(e.index,t);return(Wi(n)?n:t)[Qe]}var GO=(()=>{let e=class e{};e.\u0275prov=re({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),im={};var Ab=new Set;function OC(t){Ab.has(t)||(Ab.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Mb(...t){}function WO(){let t=typeof Rr.requestAnimationFrame=="function",e=Rr[t?"requestAnimationFrame":"setTimeout"],n=Rr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var xe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=WO().nativeRequestAnimationFrame,YO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new X(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,KO,Mb,Mb);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},KO={};function Ug(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function QO(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vm(t),t.isCheckStableRunning=!0,Ug(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vm(t))}function YO(t){let e=()=>{QO(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(JO(a))return n.invokeTask(i,o,s,a);try{return Rb(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Pb(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Rb(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Pb(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Vm(t),Ug(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Vm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Rb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pb(t){t._nesting--,Ug(t)}function JO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var kC=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=re({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function td(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=dm(i,a);else if(o==2){let u=a,l=e[++s];r=dm(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var nd=class extends Td{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Yi(e);return new oc(n,this.ngModule)}};function Nb(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function ZO(t){let e=t.toLowerCase();return e==="svg"?_P:e==="math"?vP:null}var Lm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ud(r);let i=this.injector.get(e,im,r);return i!==im||n===im?i:this.parentInjector.get(e,n,r)}},oc=class extends ed{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Nb(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Nb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=YR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Oe(null);try{i=i||this.ngModule;let s=i instanceof yn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Lm(e,s):e,u=a.get(ic,null);if(u===null)throw new X(407,!1);let l=a.get(GO,null),h=a.get(kC,null),p=a.get(Om,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},E=u.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=r?nO(E,r,this.componentDef.encapsulation,a):aC(E,M,ZO(M)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let B=null;k!==null&&(B=Dg(k,a,!0));let Z=Ng(0,null,null,1,0,null,null,null,null,null,null),Q=Id(null,Z,null,F,null,null,g,E,a,null,B);_g(Q);let ne,je;try{let ae=this.componentDef,S,w=null;ae.findHostDirectiveDefs?(S=[],w=new Map,ae.findHostDirectiveDefs(ae,S,w),S.push(ae)):S=[ae];let b=XO(Q,k),T=ek(b,k,ae,S,Q,g,E);je=bI(Z,_n),k&&rk(E,ae,k,r),n!==void 0&&ik(je,this.ngContentSelectors,n),ne=nk(T,ae,S,w,Q,[ok]),Vg(Z,Q,null)}finally{vg()}return new Um(this.componentType,ne,Es(je,Q),Q,je)}finally{Oe(o)}}},Um=class extends km{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new no(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Fg(o[me],o,i,e,n),this.previousInputValues.set(e,n);let s=_i(this._tNode.index,o);Lg(s)}}get injector(){return new Ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function XO(t,e){let n=t[me],r=_n;return t[r]=e,dc(n,r,2,"#host",null)}function ek(t,e,n,r,i,o,s){let a=i[me];tk(r,t,e,s);let u=null;e!==null&&(u=Dg(e,i[gs]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Id(i,vC(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Rm(a,t,r.length-1),Cd(i,p),i[t.index]=p}function tk(t,e,n,r){for(let i of t)e.mergedAttrs=Za(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(td(e,e.mergedAttrs,!0),n!==null&&pC(r,n,e))}function nk(t,e,n,r,i,o){let s=xt(),a=i[me],u=vn(s,i);wC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=to(i,a,p,s);gi(g,i)}EC(a,i,s),u&&gi(u,i);let l=to(i,a,s.directiveStart+s.componentOffset,s);if(t[Pn]=i[Pn]=l,o!==null)for(let h of o)h(l,e);return Mg(a,s,i),l}function rk(t,e,n,r){if(r)mm(t,n,["ng-version","17.3.4"]);else{let{attrs:i,classes:o}=JR(e.selectors[0]);i&&mm(t,n,i),o&&o.length>0&&fC(t,n,o.join(" "))}}function ik(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function ok(){let t=xt();vd(ve()[me],t)}var tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=sk;let t=e;return t})();function sk(){let t=xt();return VC(t,ve())}var ak=tr,FC=class extends ak{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Es(this._hostTNode,this._hostLView)}get injector(){return new Ki(this._hostTNode,this._hostLView)}get parentInjector(){let e=wg(this._hostTNode,this._hostLView);if(VI(e)){let n=Kl(e,this._hostLView),r=Wl(e),i=n[me].data[r+8];return new Ki(i,n)}else return new Ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ob(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-an}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=xb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Sb(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!fP(e),a;if(s)a=n;else{let M=n||{};a=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let u=s?e:new oc(Yi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let k=(s?l:this.parentInjector).get(yn,null);k&&(o=k)}let h=Yi(u.componentType??{}),p=xb(this._lContainer,h?.id??null),g=p?.firstChild??null,E=u.create(l,i,g,o);return this.insertImpl(E.hostView,a,Sb(this._hostTNode,p)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(IP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[gt],l=new FC(u,u[On],u[gt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return xO(s,i,o,r),e.attachToViewContainerRef(),Zb(om(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ob(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Am(this._lContainer,n);r&&(Hl(om(this._lContainer),n),lC(r[me],r))}detach(e){let n=this._adjustIndex(e,-1),r=Am(this._lContainer,n);return r&&Hl(om(this._lContainer),n)!=null?new no(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ob(t){return t[Gl]}function om(t){return t[Gl]||(t[Gl]=[])}function VC(t,e){let n,r=e[t.index];return Ur(r)?n=r:(n=bC(r,e,null,t),e[t.index]=n,Cd(e,n)),uk(n,e,t,r),new FC(n,t,e)}function ck(t,e){let n=t[Qe],r=n.createComment(""),i=vn(e,t),o=xg(n,i);return Zl(n,o,r,zN(n,i),!1),r}var uk=hk,lk=()=>!1;function dk(t,e,n){return lk(t,e,n)}function hk(t,e,n,r){if(t[Zi])return;let i;n.type&8?i=Yn(r):i=ck(e,n),t[Zi]=i}var jm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Bm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)jg(e,n).matches!==null&&this.queries[n].setDirty()}},rd=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=wk(e):this.predicate=e}},$m=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Hm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,fk(n,o)),this.matchTNodeWithReadOption(e,n,Ll(n,e,o,!1,!1))}else r===kr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ll(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ht||i===tr||i===kr&&n.type&4)this.addMatch(n.index,-2);else{let o=Ll(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function fk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function pk(t,e){return t.type&11?Es(t,e):t.type&4?Dd(t,e):null}function mk(t,e,n,r){return n===-1?pk(e,t):n===-2?gk(t,e,r):to(t,t[me],n,e)}function gk(t,e,n){if(n===Ht)return Es(e,t);if(n===kr)return Dd(e,t);if(n===tr)return VC(e,t)}function LC(t,e,n,r){let i=e[Pr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(mk(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function zm(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=LC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=an;p<h.length;p++){let g=h[p];g[lc]===g[gt]&&zm(g[me],g,l,r)}if(h[ys]!==null){let p=h[ys];for(let g=0;g<p.length;g++){let E=p[g];zm(E[me],E,l,r)}}}}}return r}function yk(t,e){return t[Pr].queries[e].queryList}function UC(t,e,n){let r=new Sm((n&4)===4);return oO(t,e,r,r.destroy),(e[Pr]??=new Bm).queries.push(new jm(r))-1}function _k(t,e,n){let r=nt();return r.firstCreatePass&&(jC(r,new rd(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),UC(r,ve(),e)}function vk(t,e,n,r){let i=nt();if(i.firstCreatePass){let o=xt();jC(i,new rd(e,n,r),o.index),Ek(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return UC(i,ve(),n)}function wk(t){return t.split(",").map(e=>e.trim())}function jC(t,e,n){t.queries===null&&(t.queries=new $m),t.queries.track(new Hm(e,n))}function Ek(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function jg(t,e){return t.queries.getByIndex(e)}function bk(t,e){let n=t[me],r=jg(n,e);return r.crossesNgTemplate?zm(n,t,e,[]):LC(n,t,r,e)}function Ik(t){return typeof t=="function"&&t[xp]!==void 0}function BC(t){return Ik(t)&&typeof t.set=="function"}function Ck(t){return Object.getPrototypeOf(t.prototype).constructor}function Mt(t){let e=Ck(t.type),n=!0,r=[t];for(;e;){let i;if(mi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Nl(t.inputs),s.inputTransforms=Nl(t.inputTransforms),s.declaredInputs=Nl(t.declaredInputs),s.outputs=Nl(t.outputs);let a=i.hostBindings;a&&Ak(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Sk(t,u),l&&xk(t,l),Dk(t,i),yR(t.outputs,i.outputs),mi(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Mt&&(n=!1)}}e=Object.getPrototypeOf(e)}Tk(r)}function Dk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Tk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Za(i.hostAttrs,n=Za(n,i.hostAttrs))}}function Nl(t){return t===fs?{}:t===Kt?[]:t}function Sk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function xk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Ak(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Bg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var yi=class{},sc=class{};var qm=class extends yi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nd(this);let i=cI(e);this._bootstrapComponents=sC(i.bootstrap),this._r3Injector=GI(e,n,[{provide:yi,useValue:this},{provide:Td,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gm=class extends sc{constructor(e){super(),this.moduleType=e}create(e){return new qm(this.moduleType,e,[])}};var id=class extends yi{constructor(e){super(),this.componentFactoryResolver=new nd(this),this.instance=null;let n=new Xa([...e.providers,{provide:yi,useValue:this},{provide:Td,useValue:this.componentFactoryResolver}],e.parent||lg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $g(t,e,n=null){return new id({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Sd=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new mt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $C(t){return Rk(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Mk(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Rk(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Hg(t,e,n){return t[e]=n}function Pk(t,e){return t[e]}function Fr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function HC(t,e,n,r){let i=Fr(t,e,n);return Fr(t,e+1,r)||i}function Nk(t){return(t.flags&32)===32}function Ok(t,e,n,r,i,o,s,a,u){let l=e.consts,h=dc(e,t,4,s||null,_s(l,a));kg(e,n,h,_s(l,u)),vd(e,h);let p=h.tView=Ng(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Y(t,e,n,r,i,o,s,a){let u=ve(),l=nt(),h=t+_n,p=l.firstCreatePass?Ok(h,l,u,e,n,r,i,o,s):l.data[h];oo(p,!1);let g=kk(l,u,p,t);yd()&&Ed(l,u,g,p),gi(g,u);let E=bC(g,u,g,p);return u[h]=E,Cd(u,E),dk(E,p,u),fd(p)&&Rg(l,u,p),s!=null&&Pg(u,p,a),Y}var kk=Fk;function Fk(t,e,n,r){return _d(!0),e[Qe].createComment("")}function hc(t,e,n,r){let i=ve(),o=md();if(Fr(i,o,e)){let s=nt(),a=gd();wO(a,i,t,e,n,r)}return hc}function zg(t,e,n,r){return Fr(t,md(),n)?e+hs(n)+r:cn}function Vk(t,e,n,r,i,o){let s=kP(),a=HC(t,s,n,i);return gg(2),a?e+hs(n)+r+hs(i)+o:cn}function Ol(t,e){return t<<17|e<<2}function ro(t){return t>>17&32767}function Lk(t){return(t&2)==2}function Uk(t,e){return t&131071|e<<17}function Wm(t){return t|2}function vs(t){return(t&131068)>>2}function sm(t,e){return t&-131069|e<<2}function jk(t){return(t&1)===1}function Km(t){return t|1}function Bk(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ro(s),u=vs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||uc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=ro(t[a+1]);t[r+1]=Ol(g,a),g!==0&&(t[g+1]=sm(t[g+1],r)),t[a+1]=Uk(t[a+1],r)}else t[r+1]=Ol(a,0),a!==0&&(t[a+1]=sm(t[a+1],r)),a=r;else t[r+1]=Ol(u,0),a===0?a=r:t[u+1]=sm(t[u+1],r),u=r;l&&(t[r+1]=Wm(t[r+1])),kb(t,h,r,!0),kb(t,h,r,!1),$k(e,h,t,r,o),s=Ol(a,u),o?e.classBindings=s:e.styleBindings=s}function $k(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&uc(o,e)>=0&&(n[r+1]=Km(n[r+1]))}function kb(t,e,n,r){let i=t[n+1],o=e===null,s=r?ro(i):vs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];Hk(u,e)&&(a=!0,t[s+1]=r?Km(l):Wm(l)),s=r?ro(l):vs(l)}a&&(t[n+1]=r?Wm(i):Km(i))}function Hk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?uc(t,e)>=0:!1}var Mn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zk(t){return t.substring(Mn.key,Mn.keyEnd)}function qk(t){return Gk(t),zC(t,qC(t,0,Mn.textEnd))}function zC(t,e){let n=Mn.textEnd;return n===e?-1:(e=Mn.keyEnd=Wk(t,Mn.key=e,n),qC(t,e,n))}function Gk(t){Mn.key=0,Mn.keyEnd=0,Mn.value=0,Mn.valueEnd=0,Mn.textEnd=t.length}function qC(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Wk(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function N(t,e,n){let r=ve(),i=md();if(Fr(r,i,e)){let o=nt(),s=gd();Og(o,s,r,t,e,r[Qe],n,!1)}return N}function Qm(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Fg(t,n,o[s],s,r)}function xd(t,e){return Qk(t,e,null,!0),xd}function Kk(t,e){for(let n=qk(e);n>=0;n=zC(e,n))ag(t,zk(e),!0)}function Qk(t,e,n,r){let i=ve(),o=nt(),s=gg(2);if(o.firstUpdatePass&&WC(o,t,s,r),e!==cn&&Fr(i,s,e)){let a=o.data[vi()];KC(o,a,i,i[Qe],t,i[s+1]=rF(e,n),r,s)}}function Yk(t,e,n,r){let i=nt(),o=gg(2);i.firstUpdatePass&&WC(i,null,o,r);let s=ve();if(n!==cn&&Fr(s,o,n)){let a=i.data[vi()];if(QC(a,r)&&!GC(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=dm(u,n||"")),Qm(i,a,s,n,r)}else nF(i,a,s,s[Qe],s[o+1],s[o+1]=tF(t,e,n),r,o)}}function GC(t,e){return e>=t.expandoStartIndex}function WC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[vi()],s=GC(t,n);QC(o,r)&&e===null&&!s&&(e=!1),e=Jk(i,o,e,r),Bk(i,o,e,n,s,r)}}function Jk(t,e,n,r){let i=jP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=am(null,t,e,n,r),n=ac(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=am(i,t,e,n,r),o===null){let u=Zk(t,e,r);u!==void 0&&Array.isArray(u)&&(u=am(null,t,e,u[1],r),u=ac(u,e.attrs,r),Xk(t,e,r,u))}else o=eF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Zk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(vs(r)!==0)return t[ro(r)]}function Xk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ro(i)]=r}function eF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ac(r,s,n)}return ac(r,e.attrs,n)}function am(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ac(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ac(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ag(t,s,n?!0:e[++o]))}return t===void 0?null:t}function tF(t,e,n){if(n==null||n==="")return Kt;let r=[],i=bs(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function nF(t,e,n,r,i,o,s,a){i===cn&&(i=Kt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,E=l<o.length?o[l+1]:void 0,M=null,k;h===p?(u+=2,l+=2,g!==E&&(M=p,k=E)):p===null||h!==null&&h<p?(u+=2,M=h):(l+=2,M=p,k=E),M!==null&&KC(t,e,n,r,M,k,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function KC(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=jk(l)?Fb(u,e,n,i,vs(l),s):void 0;if(!od(h)){od(o)||Lk(l)&&(o=Fb(u,null,n,i,a,s));let p=EI(vi(),n);JN(r,s,p,i,o)}}function Fb(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===cn&&(g=p?Kt:void 0);let E=p?Yp(g,r):h===r?g:void 0;if(l&&!od(E)&&(E=Yp(u,r)),od(E)&&(a=E,s))return a;let M=t[i+1];i=s?ro(M):vs(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Yp(u,r))}return a}function od(t){return t!==void 0}function rF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=jt(bs(t)))),t}function QC(t,e){return(t.flags&(e?8:16))!==0}function YC(t,e,n){let r=ve(),i=zg(r,t,e,n);Yk(ag,Kk,i,!0)}function iF(t,e,n,r,i,o){let s=e.consts,a=_s(s,i),u=dc(e,t,2,r,a);return kg(e,n,u,_s(s,o)),u.attrs!==null&&td(u,u.attrs,!1),u.mergedAttrs!==null&&td(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function y(t,e,n,r){let i=ve(),o=nt(),s=_n+t,a=i[Qe],u=o.firstCreatePass?iF(s,o,i,e,n,r):o.data[s],l=oF(o,i,u,a,e,t);i[s]=l;let h=fd(u);return oo(u,!0),pC(a,l,u),!Nk(u)&&yd()&&Ed(o,i,l,u),SP()===0&&gi(l,i),xP(),h&&(Rg(o,i,u),Mg(o,u,i)),r!==null&&Pg(i,u),y}function _(){let t=xt();mg()?xI():(t=t.parent,oo(t,!1));let e=t;RP(e)&&PP(),AP();let n=nt();return n.firstCreatePass&&(vd(n,t),hg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&WP(e)&&Qm(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&KP(e)&&Qm(n,e,ve(),e.stylesWithoutHost,!1),_}function J(t,e,n,r){return y(t,e,n,r),_(),J}var oF=(t,e,n,r,i,o)=>(_d(!0),aC(r,i,HP()));function sF(t,e,n,r,i){let o=e.consts,s=_s(o,r),a=dc(e,t,8,"ng-container",s);s!==null&&td(a,s,!0);let u=_s(o,i);return kg(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function Is(t,e,n){let r=ve(),i=nt(),o=t+_n,s=i.firstCreatePass?sF(o,i,r,e,n):i.data[o];oo(s,!0);let a=aF(i,r,s,t);return r[o]=a,yd()&&Ed(i,r,a,s),gi(a,r),fd(s)&&(Rg(i,r,s),Mg(i,s,r)),n!=null&&Pg(r,s),Is}function Cs(){let t=xt(),e=nt();return mg()?xI():(t=t.parent,oo(t,!1)),e.firstCreatePass&&(vd(e,t),hg(t)&&e.queries.elementEnd(t)),Cs}var aF=(t,e,n,r)=>(_d(!0),NN(e[Qe],""));function De(){return ve()}var sd="en-US";var cF=sd;function uF(t){typeof t=="string"&&(cF=t.toLowerCase().replace(/_/g,"-"))}function z(t,e,n,r){let i=ve(),o=nt(),s=xt();return JC(o,i,i[Qe],s,t,e,r),z}function lF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ec],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function JC(t,e,n,r,i,o,s){let a=fd(r),l=t.firstCreatePass&&DC(t),h=e[Pn],p=CC(e),g=!0;if(r.type&3||s){let k=vn(r,e),F=s?s(k):k,B=p.length,Z=s?ne=>s(Yn(ne[r.index])):r.index,Q=null;if(!s&&a&&(Q=lF(t,e,i,r.index)),Q!==null){let ne=Q.__ngLastListenerFn__||Q;ne.__ngNextListenerFn__=o,Q.__ngLastListenerFn__=o,g=!1}else{o=Lb(r,e,h,o,!1);let ne=n.listen(F,i,o);p.push(o,ne),l&&l.push(i,Z,B,B+1)}}else o=Lb(r,e,h,o,!1);let E=r.outputs,M;if(g&&E!==null&&(M=E[i])){let k=M.length;if(k)for(let F=0;F<k;F+=2){let B=M[F],Z=M[F+1],je=e[B][Z].subscribe(o),ae=p.length;p.push(o,je),l&&l.push(i,r.index,ae,-(ae+1))}}}function Vb(t,e,n,r){let i=Oe(null);try{return Gn(6,e,n),n(r)!==!1}catch(o){return TC(t,o),!1}finally{Gn(7,e,n),Oe(i)}}function Lb(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?_i(t.index,e):e;Lg(a);let u=Vb(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=Vb(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function O(t=1){return $P(t)}function Ad(t,e,n){return Md(t,"",e,"",n),Ad}function Md(t,e,n,r,i){let o=ve(),s=zg(o,e,n,r);if(s!==cn){let a=nt(),u=gd();Og(a,u,o,t,s,o[Qe],i,!1)}return Md}function ZC(t,e,n,r){vk(t,e,n,r)}function Rd(t,e,n){_k(t,e,n)}function Ds(t){let e=ve(),n=nt(),r=AI();yg(r+1);let i=jg(n,r);if(t.dirty&&bP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=bk(e,r);t.reset(o,aN),t.notifyOnChanges()}return!0}return!1}function Ts(){return yk(ve(),AI())}function dF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function XC(t){let e=OP();return II(e,_n+t)}function C(t,e=""){let n=ve(),r=nt(),i=t+_n,o=r.firstCreatePass?dc(r,i,1,e,null):r.data[i],s=hF(r,n,o,e,t);n[i]=s,yd()&&Ed(r,n,s,o),oo(o,!1)}var hF=(t,e,n,r,i)=>(_d(!0),RN(e[Qe],r));function he(t){return yt("",t,""),he}function yt(t,e,n){let r=ve(),i=zg(r,t,e,n);return i!==cn&&SC(r,vi(),i),yt}function kn(t,e,n,r,i){let o=ve(),s=Vk(o,t,e,n,r,i);return s!==cn&&SC(o,vi(),s),kn}function Ae(t,e,n){BC(e)&&(e=e());let r=ve(),i=md();if(Fr(r,i,e)){let o=nt(),s=gd();Og(o,s,r,t,e,r[Qe],n,!1)}return Ae}function Pe(t,e){let n=BC(t);return n&&t.set(e),n}function Me(t,e){let n=ve(),r=nt(),i=xt();return JC(r,n,n[Qe],i,t,e),Me}function fF(t,e,n){let r=nt();if(r.firstCreatePass){let i=mi(t);Ym(n,r.data,r.blueprint,i,!0),Ym(e,r.data,r.blueprint,i,!1)}}function Ym(t,e,n,r,i){if(t=Ut(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ym(t[o],e,n,r,i);else{let o=nt(),s=ve(),a=xt(),u=ms(t)?t:Ut(t.provide),l=pI(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(ms(t)||!t.multi){let E=new eo(l,i,U),M=um(u,e,i?h:h+g,p);M===-1?(Im(Yl(a,s),o,u),cm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)):(n[M]=E,s[M]=E)}else{let E=um(u,e,h+g,p),M=um(u,e,h,h+g),k=E>=0&&n[E],F=M>=0&&n[M];if(i&&!F||!i&&!k){Im(Yl(a,s),o,u);let B=gF(i?mF:pF,n.length,i,r,l);!i&&F&&(n[M].providerFactory=B),cm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(B),s.push(B)}else{let B=eD(n[i?M:E],l,!i&&r);cm(o,t,E>-1?E:M,B)}!i&&r&&F&&n[M].componentProviders++}}}function cm(t,e,n,r){let i=ms(e),o=oP(e);if(i||o){let u=(o?Ut(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function eD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function um(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function pF(t,e,n,r){return Jm(this.multi,[])}function mF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=to(n,n[me],this.providerFactory.index,r);o=a.slice(0,s),Jm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Jm(i,o);return o}function Jm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function gF(t,e,n,r,i){let o=new eo(t,n,U);return o.multi=[],o.index=e,o.componentProviders=0,eD(o,i,r&&!n),o}function wn(t,e=[]){return n=>{n.providersResolver=(r,i)=>fF(r,i?i(t):t,e)}}var yF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=dI(!1,r.type),o=i.length>0?$g([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=re({token:e,providedIn:"environment",factory:()=>new e(ge(yn))});let t=e;return t})();function ot(t){OC("NgStandalone"),t.getStandaloneInjector=e=>e.get(yF).getOrCreateStandaloneInjector(t)}function Rt(t,e,n){let r=pd()+t,i=ve();return i[r]===cn?Hg(i,r,n?e.call(n):e()):Pk(i,r)}function tD(t,e,n,r){return iD(ve(),pd(),t,e,n,r)}function nD(t,e,n,r,i){return _F(ve(),pd(),t,e,n,r,i)}function rD(t,e){let n=t[e];return n===cn?void 0:n}function iD(t,e,n,r,i,o){let s=e+n;return Fr(t,s,i)?Hg(t,s+1,o?r.call(o,i):r(i)):rD(t,s+1)}function _F(t,e,n,r,i,o,s){let a=e+n;return HC(t,a,i,o)?Hg(t,a+2,s?r.call(s,i,o):r(i,o)):rD(t,a+2)}function qg(t,e){let n=nt(),r,i=t+_n;n.firstCreatePass?(r=vF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Qi(r.type,!0)),s,a=Wt(U);try{let u=Ql(!1),l=o();return Ql(u),dF(n,ve(),i,l),l}finally{Wt(a)}}function vF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Gg(t,e,n){let r=t+_n,i=ve(),o=II(i,r);return wF(i,r)?iD(i,pd(),e,o.transform,n,o):o.transform(n)}function wF(t,e){return t[me].data[e].pure}function oD(t,e){return Dd(t,e)}var Vr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},sD=new Vr("17.3.4"),Pd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var aD=new oe("");function so(t){return!!t&&typeof t.then=="function"}function cD(t){return!!t&&typeof t.subscribe=="function"}var uD=new oe(""),lD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=G(uD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(so(s))r.push(s);else if(cD(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wg=new oe("");function EF(){kE(()=>{throw new X(600,!1)})}function bF(t){return t.isBoundToModule}function IF(t,e,n){try{let r=n();return so(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var fc=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=G(WI),this.afterRenderEffectManager=G(kC),this.externalTestViews=new Set,this.beforeRender=new St,this.afterTick=new St,this.componentTypes=[],this.components=[],this.isStable=G(Sd).hasPendingTasks.pipe(_e(r=>!r)),this._injector=G(yn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof ed;if(!this._injector.get(lD).done){let E=!o&&aI(r),M=!1;throw new X(405,M)}let a;o?a=r:a=this._injector.get(Td).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=bF(a)?void 0:this._injector.get(yi),l=i||a.selector,h=a.create($t.NULL,[],l,u),p=h.location.nativeElement,g=h.injector.get(aD,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),lm(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new X(101,!1);let i=Oe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Oe(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===AC)throw new X(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)CF(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Zm(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Zm(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;lm(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Wg,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>lm(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new X(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lm(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function CF(t,e,n){!e&&!Zm(t)||DF(t,n,e)}function Zm(t){return pg(t)}function DF(t,e,n){let r;n?(r=0,t[ie]|=1024):t[ie]&64?r=0:r=1,MC(t,e,r)}var Xm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Kg=(()=>{let e=class e{compileModuleSync(r){return new Gm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=cI(r),s=sC(o.declarations).reduce((a,u)=>{let l=Yi(u);return l&&a.push(new oc(l)),a},[]);return new Xm(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var TF=(()=>{let e=class e{constructor(){this.zone=G(xe),this.applicationRef=G(fc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SF(t){return[{provide:xe,useFactory:t},{provide:ps,multi:!0,useFactory:()=>{let e=G(TF,{optional:!0});return()=>e.initialize()}},{provide:ps,multi:!0,useFactory:()=>{let e=G(RF);return()=>{e.initialize()}}},{provide:WI,useFactory:xF}]}function xF(){let t=G(xe),e=G(Nr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function AF(t){let e=SF(()=>new xe(MF(t)));return Xn([[],e])}function MF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var RF=(()=>{let e=class e{constructor(){this.subscription=new et,this.initialized=!1,this.zone=G(xe),this.pendingTasks=G(Sd)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PF(){return typeof $localize<"u"&&$localize.locale||sd}var Qg=new oe("",{providedIn:"root",factory:()=>G(Qg,pe.Optional|pe.SkipSelf)||PF()});var dD=new oe("");var jl=null;function NF(t=[],e){return $t.create({name:e,providers:[{provide:ld,useValue:"platform"},{provide:dD,useValue:new Set([()=>jl=null])},...t]})}function OF(t=[]){if(jl)return jl;let e=NF(t);return jl=e,EF(),kF(e),e}function kF(t){t.get(Ig,null)?.forEach(n=>n())}var nr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FF;let t=e;return t})();function FF(t){return VF(xt(),ve(),(t&16)===16)}function VF(t,e,n){if(hd(t)&&!n){let r=_i(t.index,e);return new no(r,r)}else if(t.type&47){let r=e[Qn];return new no(r,e)}return null}var eg=class{constructor(){}supports(e){return $C(e)}create(e){return new tg(e)}},LF=(t,e)=>e,tg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||LF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Ub(r,i,o)?n:r,a=Ub(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let E=g<o.length?o[g]:o[g]=0,M=E+g;h<=M&&M<l&&(o[g]=E+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!$C(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Mk(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new ng(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ad),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ad),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ng=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},rg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ad=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new rg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ub(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function jb(){return new Yg([new eg])}var Yg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||jb()),deps:[[e,new Jb,new Bt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new X(901,!1)}};e.\u0275prov=re({token:e,providedIn:"root",factory:jb});let t=e;return t})();function hD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=OF(r),o=[AF(),...n||[]],a=new id({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(xe);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Nr,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:E=>{l.handleError(E)}})});let p=()=>a.destroy(),g=i.get(dD);return g.add(p),a.onDestroy(()=>{h.unsubscribe(),g.delete(p)}),IF(l,u,()=>{let E=a.get(lD);return E.runInitializers(),E.donePromise.then(()=>{let M=a.get(Qg,sd);uF(M||sd);let k=a.get(fc);return e!==void 0&&k.bootstrap(e),k})})})}catch(e){return Promise.reject(e)}}function Ei(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var _D=null;function Br(){return _D}function vD(t){_D??=t}var Nd=class{};var En=new oe(""),wD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>G(UF),providedIn:"platform"});let t=e;return t})();var UF=(()=>{let e=class e extends wD{constructor(){super(),this._doc=G(En),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Br().getBaseHref(this._doc)}onPopState(r){let i=Br().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Br().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ED(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function fD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ao(t){return t&&t[0]!=="?"?"?"+t:t}var Ss=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>G(bD),providedIn:"root"});let t=e;return t})(),jF=new oe(""),bD=(()=>{let e=class e extends Ss{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??G(En).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ED(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ao(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ao(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ao(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ge(wD),ge(jF,8))},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pc=(()=>{let e=class e{constructor(r){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=HF(fD(pD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ao(i))}normalize(r){return e.stripTrailingSlash($F(this._basePath,pD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ao(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ao(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=ao,e.joinWithSlash=ED,e.stripTrailingSlash=fD,e.\u0275fac=function(i){return new(i||e)(ge(Ss))},e.\u0275prov=re({token:e,factory:()=>BF(),providedIn:"root"});let t=e;return t})();function BF(){return new pc(ge(Ss))}function $F(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function pD(t){return t.replace(/\/index.html$/,"")}function HF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ID(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Jg=/\s+/,mD=[],Fd=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=mD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Jg):mD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Jg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Jg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(U(Ht),U(At))},e.\u0275dir=Fe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[tt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Zg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},rr=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Zg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),gD(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);gD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(U(tr),U(kr),U(Yg))},e.\u0275dir=Fe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function gD(t,e){t.context.$implicit=e.item}var Jt=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Xg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){yD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){yD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(U(tr),U(kr))},e.\u0275dir=Fe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Xg=class{constructor(){this.$implicit=null,this.ngIf=null}};function yD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${jt(e)}'.`)}var zF=!0,Od=class{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Vd=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(r){this._ngSwitch=r,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(r){this._defaultViews.push(r)}_matchCase(r){let i=zF?r===this._ngSwitch:r==this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(r){if(this._defaultViews.length>0&&r!==this._defaultUsed){this._defaultUsed=r;for(let i of this._defaultViews)i.enforceState(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Fe({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),CD=(()=>{let e=class e{constructor(r,i,o){this.ngSwitch=o,o._addCase(),this._view=new Od(r,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(i){return new(i||e)(U(tr),U(kr),U(Vd,9))},e.\u0275dir=Fe({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})(),DD=(()=>{let e=class e{constructor(r,i,o){o._addDefault(new Od(r,i))}};e.\u0275fac=function(i){return new(i||e)(U(tr),U(kr),U(Vd,9))},e.\u0275dir=Fe({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0});let t=e;return t})();function qF(t,e){return new X(2100,!1)}var GF=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,TD=(()=>{let e=class e{transform(r){if(r==null)return null;if(typeof r!="string")throw qF(e,r);return r.replace(GF,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=iI({name:"titlecase",type:e,pure:!0,standalone:!0});let t=e;return t})();var _t=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zn({type:e}),e.\u0275inj=Jn({});let t=e;return t})(),SD="browser",WF="server";function ey(t){return t===WF}var kd=class{};var ry=class extends Nd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},iy=class t extends ry{static makeCurrent(){vD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=KF();return n==null?null:QF(n)}resetBaseElement(){mc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ID(document.cookie,e)}},mc=null;function KF(){return mc=mc||document.querySelector("base"),mc?mc.getAttribute("href"):null}function QF(t){return new URL(t,document.baseURI).pathname}var YF=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),oy=new oe(""),RD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new X(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ge(oy),ge(xe))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),Ld=class{constructor(e){this._doc=e}},ty="ng-app-id",PD=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ey(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ty}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(ty),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ty,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ge(En),ge(bg),ge(Cg,8),ge(wi))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),ny={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ay=/%COMP%/g,ND="%COMP%",JF=`_nghost-${ND}`,ZF=`_ngcontent-${ND}`,XF=!0,e2=new oe("",{providedIn:"root",factory:()=>XF});function t2(t){return ZF.replace(ay,t)}function n2(t){return JF.replace(ay,t)}function OD(t,e){return e.map(n=>n.replace(ay,t))}var xD=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=ey(u),this.defaultRenderer=new gc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Kn.ShadowDom&&(i=Se(q({},i),{encapsulation:Kn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ud?o.applyToHost(r):o instanceof yc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Kn.Emulated:s=new Ud(l,h,i,this.appId,p,a,u,g);break;case Kn.ShadowDom:return new sy(l,h,r,i,a,u,this.nonce,g);default:s=new yc(l,h,i,p,a,u,g);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ge(RD),ge(PD),ge(bg),ge(e2),ge(En),ge(wi),ge(xe),ge(Cg))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),gc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ny[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(AD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(AD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=ny[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ny[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Or.DashCase|Or.Important)?e.style.setProperty(n,r,i&Or.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Or.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Br().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function AD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var sy=class extends gc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=OD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yc=class extends gc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?OD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ud=class extends yc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=t2(l),this.hostAttr=n2(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},r2=(()=>{let e=class e extends Ld{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(ge(En))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),MD=["alt","control","meta","shift"],i2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},o2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},s2=(()=>{let e=class e extends Ld{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),MD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=i2[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),MD.forEach(a=>{if(a!==o){let u=o2[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ge(En))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})();function kD(t,e){return hD(q({rootComponent:t},a2(e)))}function a2(t){return{appProviders:[...h2,...t?.providers??[]],platformProviders:d2}}function c2(){iy.makeCurrent()}function u2(){return new Nr}function l2(){return eC(document),document}var d2=[{provide:wi,useValue:SD},{provide:Ig,useValue:c2,multi:!0},{provide:En,useFactory:l2,deps:[]}];var h2=[{provide:ld,useValue:"root"},{provide:Nr,useFactory:u2,deps:[]},{provide:oy,useClass:r2,multi:!0,deps:[En,xe,wi]},{provide:oy,useClass:s2,multi:!0,deps:[En]},xD,PD,RD,{provide:ic,useExisting:xD},{provide:kd,useClass:YF,deps:[]},[]];var FD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ge(En))},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fe="primary",Pc=Symbol("RouteTitle"),hy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ps(t){return new hy(t)}function p2(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function m2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ir(t[n],e[n]))return!1;return!0}function ir(t,e){let n=t?fy(t):void 0,r=e?fy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!$D(t[i],e[i]))return!1;return!0}function fy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function $D(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function HD(t){return t.length>0?t[t.length-1]:null}function Di(t){return zp(t)?t:so(t)?qe(Promise.resolve(t)):ce(t)}var g2={exact:qD,subset:GD},zD={exact:y2,subset:_2,ignored:()=>!0};function VD(t,e,n){return g2[n.paths](t.root,e.root,n.matrixParams)&&zD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function y2(t,e){return ir(t,e)}function qD(t,e,n){if(!uo(t.segments,e.segments)||!$d(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!qD(t.children[r],e.children[r],n))return!1;return!0}function _2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$D(t[n],e[n]))}function GD(t,e,n){return WD(t,e,e.segments,n)}function WD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!uo(i,n)||e.hasChildren()||!$d(i,n,r))}else if(t.segments.length===n.length){if(!uo(t.segments,n)||!$d(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!GD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!uo(t.segments,i)||!$d(t.segments,i,r)||!t.children[fe]?!1:WD(t.children[fe],e,o,r)}}function $d(t,e,n){return e.every((r,i)=>zD[n](t[i].parameters,r.parameters))}var Ii=class{constructor(e=new Ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ps(this.queryParams),this._queryParamMap}toString(){return E2.serialize(this)}},Ve=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hd(this)}},co=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ps(this.parameters),this._parameterMap}toString(){return QD(this)}};function v2(t,e){return uo(t,e)&&t.every((n,r)=>ir(n.parameters,e[r].parameters))}function uo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function w2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==fe&&(n=n.concat(e(i,r)))}),n}var Uy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>new qd,providedIn:"root"});let t=e;return t})(),qd=class{parse(e){let n=new my(e);return new Ii(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${_c(e.root,!0)}`,r=C2(e.queryParams),i=typeof e.fragment=="string"?`#${b2(e.fragment)}`:"";return`${n}${r}${i}`}},E2=new qd;function Hd(t){return t.segments.map(e=>QD(e)).join("/")}function _c(t,e){if(!t.hasChildren())return Hd(t);if(e){let n=t.children[fe]?_c(t.children[fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==fe&&r.push(`${i}:${_c(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=w2(t,(r,i)=>i===fe?[_c(t.children[fe],!1)]:[`${i}:${_c(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[fe]!=null?`${Hd(t)}/${n[0]}`:`${Hd(t)}/(${n.join("//")})`}}function KD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jd(t){return KD(t).replace(/%3B/gi,";")}function b2(t){return encodeURI(t)}function py(t){return KD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zd(t){return decodeURIComponent(t)}function LD(t){return zd(t.replace(/\+/g,"%20"))}function QD(t){return`${py(t.path)}${I2(t.parameters)}`}function I2(t){return Object.entries(t).map(([e,n])=>`;${py(e)}=${py(n)}`).join("")}function C2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${jd(n)}=${jd(i)}`).join("&"):`${jd(n)}=${jd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var D2=/^[^\/()?;#]+/;function cy(t){let e=t.match(D2);return e?e[0]:""}var T2=/^[^\/()?;=#]+/;function S2(t){let e=t.match(T2);return e?e[0]:""}var x2=/^[^=?&#]+/;function A2(t){let e=t.match(x2);return e?e[0]:""}var M2=/^[^&#]+/;function R2(t){let e=t.match(M2);return e?e[0]:""}var my=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[fe]=new Ve(e,n)),r}parseSegment(){let e=cy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new co(zd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=S2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=cy(this.remaining);i&&(r=i,this.capture(r))}e[zd(n)]=zd(r)}parseQueryParam(e){let n=A2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=R2(this.remaining);s&&(r=s,this.capture(r))}let i=LD(n),o=LD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new X(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[fe]:new Ve([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function YD(t){return t.segments.length>0?new Ve([],{[fe]:t}):t}function JD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=JD(i);if(r===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ve(t.segments,e);return P2(n)}function P2(t){if(t.numberOfChildren===1&&t.children[fe]){let e=t.children[fe];return new Ve(t.segments.concat(e.segments),e.children)}return t}function Ns(t){return t instanceof Ii}function N2(t,e,n=null,r=null){let i=ZD(t);return XD(i,e,n,r)}function ZD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ve(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=YD(r);return e??i}function XD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return uy(i,i,i,n,r);let o=O2(e);if(o.toRoot())return uy(i,i,new Ve([],{}),n,r);let s=k2(o,i,t),a=s.processChildren?Ec(s.segmentGroup,s.index,o.commands):tT(s.segmentGroup,s.index,o.commands);return uy(i,s.segmentGroup,a,n,r)}function Gd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Cc(t){return typeof t=="object"&&t!=null&&t.outlets}function uy(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=eT(t,e,n);let a=YD(JD(s));return new Ii(a,o,i)}function eT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=eT(o,e,n)}),new Ve(t.segments,r)}var Wd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Gd(r[0]))throw new X(4003,!1);let i=r.find(Cc);if(i&&i!==HD(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function O2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Wd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Wd(n,e,r)}var Ms=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function k2(t,e,n){if(t.isAbsolute)return new Ms(e,!0,0);if(!n)return new Ms(e,!1,NaN);if(n.parent===null)return new Ms(n,!0,0);let r=Gd(t.commands[0])?0:1,i=n.segments.length-1+r;return F2(n,i,t.numberOfDoubleDots)}function F2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new Ms(r,!1,i-o)}function V2(t){return Cc(t[0])?t[0].outlets:{[fe]:t}}function tT(t,e,n){if(t??=new Ve([],{}),t.segments.length===0&&t.hasChildren())return Ec(t,e,n);let r=L2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ve(t.segments.slice(0,r.pathIndex),{});return o.children[fe]=new Ve(t.segments.slice(r.pathIndex),t.children),Ec(o,0,i)}else return r.match&&i.length===0?new Ve(t.segments,{}):r.match&&!t.hasChildren()?gy(t,e,n):r.match?Ec(t,0,i):gy(t,e,n)}function Ec(t,e,n){if(n.length===0)return new Ve(t.segments,{});{let r=V2(n),i={};if(Object.keys(r).some(o=>o!==fe)&&t.children[fe]&&t.numberOfChildren===1&&t.children[fe].segments.length===0){let o=Ec(t.children[fe],e,n);return new Ve(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=tT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ve(t.segments,i)}}function L2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Cc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!jD(u,l,s))return o;r+=2}else{if(!jD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function gy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Cc(o)){let u=U2(o.outlets);return new Ve(r,u)}if(i===0&&Gd(n[0])){let u=t.segments[e];r.push(new co(u.path,UD(n[0]))),i++;continue}let s=Cc(o)?o.outlets[fe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Gd(a)?(r.push(new co(s,UD(a))),i+=2):(r.push(new co(s,{})),i++)}return new Ve(r,{})}function U2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=gy(new Ve([],{}),0,r))}),e}function UD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function jD(t,e,n){return t==n.path&&ir(e,n.parameters)}var bc="imperative",vt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(vt||{}),bn=class{constructor(e,n){this.id=e,this.url=n}},Dc=class extends bn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=vt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$r=class extends bn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=vt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ln=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ln||{}),yy=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(yy||{}),Ci=class extends bn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=vt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},lo=class extends bn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=vt.NavigationSkipped}},Tc=class extends bn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=vt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Kd=class extends bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_y=class extends bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vy=class extends bn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=vt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wy=class extends bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ey=class extends bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},by=class{constructor(e){this.route=e,this.type=vt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Iy=class{constructor(e){this.route=e,this.type=vt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cy=class{constructor(e){this.snapshot=e,this.type=vt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dy=class{constructor(e){this.snapshot=e,this.type=vt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ty=class{constructor(e){this.snapshot=e,this.type=vt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sy=class{constructor(e){this.snapshot=e,this.type=vt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Sc=class{},xc=class{constructor(e){this.url=e}};var xy=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new th,this.attachRef=null}},th=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new xy,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ay(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ay(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=My(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return My(e,this._root).map(n=>n.value)}};function Ay(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ay(t,n);if(r)return r}return null}function My(t,e){if(t===e.value)return[e];for(let n of e.children){let r=My(t,n);if(r.length)return r.unshift(e),r}return[]}var un=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function As(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Yd=class extends Qd{constructor(e,n){super(e),this.snapshot=n,By(this,e)}toString(){return this.snapshot.toString()}};function nT(t){let e=j2(t),n=new mt([new co("",{})]),r=new mt({}),i=new mt({}),o=new mt({}),s=new mt(""),a=new ho(n,r,o,s,i,fe,t,e.root);return a.snapshot=e.root,new Yd(new un(a,[]),e)}function j2(t){let e={},n={},r={},i="",o=new Ac([],e,r,i,n,fe,t,null,{});return new Jd("",new un(o,[]))}var ho=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(_e(l=>l[Pc]))??ce(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_e(e=>Ps(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_e(e=>Ps(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jy(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:q(q({},e.params),t.params),data:q(q({},e.data),t.data),resolve:q(q(q(q({},t.data),e.data),i?.data),t._resolvedData)}:r={params:q({},t.params),data:q({},t.data),resolve:q(q({},t.data),t._resolvedData??{})},i&&iT(i)&&(r.resolve[Pc]=i.title),r}var Ac=class{get title(){return this.data?.[Pc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ps(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ps(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Jd=class extends Qd{constructor(e,n){super(n),this.url=e,By(this,n)}toString(){return rT(this._root)}};function By(t,e){e.value._routerState=t,e.children.forEach(n=>By(t,n))}function rT(t){let e=t.children.length>0?` { ${t.children.map(rT).join(", ")} } `:"";return`${t.value}${e}`}function ly(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ir(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ir(e.params,n.params)||t.paramsSubject.next(n.params),m2(e.url,n.url)||t.urlSubject.next(n.url),ir(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ry(t,e){let n=ir(t.params,e.params)&&v2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Ry(t.parent,e.parent))}function iT(t){return typeof t.title=="string"||t.title===null}var $y=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=G(th),this.location=G(tr),this.changeDetector=G(nr),this.environmentInjector=G(yn),this.inputBinder=G(Hy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Py(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Fe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yt]});let t=e;return t})(),Py=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===ho?this.route:e===th?this.childContexts:this.parent.get(e,n)}},Hy=new oe("");function B2(t,e,n){let r=Mc(t,e._root,n?n._root:void 0);return new Yd(r,e)}function Mc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=$2(t,e,n);return new un(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Mc(t,a)),s}}let r=H2(e.value),i=e.children.map(o=>Mc(t,o));return new un(r,i)}}function $2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Mc(t,r,i);return Mc(t,r)})}function H2(t){return new ho(new mt(t.url),new mt(t.params),new mt(t.queryParams),new mt(t.fragment),new mt(t.data),t.outlet,t.component,t)}var oT="ngNavigationCancelingError";function sT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ns(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aT(!1,ln.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function aT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[oT]=!0,n.cancellationCode=e,n}function z2(t){return cT(t)&&Ns(t.url)}function cT(t){return!!t&&t[oT]}var q2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ye({type:e,selectors:[["ng-component"]],standalone:!0,features:[ot],decls:1,vars:0,template:function(i,o){i&1&&J(0,"router-outlet")},dependencies:[$y],encapsulation:2});let t=e;return t})();function G2(t,e){return t.providers&&!t._injector&&(t._injector=$g(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zy(t){let e=t.children&&t.children.map(zy),n=e?Se(q({},t),{children:e}):q({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=q2),n}function or(t){return t.outlet||fe}function W2(t,e){let n=t.filter(r=>or(r)===e);return n.push(...t.filter(r=>or(r)!==e)),n}function Nc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var K2=(t,e,n,r)=>_e(i=>(new Ny(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ny=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ly(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=As(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=As(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Sy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Dy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(ly(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ly(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Nc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Zd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Rs=class{constructor(e,n){this.component=e,this.route=n}};function Q2(t,e,n){let r=t._root,i=e?e._root:null;return vc(r,i,n,[r.value])}function Y2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ks(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!zb(t)?t:e.get(t):r}function vc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=As(e);return t.children.forEach(s=>{J2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ic(a,n.getContext(s),i)),i}function J2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Z2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Zd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?vc(t,e,a?a.children:null,r,i):vc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rs(a.outlet.component,s))}else s&&Ic(e,a,i),i.canActivateChecks.push(new Zd(r)),o.component?vc(t,null,a?a.children:null,r,i):vc(t,null,n,r,i);return i}function Z2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!uo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!uo(t.url,e.url)||!ir(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ry(t,e)||!ir(t.queryParams,e.queryParams);case"paramsChange":default:return!Ry(t,e)}}function Ic(t,e,n){let r=As(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ic(s,e.children.getContext(o),n):Ic(s,null,n):Ic(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Rs(e.outlet.component,i)):n.canDeactivateChecks.push(new Rs(null,i)):n.canDeactivateChecks.push(new Rs(null,i))}function Oc(t){return typeof t=="function"}function X2(t){return typeof t=="boolean"}function eV(t){return t&&Oc(t.canLoad)}function tV(t){return t&&Oc(t.canActivate)}function nV(t){return t&&Oc(t.canActivateChild)}function rV(t){return t&&Oc(t.canDeactivate)}function iV(t){return t&&Oc(t.canMatch)}function uT(t){return t instanceof Sn||t?.name==="EmptyError"}var Bd=Symbol("INITIAL_VALUE");function Os(){return xn(t=>Dl(t.map(e=>e.pipe(Mr(1),Al(Bd)))).pipe(_e(e=>{for(let n of e)if(n!==!0){if(n===Bd)return Bd;if(n===!1||n instanceof Ii)return n}return!0}),gn(e=>e!==Bd),Mr(1)))}function oV(t,e){return ut(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ce(Se(q({},n),{guardsResult:!0})):sV(s,r,i,t).pipe(ut(a=>a&&X2(a)?aV(r,o,t,e):ce(a)),_e(a=>Se(q({},n),{guardsResult:a})))})}function sV(t,e,n,r){return qe(t).pipe(ut(i=>hV(i.component,i.route,n,e,r)),qn(i=>i!==!0,!0))}function aV(t,e,n,r){return qe(e).pipe(os(i=>is(uV(i.route.parent,r),cV(i.route,r),dV(t,i.path,n),lV(t,i.route,n))),qn(i=>i!==!0,!0))}function cV(t,e){return t!==null&&e&&e(new Ty(t)),ce(!0)}function uV(t,e){return t!==null&&e&&e(new Cy(t)),ce(!0)}function lV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ce(!0);let i=r.map(o=>Tl(()=>{let s=Nc(e)??n,a=ks(o,s),u=tV(a)?a.canActivate(e,t):io(s,()=>a(e,t));return Di(u).pipe(qn())}));return ce(i).pipe(Os())}function dV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Y2(s)).filter(s=>s!==null).map(s=>Tl(()=>{let a=s.guards.map(u=>{let l=Nc(s.node)??n,h=ks(u,l),p=nV(h)?h.canActivateChild(r,t):io(l,()=>h(r,t));return Di(p).pipe(qn())});return ce(a).pipe(Os())}));return ce(o).pipe(Os())}function hV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ce(!0);let s=o.map(a=>{let u=Nc(e)??i,l=ks(a,u),h=rV(l)?l.canDeactivate(t,e,n,r):io(u,()=>l(t,e,n,r));return Di(h).pipe(qn())});return ce(s).pipe(Os())}function fV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ce(!0);let o=i.map(s=>{let a=ks(s,t),u=eV(a)?a.canLoad(e,n):io(t,()=>a(e,n));return Di(u)});return ce(o).pipe(Os(),lT(r))}function lT(t){return sl(lt(e=>{if(Ns(e))throw sT(t,e)}),_e(e=>e===!0))}function pV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ce(!0);let o=i.map(s=>{let a=ks(s,t),u=iV(a)?a.canMatch(e,n):io(t,()=>a(e,n));return Di(u)});return ce(o).pipe(Os(),lT(r))}var Rc=class{constructor(e){this.segmentGroup=e||null}},Xd=class extends Error{constructor(e){super(),this.urlTree=e}};function xs(t){return ns(new Rc(t))}function mV(t){return ns(new X(4e3,!1))}function gV(t){return ns(aT(!1,ln.GuardRejected))}var Oy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ce(r);if(i.numberOfChildren>1||!i.children[fe])return mV(e.redirectTo);i=i.children[fe]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Xd(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Ii(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ve(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ky={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yV(t,e,n,r,i){let o=qy(t,e,n);return o.matched?(r=G2(e,r),pV(r,e,n,i).pipe(_e(s=>s===!0?o:q({},ky)))):ce(o)}function qy(t,e,n){if(e.path==="**")return _V(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?q({},ky):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||p2)(n,t,e);if(!i)return q({},ky);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?q(q({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _V(t){return{matched:!0,parameters:t.length>0?HD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function BD(t,e,n,r){return n.length>0&&EV(t,n,r)?{segmentGroup:new Ve(e,wV(r,new Ve(n,t.children))),slicedSegments:[]}:n.length===0&&bV(t,n,r)?{segmentGroup:new Ve(t.segments,vV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ve(t.segments,t.children),slicedSegments:n}}function vV(t,e,n,r){let i={};for(let o of n)if(nh(t,e,o)&&!r[or(o)]){let s=new Ve([],{});i[or(o)]=s}return q(q({},r),i)}function wV(t,e){let n={};n[fe]=e;for(let r of t)if(r.path===""&&or(r)!==fe){let i=new Ve([],{});n[or(r)]=i}return n}function EV(t,e,n){return n.some(r=>nh(t,e,r)&&or(r)!==fe)}function bV(t,e,n){return n.some(r=>nh(t,e,r))}function nh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function IV(t,e,n,r){return or(t)!==r&&(r===fe||!nh(e,n,t))?!1:qy(e,t,n).matched}function CV(t,e,n){return e.length===0&&!t.children[n]}var Fy=class{};function DV(t,e,n,r,i,o,s="emptyOnly"){return new Vy(t,e,n,r,i,s,o).recognize()}var TV=31,Vy=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Oy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=BD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(_e(n=>{let r=new Ac([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,{},fe,this.rootComponentType,null,{}),i=new un(r,n),o=new Jd("",i),s=N2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(di(r=>{if(r instanceof Xd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Rc?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=jy(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(_e(o=>o instanceof un?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return qe(i).pipe(os(o=>{let s=r.children[o],a=W2(n,o);return this.processSegmentGroup(e,a,s,o)}),xl((o,s)=>(o.push(...s),o)),hi(null),Kp(),ut(o=>{if(o===null)return xs(r);let s=dT(o);return SV(s),ce(s)}))}processSegment(e,n,r,i,o,s){return qe(n).pipe(os(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(di(u=>{if(u instanceof Rc)return ce(null);throw u}))),qn(a=>!!a),di(a=>{if(uT(a))return CV(r,i,o)?ce(new Fy):xs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return IV(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):xs(i):xs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=qy(n,i,o);if(!a)return xs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TV&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(ut(g=>this.processSegment(e,r,n,g.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=yV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(xn(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xn(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:g}=a,E=new Ac(h,g,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,AV(r),or(r),r.component??r._loadedComponent??null,r,MV(r)),{segmentGroup:M,slicedSegments:k}=BD(n,h,p,u);if(k.length===0&&M.hasChildren())return this.processChildren(l,u,M).pipe(_e(B=>B===null?null:new un(E,B)));if(u.length===0&&k.length===0)return ce(new un(E,[]));let F=or(r)===o;return this.processSegment(l,u,M,k,F?fe:o,!0).pipe(_e(B=>new un(E,B instanceof un?[B]:[])))}))):xs(n)))}getChildConfig(e,n,r){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):fV(e,n,r,this.urlSerializer).pipe(ut(i=>i?this.configLoader.loadChildren(e,n).pipe(lt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):gV(n))):ce({routes:[],injector:e})}};function SV(t){t.sort((e,n)=>e.value.outlet===fe?-1:n.value.outlet===fe?1:e.value.outlet.localeCompare(n.value.outlet))}function xV(t){let e=t.value.routeConfig;return e&&e.path===""}function dT(t){let e=[],n=new Set;for(let r of t){if(!xV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=dT(r.children);e.push(new un(r.value,i))}return e.filter(r=>!n.has(r))}function AV(t){return t.data||{}}function MV(t){return t.resolve||{}}function RV(t,e,n,r,i,o){return ut(s=>DV(t,e,n,r,s.extractedUrl,i,o).pipe(_e(({state:a,tree:u})=>Se(q({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function PV(t,e){return ut(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ce(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of hT(u))s.add(l);let a=0;return qe(s).pipe(os(u=>o.has(u)?NV(u,r,t,e):(u.data=jy(u,u.parent,t).resolve,ce(void 0))),lt(()=>a++),ss(1),ut(u=>a===s.size?ce(n):sn))})}function hT(t){let e=t.children.map(n=>hT(n)).flat();return[t,...e]}function NV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!iT(i)&&(o[Pc]=i.title),OV(o,t,e,r).pipe(_e(s=>(t._resolvedData=s,t.data=jy(t,t.parent,n).resolve,null)))}function OV(t,e,n,r){let i=fy(t);if(i.length===0)return ce({});let o={};return qe(i).pipe(ut(s=>kV(t[s],e,n,r).pipe(qn(),lt(a=>{o[s]=a}))),ss(1),Wp(o),di(s=>uT(s)?sn:ns(s)))}function kV(t,e,n,r){let i=Nc(e)??r,o=ks(t,i),s=o.resolve?o.resolve(e,n):io(i,()=>o(e,n));return Di(s)}function dy(t){return xn(e=>{let n=t(e);return n?qe(n).pipe(_e(()=>e)):ce(e)})}var fT=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===fe);return i}getResolvedTitleForRoute(r){return r.data[Pc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>G(FV),providedIn:"root"});let t=e;return t})(),FV=(()=>{let e=class e extends fT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ge(FD))},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gy=new oe("",{providedIn:"root",factory:()=>({})}),Wy=new oe(""),VV=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=G(Kg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ce(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Di(r.loadComponent()).pipe(_e(pT),lt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Qa(()=>{this.componentLoaders.delete(r)})),o=new Zo(i,()=>new St).pipe(Jo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ce({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=LV(i,this.compiler,r,this.onLoadEndListener).pipe(Qa(()=>{this.childrenLoaders.delete(i)})),a=new Zo(s,()=>new St).pipe(Jo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LV(t,e,n,r){return Di(t.loadChildren()).pipe(_e(pT),ut(i=>i instanceof sc||Array.isArray(i)?ce(i):qe(e.compileModuleAsync(i))),_e(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Wy,[],{optional:!0,self:!0}).flat()),{routes:s.map(zy),injector:o}}))}function UV(t){return t&&typeof t=="object"&&"default"in t}function pT(t){return UV(t)?t.default:t}var Ky=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>G(jV),providedIn:"root"});let t=e;return t})(),jV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BV=new oe("");var $V=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new St,this.transitionAbortSubject=new St,this.configLoader=G(VV),this.environmentInjector=G(yn),this.urlSerializer=G(Uy),this.rootContexts=G(th),this.location=G(pc),this.inputBindingEnabled=G(Hy,{optional:!0})!==null,this.titleStrategy=G(fT),this.options=G(Gy,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=G(Ky),this.createViewTransition=G(BV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null;let r=o=>this.events.next(new by(o)),i=o=>this.events.next(new Iy(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Se(q(q({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new mt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gn(s=>s.id!==0),_e(s=>Se(q({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),xn(s=>{let a=!1,u=!1;return ce(s).pipe(xn(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ln.SupersededByNewNavigation),sn;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Se(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let g="";return this.events.next(new lo(l.id,this.urlSerializer.serialize(l.rawUrl),g,yy.IgnoredSameUrlNavigation)),l.resolve(null),sn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ce(l).pipe(xn(g=>{let E=this.transitions?.getValue();return this.events.next(new Dc(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),E!==this.transitions?.getValue()?sn:Promise.resolve(g)}),RV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),lt(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Se(q({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let E=new Kd(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(E)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:E,source:M,restoredState:k,extras:F}=l,B=new Dc(g,this.urlSerializer.serialize(E),M,k);this.events.next(B);let Z=nT(this.rootComponentType).snapshot;return this.currentTransition=s=Se(q({},l),{targetSnapshot:Z,urlAfterRedirects:E,extras:Se(q({},F),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,ce(s)}else{let g="";return this.events.next(new lo(l.id,this.urlSerializer.serialize(l.extractedUrl),g,yy.IgnoredByUrlHandlingStrategy)),l.resolve(null),sn}}),lt(l=>{let h=new _y(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),_e(l=>(this.currentTransition=s=Se(q({},l),{guards:Q2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),oV(this.environmentInjector,l=>this.events.next(l)),lt(l=>{if(s.guardsResult=l.guardsResult,Ns(l.guardsResult))throw sT(this.urlSerializer,l.guardsResult);let h=new vy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),gn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ln.GuardRejected),!1)),dy(l=>{if(l.guards.canActivateChecks.length)return ce(l).pipe(lt(h=>{let p=new wy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),xn(h=>{let p=!1;return ce(h).pipe(PV(this.paramsInheritanceStrategy,this.environmentInjector),lt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",ln.NoDataFromResolver)}}))}),lt(h=>{let p=new Ey(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),dy(l=>{let h=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(lt(E=>{p.component=E}),_e(()=>{})));for(let E of p.children)g.push(...h(E));return g};return Dl(h(l.targetSnapshot.root)).pipe(hi(null),Mr(1))}),dy(()=>this.afterPreactivation()),xn(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?qe(p).pipe(_e(()=>s)):ce(s)}),_e(l=>{let h=B2(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Se(q({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),lt(()=>{this.events.next(new Sc)}),K2(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Mr(1),lt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $r(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Qp(this.transitionAbortSubject.pipe(lt(l=>{throw l}))),Qa(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",ln.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),di(l=>{if(u=!0,cT(l))this.events.next(new Ci(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),z2(l)?this.events.next(new xc(l.url)):s.resolve(!1);else{this.events.next(new Tc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return sn}))}))}cancelNavigationTransition(r,i,o){let s=new Ci(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HV(t){return t!==bc}var zV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>G(qV),providedIn:"root"});let t=e;return t})(),Ly=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},qV=(()=>{let e=class e extends Ly{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>G(GV),providedIn:"root"});let t=e;return t})(),GV=(()=>{let e=class e extends mT{constructor(){super(...arguments),this.location=G(pc),this.urlSerializer=G(Uy),this.options=G(Gy,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=G(Ky),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ii,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=nT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Dc)this.stateMemento=this.createStateMemento();else if(r instanceof lo)this.rawUrlTree=i.initialUrl;else if(r instanceof Kd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Sc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ci&&(r.code===ln.GuardRejected||r.code===ln.NoDataFromResolver)?this.restoreHistory(i):r instanceof Tc?this.restoreHistory(i,!0):r instanceof $r&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=q(q({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=q(q({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(wc||{});function WV(t,e){t.events.pipe(gn(n=>n instanceof $r||n instanceof Ci||n instanceof Tc||n instanceof lo),_e(n=>n instanceof $r||n instanceof lo?wc.COMPLETE:(n instanceof Ci?n.code===ln.Redirect||n.code===ln.SupersededByNewNavigation:!1)?wc.REDIRECTING:wc.FAILED),gn(n=>n!==wc.REDIRECTING),Mr(1)).subscribe(()=>{e()})}function KV(t){throw t}var QV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Zt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=G(Pd),this.stateManager=G(mT),this.options=G(Gy,{optional:!0})||{},this.pendingTasks=G(Sd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=G($V),this.urlSerializer=G(Uy),this.location=G(pc),this.urlHandlingStrategy=G(Ky),this._events=new St,this.errorHandler=this.options.errorHandler||KV,this.navigated=!1,this.routeReuseStrategy=G(zV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=G(Wy,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!G(Hy,{optional:!0}),this.eventsSubscription=new et,this.isNgZoneEnabled=G(xe)instanceof xe&&xe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Ci&&i.code!==ln.Redirect&&i.code!==ln.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof $r)this.navigated=!0;else if(i instanceof xc){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||HV(o.source)};this.scheduleNavigation(a,bc,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}ZV(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=q({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(zy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=q(q({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let E=o?o.snapshot:this.routerState.snapshot.root;g=ZD(E)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),g=this.currentUrlTree.root}return XD(g,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ns(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,bc,null,i)}navigate(r,i={skipLocationChange:!1}){return JV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=q({},QV):i===!1?o=q({},YV):o=i,Ns(r))return VD(this.currentUrlTree,r,o);let s=this.parseUrl(r);return VD(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((g,E)=>{u=g,l=E});let p=this.pendingTasks.add();return WV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new X(4008,!1)}function ZV(t){return!(t instanceof Sc)&&!(t instanceof xc)}var eh=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new St,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof $r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:iC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(U(Zt),U(ho),Eg("tabindex"),U(At),U(Ht),U(Ss))},e.\u0275dir=Fe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&z("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&hc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[tt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ei],skipLocationChange:[tt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ei],replaceUrl:[tt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ei],routerLink:"routerLink"},standalone:!0,features:[Bg,Yt]});let t=e;return t})(),gT=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ke,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof $r&&this.update()})}ngAfterContentInit(){ce(this.links.changes,ce(null)).pipe(rs()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=qe(r).pipe(rs()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=XV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(U(Zt),U(Ht),U(At),U(nr),U(eh,8))},e.\u0275dir=Fe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&ZC(s,eh,5),i&2){let a;Ds(a=Ts())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Yt]});let t=e;return t})();function XV(t){return!!t.paths}var eL=new oe("");function yT(t,...e){return Xn([{provide:Wy,multi:!0,useValue:t},[],{provide:ho,useFactory:tL,deps:[Zt]},{provide:Wg,multi:!0,useFactory:nL},e.map(n=>n.\u0275providers)])}function tL(t){return t.routerState.root}function nL(){let t=G($t);return e=>{let n=t.get(fc);if(e!==n.components[0])return;let r=t.get(Zt),i=t.get(rL);t.get(iL)===1&&r.initialNavigation(),t.get(oL,null,pe.Optional)?.setUpPreloading(),t.get(eL,null,pe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var rL=new oe("",{factory:()=>new St}),iL=new oe("",{providedIn:"root",factory:()=>1});var oL=new oe("");var vT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},wT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,E=l&63;u||(E=64,s||(g=64)),r.push(n[h],n[p],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Yy;let g=o<<2|a>>4;if(r.push(g),l!==64){let E=a<<4&240|l>>2;if(r.push(E),p!==64){let M=l<<6&192|p;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Yy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},aL=function(t){let e=vT(t);return wT.encodeByteArray(e,!0)},Fc=function(t){return aL(t).replace(/\./g,"")},Zy=function(t){try{return wT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uL=()=>cL().__FIREBASE_DEFAULTS__,lL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Zy(t[1]);return e&&JSON.parse(e)},ih=()=>{try{return uL()||lL()||dL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xy=t=>{var e,n;return(n=(e=ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oh=t=>{let e=Xy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},e_=()=>{var t;return(t=ih())===null||t===void 0?void 0:t.config},t_=t=>{var e;return(e=ih())===null||e===void 0?void 0:e[`_${t}`]};var rh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function sh(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fc(JSON.stringify(n)),Fc(JSON.stringify(s)),""].join(".")}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ET(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function hL(){var t;let e=(t=ih())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DT(){let t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TT(){return!hL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n_(){try{return typeof indexedDB=="object"}catch{return!1}}function ST(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var fL="FirebaseError",qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hr.prototype.create)}},Hr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?pL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qt(i,a,r)}};function pL(t,e){return t.replace(mL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var mL=/\{\$([^}]+)}/g;function xT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(_T(o)&&_T(s)){if(!fo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function _T(t){return t!==null&&typeof t=="object"}function Vc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Vs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AT(t,e){let n=new Jy(t,e);return n.subscribe.bind(n)}var Jy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qy),i.error===void 0&&(i.error=Qy),i.complete===void 0&&(i.complete=Qy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qy(){}var kK=4*60*60*1e3;function Ue(t){return t&&t._delegate?t._delegate:t}var Xt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var po="[DEFAULT]";var r_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_L(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yL(t){return t===po?void 0:t}function _L(t){return t.instantiationMode==="EAGER"}var ah=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new r_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vL=[],be=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(be||{}),wL={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},EL=be.INFO,bL={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},IL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=bL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ti=class{constructor(e){this.name=e,this._logLevel=EL,this._logHandler=IL,this._userLogHandler=null,vL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}};var CL=(t,e)=>e.some(n=>t instanceof n),MT,RT;function DL(){return MT||(MT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TL(){return RT||(RT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PT=new WeakMap,o_=new WeakMap,NT=new WeakMap,i_=new WeakMap,a_=new WeakMap;function SL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(sr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&PT.set(n,t)}).catch(()=>{}),a_.set(e,t),e}function xL(t){if(o_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});o_.set(t,e)}var s_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return o_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OT(t){s_=t(s_)}function AL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ch(this),e,...n);return NT.set(r,e.sort?e.sort():[e]),sr(r)}:TL().includes(t)?function(...e){return t.apply(ch(this),e),sr(PT.get(this))}:function(...e){return sr(t.apply(ch(this),e))}}function ML(t){return typeof t=="function"?AL(t):(t instanceof IDBTransaction&&xL(t),CL(t,DL())?new Proxy(t,s_):t)}function sr(t){if(t instanceof IDBRequest)return SL(t);if(i_.has(t))return i_.get(t);let e=ML(t);return e!==t&&(i_.set(t,e),a_.set(e,t)),e}var ch=t=>a_.get(t);function FT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=sr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(sr(s.result),u.oldVersion,u.newVersion,sr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var RL=["get","getKey","getAll","getAllKeys","count"],PL=["put","add","delete","clear"],c_=new Map;function kT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(c_.get(e))return c_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=PL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RL.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return c_.set(e,o),o}OT(t=>Se(q({},t),{get:(e,n,r)=>kT(e,n)||t.get(e,n,r),has:(e,n)=>!!kT(e,n)||t.has(e,n)}));var l_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function NL(t){let e=t.getComponent();return e?.type==="VERSION"}var d_="@firebase/app",VT="0.10.13";var zr=new Ti("@firebase/app"),OL="@firebase/app-compat",kL="@firebase/analytics-compat",FL="@firebase/analytics",VL="@firebase/app-check-compat",LL="@firebase/app-check",UL="@firebase/auth",jL="@firebase/auth-compat",BL="@firebase/database",$L="@firebase/data-connect",HL="@firebase/database-compat",zL="@firebase/functions",qL="@firebase/functions-compat",GL="@firebase/installations",WL="@firebase/installations-compat",KL="@firebase/messaging",QL="@firebase/messaging-compat",YL="@firebase/performance",JL="@firebase/performance-compat",ZL="@firebase/remote-config",XL="@firebase/remote-config-compat",eU="@firebase/storage",tU="@firebase/storage-compat",nU="@firebase/firestore",rU="@firebase/vertexai-preview",iU="@firebase/firestore-compat",oU="firebase",sU="10.14.1";var h_="[DEFAULT]",aU={[d_]:"fire-core",[OL]:"fire-core-compat",[FL]:"fire-analytics",[kL]:"fire-analytics-compat",[LL]:"fire-app-check",[VL]:"fire-app-check-compat",[UL]:"fire-auth",[jL]:"fire-auth-compat",[BL]:"fire-rtdb",[$L]:"fire-data-connect",[HL]:"fire-rtdb-compat",[zL]:"fire-fn",[qL]:"fire-fn-compat",[GL]:"fire-iid",[WL]:"fire-iid-compat",[KL]:"fire-fcm",[QL]:"fire-fcm-compat",[YL]:"fire-perf",[JL]:"fire-perf-compat",[ZL]:"fire-rc",[XL]:"fire-rc-compat",[eU]:"fire-gcs",[tU]:"fire-gcs-compat",[nU]:"fire-fst",[iU]:"fire-fst-compat",[rU]:"fire-vertex","fire-js":"fire-js",[oU]:"fire-js-all"};var Lc=new Map,cU=new Map,f_=new Map;function LT(t,e){try{t.container.addComponent(e)}catch(n){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ar(t){let e=t.name;if(f_.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;f_.set(e,t);for(let n of Lc.values())LT(n,t);for(let n of cU.values())LT(n,t);return!0}function mo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t.settings!==void 0}var uU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Hr("app","Firebase",uU);var p_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}};var cr=sU;function go(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:h_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Si.create("bad-app-name",{appName:String(i)});if(n||(n=e_()),!n)throw Si.create("no-options");let o=Lc.get(i);if(o){if(fo(n,o.options)&&fo(r,o.config))return o;throw Si.create("duplicate-app",{appName:i})}let s=new ah(i);for(let u of f_.values())s.addComponent(u);let a=new p_(n,r,s);return Lc.set(i,a),a}function xi(t=h_){let e=Lc.get(t);if(!e&&t===h_&&e_())return go();if(!e)throw Si.create("no-app",{appName:t});return e}function uh(){return Array.from(Lc.values())}function Je(t,e,n){var r;let i=(r=aU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(a.join(" "));return}ar(new Xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var lU="firebase-heartbeat-database",dU=1,Uc="firebase-heartbeat-store",u_=null;function $T(){return u_||(u_=FT(lU,dU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),u_}function hU(t){return v(this,null,function*(){try{let n=(yield $T()).transaction(Uc),r=yield n.objectStore(Uc).get(HT(t));return yield n.done,r}catch(e){if(e instanceof qt)zr.warn(e.message);else{let n=Si.create("idb-get",{originalErrorMessage:e?.message});zr.warn(n.message)}}})}function UT(t,e){return v(this,null,function*(){try{let r=(yield $T()).transaction(Uc,"readwrite");yield r.objectStore(Uc).put(e,HT(t)),yield r.done}catch(n){if(n instanceof qt)zr.warn(n.message);else{let r=Si.create("idb-set",{originalErrorMessage:n?.message});zr.warn(r.message)}}})}function HT(t){return`${t.name}!${t.options.appId}`}var fU=1024,pU=30*24*60*60*1e3,m_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new g_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=pU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=jT(),{heartbeatsToSend:r,unsentEntries:i}=mU(this._heartbeatsCache.heartbeats),o=Fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zr.warn(n),""}})}};function jT(){return new Date().toISOString().substring(0,10)}function mU(t,e=fU){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),BT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var g_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return n_()?ST().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield hU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function BT(t){return Fc(JSON.stringify({version:2,heartbeats:t})).length}function gU(t){ar(new Xt("platform-logger",e=>new l_(e),"PRIVATE")),ar(new Xt("heartbeat",e=>new m_(e),"PRIVATE")),Je(d_,VT,t),Je(d_,VT,"esm2017"),Je("fire-js","")}gU("");var yU="firebase",_U="10.14.1";Je(yU,_U,"app");var _o=new Vr("ANGULARFIRE2_VERSION");function dh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var jc=(t,e)=>{let n=e?[e]:uh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Us=class{constructor(){return jc(vU)}},vU="app-check";function Ls(){}var lh=class{zone;delegate;constructor(e,n=$p){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},y_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)),n.pipe(lt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},js=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new lh(Zone.current)),this.insideAngular=n.run(()=>new lh(Zone.current,Bp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ge(xe))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function wU(t){return hh().ngZone.runOutsideAngular(()=>t())}function yo(t){return hh().ngZone.run(()=>t())}function EU(t){return bU(hh())(t)}function bU(t){return function(n){return n=n.lift(new y_(t.ngZone)),n.pipe(li(t.outsideAngular),ui(t.insideAngular))}}var IU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),yo(()=>t.apply(void 0,r))},wt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=yo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls))),r[o]=IU(r[o],n));let i=wU(()=>t.apply(this,r));if(!e)if(i instanceof we){let o=hh();return i.pipe(li(o.outsideAngular),ui(o.insideAngular))}else return yo(()=>i);return i instanceof we?i.pipe(EU):i instanceof Promise?yo(()=>new Promise((o,s)=>i.then(a=>yo(()=>o(a)),a=>yo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:yo(()=>i)};var qr=class{constructor(e){return e}},vo=class{constructor(){return uh()}};function CU(t){return t&&t.length===1?t[0]:new qr(xi())}var __=new oe("angularfire2._apps"),DU={provide:qr,useFactory:CU,deps:[[new Bt,__]]},TU={provide:vo,deps:[[new Bt,__]]};function SU(t){return(e,n)=>{let r=n.get(wi);Je("angularfire",_o.full,"core"),Je("angularfire",_o.full,"app"),Je("angular",sD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new qr(i)}}function zT(t,...e){return Xn([DU,TU,{provide:__,useFactory:SU(t),multi:!0,deps:[xe,$t,js,...e]}])}var qT=wt(go,!0);function cS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var uS=cS,lS=new Hr("auth","Firebase",cS());var _h=new Ti("@firebase/auth");function xU(t,...e){_h.logLevel<=be.WARN&&_h.warn(`Auth (${cr}): ${t}`,...e)}function ph(t,...e){_h.logLevel<=be.ERROR&&_h.error(`Auth (${cr}): ${t}`,...e)}function lr(t,...e){throw j_(t,...e)}function wo(t,...e){return j_(t,...e)}function dS(t,e,n){let r=Object.assign(Object.assign({},uS()),{[e]:n});return new Hr("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return dS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lS.create(t,...e)}function te(t,e,...n){if(!t)throw j_(e,...n)}function Gr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ph(e),new Error(e)}function Mi(t,e){t||Gr(e)}function vh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hS(){return GT()==="http:"||GT()==="https:"}function GT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function AU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hS()||IT()||"connection"in navigator)?navigator.onLine:!0}function MU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Eo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=ET()||CT()}get(){return AU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function B_(t,e){Mi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var wh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var RU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var PU=new Eo(3e4,6e4);function dr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function hr(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return fS(t,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Vc(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let E=Object.assign({method:e,headers:g},l);return bT()||(E.referrerPolicy="no-referrer"),wh.fetch()(pS(t,t.config.apiHost,n,p),E)}))})}function fS(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},RU),e);try{let i=new b_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw fh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw fh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw dS(t,h,l);lr(t,h)}}catch(i){if(i instanceof qt)throw i;lr(t,"network-request-failed",{message:String(i)})}})}function Kc(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield hr(t,e,n,r,i);return"mfaPendingCredential"in l&&lr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function pS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?B_(t.config,i):`${t.config.apiScheme}://${i}`}function NU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var b_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wo(this.auth,"network-request-failed")),PU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function fh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=wo(t,e,r);return i.customData._tokenResponse=n,i}function WT(t){return t!==void 0&&t.enterprise!==void 0}var I_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function OU(t,e){return v(this,null,function*(){return hr(t,"GET","/v2/recaptchaConfig",dr(t,e))})}function kU(t,e){return v(this,null,function*(){return hr(t,"POST","/v1/accounts:delete",e)})}function mS(t,e){return v(this,null,function*(){return hr(t,"POST","/v1/accounts:lookup",e)})}function Bc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $_(t,e=!1){return v(this,null,function*(){let n=Ue(t),r=yield n.getIdToken(e),i=H_(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Bc(v_(i.auth_time)),issuedAtTime:Bc(v_(i.iat)),expirationTime:Bc(v_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function v_(t){return Number(t)*1e3}function H_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{let i=Zy(n);return i?JSON.parse(i):(ph("Failed to decode base64 JWT payload"),null)}catch(i){return ph("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KT(t){let e=H_(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Hc(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof qt&&FU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function FU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var C_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Eh(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Hc(t,mS(n,{idToken:r}));te(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?gS(o.providerUserInfo):[],a=VU(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function z_(t){return v(this,null,function*(){let e=Ue(t);yield Eh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function VU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gS(t){return t.map(e=>{var{providerId:n}=e,r=Hp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function LU(t,e){return v(this,null,function*(){let n=yield fS(t,{},()=>v(this,null,function*(){let r=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=pS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function UU(t,e){return v(this,null,function*(){return hr(t,"POST","/v2/accounts:revokeToken",dr(t,e))})}var $c=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");let n=KT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield LU(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(te(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Gr("not implemented")}};function Ai(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Bs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Hp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new C_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Hc(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return $_(this,e)}reload(){return z_(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Eh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Fn(this.auth.app))return Promise.reject(Kr(this.auth));let e=yield this.getIdToken();return yield Hc(this,kU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=n.photoURL)!==null&&s!==void 0?s:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,F=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,B=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Z=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:ne,isAnonymous:je,providerData:ae,stsTokenManager:S}=n;te(Q&&S,e,"internal-error");let w=$c.fromJSON(this.name,S);te(typeof Q=="string",e,"internal-error"),Ai(p,e.name),Ai(g,e.name),te(typeof ne=="boolean",e,"internal-error"),te(typeof je=="boolean",e,"internal-error"),Ai(E,e.name),Ai(M,e.name),Ai(k,e.name),Ai(F,e.name),Ai(B,e.name),Ai(Z,e.name);let b=new t({uid:Q,auth:e,email:g,emailVerified:ne,displayName:p,isAnonymous:je,photoURL:M,phoneNumber:E,tenantId:k,stsTokenManager:w,createdAt:B,lastLoginAt:Z});return ae&&Array.isArray(ae)&&(b.providerData=ae.map(T=>Object.assign({},T))),F&&(b._redirectEventId=F),b}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new $c;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Eh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];te(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?gS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new $c;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var QT=new Map;function Wr(t){Mi(t instanceof Function,"Expected a class definition");let e=QT.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QT.set(t,e),e)}var jU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),D_=jU;function mh(t,e,n){return`firebase:${t}:${e}:${n}`}var bh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=mh(this.userKey,i.apiKey,o),this.fullPersistenceKey=mh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Bs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(Wr(D_),e,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Wr(D_),s=mh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Bs._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function YT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bS(e))return"Blackberry";if(IS(e))return"Webos";if(_S(e))return"Safari";if((e.includes("chrome/")||vS(e))&&!e.includes("edge/"))return"Chrome";if(ES(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function yS(t=dt()){return/firefox\//i.test(t)}function _S(t=dt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vS(t=dt()){return/crios\//i.test(t)}function wS(t=dt()){return/iemobile/i.test(t)}function ES(t=dt()){return/android/i.test(t)}function bS(t=dt()){return/blackberry/i.test(t)}function IS(t=dt()){return/webos/i.test(t)}function q_(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BU(t=dt()){var e;return q_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $U(){return DT()&&document.documentMode===10}function CS(t=dt()){return q_(t)||ES(t)||IS(t)||bS(t)||/windows phone/i.test(t)||wS(t)}function DS(t,e=[]){let n;switch(t){case"Browser":n=YT(dt());break;case"Worker":n=`${YT(dt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cr}/${r}`}var T_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function HU(n){return v(this,arguments,function*(t,e={}){return hr(t,"GET","/v2/passwordPolicy",dr(t,e))})}var zU=6,S_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:zU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var x_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ih(this),this.idTokenSubscription=new Ih(this),this.beforeStateQueue=new T_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield bh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield mS(this,{idToken:e}),r=yield Bs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Fn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=MU()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Fn(this.app))return Promise.reject(Kr(this));let n=e?Ue(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Fn(this.app)?Promise.reject(Kr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Fn(this.app)?Promise.reject(Kr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Wr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield HU(this),n=new S_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield UU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Wr(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield bh.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Io(t){return Ue(t)}var Ih=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=AT(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mh={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qU(t){Mh=t}function TS(t){return Mh.loadJS(t)}function GU(){return Mh.recaptchaEnterpriseScript}function WU(){return Mh.gapiScript}function SS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var KU="recaptcha-enterprise",QU="NO_RECAPTCHA",A_=class{constructor(e){this.type=KU,this.auth=Io(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){OU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new I_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;WT(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(QU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&WT(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=GU();u.length!==0&&(u+=a),TS(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function JT(t,e,n,r=!1){return v(this,null,function*(){let i=new A_(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function M_(t,e,n,r){return v(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield JT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>v(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield JT(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function G_(t,e){let n=mo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(fo(o,e??{}))return i;lr(i,"already-initialized")}return n.initialize({options:e})}function YU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function W_(t,e,n){let r=Io(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=xS(e),{host:s,port:a}=JU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ZU()}function xS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JU(t){let e=xS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:ZT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:ZT(s)}}}function ZT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function ZU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var qc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}};function XU(t,e){return v(this,null,function*(){return hr(t,"POST","/v1/accounts:signUp",e)})}function ej(t,e){return v(this,null,function*(){return Kc(t,"POST","/v1/accounts:signInWithPassword",dr(t,e))})}function tj(t,e){return v(this,null,function*(){return hr(t,"POST","/v1/accounts:sendOobCode",dr(t,e))})}function nj(t,e){return v(this,null,function*(){return tj(t,e)})}function rj(t,e){return v(this,null,function*(){return Kc(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))})}function ij(t,e){return v(this,null,function*(){return Kc(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))})}var Gc=class t extends qc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M_(e,n,"signInWithPassword",ej);case"emailLink":return rj(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M_(e,r,"signUpPassword",XU);case"emailLink":return ij(e,{idToken:n,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function w_(t,e){return v(this,null,function*(){return Kc(t,"POST","/v1/accounts:signInWithIdp",dr(t,e))})}function oj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sj(t){let e=Fs(Vs(t)).link,n=e?Fs(Vs(e)).deep_link_id:null,r=Fs(Vs(t)).deep_link_id;return(r?Fs(Vs(r)).link:null)||r||n||e||t}var Ch=class t{constructor(e){var n,r,i,o,s,a;let u=Fs(Vs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=oj((i=u.mode)!==null&&i!==void 0?i:null);te(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=sj(e);try{return new t(n)}catch{return null}}};var AS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Gc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Ch.parseLink(r);return te(i,"argument-error"),Gc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Dh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var R_=class extends Dh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function aj(t,e){return v(this,null,function*(){return Kc(t,"POST","/v1/accounts:signUp",dr(t,e))})}var $s=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield Bs._fromIdTokenResponse(e,r,i),s=XT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=XT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function XT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var P_=class t extends qt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function MS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?P_._fromErrorAndOperation(t,o,e,r):o})}function cj(t,e,n=!1){return v(this,null,function*(){let r=yield Hc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return $s._forOperation(t,"link",r)})}function uj(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Fn(r.app))return Promise.reject(Kr(r));let i="reauthenticate";try{let o=yield Hc(t,MS(r,i,e,t),n);te(o.idToken,r,"internal-error");let s=H_(o.idToken);te(s,r,"internal-error");let{sub:a}=s;return te(t.uid===a,r,"user-mismatch"),$s._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&lr(r,"user-mismatch"),o}})}function RS(t,e,n=!1){return v(this,null,function*(){if(Fn(t.app))return Promise.reject(Kr(t));let r="signIn",i=yield MS(t,r,e),o=yield $s._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function K_(t,e){return v(this,null,function*(){return RS(Io(t),e)})}function lj(t,e,n){var r;te(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(te(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(te(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function PS(t){return v(this,null,function*(){let e=Io(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Hs(t,e,n){return v(this,null,function*(){if(Fn(t.app))return Promise.reject(Kr(t));let r=Io(t),s=yield M_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&PS(t),u}),a=yield $s._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Rh(t,e,n){return Fn(t.app)?Promise.reject(Kr(t)):K_(Ue(t),AS.credential(e,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&PS(t),r}))}function dj(t,e){return v(this,null,function*(){return hr(t,"POST","/v1/accounts:createAuthUri",dr(t,e))})}function Ph(t,e){return v(this,null,function*(){let n=hS()?vh():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=yield dj(Ue(t),r);return i||[]})}function zs(t,e){return v(this,null,function*(){let n=Ue(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&lj(n.auth,i,e);let{email:o}=yield nj(n.auth,i);o!==t.email&&(yield t.reload())})}function Qc(t,e,n,r){return Ue(t).onIdTokenChanged(e,n,r)}function Q_(t,e,n){return Ue(t).beforeAuthStateChanged(e,n)}function Co(t,e,n,r){return Ue(t).onAuthStateChanged(e,n,r)}function Nh(t){return Ue(t).signOut()}var Th="__sak";var Sh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var hj=1e3,fj=10,pj=(()=>{class t extends Sh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);$U()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,fj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield si(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield si(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield si(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),NS=pj;var mj=(()=>{class t extends Sh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Y_=mj;function gj(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var yj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield gj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function OS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var N_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=OS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ur(){return window}function _j(t){ur().location.href=t}function kS(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}function vj(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function wj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ej(){return kS()?self:null}var FS="firebaseLocalStorageDb",bj=1,xh="firebaseLocalStorage",VS="fbase_key",bo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Oh(t,e){return t.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function Ij(){let t=indexedDB.deleteDatabase(FS);return new bo(t).toPromise()}function O_(){let t=indexedDB.open(FS,bj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(xh,{keyPath:VS})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(xh)?e(r):(r.close(),yield Ij(),e(yield O_()))}))})}function eS(t,e,n){return v(this,null,function*(){let r=Oh(t,!0).put({[VS]:e,value:n});return new bo(r).toPromise()})}function Cj(t,e){return v(this,null,function*(){let n=Oh(t,!1).get(e),r=yield new bo(n).toPromise();return r===void 0?null:r.value})}function tS(t,e){let n=Oh(t,!0).delete(e);return new bo(n).toPromise()}var Dj=800,Tj=3,Sj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield O_(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Tj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return kS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=yj._getInstance(Ej()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield vj(),!this.activeServiceWorker)return;this.sender=new N_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||wj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield O_();return yield eS(n,Th,"1"),yield tS(n,Th),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>eS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>Cj(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>tS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=Oh(o,!1).getAll();return new bo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),Dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),LS=Sj;var xQ=SS("rcb"),AQ=new Eo(3e4,6e4);function xj(t,e){return e?Wr(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Wc=class extends qc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return w_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return w_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return w_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Aj(t){return RS(t.auth,new Wc(t),t.bypassAuthState)}function Mj(t){let{auth:e,user:n}=t;return te(n,e,"internal-error"),uj(n,new Wc(t),t.bypassAuthState)}function Rj(t){return v(this,null,function*(){let{auth:e,user:n}=t;return te(n,e,"internal-error"),cj(n,new Wc(t),t.bypassAuthState)})}var k_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Aj;case"linkViaPopup":case"linkViaRedirect":return Rj;case"reauthViaPopup":case"reauthViaRedirect":return Mj;default:lr(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var MQ=new Eo(2e3,1e4);var Pj="pendingRedirect",gh=new Map,F_=class t extends k_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=gh.get(this.auth._key());if(!e){try{let r=(yield Nj(this.resolver,this.auth))?yield si(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return si(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,si(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function Nj(t,e){return v(this,null,function*(){let n=Fj(e),r=kj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Oj(t,e){gh.set(t._key(),e)}function kj(t){return Wr(t._redirectPersistence)}function Fj(t){return mh(Pj,t.config.apiKey,t.name)}function Vj(t,e,n=!1){return v(this,null,function*(){if(Fn(t.app))return Promise.reject(Kr(t));let r=Io(t),i=xj(r,e),s=yield new F_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Lj=10*60*1e3,V_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Uj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!US(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lj&&this.cachedEventUids.clear(),this.cachedEventUids.has(nS(e))}saveEventToCache(e){this.cachedEventUids.add(nS(e)),this.lastProcessedEventTime=Date.now()}};function nS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function US({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Uj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return US(t);default:return!1}}function jj(n){return v(this,arguments,function*(t,e={}){return hr(t,"GET","/v1/projects",e)})}var Bj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$j=/^https?/;function Hj(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield jj(t);for(let n of e)try{if(zj(n))return}catch{}lr(t,"unauthorized-domain")})}function zj(t){let e=vh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$j.test(n))return!1;if(Bj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var qj=new Eo(3e4,6e4);function rS(){let t=ur().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Gj(t){return new Promise((e,n)=>{var r,i,o;function s(){rS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rS(),n(wo(t,"network-request-failed"))},timeout:qj.get()})}if(!((i=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ur().gapi)===null||o===void 0)&&o.load)s();else{let a=SS("iframefcb");return ur()[a]=()=>{gapi.load?s():n(wo(t,"network-request-failed"))},TS(`${WU()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw yh=null,e})}var yh=null;function Wj(t){return yh=yh||Gj(t),yh}var Kj=new Eo(5e3,15e3),Qj="__/auth/iframe",Yj="emulator/auth/iframe",Jj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xj(t){let e=t.config;te(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?B_(e,Yj):`https://${t.config.authDomain}/${Qj}`,r={apiKey:e.apiKey,appName:t.name,v:cr},i=Zj.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Vc(r).slice(1)}`}function e3(t){return v(this,null,function*(){let e=yield Wj(t),n=ur().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:Xj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jj,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=wo(t,"network-request-failed"),a=ur().setTimeout(()=>{o(s)},Kj.get());function u(){ur().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var t3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n3=500,r3=600,i3="_blank",o3="http://localhost",Ah=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function s3(t,e,n,r=n3,i=r3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},t3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=dt().toLowerCase();n&&(a=vS(l)?i3:n),yS(l)&&(e=e||o3,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[E,M])=>`${g}${E}=${M},`,"");if(BU(l)&&a!=="_self")return a3(e||"",a),new Ah(null);let p=window.open(e||"",a,h);te(p,t,"popup-blocked");try{p.focus()}catch{}return new Ah(p)}function a3(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var c3="__/auth/handler",u3="emulator/auth/handler",l3=encodeURIComponent("fac");function iS(t,e,n,r,i,o){return v(this,null,function*(){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cr,eventId:i};if(e instanceof Dh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",xT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof R_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${l3}=${encodeURIComponent(u)}`:"";return`${d3(t)}?${Vc(a).slice(1)}${l}`})}function d3({config:t}){return t.emulator?B_(t,u3):`https://${t.authDomain}/${c3}`}var E_="webStorageSupport",L_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y_,this._completeRedirectFn=Vj,this._overrideRedirectResult=Oj}_openPopup(e,n,r,i){return v(this,null,function*(){var o;Mi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield iS(e,n,r,vh(),i);return s3(e,s,OS())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield iS(e,n,r,vh(),i);return _j(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Mi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield e3(e),r=new V_(e);return n.register("authEvent",i=>(te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(E_,{type:E_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[E_];s!==void 0&&n(!!s),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Hj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CS()||_S()||q_()}},jS=L_;var oS="@firebase/auth",sS="1.7.9";var U_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function h3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f3(t){ar(new Xt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DS(t)},l=new x_(r,i,o,u);return YU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ar(new Xt("auth-internal",e=>{let n=Io(e.getProvider("auth").getImmediate());return(r=>new U_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(oS,sS,h3(t)),Je(oS,sS,"esm2017")}var p3=5*60,m3=t_("authIdTokenMaxAge")||p3,aS=null,g3=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>m3)return;let i=n?.token;aS!==i&&(aS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ht(t=xi()){let e=mo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=G_(t,{popupRedirectResolver:jS,persistence:[LS,NS,Y_]}),r=t_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=g3(o.toString());Q_(n,s,()=>s(n.currentUser)),Qc(n,a=>s(a))}}let i=Xy("auth");return i&&W_(n,`http://${i}`),n}function y3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=wo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",y3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f3("Browser");function $S(t){return new we(function(e){var n=Qc(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var HS="auth",Do=class{constructor(e){return e}},Yc=class{constructor(){return jc(HS)}};var J_=new oe("angularfire2.auth-instances");function rB(t,e){let n=dh(HS,t,e);return n&&new Do(n)}function iB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Do(r)}}var oB={provide:Yc,deps:[[new Bt,J_]]},sB={provide:Do,useFactory:rB,deps:[[new Bt,J_],qr]};function zS(t,...e){return Je("angularfire",_o.full,"auth"),Xn([sB,oB,{provide:J_,useFactory:iB(t),multi:!0,deps:[xe,$t,js,vo,[new Bt,Us],...e]}])}var qS=wt($S,!0);var GS=wt(ht,!0);var WS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},KS={};var Ri,Z_;(function(){var t;function e(S,w){function b(){}b.prototype=w.prototype,S.D=w.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(T,x,R){for(var I=Array(arguments.length-2),Sr=2;Sr<arguments.length;Sr++)I[Sr-2]=arguments[Sr];return w.prototype[x].apply(T,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,w,b){b||(b=0);var T=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)T[x]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(x=0;16>x;++x)T[x]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=S.g[0],b=S.g[1],x=S.g[2];var R=S.g[3],I=w+(R^b&(x^R))+T[0]+3614090360&4294967295;w=b+(I<<7&4294967295|I>>>25),I=R+(x^w&(b^x))+T[1]+3905402710&4294967295,R=w+(I<<12&4294967295|I>>>20),I=x+(b^R&(w^b))+T[2]+606105819&4294967295,x=R+(I<<17&4294967295|I>>>15),I=b+(w^x&(R^w))+T[3]+3250441966&4294967295,b=x+(I<<22&4294967295|I>>>10),I=w+(R^b&(x^R))+T[4]+4118548399&4294967295,w=b+(I<<7&4294967295|I>>>25),I=R+(x^w&(b^x))+T[5]+1200080426&4294967295,R=w+(I<<12&4294967295|I>>>20),I=x+(b^R&(w^b))+T[6]+2821735955&4294967295,x=R+(I<<17&4294967295|I>>>15),I=b+(w^x&(R^w))+T[7]+4249261313&4294967295,b=x+(I<<22&4294967295|I>>>10),I=w+(R^b&(x^R))+T[8]+1770035416&4294967295,w=b+(I<<7&4294967295|I>>>25),I=R+(x^w&(b^x))+T[9]+2336552879&4294967295,R=w+(I<<12&4294967295|I>>>20),I=x+(b^R&(w^b))+T[10]+4294925233&4294967295,x=R+(I<<17&4294967295|I>>>15),I=b+(w^x&(R^w))+T[11]+2304563134&4294967295,b=x+(I<<22&4294967295|I>>>10),I=w+(R^b&(x^R))+T[12]+1804603682&4294967295,w=b+(I<<7&4294967295|I>>>25),I=R+(x^w&(b^x))+T[13]+4254626195&4294967295,R=w+(I<<12&4294967295|I>>>20),I=x+(b^R&(w^b))+T[14]+2792965006&4294967295,x=R+(I<<17&4294967295|I>>>15),I=b+(w^x&(R^w))+T[15]+1236535329&4294967295,b=x+(I<<22&4294967295|I>>>10),I=w+(x^R&(b^x))+T[1]+4129170786&4294967295,w=b+(I<<5&4294967295|I>>>27),I=R+(b^x&(w^b))+T[6]+3225465664&4294967295,R=w+(I<<9&4294967295|I>>>23),I=x+(w^b&(R^w))+T[11]+643717713&4294967295,x=R+(I<<14&4294967295|I>>>18),I=b+(R^w&(x^R))+T[0]+3921069994&4294967295,b=x+(I<<20&4294967295|I>>>12),I=w+(x^R&(b^x))+T[5]+3593408605&4294967295,w=b+(I<<5&4294967295|I>>>27),I=R+(b^x&(w^b))+T[10]+38016083&4294967295,R=w+(I<<9&4294967295|I>>>23),I=x+(w^b&(R^w))+T[15]+3634488961&4294967295,x=R+(I<<14&4294967295|I>>>18),I=b+(R^w&(x^R))+T[4]+3889429448&4294967295,b=x+(I<<20&4294967295|I>>>12),I=w+(x^R&(b^x))+T[9]+568446438&4294967295,w=b+(I<<5&4294967295|I>>>27),I=R+(b^x&(w^b))+T[14]+3275163606&4294967295,R=w+(I<<9&4294967295|I>>>23),I=x+(w^b&(R^w))+T[3]+4107603335&4294967295,x=R+(I<<14&4294967295|I>>>18),I=b+(R^w&(x^R))+T[8]+1163531501&4294967295,b=x+(I<<20&4294967295|I>>>12),I=w+(x^R&(b^x))+T[13]+2850285829&4294967295,w=b+(I<<5&4294967295|I>>>27),I=R+(b^x&(w^b))+T[2]+4243563512&4294967295,R=w+(I<<9&4294967295|I>>>23),I=x+(w^b&(R^w))+T[7]+1735328473&4294967295,x=R+(I<<14&4294967295|I>>>18),I=b+(R^w&(x^R))+T[12]+2368359562&4294967295,b=x+(I<<20&4294967295|I>>>12),I=w+(b^x^R)+T[5]+4294588738&4294967295,w=b+(I<<4&4294967295|I>>>28),I=R+(w^b^x)+T[8]+2272392833&4294967295,R=w+(I<<11&4294967295|I>>>21),I=x+(R^w^b)+T[11]+1839030562&4294967295,x=R+(I<<16&4294967295|I>>>16),I=b+(x^R^w)+T[14]+4259657740&4294967295,b=x+(I<<23&4294967295|I>>>9),I=w+(b^x^R)+T[1]+2763975236&4294967295,w=b+(I<<4&4294967295|I>>>28),I=R+(w^b^x)+T[4]+1272893353&4294967295,R=w+(I<<11&4294967295|I>>>21),I=x+(R^w^b)+T[7]+4139469664&4294967295,x=R+(I<<16&4294967295|I>>>16),I=b+(x^R^w)+T[10]+3200236656&4294967295,b=x+(I<<23&4294967295|I>>>9),I=w+(b^x^R)+T[13]+681279174&4294967295,w=b+(I<<4&4294967295|I>>>28),I=R+(w^b^x)+T[0]+3936430074&4294967295,R=w+(I<<11&4294967295|I>>>21),I=x+(R^w^b)+T[3]+3572445317&4294967295,x=R+(I<<16&4294967295|I>>>16),I=b+(x^R^w)+T[6]+76029189&4294967295,b=x+(I<<23&4294967295|I>>>9),I=w+(b^x^R)+T[9]+3654602809&4294967295,w=b+(I<<4&4294967295|I>>>28),I=R+(w^b^x)+T[12]+3873151461&4294967295,R=w+(I<<11&4294967295|I>>>21),I=x+(R^w^b)+T[15]+530742520&4294967295,x=R+(I<<16&4294967295|I>>>16),I=b+(x^R^w)+T[2]+3299628645&4294967295,b=x+(I<<23&4294967295|I>>>9),I=w+(x^(b|~R))+T[0]+4096336452&4294967295,w=b+(I<<6&4294967295|I>>>26),I=R+(b^(w|~x))+T[7]+1126891415&4294967295,R=w+(I<<10&4294967295|I>>>22),I=x+(w^(R|~b))+T[14]+2878612391&4294967295,x=R+(I<<15&4294967295|I>>>17),I=b+(R^(x|~w))+T[5]+4237533241&4294967295,b=x+(I<<21&4294967295|I>>>11),I=w+(x^(b|~R))+T[12]+1700485571&4294967295,w=b+(I<<6&4294967295|I>>>26),I=R+(b^(w|~x))+T[3]+2399980690&4294967295,R=w+(I<<10&4294967295|I>>>22),I=x+(w^(R|~b))+T[10]+4293915773&4294967295,x=R+(I<<15&4294967295|I>>>17),I=b+(R^(x|~w))+T[1]+2240044497&4294967295,b=x+(I<<21&4294967295|I>>>11),I=w+(x^(b|~R))+T[8]+1873313359&4294967295,w=b+(I<<6&4294967295|I>>>26),I=R+(b^(w|~x))+T[15]+4264355552&4294967295,R=w+(I<<10&4294967295|I>>>22),I=x+(w^(R|~b))+T[6]+2734768916&4294967295,x=R+(I<<15&4294967295|I>>>17),I=b+(R^(x|~w))+T[13]+1309151649&4294967295,b=x+(I<<21&4294967295|I>>>11),I=w+(x^(b|~R))+T[4]+4149444226&4294967295,w=b+(I<<6&4294967295|I>>>26),I=R+(b^(w|~x))+T[11]+3174756917&4294967295,R=w+(I<<10&4294967295|I>>>22),I=x+(w^(R|~b))+T[2]+718787259&4294967295,x=R+(I<<15&4294967295|I>>>17),I=b+(R^(x|~w))+T[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var b=w-this.blockSize,T=this.B,x=this.h,R=0;R<w;){if(x==0)for(;R<=b;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<w;)if(T[x++]=S.charCodeAt(R++),x==this.blockSize){i(this,T),x=0;break}}else for(;R<w;)if(T[x++]=S[R++],x==this.blockSize){i(this,T),x=0;break}}this.h=x,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var b=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=b&255,b/=256;for(this.u(S),S=Array(16),w=b=0;4>w;++w)for(var T=0;32>T;T+=8)S[b++]=this.g[w]>>>T&255;return S};function o(S,w){var b=a;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=w(S)}function s(S,w){this.h=w;for(var b=[],T=!0,x=S.length-1;0<=x;x--){var R=S[x]|0;T&&R==w||(b[x]=R,T=!1)}this.g=b}var a={};function u(S){return-128<=S&&128>S?o(S,function(w){return new s([w|0],0>w?-1:0)}):new s([S|0],0>S?-1:0)}function l(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return F(l(-S));for(var w=[],b=1,T=0;S>=b;T++)w[T]=S/b|0,b*=4294967296;return new s(w,0)}function h(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return F(h(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=l(Math.pow(w,8)),T=p,x=0;x<S.length;x+=8){var R=Math.min(8,S.length-x),I=parseInt(S.substring(x,x+R),w);8>R?(R=l(Math.pow(w,R)),T=T.j(R).add(l(I))):(T=T.j(b),T=T.add(l(I)))}return T}var p=u(0),g=u(1),E=u(16777216);t=s.prototype,t.m=function(){if(k(this))return-F(this).m();for(var S=0,w=1,b=0;b<this.g.length;b++){var T=this.i(b);S+=(0<=T?T:4294967296+T)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M(this))return"0";if(k(this))return"-"+F(this).toString(S);for(var w=l(Math.pow(S,6)),b=this,T="";;){var x=ne(b,w).g;b=B(b,x.j(w));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=x,M(b))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function M(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function k(S){return S.h==-1}t.l=function(S){return S=B(this,S),k(S)?-1:M(S)?0:1};function F(S){for(var w=S.g.length,b=[],T=0;T<w;T++)b[T]=~S.g[T];return new s(b,~S.h).add(g)}t.abs=function(){return k(this)?F(this):this},t.add=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],T=0,x=0;x<=w;x++){var R=T+(this.i(x)&65535)+(S.i(x)&65535),I=(R>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);T=I>>>16,R&=65535,I&=65535,b[x]=I<<16|R}return new s(b,b[b.length-1]&-2147483648?-1:0)};function B(S,w){return S.add(F(w))}t.j=function(S){if(M(this)||M(S))return p;if(k(this))return k(S)?F(this).j(F(S)):F(F(this).j(S));if(k(S))return F(this.j(F(S)));if(0>this.l(E)&&0>S.l(E))return l(this.m()*S.m());for(var w=this.g.length+S.g.length,b=[],T=0;T<2*w;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var x=0;x<S.g.length;x++){var R=this.i(T)>>>16,I=this.i(T)&65535,Sr=S.i(x)>>>16,xa=S.i(x)&65535;b[2*T+2*x]+=I*xa,Z(b,2*T+2*x),b[2*T+2*x+1]+=R*xa,Z(b,2*T+2*x+1),b[2*T+2*x+1]+=I*Sr,Z(b,2*T+2*x+1),b[2*T+2*x+2]+=R*Sr,Z(b,2*T+2*x+2)}for(T=0;T<w;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=w;T<2*w;T++)b[T]=0;return new s(b,0)};function Z(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function Q(S,w){this.g=S,this.h=w}function ne(S,w){if(M(w))throw Error("division by zero");if(M(S))return new Q(p,p);if(k(S))return w=ne(F(S),w),new Q(F(w.g),F(w.h));if(k(w))return w=ne(S,F(w)),new Q(F(w.g),w.h);if(30<S.g.length){if(k(S)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var b=g,T=w;0>=T.l(S);)b=je(b),T=je(T);var x=ae(b,1),R=ae(T,1);for(T=ae(T,2),b=ae(b,2);!M(T);){var I=R.add(T);0>=I.l(S)&&(x=x.add(b),R=I),T=ae(T,1),b=ae(b,1)}return w=B(S,x.j(w)),new Q(x,w)}for(x=p;0<=S.l(w);){for(b=Math.max(1,Math.floor(S.m()/w.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=l(b),I=R.j(w);k(I)||0<I.l(S);)b-=T,R=l(b),I=R.j(w);M(R)&&(R=g),x=x.add(R),S=B(S,I)}return new Q(x,S)}t.A=function(S){return ne(this,S).h},t.and=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)&S.i(T);return new s(b,this.h&S.h)},t.or=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)|S.i(T);return new s(b,this.h|S.h)},t.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)^S.i(T);return new s(b,this.h^S.h)};function je(S){for(var w=S.g.length+1,b=[],T=0;T<w;T++)b[T]=S.i(T)<<1|S.i(T-1)>>>31;return new s(b,S.h)}function ae(S,w){var b=w>>5;w%=32;for(var T=S.g.length-b,x=[],R=0;R<T;R++)x[R]=0<w?S.i(R+b)>>>w|S.i(R+b+1)<<32-w:S.i(R+b);return new s(x,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Z_=KS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Ri=KS.Integer=s}).apply(typeof WS<"u"?WS:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qr={};var X_,aB,qs,ev,Jc,Fh,tv,nv,rv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var A=c[m];if(!(A in f))break e;f=f[A]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,A={next:function(){if(!m&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return m=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,m),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function E(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function M(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,A,P){for(var j=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)j[Be-2]=arguments[Be];return d.prototype[A].apply(m,j)}}function k(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function F(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let A=c.length||0,P=m.length||0;c.length=A+P;for(let j=0;j<P;j++)c[A+j]=m[j]}else c.push(m)}}class B{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Z(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var je=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ae(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function S(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function w(c){let d={};for(let f in c)d[f]=c[f];return d}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,m;for(let A=1;A<arguments.length;A++){m=arguments[A];for(f in m)c[f]=m[f];for(let P=0;P<b.length;P++)f=b[P],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function x(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function R(c){a.setTimeout(()=>{throw c},0)}function I(){var c=np;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Sr{constructor(){this.h=this.g=null}add(d,f){let m=xa.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var xa=new B(()=>new iM,c=>c.reset());class iM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Aa,Ma=!1,np=new Sr,Sw=()=>{let c=a.Promise.resolve(void 0);Aa=()=>{c.then(oM)}};var oM=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){R(f)}var d=xa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ma=!1};function ni(){this.s=this.s,this.C=this.C}ni.prototype.s=!1,ni.prototype.ma=function(){this.s||(this.s=!0,this.N())},ni.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function It(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var sM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ra(c,d){if(It.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(je){e:{try{ne(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:aM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ra.aa.h.call(this)}}M(Ra,It);var aM={2:"touch",3:"pen",4:"mouse"};Ra.prototype.h=function(){Ra.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pa="closure_listenable_"+(1e6*Math.random()|0),cM=0;function uM(c,d,f,m,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=A,this.key=++cM,this.da=this.fa=!1}function Lu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Uu(c){this.src=c,this.g={},this.h=0}Uu.prototype.add=function(c,d,f,m,A){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var j=ip(c,d,m,A);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new uM(d,this.src,P,!!m,A),d.fa=f,c.push(d)),d};function rp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],A=Array.prototype.indexOf.call(m,d,void 0),P;(P=0<=A)&&Array.prototype.splice.call(m,A,1),P&&(Lu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ip(c,d,f,m){for(var A=0;A<c.length;++A){var P=c[A];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==m)return A}return-1}var op="closure_lm_"+(1e6*Math.random()|0),sp={};function xw(c,d,f,m,A){if(m&&m.once)return Mw(c,d,f,m,A);if(Array.isArray(d)){for(var P=0;P<d.length;P++)xw(c,d[P],f,m,A);return null}return f=lp(f),c&&c[Pa]?c.K(d,f,l(m)?!!m.capture:!!m,A):Aw(c,d,f,!1,m,A)}function Aw(c,d,f,m,A,P){if(!d)throw Error("Invalid event type");var j=l(A)?!!A.capture:!!A,Be=cp(c);if(Be||(c[op]=Be=new Uu(c)),f=Be.add(d,f,m,j,P),f.proxy)return f;if(m=lM(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)sM||(A=j),A===void 0&&(A=!1),c.addEventListener(d.toString(),m,A);else if(c.attachEvent)c.attachEvent(Pw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function lM(){function c(f){return d.call(c.src,c.listener,f)}let d=dM;return c}function Mw(c,d,f,m,A){if(Array.isArray(d)){for(var P=0;P<d.length;P++)Mw(c,d[P],f,m,A);return null}return f=lp(f),c&&c[Pa]?c.L(d,f,l(m)?!!m.capture:!!m,A):Aw(c,d,f,!0,m,A)}function Rw(c,d,f,m,A){if(Array.isArray(d))for(var P=0;P<d.length;P++)Rw(c,d[P],f,m,A);else m=l(m)?!!m.capture:!!m,f=lp(f),c&&c[Pa]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=ip(P,f,m,A),-1<f&&(Lu(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=cp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ip(d,f,m,A)),(f=-1<c?d[c]:null)&&ap(f))}function ap(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Pa])rp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Pw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=cp(d))?(rp(f,c),f.h==0&&(f.src=null,d[op]=null)):Lu(c)}}}function Pw(c){return c in sp?sp[c]:sp[c]="on"+c}function dM(c,d){if(c.da)c=!0;else{d=new Ra(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&ap(c),c=f.call(m,d)}return c}function cp(c){return c=c[op],c instanceof Uu?c:null}var up="__closure_events_fn_"+(1e9*Math.random()>>>0);function lp(c){return typeof c=="function"?c:(c[up]||(c[up]=function(d){return c.handleEvent(d)}),c[up])}function Ct(){ni.call(this),this.i=new Uu(this),this.M=this,this.F=null}M(Ct,ni),Ct.prototype[Pa]=!0,Ct.prototype.removeEventListener=function(c,d,f,m){Rw(this,c,d,f,m)};function Vt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new It(d,c);else if(d instanceof It)d.target=d.target||c;else{var A=d;d=new It(m,c),T(d,A)}if(A=!0,f)for(var P=f.length-1;0<=P;P--){var j=d.g=f[P];A=ju(j,m,!0,d)&&A}if(j=d.g=c,A=ju(j,m,!0,d)&&A,A=ju(j,m,!1,d)&&A,f)for(P=0;P<f.length;P++)j=d.g=f[P],A=ju(j,m,!1,d)&&A}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Lu(f[m]);delete c.g[d],c.h--}}this.F=null},Ct.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Ct.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function ju(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,P=0;P<d.length;++P){var j=d[P];if(j&&!j.da&&j.capture==f){var Be=j.listener,pt=j.ha||j.src;j.fa&&rp(c.i,j),A=Be.call(pt,m)!==!1&&A}}return A&&!m.defaultPrevented}function Nw(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Ow(c){c.g=Nw(()=>{c.g=null,c.i&&(c.i=!1,Ow(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class hM extends ni{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ow(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Na(c){ni.call(this),this.h=c,this.g={}}M(Na,ni);var kw=[];function Fw(c){ae(c.g,function(d,f){this.g.hasOwnProperty(f)&&ap(d)},c),c.g={}}Na.prototype.N=function(){Na.aa.N.call(this),Fw(this)},Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dp=a.JSON.stringify,fM=a.JSON.parse,pM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function hp(){}hp.prototype.h=null;function Vw(c){return c.h||(c.h=c.i())}function Lw(){}var Oa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fp(){It.call(this,"d")}M(fp,It);function pp(){It.call(this,"c")}M(pp,It);var Ui={},Uw=null;function Bu(){return Uw=Uw||new Ct}Ui.La="serverreachability";function jw(c){It.call(this,Ui.La,c)}M(jw,It);function ka(c){let d=Bu();Vt(d,new jw(d))}Ui.STAT_EVENT="statevent";function Bw(c,d){It.call(this,Ui.STAT_EVENT,c),this.stat=d}M(Bw,It);function Lt(c){let d=Bu();Vt(d,new Bw(d,c))}Ui.Ma="timingevent";function $w(c,d){It.call(this,Ui.Ma,c),this.size=d}M($w,It);function Fa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Va(){this.g=!0}Va.prototype.xa=function(){this.g=!1};function mM(c,d,f,m,A,P){c.info(function(){if(c.g)if(P)for(var j="",Be=P.split("&"),pt=0;pt<Be.length;pt++){var Re=Be[pt].split("=");if(1<Re.length){var Dt=Re[0];Re=Re[1];var Tt=Dt.split("_");j=2<=Tt.length&&Tt[1]=="type"?j+(Dt+"="+Re+"&"):j+(Dt+"=redacted&")}}else j=null;else j=P;return"XMLHTTP REQ ("+m+") [attempt "+A+"]: "+d+`
`+f+`
`+j})}function gM(c,d,f,m,A,P,j){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+A+"]: "+d+`
`+f+`
`+P+" "+j})}function Ho(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+_M(c,f)+(m?" "+m:"")})}function yM(c,d){c.info(function(){return"TIMEOUT: "+d})}Va.prototype.info=function(){};function _M(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var A=m[1];if(Array.isArray(A)&&!(1>A.length)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(var j=1;j<A.length;j++)A[j]=""}}}}return dp(f)}catch{return d}}var $u={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mp;function Hu(){}M(Hu,hp),Hu.prototype.g=function(){return new XMLHttpRequest},Hu.prototype.i=function(){return{}},mp=new Hu;function ri(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zw}function zw(){this.i=null,this.g="",this.h=!1}var qw={},gp={};function yp(c,d,f){c.L=1,c.v=Wu(xr(d)),c.m=f,c.P=!0,Gw(c,null)}function Gw(c,d){c.F=Date.now(),zu(c),c.A=xr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),sE(f.i,"t",m),c.C=0,f=c.j.J,c.h=new zw,c.g=CE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new hM(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(kw[0]=A.toString()),A=kw);for(var P=0;P<A.length;P++){var j=xw(f,A[P],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ka(),mM(c.i,c.u,c.A,c.l,c.R,c.m)}ri.prototype.ca=function(c){c=c.target;let d=this.M;d&&Ar(c)==3?d.j():this.Y(c)},ri.prototype.Y=function(c){try{if(c==this.g)e:{let Tt=Ar(this.g);var d=this.g.Ba();let Go=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||fE(this.g)))){this.J||Tt!=4||d==7||(d==8||0>=Go?ka(3):ka(2)),_p(this);var f=this.g.Z();this.X=f;t:if(Ww(this)){var m=fE(this.g);c="";var A=m.length,P=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ji(this),La(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(P&&d==A-1)});m.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,gM(this.i,this.u,this.A,this.l,this.R,Tt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,pt=this.g;if((Be=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Be)){var Re=Be;break t}}Re=null}if(f=Re)Ho(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vp(this,f);else{this.o=!1,this.s=3,Lt(12),ji(this),La(this);break e}}if(this.P){f=!0;let Dn;for(;!this.J&&this.C<j.length;)if(Dn=vM(this,j),Dn==gp){Tt==4&&(this.s=4,Lt(14),f=!1),Ho(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==qw){this.s=4,Lt(15),Ho(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Ho(this.i,this.l,Dn,null),vp(this,Dn);if(Ww(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||j.length!=0||this.h.h||(this.s=1,Lt(16),f=!1),this.o=this.o&&f,!f)Ho(this.i,this.l,j,"[Invalid Chunked Response]"),ji(this),La(this);else if(0<j.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Dp(Dt),Dt.M=!0,Lt(11))}}else Ho(this.i,this.l,j,null),vp(this,j);Tt==4&&ji(this),this.o&&!this.J&&(Tt==4?wE(this.j,this):(this.o=!1,zu(this)))}else FM(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),ji(this),La(this)}}}catch{}finally{}};function Ww(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?gp:(f=Number(d.substring(f,m)),isNaN(f)?qw:(m+=1,m+f>d.length?gp:(d=d.slice(m,m+f),c.C=m+f,d)))}ri.prototype.cancel=function(){this.J=!0,ji(this)};function zu(c){c.S=Date.now()+c.I,Kw(c,c.I)}function Kw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fa(g(c.ba,c),d)}function _p(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ri.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(yM(this.i,this.A),this.L!=2&&(ka(),Lt(17)),ji(this),this.s=2,La(this)):Kw(this,this.S-c)};function La(c){c.j.G==0||c.J||wE(c.j,c)}function ji(c){_p(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Fw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function vp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||wp(f.h,c))){if(!c.K&&wp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var A=m;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Zu(f),Yu(f);else break e;Cp(f),Lt(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=Fa(g(f.Za,f),6e3));if(1>=Jw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else $i(f,11)}else if((c.K||f.g==c)&&Zu(f),!Z(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Re=A[d];if(f.T=Re[0],Re=Re[1],f.G==2)if(Re[0]=="c"){f.K=Re[1],f.ia=Re[2];let Dt=Re[3];Dt!=null&&(f.la=Dt,f.j.info("VER="+f.la));let Tt=Re[4];Tt!=null&&(f.Aa=Tt,f.j.info("SVER="+f.Aa));let Go=Re[5];Go!=null&&typeof Go=="number"&&0<Go&&(m=1.5*Go,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Dn=c.g;if(Dn){let el=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(el){var P=m.h;P.g||el.indexOf("spdy")==-1&&el.indexOf("quic")==-1&&el.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Ep(P,P.h),P.h=null))}if(m.D){let Tp=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tp&&(m.ya=Tp,ze(m.I,m.D,Tp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var j=c;if(m.qa=IE(m,m.J?m.ia:null,m.W),j.K){Zw(m.h,j);var Be=j,pt=m.L;pt&&(Be.I=pt),Be.B&&(_p(Be),zu(Be)),m.g=j}else _E(m);0<f.i.length&&Ju(f)}else Re[0]!="stop"&&Re[0]!="close"||$i(f,7);else f.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?$i(f,7):Ip(f):Re[0]!="noop"&&f.l&&f.l.ta(Re),f.v=0)}}ka(4)}catch{}}var wM=class{constructor(c,d){this.g=c,this.map=d}};function Qw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Jw(c){return c.h?1:c.g?c.g.size:0}function wp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ep(c,d){c.g?c.g.add(d):c.h=d}function Zw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Qw.prototype.cancel=function(){if(this.i=Xw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Xw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return k(c.i)}function EM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function bM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function eE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=bM(c),m=EM(c),A=m.length,P=0;P<A;P++)d.call(void 0,m[P],f&&f[P],c)}var tE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),A=null;if(0<=m){var P=c[f].substring(0,m);A=c[f].substring(m+1)}else P=c[f];d(P,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Bi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Bi){this.h=c.h,qu(this,c.j),this.o=c.o,this.g=c.g,Gu(this,c.s),this.l=c.l;var d=c.i,f=new Ba;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),nE(this,f),this.m=c.m}else c&&(d=String(c).match(tE))?(this.h=!1,qu(this,d[1]||"",!0),this.o=Ua(d[2]||""),this.g=Ua(d[3]||"",!0),Gu(this,d[4]),this.l=Ua(d[5]||"",!0),nE(this,d[6]||"",!0),this.m=Ua(d[7]||"")):(this.h=!1,this.i=new Ba(null,this.h))}Bi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ja(d,rE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ja(d,rE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ja(f,f.charAt(0)=="/"?TM:DM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ja(f,xM)),c.join("")};function xr(c){return new Bi(c)}function qu(c,d,f){c.j=f?Ua(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Gu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function nE(c,d,f){d instanceof Ba?(c.i=d,AM(c.i,c.h)):(f||(d=ja(d,SM)),c.i=new Ba(d,c.h))}function ze(c,d,f){c.i.set(d,f)}function Wu(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ua(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ja(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,CM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function CM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var rE=/[#\/\?@]/g,DM=/[#\?:]/g,TM=/[#\?]/g,SM=/[#\?@]/g,xM=/#/g;function Ba(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ii(c){c.g||(c.g=new Map,c.h=0,c.i&&IM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ba.prototype,t.add=function(c,d){ii(this),this.i=null,c=zo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function iE(c,d){ii(c),d=zo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function oE(c,d){return ii(c),d=zo(c,d),c.g.has(d)}t.forEach=function(c,d){ii(this),this.g.forEach(function(f,m){f.forEach(function(A){c.call(d,A,m,this)},this)},this)},t.na=function(){ii(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let A=c[m];for(let P=0;P<A.length;P++)f.push(d[m])}return f},t.V=function(c){ii(this);let d=[];if(typeof c=="string")oE(this,c)&&(d=d.concat(this.g.get(zo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ii(this),this.i=null,c=zo(this,c),oE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function sE(c,d,f){iE(c,d),0<f.length&&(c.i=null,c.g.set(zo(c,d),k(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let P=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var A=P;j[m]!==""&&(A+="="+encodeURIComponent(String(j[m]))),c.push(A)}}return this.i=c.join("&")};function zo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function AM(c,d){d&&!c.j&&(ii(c),c.i=null,c.g.forEach(function(f,m){var A=m.toLowerCase();m!=A&&(iE(this,m),sE(this,A,f))},c)),c.j=d}function MM(c,d){let f=new Va;if(a.Image){let m=new Image;m.onload=E(oi,f,"TestLoadImage: loaded",!0,d,m),m.onerror=E(oi,f,"TestLoadImage: error",!1,d,m),m.onabort=E(oi,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=E(oi,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function RM(c,d){let f=new Va,m=new AbortController,A=setTimeout(()=>{m.abort(),oi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(P=>{clearTimeout(A),P.ok?oi(f,"TestPingServer: ok",!0,d):oi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),oi(f,"TestPingServer: error",!1,d)})}function oi(c,d,f,m,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),m(f)}catch{}}function PM(){this.g=new pM}function NM(c,d,f){let m=f||"";try{eE(c,function(A,P){let j=A;l(A)&&(j=dp(A)),d.push(m+P+"="+encodeURIComponent(j))})}catch(A){throw d.push(m+"type="+encodeURIComponent("_badmap")),A}}function $a(c){this.l=c.Ub||null,this.j=c.eb||!1}M($a,hp),$a.prototype.g=function(){return new Ku(this.l,this.j)},$a.prototype.i=function(c){return function(){return c}}({});function Ku(c,d){Ct.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ku,Ct),t=Ku.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,za(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;aE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function aE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ha(this):za(this),this.readyState==3&&aE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ha(this))},t.Qa=function(c){this.g&&(this.response=c,Ha(this))},t.ga=function(){this.g&&Ha(this)};function Ha(c){c.readyState=4,c.l=null,c.j=null,c.v=null,za(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function za(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ku.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cE(c){let d="";return ae(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function bp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=cE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ze(c,d,f))}function Ke(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ke,Ct);var OM=/^https?$/i,kM=["POST","PUT"];t=Ke.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mp.g(),this.v=this.o?Vw(this.o):Vw(mp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){uE(this,P);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var A in m)f.set(A,m[A]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let P of m.keys())f.set(P,m.get(P));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kM,d,void 0))||m||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,j]of f)this.g.setRequestHeader(P,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hE(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){uE(this,P)}};function uE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,lE(c),Qu(c)}function lE(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Vt(this,"complete"),Vt(this,"abort"),Qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qu(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dE(this):this.bb())},t.bb=function(){dE(this)};function dE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Ar(c)!=4||c.Z()!=2)){if(c.u&&Ar(c)==4)Nw(c.Ea,0,c);else if(Vt(c,"readystatechange"),Ar(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=j===0){var A=String(c.D).match(tE)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),m=!OM.test(A?A.toLowerCase():"")}f=m}if(f)Vt(c,"complete"),Vt(c,"success");else{c.m=6;try{var P=2<Ar(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",lE(c)}}finally{Qu(c)}}}}function Qu(c,d){if(c.g){hE(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Vt(c,"ready");try{f.onreadystatechange=m}catch{}}}function hE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ar(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),fM(d)}};function fE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function FM(c){let d={};c=(c.g&&2<=Ar(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(Z(c[m]))continue;var f=x(c[m]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[A]||[];d[A]=P,P.push(f)}S(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function pE(c){this.Aa=0,this.i=[],this.j=new Va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,c),this.cb=qa("retryDelaySeedMs",1e4,c),this.Wa=qa("forwardChannelMaxRetries",2,c),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qw(c&&c.concurrentRequestLimit),this.Da=new PM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Lt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=IE(this,null,this.W),Ju(this)};function Ip(c){if(mE(c),c.G==3){var d=c.U++,f=xr(c.I);if(ze(f,"SID",c.K),ze(f,"RID",d),ze(f,"TYPE","terminate"),Ga(c,f),d=new ri(c,c.j,d),d.L=2,d.v=Wu(xr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=CE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),zu(d)}bE(c)}function Yu(c){c.g&&(Dp(c),c.g.cancel(),c.g=null)}function mE(c){Yu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Zu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ju(c){if(!Yw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Aa||Sw(),Ma||(Aa(),Ma=!0),np.add(d,c),c.B=0}}function VM(c,d){return Jw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fa(g(c.Ga,c,d),EE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new ri(this,this.j,c),P=this.o;if(this.S&&(P?(P=w(P),T(P,this.S)):P=this.S),this.m!==null||this.O||(A.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=yE(this,A,d),f=xr(this.I),ze(f,"RID",c),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),Ga(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(cE(P)))+"&"+d:this.m&&bp(f,this.m,P)),Ep(this.h,A),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",d),ze(f,"SID","null"),A.T=!0,yp(A,f,null)):yp(A,f,d),this.G=2}}else this.G==3&&(c?gE(this,c):this.i.length==0||Yw(this.h)||gE(this))};function gE(c,d){var f;d?f=d.l:f=c.U++;let m=xr(c.I);ze(m,"SID",c.K),ze(m,"RID",f),ze(m,"AID",c.T),Ga(c,m),c.m&&c.o&&bp(m,c.m,c.o),f=new ri(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=yE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ep(c.h,f),yp(f,m,d)}function Ga(c,d){c.H&&ae(c.H,function(f,m){ze(d,m,f)}),c.l&&eE({},function(f,m){ze(d,m,f)})}function yE(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var A=c.i;let P=-1;for(;;){let j=["count="+f];P==-1?0<f?(P=A[0].g,j.push("ofs="+P)):P=0:j.push("ofs="+P);let Be=!0;for(let pt=0;pt<f;pt++){let Re=A[pt].g,Dt=A[pt].map;if(Re-=P,0>Re)P=Math.max(0,A[pt].g-100),Be=!1;else try{NM(Dt,j,"req"+Re+"_")}catch{m&&m(Dt)}}if(Be){m=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function _E(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Aa||Sw(),Ma||(Aa(),Ma=!0),np.add(d,c),c.v=0}}function Cp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fa(g(c.Fa,c),EE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,vE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fa(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Yu(this),vE(this))};function Dp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function vE(c){c.g=new ri(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=xr(c.qa);ze(d,"RID","rpc"),ze(d,"SID",c.K),ze(d,"AID",c.T),ze(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(d,"TO",c.ja),ze(d,"TYPE","xmlhttp"),Ga(c,d),c.m&&c.o&&bp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Wu(xr(d)),f.m=null,f.P=!0,Gw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Yu(this),Cp(this),Lt(19))};function Zu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function wE(c,d){var f=null;if(c.g==d){Zu(c),Dp(c),c.g=null;var m=2}else if(wp(c.h,d))f=d.D,Zw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;m=Bu(),Vt(m,new $w(m,f)),Ju(c)}else _E(c);else if(A=d.s,A==3||A==0&&0<d.X||!(m==1&&VM(c,d)||m==2&&Cp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:$i(c,5);break;case 4:$i(c,10);break;case 3:$i(c,6);break;default:$i(c,2)}}}function EE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function $i(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let A=!m;m=new Bi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qu(m,"https"),Wu(m),A?MM(m.toString(),f):RM(m.toString(),f)}else Lt(2);c.G=0,c.l&&c.l.sa(d),bE(c),mE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function bE(c){if(c.G=0,c.ka=[],c.l){let d=Xw(c.h);(d.length!=0||c.i.length!=0)&&(F(c.ka,d),F(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function IE(c,d,f){var m=f instanceof Bi?xr(f):new Bi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Gu(m,m.s);else{var A=a.location;m=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var P=new Bi(null);m&&qu(P,m),d&&(P.g=d),A&&Gu(P,A),f&&(P.l=f),m=P}return f=c.D,d=c.ya,f&&d&&ze(m,f,d),ze(m,"VER",c.la),Ga(c,m),m}function CE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ke(new $a({eb:f})):new Ke(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function DE(){}t=DE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xu(){}Xu.prototype.g=function(c,d){return new rn(c,d)};function rn(c,d){Ct.call(this),this.g=new pE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new qo(this)}M(rn,Ct),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ip(this.g)},rn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=dp(c),c=f);d.i.push(new wM(d.Ya++,c)),d.G==3&&Ju(d)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ip(this.g),delete this.g,rn.aa.N.call(this)};function TE(c){fp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}M(TE,fp);function SE(){pp.call(this),this.status=1}M(SE,pp);function qo(c){this.g=c}M(qo,DE),qo.prototype.ua=function(){Vt(this.g,"a")},qo.prototype.ta=function(c){Vt(this.g,new TE(c))},qo.prototype.sa=function(c){Vt(this.g,new SE)},qo.prototype.ra=function(){Vt(this.g,"b")},Xu.prototype.createWebChannel=Xu.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,rv=Qr.createWebChannelTransport=function(){return new Xu},nv=Qr.getStatEventTarget=function(){return Bu()},tv=Qr.Event=Ui,Fh=Qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$u.NO_ERROR=0,$u.TIMEOUT=8,$u.HTTP_ERROR=6,Jc=Qr.ErrorCode=$u,Hw.COMPLETE="complete",ev=Qr.EventType=Hw,Lw.EventType=Oa,Oa.OPEN="a",Oa.CLOSE="b",Oa.ERROR="c",Oa.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,qs=Qr.WebChannel=Lw,aB=Qr.FetchXmlHttpFactory=$a,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,X_=Qr.XhrIo=Ke}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});var QS="@firebase/firestore";var ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");var da="10.14.0";var Ao=new Ti("@firebase/firestore");function Zc(){return Ao.logLevel}function K(t,...e){if(Ao.logLevel<=be.DEBUG){let n=e.map(U0);Ao.debug(`Firestore (${da}): ${t}`,...n)}}function Yr(t,...e){if(Ao.logLevel<=be.ERROR){let n=e.map(U0);Ao.error(`Firestore (${da}): ${t}`,...n)}}function Zs(t,...e){if(Ao.logLevel<=be.WARN){let n=e.map(U0);Ao.warn(`Firestore (${da}): ${t}`,...n)}}function U0(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function se(t="Unexpected state"){let e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function Le(t,e){t||se()}function ue(t,e){return t}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Vn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Bh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},cv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}},uv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},lv=class{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new Bh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new ft(e)}},dv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},hv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},fv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},pv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Le(this.o===void 0);let r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new fv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function cB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var $h=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=cB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ne(t,e){return t<e?-1:t>e?1:0}function Xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Et=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var de=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Et(0,0))}static max(){return new t(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},We=class t extends Hh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},uB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hn=class t extends Hh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return uB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new W(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ee=class t{constructor(e){this.path=e}static fromPath(e){return new t(We.fromString(e))}static fromName(e){return new t(We.fromString(e).popFirst(5))}static empty(){return new t(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new We(e.slice()))}};var mv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};mv.UNKNOWN_ID=-1;function lB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new Mo(i,ee.empty(),e)}function dB(t){return new Mo(t.readTime,t.key,-1)}var Mo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(de.min(),ee.empty(),-1)}static max(){return new t(de.max(),ee.empty(),-1)}};function hB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}var fB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function wu(t){return v(this,null,function*(){if(t.code!==V.FAILED_PRECONDITION||t.message!==fB)throw t;K("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function pB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eu(t){return t.name==="IndexedDbTransactionError"}var Mx=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function wf(t){return t==null}function iu(t){return t===0&&1/t==-1/0}function mB(t){return typeof t=="number"&&Number.isInteger(t)&&!iu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],PY=[...gB,"documentOverlays"],yB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_B=yB,vB=[..._B,"indexConfiguration","indexState","indexEntries"];var NY=[...vB,"globals"];function YS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ze=class t{constructor(e,n){this.comparator=e,this.root=n||pr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qs(this.root,e,this.comparator,!0)}},Qs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();let e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}};pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1;pr.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new pr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Nt=class t{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zh(this.data.getIterator())}getIteratorFrom(e){return new zh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},zh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var In=class t{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Nt(hn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var qh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var kt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};kt.EMPTY_BYTE_STRING=new kt("");var wB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(Le(!!t),typeof t=="string"){let e=0,n=wB.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ni(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}function j0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function B0(t){let e=t.mapValue.fields.__previous_value__;return j0(e)?B0(e):e}function ou(t){let e=Jr(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}var yv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Gh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Vh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j0(t)?4:Nx(t)?9007199254740991:Px(t)?10:11:se()}function _r(t,e){if(t===e)return!0;let n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ou(t).isEqual(ou(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Jr(i.timestampValue),a=Jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ni(i.bytesValue).isEqual(Ni(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ge(i.geoPointValue.latitude)===Ge(o.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ge(i.integerValue)===Ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ge(i.doubleValue),a=Ge(o.doubleValue);return s===a?iu(s)===iu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Xs(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(YS(s)!==YS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!_r(s[u],a[u])))return!1;return!0}(t,e);default:return se()}}function su(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function ea(t,e){if(t===e)return 0;let n=Ro(t),r=Ro(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ge(o.integerValue||o.doubleValue),u=Ge(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return JS(t.timestampValue,e.timestampValue);case 4:return JS(ou(t),ou(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ni(o),u=Ni(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ne(a[l],u[l]);if(h!==0)return h}return Ne(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ne(Ge(o.latitude),Ge(s.latitude));return a!==0?a:Ne(Ge(o.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ZS(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},E=(a=p.value)===null||a===void 0?void 0:a.arrayValue,M=(u=g.value)===null||u===void 0?void 0:u.arrayValue,k=Ne(((l=E?.values)===null||l===void 0?void 0:l.length)||0,((h=M?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:ZS(E,M)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Vh.mapValue&&s===Vh.mapValue)return 0;if(o===Vh.mapValue)return 1;if(s===Vh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Ne(u[p],h[p]);if(g!==0)return g;let E=ea(a[u[p]],l[h[p]]);if(E!==0)return E}return Ne(u.length,h.length)}(t.mapValue,e.mapValue);default:throw se()}}function JS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);let n=Jr(t),r=Jr(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function ZS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ea(n[i],r[i]);if(o)return o}return Ne(n.length,r.length)}function ta(t){return _v(t)}function _v(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=_v(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${_v(n.fields[s])}`;return i+"}"}(t.mapValue):se()}function XS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vv(t){return!!t&&"integerValue"in t}function $0(t){return!!t&&"arrayValue"in t}function ex(t){return!!t&&"nullValue"in t}function tx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uh(t){return!!t&&"mapValue"in t}function Px(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function eu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=eu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Nx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var dn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=hn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=eu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(eu(this.value))}};function Ox(t){let e=[];return Vo(t.fields,(n,r)=>{let i=new hn([n]);if(Uh(r)){let o=Ox(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new In(e)}var Ln=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,de.min(),de.min(),de.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,de.min(),de.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,de.min(),de.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var na=class{constructor(e,n){this.position=e,this.inclusive=n}};function nx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=ea(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function rx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}var ra=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function EB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Wh=class{},ct=class t extends Wh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ev(e,n,r):n==="array-contains"?new Cv(e,r):n==="in"?new Dv(e,r):n==="not-in"?new Tv(e,r):n==="array-contains-any"?new Sv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bv(e,r):new Iv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ea(n,this.value)):n!==null&&Ro(this.value)===Ro(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Un=class t extends Wh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return kx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function kx(t){return t.op==="and"}function Fx(t){return bB(t)&&kx(t)}function bB(t){for(let e of t.filters)if(e instanceof Un)return!1;return!0}function wv(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+ta(t.value);if(Fx(t))return t.filters.map(e=>wv(e)).join(",");{let e=t.filters.map(n=>wv(n)).join(",");return`${t.op}(${e})`}}function Vx(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&_r(r.value,i.value)}(t,e):t instanceof Un?function(r,i){return i instanceof Un&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Vx(s,i.filters[a]),!0):!1}(t,e):void se()}function Lx(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${ta(n.value)}`}(t):t instanceof Un?function(n){return n.op.toString()+" {"+n.getFilters().map(Lx).join(" ,")+"}"}(t):"Filter"}var Ev=class extends ct{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){let n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}},bv=class extends ct{constructor(e,n){super(e,"in",n),this.keys=Ux("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Iv=class extends ct{constructor(e,n){super(e,"not-in",n),this.keys=Ux("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Ux(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}var Cv=class extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return $0(n)&&su(n.arrayValue,this.value)}},Dv=class extends ct{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}},Tv=class extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!su(this.value.arrayValue,n)}},Sv=class extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!$0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>su(this.value.arrayValue,r))}};var xv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function ix(t,e=null,n=[],r=[],i=null,o=null,s=null){return new xv(t,e,n,r,i,o,s)}function H0(t){let e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),wf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ta(r)).join(",")),e.ue=n}return e.ue}function z0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Vx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rx(t.startAt,e.startAt)&&rx(t.endAt,e.endAt)}function Av(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Po=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function IB(t,e,n,r,i,o,s,a){return new Po(t,e,n,r,i,o,s,a)}function Ef(t){return new Po(t)}function ox(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jx(t){return t.collectionGroup!==null}function tu(t){let e=ue(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Nt(hn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ra(o,r))}),n.has(hn.keyField().canonicalString())||e.ce.push(new ra(hn.keyField(),r))}return e.ce}function mr(t){let e=ue(t);return e.le||(e.le=CB(e,tu(t))),e.le}function CB(t,e){if(t.limitType==="F")return ix(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ra(i.field,o)});let n=t.endAt?new na(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new na(t.startAt.position,t.startAt.inclusive):null;return ix(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mv(t,e){let n=t.filters.concat([e]);return new Po(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rv(t,e,n){return new Po(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bf(t,e){return z0(mr(t),mr(e))&&t.limitType===e.limitType}function Bx(t){return`${H0(mr(t))}|lt:${t.limitType}`}function Gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Lx(i)).join(", ")}]`),wf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ta(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ta(i)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function If(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of tu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=nx(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,tu(r),i)||r.endAt&&!function(s,a,u){let l=nx(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,tu(r),i))}(t,e)}function DB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $x(t){return(e,n)=>{let r=!1;for(let i of tu(t)){let o=TB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function TB(t,e,n){let r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ea(u,l):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}var Oi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Rx(this.inner)}size(){return this.innerSize}};var SB=new Ze(ee.comparator);function Zr(){return SB}var Hx=new Ze(ee.comparator);function Xc(...t){let e=Hx;for(let n of t)e=e.insert(n.key,n);return e}function zx(t){let e=Hx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function To(){return nu()}function qx(){return nu()}function nu(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}var xB=new Ze(ee.comparator),AB=new Nt(ee.comparator);function Ie(...t){let e=AB;for(let n of t)e=e.add(n);return e}var MB=new Nt(Ne);function RB(){return MB}function q0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iu(e)?"-0":e}}function Gx(t){return{integerValue:""+t}}function PB(t,e){return mB(e)?Gx(e):q0(t,e)}var ia=class{constructor(){this._=void 0}};function NB(t,e,n){return t instanceof oa?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&j0(o)&&(o=B0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof No?Kx(t,e):t instanceof Oo?Qx(t,e):function(i,o){let s=Wx(i,o),a=sx(s)+sx(i.Pe);return vv(s)&&vv(i.Pe)?Gx(a):q0(i.serializer,a)}(t,e)}function OB(t,e,n){return t instanceof No?Kx(t,e):t instanceof Oo?Qx(t,e):n}function Wx(t,e){return t instanceof sa?function(r){return vv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var oa=class extends ia{},No=class extends ia{constructor(e){super(),this.elements=e}};function Kx(t,e){let n=Yx(e);for(let r of t.elements)n.some(i=>_r(i,r))||n.push(r);return{arrayValue:{values:n}}}var Oo=class extends ia{constructor(e){super(),this.elements=e}};function Qx(t,e){let n=Yx(e);for(let r of t.elements)n=n.filter(i=>!_r(i,r));return{arrayValue:{values:n}}}var sa=class extends ia{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function sx(t){return Ge(t.integerValue||t.doubleValue)}function Yx(t){return $0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof No&&i instanceof No||r instanceof Oo&&i instanceof Oo?Xs(r.elements,i.elements,_r):r instanceof sa&&i instanceof sa?_r(r.Pe,i.Pe):r instanceof oa&&i instanceof oa}(t.transform,e.transform)}var Pv=class{constructor(e,n){this.version=e,this.transformResults=n}},gr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function jh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var aa=class{};function Jx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new au(t.key,gr.none()):new ko(t.key,t.data,gr.none());{let n=t.data,r=dn.empty(),i=new Nt(hn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new vr(t.key,r,new In(i.toArray()),gr.none())}}function FB(t,e,n){t instanceof ko?function(i,o,s){let a=i.value.clone(),u=cx(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vr?function(i,o,s){if(!jh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=cx(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Zx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ru(t,e,n,r){return t instanceof ko?function(o,s,a,u){if(!jh(o.precondition,s))return a;let l=o.value.clone(),h=ux(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof vr?function(o,s,a,u){if(!jh(o.precondition,s))return a;let l=ux(o.fieldTransforms,u,s),h=s.data;return h.setAll(Zx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return jh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function VB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=Wx(r.transform,i||null);o!=null&&(n===null&&(n=dn.empty()),n.set(r.field,o))}return n||null}function ax(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xs(r,i,(o,s)=>kB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ko=class extends aa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},vr=class extends aa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Zx(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function cx(t,e,n){let r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,OB(s,a,n[i]))}return r}function ux(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,NB(o,s,e))}return r}var au=class extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Nv=class extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ov=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&FB(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ru(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ru(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=qx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=Jx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(n,r)=>ax(n,r))&&Xs(this.baseMutations,e.baseMutations,(n,r)=>ax(n,r))}},kv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=function(){return xB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Fv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Vv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var st,Te;function LB(t){switch(t){default:return se();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function Xx(t){if(t===void 0)return Yr("GRPC error has no .code"),V.UNKNOWN;switch(t){case st.OK:return V.OK;case st.CANCELLED:return V.CANCELLED;case st.UNKNOWN:return V.UNKNOWN;case st.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case st.INTERNAL:return V.INTERNAL;case st.UNAVAILABLE:return V.UNAVAILABLE;case st.UNAUTHENTICATED:return V.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case st.NOT_FOUND:return V.NOT_FOUND;case st.ALREADY_EXISTS:return V.ALREADY_EXISTS;case st.PERMISSION_DENIED:return V.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case st.ABORTED:return V.ABORTED;case st.OUT_OF_RANGE:return V.OUT_OF_RANGE;case st.UNIMPLEMENTED:return V.UNIMPLEMENTED;case st.DATA_LOSS:return V.DATA_LOSS;default:return se()}}(Te=st||(st={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var lx=null;function UB(){return new TextEncoder}var jB=new Ri([4294967295,4294967295],0);function dx(t){let e=UB().encode(t),n=new Z_;return n.update(e),new Uint8Array(n.digest())}function hx(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ri([n,r],0),new Ri([i,o],0)]}var Lv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new So(`Invalid padding: ${n}`);if(r<0)throw new So(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new So(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ri.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ri.fromNumber(r)));return i.compare(jB)===1&&(i=new Ri([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=dx(e),[r,i]=hx(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=dx(e),[r,i]=hx(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},So=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Kh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(de.min(),i,new Ze(Ne),Zr(),Ie())}},cu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Ie(),Ie(),Ie())}};var Ys=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Qh=class{constructor(e,n){this.targetId=e,this.me=n}},Yh=class{constructor(e,n,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Jh=class{constructor(){this.fe=0,this.ge=px(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new cu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=px()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Uv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zr(),this.qe=fx(),this.Qe=new Ze(Ne)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Av(o))if(r===0){let s=new ee(o.path);this.Ue(n,s,Ln.newNoDocument(s,de.min()))}else Le(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}lx?.et(function(h,p,g,E,M){var k,F,B,Z,Q,ne;let je={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ae=p.unchangedNames;return ae&&(je.bloomFilter={applied:M===0,hashCount:(k=ae?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(Z=(B=(F=ae?.bits)===null||F===void 0?void 0:F.bitmap)===null||B===void 0?void 0:B.length)!==null&&Z!==void 0?Z:0,padding:(ne=(Q=ae?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&ne!==void 0?ne:0,mightContain:S=>{var w;return(w=E?.mightContain(S))!==null&&w!==void 0&&w}}),je}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Ni(r).toUint8Array()}catch(u){if(u instanceof qh)return Zs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Lv(s,i,o)}catch(u){return Zs(u instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Av(a.target)){let u=new ee(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Ln.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ie();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Kh(e,n,this.Qe,this.ke,r);return this.ke=Zr(),this.qe=fx(),this.Qe=new Ze(Ne),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Jh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nt(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Jh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function fx(){return new Ze(ee.comparator)}function px(){return new Ze(ee.comparator)}var BB={asc:"ASCENDING",desc:"DESCENDING"},$B={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HB={and:"AND",or:"OR"},jv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Bv(t,e){return t.useProto3Json||wf(e)?e:{value:e}}function Zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zB(t,e){return Zh(t,e.toTimestamp())}function yr(t){return Le(!!t),de.fromTimestamp(function(n){let r=Jr(n);return new Et(r.seconds,r.nanos)}(t))}function G0(t,e){return $v(t,e).canonicalString()}function $v(t,e){let n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tA(t){let e=We.fromString(t);return Le(sA(e)),e}function Hv(t,e){return G0(t.databaseId,e.path)}function iv(t,e){let n=tA(e);if(n.get(1)!==t.databaseId.projectId)throw new W(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(rA(n))}function nA(t,e){return G0(t.databaseId,e)}function qB(t){let e=tA(t);return e.length===4?We.emptyPath():rA(e)}function zv(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rA(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function mx(t,e,n){return{name:Hv(t,e),fields:n.value.mapValue.fields}}function GB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Le(h===void 0||typeof h=="string"),kt.fromBase64String(h||"")):(Le(h===void 0||h instanceof Buffer||h instanceof Uint8Array),kt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?V.UNKNOWN:Xx(l.code);return new W(h,l.message||"")}(s);n=new Yh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=iv(t,r.document.name),o=yr(r.document.updateTime),s=r.document.createTime?yr(r.document.createTime):de.min(),a=new dn({mapValue:{fields:r.document.fields}}),u=Ln.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ys(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=iv(t,r.document),o=r.readTime?yr(r.readTime):de.min(),s=Ln.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ys([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=iv(t,r.document),o=r.removedTargetIds||[];n=new Ys([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Vv(i,o),a=r.targetId;n=new Qh(a,s)}}return n}function WB(t,e){let n;if(e instanceof ko)n={update:mx(t,e.key,e.value)};else if(e instanceof au)n={delete:Hv(t,e.key)};else if(e instanceof vr)n={update:mx(t,e.key,e.data),updateMask:n4(e.fieldMask)};else{if(!(e instanceof Nv))return se();n={verify:Hv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof oa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof No)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sa)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:zB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function KB(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?yr(i.updateTime):yr(o);return s.isEqual(de.min())&&(s=yr(o)),new Pv(s,i.transformResults||[])}(n,e))):[]}function QB(t,e){return{documents:[nA(t,e.path)]}}function YB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nA(t,i);let o=function(l){if(l.length!==0)return oA(Un.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Ws(g.field),direction:XB(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Bv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function JB(t){let e=qB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Le(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=iA(p);return g instanceof Un&&Fx(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(M){return new ra(Ks(M.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,wf(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,E=p.values||[];return new na(E,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,E=p.values||[];return new na(E,g)}(n.endAt)),IB(e,i,s,o,a,"F",u,l)}function ZB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ks(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ks(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ks(n.unaryFilter.field);return ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ks(n.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Ks(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Un.create(n.compositeFilter.filters.map(r=>iA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function XB(t){return BB[t]}function e4(t){return $B[t]}function t4(t){return HB[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function Ks(t){return hn.fromServerFormat(t.fieldPath)}function oA(t){return t instanceof ct?function(n){if(n.op==="=="){if(tx(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NAN"}};if(ex(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tx(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NAN"}};if(ex(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(n.field),op:e4(n.op),value:n.value}}}(t):t instanceof Un?function(n){let r=n.getFilters().map(i=>oA(i));return r.length===1?r[0]:{compositeFilter:{op:t4(n.op),filters:r}}}(t):se()}function n4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var uu=class t{constructor(e,n,r,i,o=de.min(),s=de.min(),a=kt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var qv=class{constructor(e){this.ct=e}};function r4(t){let e=JB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rv(e,e.limit,"L"):e}var Xh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ge(e.integerValue));else if("doubleValue"in e){let r=Ge(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),iu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Jr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ni(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Nx(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Px(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):se()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ge(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ee.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Xh.vt=new Xh;var Gv=class{constructor(){this.un=new Wv}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Mo.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},Wv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(We.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(We.comparator)).toArray()}};var kY=new Uint8Array(0);var fr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(41943040,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);var lu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Kv=class{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Qv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Yv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ru(r.mutation,i,In.empty(),Et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){let i=To();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Xc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=To();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Zr(),s=nu(),a=function(){return nu()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof vr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ru(h.mutation,l,h.mutation.getFieldMask(),Et.now())):s.set(l.key,In.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Qv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=nu(),i=new Ze((s,a)=>s-a),o=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||In.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ie()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=qx();h.forEach(g=>{if(!o.has(g)){let E=Jx(n.get(g),r.get(g));E!==null&&p.set(g,E),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(To()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ie())).next(h=>({batchId:a,changes:zx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Xc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Xc();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,g){return new Po(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Ln.newInvalidDocument(h)))});let a=Xc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ru(h.mutation,l,In.empty(),Et.now()),If(n,l)&&(a=a.insert(u,l))}),a})}};var Jv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:r4(i.bundledQuery),readTime:yr(i.readTime)}}(n)),L.resolve()}};var Zv=class{constructor(){this.overlays=new Ze(ee.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=To();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=To(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ze((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=To(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=To(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Fv(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ie(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Xv=class{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var du=class{constructor(){this.Tr=new Nt(at.Er),this.dr=new Nt(at.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new at(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new at(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ee(new We([])),r=new at(n,e),i=new at(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ee(new We([])),r=new at(n,e),i=new at(n,e+1),o=Ie();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new at(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},at=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||Ne(e.wr,n.wr)}static Ar(e,n){return Ne(e.wr,n.wr)||ee.comparator(e.key,n.key)}};var e0=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Nt(at.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ov(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new at(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(Ne);return n.forEach(i=>{let o=new at(i,0),s=new at(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ee.isDocumentKey(o)||(o=o.child(""));let s=new at(new ee(o),0),a=new Nt(Ne);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let o=new at(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new at(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var t0=class{constructor(e){this.Mr=e,this.docs=function(){return new Ze(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ln.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zr(),s=n.path,a=new ee(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||hB(dB(h),r)<=0||(i.has(h.key)||If(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new n0(this)}getSize(e){return L.resolve(this.size)}},n0=class extends Kv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var r0=class{constructor(e){this.persistence=e,this.Nr=new Oi(n=>H0(n),z0),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new du,this.targetCount=0,this.kr=lu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new lu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var i0=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Mx(0),this.Kr=!1,this.Kr=!0,this.$r=new Xv,this.referenceDelegate=e(this),this.Ur=new r0(this),this.indexManager=new Gv,this.remoteDocumentCache=function(i){return new t0(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new qv(n),this.Gr=new Jv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new e0(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);let i=new o0(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},o0=class extends gv{constructor(e){super(),this.currentSequenceNumber=e}},s0=class t{constructor(e){this.persistence=e,this.Jr=new du,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=ee.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var a0=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ie(),i=Ie();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var c0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var u0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return TT()?8:pB(dt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new c0;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Zc()<=be.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Zc()<=be.DEBUG&&K("QueryEngine","Query:",Gs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Zc()<=be.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):L.resolve())}Yi(e,n){if(ox(n))return L.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rv(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ie(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Rv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return ox(n)||i.isEqual(de.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?L.resolve(null):(Zc()<=be.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gs(n)),this.rs(e,s,n,lB(i,-1)).next(a=>a))})}ts(e,n){let r=new Nt($x(e));return n.forEach((i,o)=>{If(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Zc()<=be.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var l0=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ze(Ne),this._s=new Oi(o=>H0(o),z0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function i4(t,e,n,r){return new l0(t,e,n,r)}function aA(t,e){return v(this,null,function*(){let n=ue(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ie();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function o4(t,e){let n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),E=L.resolve();return g.forEach(M=>{E=E.next(()=>h.getEntry(u,M)).next(k=>{let F=l.docVersions.get(M);Le(F!==null),k.version.compareTo(F)<0&&(p.applyToRemoteDocument(k,l),k.isValidDocument()&&(k.setReadTime(l.commitVersion),h.addEntry(k)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ie();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cA(t){let e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function s4(t,e){let n=ue(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let E=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(kt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(p,E),function(k,F,B){return k.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(g,E,h)&&a.push(n.Ur.updateTargetData(o,E))});let u=Zr(),l=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(a4(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(de.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function a4(t,e,n){let r=Ie(),i=Ie();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Zr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function c4(t,e){let n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u4(t,e){let n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new uu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function d0(t,e,n){return v(this,null,function*(){let r=ue(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Eu(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function gx(t,e,n){let r=ue(t),i=de.min(),o=Ie();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ue(u),g=p._s.get(h);return g!==void 0?L.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,mr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:de.min(),n?o:Ie())).next(a=>(l4(r,DB(e),a),{documents:a,Ts:o})))}function l4(t,e,n){let r=t.us.get(e)||de.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var ef=class{constructor(){this.activeTargetIds=RB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var h0=class{constructor(){this.so=new ef,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ef,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var f0=class{_o(e){}shutdown(){}};var tf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Lh=null;function ov(){return Lh===null?Lh=function(){return 268435456+Math.round(2147483648*Math.random())}():Lh++,"0x"+Lh.toString(16)}var d4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var p0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Pt="WebChannelConnection",m0=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=ov(),u=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(K("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Zs("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=d4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=ov();return new Promise((s,a)=>{let u=new X_;u.setWithCredentials(!0),u.listenOnce(ev.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Jc.NO_ERROR:let h=u.getResponseJson();K(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Jc.TIMEOUT:K(Pt,`RPC '${e}' ${o} timed out`),a(new W(V.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:let p=u.getStatus();if(K(Pt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let E=g?.error;if(E&&E.status&&E.message){let M=function(F){let B=F.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(B)>=0?B:V.UNKNOWN}(E.status);a(new W(M,E.message))}else a(new W(V.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(V.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{K(Pt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);K(Pt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=ov(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rv(),a=nv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");K(Pt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,E=!1,M=new p0({Io:F=>{E?K(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(g||(K(Pt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),K(Pt,`RPC '${e}' stream ${i} sending:`,F),p.send(F))},To:()=>p.close()}),k=(F,B,Z)=>{F.listen(B,Q=>{try{Z(Q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return k(p,qs.EventType.OPEN,()=>{E||(K(Pt,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),k(p,qs.EventType.CLOSE,()=>{E||(E=!0,K(Pt,`RPC '${e}' stream ${i} transport closed`),M.So())}),k(p,qs.EventType.ERROR,F=>{E||(E=!0,Zs(Pt,`RPC '${e}' stream ${i} transport errored:`,F),M.So(new W(V.UNAVAILABLE,"The operation could not be completed")))}),k(p,qs.EventType.MESSAGE,F=>{var B;if(!E){let Z=F.data[0];Le(!!Z);let Q=Z,ne=Q.error||((B=Q[0])===null||B===void 0?void 0:B.error);if(ne){K(Pt,`RPC '${e}' stream ${i} received error:`,ne);let je=ne.status,ae=function(b){let T=st[b];if(T!==void 0)return Xx(T)}(je),S=ne.message;ae===void 0&&(ae=V.INTERNAL,S="Unknown error status: "+je+" with message "+ne.message),E=!0,M.So(new W(ae,S)),p.close()}else K(Pt,`RPC '${e}' stream ${i} received:`,Z),M.bo(Z)}}),k(a,tv.STAT_EVENT,F=>{F.stat===Fh.PROXY?K(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===Fh.NOPROXY&&K(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function sv(){return typeof document<"u"?document:null}function Cf(t){return new jv(t,!0)}var nf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var rf=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nf(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return v(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return v(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return v(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new W(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>v(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},g0=class extends rf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=GB(this.serializer,e),r=function(o){if(!("targetChange"in o))return de.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?yr(s.readTime):de.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=zv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Av(u)?{documents:QB(o,u)}:{query:YB(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=eA(o,s.resumeToken);let l=Bv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(de.min())>0){a.readTime=Zh(o,s.snapshotVersion.toTimestamp());let l=Bv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=ZB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=zv(this.serializer),n.removeTarget=e,this.a_(n)}},y0=class extends rf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=KB(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=zv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>WB(this.serializer,r))};this.a_(n)}};var _0=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,$v(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(V.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,$v(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(V.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},v0=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yr(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var w0=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Lo(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=ue(u);l.L_.add(4),yield bu(l),l.q_.set("Unknown"),l.L_.delete(4),yield Df(l)})}(this))}))}),this.q_=new v0(r,i)}};function Df(t){return v(this,null,function*(){if(Lo(t))for(let e of t.B_)yield e(!0)})}function bu(t){return v(this,null,function*(){for(let e of t.B_)yield e(!1)})}function uA(t,e){let n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Y0(n)?Q0(n):ha(n).r_()&&K0(n,e))}function W0(t,e){let n=ue(t),r=ha(n);n.N_.delete(e),r.r_()&&lA(n,e),n.N_.size===0&&(r.r_()?r.o_():Lo(n)&&n.q_.set("Unknown"))}function K0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ha(t).A_(e)}function lA(t,e){t.Q_.xe(e),ha(t).R_(e)}function Q0(t){t.Q_=new Uv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ha(t).start(),t.q_.v_()}function Y0(t){return Lo(t)&&!ha(t).n_()&&t.N_.size>0}function Lo(t){return ue(t).L_.size===0}function dA(t){t.Q_=void 0}function h4(t){return v(this,null,function*(){t.q_.set("Online")})}function f4(t){return v(this,null,function*(){t.N_.forEach((e,n)=>{K0(t,e)})})}function p4(t,e){return v(this,null,function*(){dA(t),Y0(t)?(t.q_.M_(e),Q0(t)):t.q_.set("Unknown")})}function m4(t,e,n){return v(this,null,function*(){if(t.q_.set("Online"),e instanceof Yh&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield of(t,r)}else if(e instanceof Ys?t.Q_.Ke(e):e instanceof Qh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{let r=yield cA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(kt.EMPTY_BYTE_STRING,h.snapshotVersion)),lA(o,u);let p=new uu(h.target,u,l,h.sequenceNumber);K0(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield of(t,r)}})}function of(t,e,n){return v(this,null,function*(){if(!Eu(e))throw e;t.L_.add(1),yield bu(t),t.q_.set("Offline"),n||(n=()=>cA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Df(t)}))})}function hA(t,e){return e().catch(n=>of(t,n,e))}function Tf(t){return v(this,null,function*(){let e=ue(t),n=ki(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;g4(e);)try{let i=yield c4(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,y4(e,i)}catch(i){yield of(e,i)}fA(e)&&pA(e)})}function g4(t){return Lo(t)&&t.O_.length<10}function y4(t,e){t.O_.push(e);let n=ki(t);n.r_()&&n.V_&&n.m_(e.mutations)}function fA(t){return Lo(t)&&!ki(t).n_()&&t.O_.length>0}function pA(t){ki(t).start()}function _4(t){return v(this,null,function*(){ki(t).p_()})}function v4(t){return v(this,null,function*(){let e=ki(t);for(let n of t.O_)e.m_(n.mutations)})}function w4(t,e,n){return v(this,null,function*(){let r=t.O_.shift(),i=kv.from(r,e,n);yield hA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Tf(t)})}function E4(t,e){return v(this,null,function*(){e&&ki(t).V_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return LB(s)&&s!==V.ABORTED}(i.code)){let o=r.O_.shift();ki(r).s_(),yield hA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Tf(r)}})}(t,e)),fA(t)&&pA(t)})}function yx(t,e){return v(this,null,function*(){let n=ue(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=Lo(n);n.L_.add(3),yield bu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Df(n)})}function b4(t,e){return v(this,null,function*(){let n=ue(t);e?(n.L_.delete(2),yield Df(n)):e||(n.L_.add(2),yield bu(n),n.q_.set("Unknown"))})}function ha(t){return t.K_||(t.K_=function(n,r,i){let o=ue(n);return o.w_(),new g0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:h4.bind(null,t),Ro:f4.bind(null,t),mo:p4.bind(null,t),d_:m4.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.K_.s_(),Y0(t)?Q0(t):t.q_.set("Unknown")):(yield t.K_.stop(),dA(t))}))),t.K_}function ki(t){return t.U_||(t.U_=function(n,r,i){let o=ue(n);return o.w_(),new y0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_4.bind(null,t),mo:E4.bind(null,t),f_:v4.bind(null,t),g_:w4.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.U_.s_(),yield Tf(t)):(yield t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var E0=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function J0(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),Eu(t))return new W(V.UNAVAILABLE,`${e}: ${t}`);throw t}var sf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Xc(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var af=class{constructor(){this.W_=new Ze(ee.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ca=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,sf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var b0=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},I0=class{constructor(){this.queries=_x(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ue(n),o=i.queries;i.queries=_x(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new W(V.ABORTED,"Firestore shutting down"))}};function _x(){return new Oi(t=>Bx(t),bf)}function Z0(t,e){return v(this,null,function*(){let n=ue(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new b0,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=J0(s,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&ew(n)})}function X0(t,e){return v(this,null,function*(){let n=ue(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function I4(t,e){let n=ue(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&ew(n)}function C4(t,e,n){let r=ue(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function ew(t){t.Y_.forEach(e=>{e.next()})}var C0,vx;(vx=C0||(C0={})).ea="default",vx.Cache="cache";var hu=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==C0.Cache}};var cf=class{constructor(e){this.key=e}},uf=class{constructor(e){this.key=e}},D0=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=$x(e),this.Ra=new sf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new af,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),E=If(this.query,p)?p:null,M=!!g&&this.mutatedKeys.has(g.key),k=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),F=!1;g&&E?g.data.isEqual(E.data)?M!==k&&(r.track({type:3,doc:E}),F=!0):this.ga(g,E)||(r.track({type:2,doc:E}),F=!0,(u&&this.Aa(E,u)>0||l&&this.Aa(E,l)<0)&&(a=!0)):!g&&E?(r.track({type:0,doc:E}),F=!0):g&&!E&&(r.track({type:1,doc:g}),F=!0,(u||l)&&(a=!0)),F&&(E?(s=s.add(E),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(E,M){let k=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return k(E)-k(M)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new ca(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new af,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new uf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new cf(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ca.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},T0=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},S0=class{constructor(e){this.key=e,this.va=!1}},x0=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Oi(a=>Bx(a),bf),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(ee.comparator),this.Na=new Map,this.La=new du,this.Ba={},this.ka=new Map,this.qa=lu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function D4(t,e,n=!0){return v(this,null,function*(){let r=wA(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield mA(r,e,n,!0),i})}function T4(t,e){return v(this,null,function*(){let n=wA(t);yield mA(n,e,!0,!1)})}function mA(t,e,n,r){return v(this,null,function*(){let i=yield u4(t.localStore,mr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield S4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&uA(t.remoteStore,i),a})}function S4(t,e,n,r,i){return v(this,null,function*(){t.Ka=(p,g,E)=>function(k,F,B,Z){return v(this,null,function*(){let Q=F.view.ma(B);Q.ns&&(Q=yield gx(k.localStore,F.query,!1).then(({documents:S})=>F.view.ma(S,Q)));let ne=Z&&Z.targetChanges.get(F.targetId),je=Z&&Z.targetMismatches.get(F.targetId)!=null,ae=F.view.applyChanges(Q,k.isPrimaryClient,ne,je);return Ex(k,F.targetId,ae.wa),ae.snapshot})}(t,p,g,E);let o=yield gx(t.localStore,e,!0),s=new D0(e,o.Ts),a=s.ma(o.documents),u=cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);Ex(t,n,l.wa);let h=new T0(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function x4(t,e,n){return v(this,null,function*(){let r=ue(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!bf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield d0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&W0(r.remoteStore,i.targetId),A0(r,i.targetId)}).catch(wu))):(A0(r,i.targetId),yield d0(r.localStore,i.targetId,!0))})}function A4(t,e){return v(this,null,function*(){let n=ue(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),W0(n.remoteStore,r.targetId))})}function M4(t,e,n){return v(this,null,function*(){let r=V4(t);try{let i=yield function(s,a){let u=ue(s),l=Et.now(),h=a.reduce((E,M)=>E.add(M.key),Ie()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let M=Zr(),k=Ie();return u.cs.getEntries(E,h).next(F=>{M=F,M.forEach((B,Z)=>{Z.isValidDocument()||(k=k.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,M)).next(F=>{p=F;let B=[];for(let Z of a){let Q=VB(Z,p.get(Z.key).overlayedDocument);Q!=null&&B.push(new vr(Z.key,Q,Ox(Q.value.mapValue),gr.exists(!0)))}return u.mutationQueue.addMutationBatch(E,l,B,a)}).next(F=>{g=F;let B=F.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(E,F.batchId,B)})}).then(()=>({batchId:g.batchId,changes:zx(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ze(Ne)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Iu(r,i.changes),yield Tf(r.remoteStore)}catch(i){let o=J0(i,"Failed to persist write");n.reject(o)}})}function gA(t,e){return v(this,null,function*(){let n=ue(t);try{let r=yield s4(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Le(s.va):i.removedDocuments.size>0&&(Le(s.va),s.va=!1))}),yield Iu(n,r,e)}catch(r){yield wu(r)}})}function wx(t,e,n){let r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ue(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&ew(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function R4(t,e,n){return v(this,null,function*(){let r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ze(ee.comparator);s=s.insert(o,Ln.newNoDocument(o,de.min()));let a=Ie().add(o),u=new Kh(de.min(),new Map,new Ze(Ne),s,a);yield gA(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),tw(r)}else yield d0(r.localStore,e,!1).then(()=>A0(r,e,n)).catch(wu)})}function P4(t,e){return v(this,null,function*(){let n=ue(t),r=e.batch.batchId;try{let i=yield o4(n.localStore,e);_A(n,r,null),yA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Iu(n,i)}catch(i){yield wu(i)}})}function N4(t,e,n){return v(this,null,function*(){let r=ue(t);try{let i=yield function(s,a){let u=ue(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Le(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);_A(r,e,n),yA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Iu(r,i)}catch(i){yield wu(i)}})}function yA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function _A(t,e,n){let r=ue(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function A0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vA(t,r)})}function vA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(W0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),tw(t))}function Ex(t,e,n){for(let r of n)r instanceof cf?(t.La.addReference(r.key,e),O4(t,r)):r instanceof uf?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vA(t,r.key)):se()}function O4(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),tw(t))}function tw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ee(We.fromString(e)),r=t.qa.next();t.Na.set(r,new S0(n)),t.Oa=t.Oa.insert(n,r),uA(t.remoteStore,new uu(mr(Ef(n.path)),r,"TargetPurposeLimboResolution",Mx.oe))}}function Iu(t,e,n){return v(this,null,function*(){let r=ue(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=a0.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return v(this,null,function*(){let h=ue(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.$i,E=>h.persistence.referenceDelegate.addReference(p,g.targetId,E)).next(()=>L.forEach(g.Ui,E=>h.persistence.referenceDelegate.removeReference(p,g.targetId,E)))))}catch(p){if(!Eu(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let E=h.os.get(g),M=E.snapshotVersion,k=E.withLastLimboFreeSnapshotVersion(M);h.os=h.os.insert(g,k)}}})}(r.localStore,o))})}function k4(t,e){return v(this,null,function*(){let n=ue(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield aA(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new W(V.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Iu(n,r.hs)}})}function F4(t,e){let n=ue(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let i=Ie(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function wA(t){let e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R4.bind(null,e),e.Ca.d_=I4.bind(null,e.eventManager),e.Ca.$a=C4.bind(null,e.eventManager),e}function V4(t){let e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N4.bind(null,e),e}var bx=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=Cf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return i4(this.persistence,new u0,n.initialUser,this.serializer)}Ga(n){return new i0(s0.Zr,this.serializer)}Wa(n){return new h0}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var L4=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=k4.bind(null,this.syncEngine),yield b4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new I0}()}createDatastore(n){let r=Cf(n.databaseInfo.databaseId),i=function(s){return new m0(s)}(n.databaseInfo);return function(s,a,u,l){return new _0(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new w0(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>wx(this.syncEngine,r,0),function(){return tf.D()?new tf:new f0}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new x0(o,s,a,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=ue(o);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield bu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var fu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var M0=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=$h.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=J0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function av(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield aA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Ix(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield U4(t);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yx(e.remoteStore,i)),t._onlineComponents=e})}function U4(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield av(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),yield av(t,new bx)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield av(t,new bx);return t._offlineComponents})}function EA(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ix(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield Ix(t,new L4))),t._onlineComponents})}function j4(t){return EA(t).then(e=>e.syncEngine)}function lf(t){return v(this,null,function*(){let e=yield EA(t),n=e.eventManager;return n.onListen=D4.bind(null,e.syncEngine),n.onUnlisten=x4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A4.bind(null,e.syncEngine),n})}function B4(t,e,n={}){let r=new Vn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new fu({next:g=>{h.Za(),s.enqueueAndForget(()=>X0(o,p));let E=g.docs.has(a);!E&&g.fromCache?l.reject(new W(V.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&u&&u.source==="server"?l.reject(new W(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new hu(Ef(a.path),h,{includeMetadataChanges:!0,_a:!0});return Z0(o,p)}(yield lf(t),t.asyncQueue,e,n,r)})),r.promise}function $4(t,e,n={}){let r=new Vn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new fu({next:g=>{h.Za(),s.enqueueAndForget(()=>X0(o,p)),g.fromCache&&u.source==="server"?l.reject(new W(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new hu(a,h,{includeMetadataChanges:!0,_a:!0});return Z0(o,p)}(yield lf(t),t.asyncQueue,e,n,r)})),r.promise}function bA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Cx=new Map;function IA(t,e,n){if(!n)throw new W(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H4(t,e,n,r){if(e===!0&&r===!0)throw new W(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dx(t){if(!ee.isDocumentKey(t))throw new W(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tx(t){if(ee.isDocumentKey(t))throw new W(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function en(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Sf(t);throw new W(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var df=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ua=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new df({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new df(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cv;switch(r.type){case"firstParty":return new hv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Cx.get(n);r&&(K("ComponentProvider","Removing Datastore"),Cx.delete(n),r.terminate())}(this),Promise.resolve()}};function CA(t,e,n,r={}){var i;let o=(t=en(t,ua))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ft.MOCK_USER;else{a=sh(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new W(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ft(l)}t._authCredentials=new uv(new Bh(a,u))}}var Fo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ot=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Pi=class t extends Fo{constructor(e,n,r){super(e,n,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ee(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function fa(t,e,...n){if(t=Ue(t),IA("collection","path",e),t instanceof ua){let r=We.fromString(e,...n);return Tx(r),new Pi(t,null,r)}{if(!(t instanceof Ot||t instanceof Pi))throw new W(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(We.fromString(e,...n));return Tx(r),new Pi(t.firestore,null,r)}}function Ft(t,e,...n){if(t=Ue(t),arguments.length===1&&(e=$h.newId()),IA("doc","path",e),t instanceof ua){let r=We.fromString(e,...n);return Dx(r),new Ot(t,null,new ee(r))}{if(!(t instanceof Ot||t instanceof Pi))throw new W(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(We.fromString(e,...n));return Dx(r),new Ot(t.firestore,t instanceof Pi?t.converter:null,new ee(r))}}var hf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new nf(this,"async_queue_retry"),this.Vu=()=>{let r=sv();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=sv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Vn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return v(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Eu(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Yr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=E0.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}wu(){return v(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function Sx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var jn=class extends ua{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new hf(e),this._firestoreClient=void 0,yield e}})}};function fn(t,e){let n=typeof t=="object"?t:xi(),r=typeof t=="string"?t:e||"(default)",i=mo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=oh("firestore");o&&CA(i,...o)}return i}function xf(t){if(t._terminated)throw new W(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||z4(t),t._firestoreClient}function z4(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new yv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new M0(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var pu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(kt.fromBase64String(e))}catch(n){throw new W(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var la=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var mu=class{constructor(e){this._methodName=e}};var gu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}};var yu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var q4=/^__.*__$/,R0=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ko(e,this.data,n,this.fieldTransforms)}},ff=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function DA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}var P0=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(DA(this.Cu)&&q4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},N0=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cf(e)}Qu(e,n,r,i=!1){return new P0({Cu:e,methodName:n,qu:r,path:hn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Af(t){let e=t._freezeSettings(),n=Cf(t._databaseId);return new N0(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TA(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);nw("Data must be an object, but it was:",s,r);let a=SA(r,s),u,l;if(o.merge)u=new In(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=O0(e,p,n);if(!s.contains(g))throw new W(V.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);AA(h,g)||h.push(g)}u=new In(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new R0(new dn(a),u,l)}var pf=class t extends mu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function G4(t,e,n,r){let i=t.Qu(1,e,n);nw("Data must be an object, but it was:",i,r);let o=[],s=dn.empty();Vo(r,(u,l)=>{let h=rw(e,u,n);l=Ue(l);let p=i.Nu(h);if(l instanceof pf)o.push(h);else{let g=Cu(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new In(o);return new ff(s,a,i.fieldTransforms)}function W4(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[O0(e,r,n)],u=[i];if(o.length%2!=0)throw new W(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(O0(e,o[g])),u.push(o[g+1]);let l=[],h=dn.empty();for(let g=a.length-1;g>=0;--g)if(!AA(l,a[g])){let E=a[g],M=u[g];M=Ue(M);let k=s.Nu(E);if(M instanceof pf)l.push(E);else{let F=Cu(M,k);F!=null&&(l.push(E),h.set(E,F))}}let p=new In(l);return new ff(h,p,s.fieldTransforms)}function K4(t,e,n,r=!1){return Cu(n,t.Qu(r?4:3,e))}function Cu(t,e){if(xA(t=Ue(t)))return nw("Unsupported field value:",e,t),SA(t,e);if(t instanceof mu)return function(r,i){if(!DA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Cu(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Et.fromDate(r);return{timestampValue:Zh(i.serializer,o)}}if(r instanceof Et){let o=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(i.serializer,o)}}if(r instanceof gu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pu)return{bytesValue:eA(i.serializer,r._byteString)};if(r instanceof Ot){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:G0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return q0(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Sf(r)}`)}(t,e)}function SA(t,e){let n={};return Rx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,i)=>{let o=Cu(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function xA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof gu||t instanceof pu||t instanceof Ot||t instanceof mu||t instanceof yu)}function nw(t,e,n){if(!xA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Sf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function O0(t,e,n){if((e=Ue(e))instanceof la)return e._internalPath;if(typeof e=="string")return rw(t,e);throw mf("Field path arguments must be of type string or ",t,!1,void 0,n)}var Q4=new RegExp("[~\\*/\\[\\]]");function rw(t,e,n){if(e.search(Q4)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new la(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(V.INVALID_ARGUMENT,a+t+u)}function AA(t,e){return t.some(n=>n.isEqual(e))}var gf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new k0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(iw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},k0=class extends gf{data(){return super.data()}};function iw(t,e){return typeof e=="string"?rw(t,e):e instanceof la?e._internalPath:e._delegate._internalPath}function MA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _u=class{},F0=class extends _u{};function RA(t,e,...n){let r=[];e instanceof _u&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof V0).length,a=o.filter(u=>u instanceof yf).length;if(s>1||s>0&&a>0)throw new W(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var yf=class t extends F0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return NA(e._query,n),new Fo(e.firestore,e.converter,Mv(e._query,n))}_parse(e){let n=Af(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ax(p,h);let E=[];for(let M of p)E.push(xx(u,o,M));g={arrayValue:{values:E}}}else g=xx(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ax(p,h),g=K4(a,s,p,h==="in"||h==="not-in");return ct.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function PA(t,e,n){let r=e,i=iw("where",t);return yf._create(i,r,n)}var V0=class t extends _u{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Un.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)NA(s,u),s=Mv(s,u)}(e._query,n),new Fo(e.firestore,e.converter,Mv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function xx(t,e,n){if(typeof(n=Ue(n))=="string"){if(n==="")throw new W(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jx(e)&&n.indexOf("/")!==-1)throw new W(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(We.fromString(n));if(!ee.isDocumentKey(r))throw new W(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return XS(t,new ee(r))}if(n instanceof Ot)return XS(t,n._key);throw new W(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(n)}.`)}function Ax(t,e){if(!Array.isArray(t)||t.length===0)throw new W(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NA(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var L0=class{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Vo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ge(s.doubleValue));return new yu(o)}convertGeoPoint(e){return new gu(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=B0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){let n=Jr(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=We.fromString(e);Le(sA(r));let i=new Gh(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Yr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function OA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var xo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_f=class extends gf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Js(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(iw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Js=class extends _f{data(e={}){return super.data(e)}},vf=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Js(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Y4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Y4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}function Bn(t){t=en(t,Ot);let e=en(t.firestore,jn);return B4(xf(e),t._key).then(n=>VA(e,t,n))}var vu=class extends L0{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}};function pa(t){t=en(t,Fo);let e=en(t.firestore,jn),n=xf(e),r=new vu(e);return MA(t._query),$4(n,t._query).then(i=>new vf(e,r,t,i))}function Du(t,e,n){t=en(t,Ot);let r=en(t.firestore,jn),i=OA(t.converter,e,n);return Rf(r,[TA(Af(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gr.none())])}function Mf(t,e,n,...r){t=en(t,Ot);let i=en(t.firestore,jn),o=Af(i),s;return s=typeof(e=Ue(e))=="string"||e instanceof la?W4(o,"updateDoc",t._key,e,n,r):G4(o,"updateDoc",t._key,e),Rf(i,[s.toMutation(t._key,gr.exists(!0))])}function kA(t){return Rf(en(t.firestore,jn),[new au(t._key,gr.none())])}function FA(t,e){let n=en(t.firestore,jn),r=Ft(t),i=OA(t.converter,e);return Rf(n,[TA(Af(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function ow(t,...e){var n,r,i;t=Ue(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Sx(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Sx(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Ot)l=en(t.firestore,jn),h=Ef(t._key.path),u={next:p=>{e[s]&&e[s](VA(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=en(t,Fo);l=en(p.firestore,jn),h=p._query;let g=new vu(l);u={next:E=>{e[s]&&e[s](new vf(l,g,p,E))},error:e[s+1],complete:e[s+2]},MA(t._query)}return function(g,E,M,k){let F=new fu(k),B=new hu(E,F,M);return g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return Z0(yield lf(g),B)})),()=>{F.Za(),g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return X0(yield lf(g),B)}))}}(xf(l),h,a,u)}function Rf(t,e){return function(r,i){let o=new Vn;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return M4(yield j4(r),i,o)})),o.promise}(xf(t),e)}function VA(t,e,n){let r=n.docs.get(e._key),i=new vu(t);return new _f(t,i,e._key,r,new xo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){da=i})(cr),ar(new Xt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new jn(new lv(r.getProvider("auth-internal")),new pv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Je(QS,"4.7.3",e),Je(QS,"4.7.3","esm2017")})();var Pf=function(){return Pf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Pf.apply(this,arguments)};var X4={includeMetadataChanges:!1};function LA(t,e){return e===void 0&&(e=X4),new we(function(n){var r=ow(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function UA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Pf(Pf({},r),(n={},n[e.idField]=t.id,n))}function jA(t){return LA(t,{includeMetadataChanges:!0}).pipe(_e(function(e){return e.docs}))}function BA(t,e){return e===void 0&&(e={}),jA(t).pipe(_e(function(n){return n.map(function(r){return UA(r,e)})}))}var $n=class{constructor(e){return e}},$A="firestore",sw=class{constructor(){return jc($A)}};var aw=new oe("angularfire2.firestore-instances");function e$(t,e){let n=dh($A,t,e);return n&&new $n(n)}function t$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $n(r)}}var n$={provide:sw,deps:[[new Bt,aw]]},r$={provide:$n,useFactory:e$,deps:[[new Bt,aw],qr]};function HA(t,...e){return Je("angularfire",_o.full,"fst"),Xn([r$,n$,{provide:aw,useFactory:t$(t),multi:!0,deps:[xe,$t,js,vo,[new Bt,Yc],[new Bt,Us],...e]}])}var Nf=wt(BA,!0);var Of=wt(FA,!0);var tn=wt(fa,!0);var zA=wt(kA,!0);var pn=wt(Ft,!0);var Uo=wt(Bn,!0);var wr=wt(pa,!0);var qA=wt(fn,!0);var mn=wt(RA,!0);var ma=wt(Mf,!0);var He=wt(PA,!0);var i$=t=>({"no-scroll":t});function o$(t,e){t&1&&(y(0,"button",14),C(1,"USUARIOS"),_())}function s$(t,e){t&1&&(y(0,"button",15),C(1,"MI PERFIL"),_())}function a$(t,e){t&1&&(y(0,"button",16),C(1,"MIS TURNOS"),_())}function c$(t,e){t&1&&(y(0,"button",16),C(1,"MIS TURNOS"),_())}function u$(t,e){t&1&&(y(0,"button",17),C(1,"SACAR TURNO"),_())}function l$(t,e){t&1&&(y(0,"button",18),C(1,"TURNOS"),_())}var GA=(()=>{let e=class e{constructor(r,i){this.router=r,this.renderer=i,this.title="rutas",this.isLoggedIn=!1,this.esAdmin=!1,this.esEspecialista=!1,this.esPaciente=!1}ngOnInit(){let r=ht(),i=fn();Co(r,o=>v(this,null,function*(){if(this.isLoggedIn=!!o,o){let s=yield Bn(Ft(i,"administradores",o.uid));this.esAdmin=s.exists();let a=yield Bn(Ft(i,"especialistas",o.uid));this.esEspecialista=a.exists(),this.esPaciente=!this.esAdmin&&!this.esEspecialista}else this.esAdmin=!1,this.esEspecialista=!1,this.esPaciente=!1})),this.router.events.subscribe(()=>{["/misTurnos","/sacarTurno","/miPerfil","/usuarios","/turnos"].includes(this.router.url)?this.renderer.addClass(document.body,"fondo-azul-oscuro"):this.renderer.removeClass(document.body,"fondo-azul-oscuro")})}setLoginStatus(r){this.isLoggedIn=r}logout(){let r=ht();Nh(r).then(()=>{this.isLoggedIn=!1,this.router.navigate(["/login"])}).catch(i=>{console.error("Error al cerrar sesi\xF3n: ",i)})}updateLoginStatus(r){this.isLoggedIn=r}get isLoginOrRegister(){return this.router.url==="/login"||this.router.url==="/registro"}redirigirALogin(){this.isLoggedIn?this.logout():this.router.navigate(["/login"])}};e.\u0275fac=function(i){return new(i||e)(U(Zt),U(At))},e.\u0275cmp=Ye({type:e,selectors:[["app-root"]],standalone:!0,features:[ot],decls:20,vars:10,consts:[[3,"ngClass"],[1,"nav"],[1,"button-group"],["routerLink","home","routerLinkActive","active-route"],["routerLink","usuarios","routerLinkActive","active-route",4,"ngIf"],["routerLink","miPerfil","routerLinkActive","active-route",4,"ngIf"],["routerLink","misTurnos","routerLinkActive","active-route",4,"ngIf"],["routerLink","sacarTurno","routerLinkActive","active-route",4,"ngIf"],["routerLink","turnos","routerLinkActive","active-route",4,"ngIf"],[1,"menu-icon-container"],[1,"menu-icon-button",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FLogin.png?alt=media&token=67d89f2f-0da4-4f56-92e0-1e8137b2d9d9","alt","Login Icono",1,"menu-icon-image"],[1,"login-text"],[1,"form-container1"],["routerLink","usuarios","routerLinkActive","active-route"],["routerLink","miPerfil","routerLinkActive","active-route"],["routerLink","misTurnos","routerLinkActive","active-route"],["routerLink","sacarTurno","routerLinkActive","active-route"],["routerLink","turnos","routerLinkActive","active-route"]],template:function(i,o){i&1&&(y(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),C(5,"INICIO"),_(),Y(6,o$,2,0,"button",4)(7,s$,2,0,"button",5)(8,a$,2,0,"button",6)(9,c$,2,0,"button",6)(10,u$,2,0,"button",7)(11,l$,2,0,"button",8),_(),y(12,"div",9)(13,"button",10),z("click",function(){return o.redirigirALogin()}),J(14,"img",11),y(15,"span",12),C(16),_()()()(),y(17,"div",13),J(18,"router-outlet"),_(),J(19,"router-outlet"),_()()),i&2&&(D(),N("ngClass",tD(8,i$,o.isLoginOrRegister)),D(5),N("ngIf",o.esAdmin),D(),N("ngIf",o.esEspecialista),D(),N("ngIf",o.esEspecialista),D(),N("ngIf",o.esPaciente),D(),N("ngIf",o.esPaciente),D(),N("ngIf",o.esAdmin),D(5),he(o.isLoggedIn?"Salir":"Login"))},dependencies:[$y,eh,gT,_t,Fd,Jt],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:100vh;overflow-x:hidden}.form-container[_ngcontent-%COMP%], .form-container1[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:50px}.login-button-container[_ngcontent-%COMP%], .logout-button-container[_ngcontent-%COMP%], .register-button-container[_ngcontent-%COMP%]{position:absolute;top:10px}.button-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;position:relative;top:0;left:0}button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;background-color:#fff;margin:0 10px;color:#000;font-size:20px}button[_ngcontent-%COMP%]:hover{color:#00618a}.nav[_ngcontent-%COMP%]{width:100%;background-color:#fff;min-height:75px;box-shadow:0 4px 6px #0000001a;position:fixed;top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:space-between;font-family:Roboto,sans-serif;padding:0}.menu-icon-container[_ngcontent-%COMP%]{display:flex;align-items:center}.menu-icon[_ngcontent-%COMP%]{cursor:pointer;width:80px}.menu-icon-button[_ngcontent-%COMP%]{background-color:#fff;border:none;cursor:pointer;padding:12px 28px;border-radius:25px;display:flex;align-items:center;font-size:20px;font-weight:600;transition:background-color .3s,transform .3s;gap:10px}.menu-icon-button[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff;transform:scale(1.05)}.menu-icon-image[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain;transition:transform .3s}.menu-icon-button[_ngcontent-%COMP%]:hover   .menu-icon-image[_ngcontent-%COMP%]{transform:rotate(15deg)}.login-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;margin-left:8px}"]});let t=e;return t})();var WA=(()=>{let e=class e{constructor(r){this.router=r}};e.\u0275fac=function(i){return new(i||e)(U(Zt))},e.\u0275cmp=Ye({type:e,selectors:[["app-home"]],standalone:!0,features:[ot],decls:50,vars:0,consts:[["href",rC`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"home-container"],[1,"header"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FBartel%20Clinica.png?alt=media&token=41b6210c-7e30-4924-af2b-42c8ed20a25c","alt","Logo de la Cl\xEDnica",1,"logo"],[1,"welcome-section"],[1,"differentiators-section"],[1,"cards-container"],[1,"card"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2Fatencion-personaliz.png?alt=media&token=577d5e14-8708-4c22-bdb0-ab1df0dcb1c9","alt","Atenci\xF3n Personalizada",1,"card-image"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FIngreso%20inmediato.png?alt=media&token=03e81afb-c196-4ab4-ac8b-f5541b246920","alt","Acceso Inmediato",1,"card-image"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FProfesionales.png?alt=media&token=8a137d64-eac6-4c96-af57-fe6c5d85b39b","alt","Profesionales de Confianza",1,"card-image"],[1,"info-bar"],[1,"info-item"],[1,"footer"]],template:function(i,o){i&1&&(J(0,"link",0),y(1,"div",1)(2,"header",2),J(3,"img",3),_(),y(4,"section",4)(5,"h1"),C(6,"Bienvenido a la Cl\xEDnica Bartel"),_(),y(7,"p"),C(8," Nos dedicamos a proporcionar servicios de salud de alta calidad con acceso f\xE1cil y r\xE1pido a m\xE9dicos profesionales. "),_()(),y(9,"section",5)(10,"h2"),C(11,"\xBFQu\xE9 nos diferencia?"),_(),y(12,"div",6)(13,"div",7)(14,"h3"),C(15,"Atenci\xF3n Personalizada"),_(),y(16,"p"),C(17,"Nos enfocamos en cada paciente con un trato especial y \xFAnico, podras gestionar tus turnos como tener tu ficha medica cuando quieras."),_(),J(18,"img",8),_(),y(19,"div",7)(20,"h3"),C(21,"Acceso Inmediato"),_(),y(22,"p"),C(23,"Reserva tus consultas de forma r\xE1pida y desde cualquier dispositivo a cualquiera hora, desde donde sea, con el profesional que desees."),_(),J(24,"img",9),_(),y(25,"div",7)(26,"h3"),C(27,"Profesionales de Confianza"),_(),y(28,"p"),C(29,"Un equipo m\xE9dico de alto nivel y con experiencia en el rubro te pueden dar la tranquilidad de que estas en el lugar indicado."),_(),J(30,"img",10),_()()(),y(31,"section",11)(32,"div",12)(33,"p"),C(34,"+15"),_(),y(35,"h4"),C(36,"A\xF1os en el rubro"),_()(),y(37,"div",12)(38,"p"),C(39,"+25.000"),_(),y(40,"h4"),C(41,"Pacientes Atendidos"),_()(),y(42,"div",12)(43,"p"),C(44,"+50"),_(),y(45,"h4"),C(46,"Profesionales"),_()()()(),y(47,"footer",13)(48,"p"),C(49,"\xA9 2024 Clinica Bartel. Todos los derechos reservados."),_()())},styles:['.home-container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;color:#fff;background-color:#1a1a2e;padding:20px;font-family:Roboto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]{width:100px;margin-top:20px}.welcome-section[_ngcontent-%COMP%]{text-align:left;margin-left:5%;margin-bottom:50px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;margin-bottom:10px}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:1.5}.differentiators-section[_ngcontent-%COMP%]{margin-bottom:50px}.differentiators-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:28px;margin-bottom:20px;position:relative}.differentiators-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";display:block;width:50px;height:4px;background-color:#00bccd;margin:8px auto 0;border-radius:2px}.cards-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:15px}.card[_ngcontent-%COMP%]{background-color:#0f3460;padding:20px;border-radius:8px;width:30%;text-align:center;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 15px #0000004d}.card-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:4px}.info-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;background-color:#16213e;padding:15px;margin-top:20px;border-radius:8px}.info-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin:0}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:5px 0}.footer[_ngcontent-%COMP%]{width:100%;background-color:#1a1a2e;padding:20px;display:flex;flex-direction:column;align-items:center;color:#fff;font-family:Roboto}.copyright[_ngcontent-%COMP%]{margin:0;font-size:16px;text-align:center}.contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10px}.contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00bcd4;text-decoration:none}.contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']});let t=e;return t})();var KA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-page-not-found"]],standalone:!0,features:[ot],decls:0,vars:0,template:function(i,o){}});let t=e;return t})();var i1=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(U(At),U(Ht))},e.\u0275dir=Fe({type:e});let t=e;return t})(),Hf=(()=>{let e=class e extends i1{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275dir=Fe({type:e,features:[Mt]});let t=e;return t})(),Li=new oe("");var d$={provide:Li,useExisting:Qt(()=>br),multi:!0};function h$(){let t=Br()?Br().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var f$=new oe(""),br=(()=>{let e=class e extends i1{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!h$())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(U(At),U(Ht),U(f$,8))},e.\u0275dir=Fe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&z("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[wn([d$]),Mt]});let t=e;return t})();function Fi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function o1(t){return t!=null&&typeof t.length=="number"}var Au=new oe(""),zf=new oe(""),p$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xr=class{static min(e){return m$(e)}static max(e){return g$(e)}static required(e){return s1(e)}static requiredTrue(e){return y$(e)}static email(e){return _$(e)}static minLength(e){return v$(e)}static maxLength(e){return w$(e)}static pattern(e){return E$(e)}static nullValidator(e){return Ff(e)}static compose(e){return h1(e)}static composeAsync(e){return f1(e)}};function m$(t){return e=>{if(Fi(e.value)||Fi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function g$(t){return e=>{if(Fi(e.value)||Fi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function s1(t){return Fi(t.value)?{required:!0}:null}function y$(t){return t.value===!0?null:{required:!0}}function _$(t){return Fi(t.value)||p$.test(t.value)?null:{email:!0}}function v$(t){return e=>Fi(e.value)||!o1(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function w$(t){return e=>o1(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function E$(t){if(!t)return Ff;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Fi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Ff(t){return null}function a1(t){return t!=null}function c1(t){return so(t)?qe(t):t}function u1(t){let e={};return t.forEach(n=>{e=n!=null?q(q({},e),n):e}),Object.keys(e).length===0?null:e}function l1(t,e){return e.map(n=>n(t))}function b$(t){return!t.validate}function d1(t){return t.map(e=>b$(e)?e:n=>e.validate(n))}function h1(t){if(!t)return null;let e=t.filter(a1);return e.length==0?null:function(n){return u1(l1(n,e))}}function dw(t){return t!=null?h1(d1(t)):null}function f1(t){if(!t)return null;let e=t.filter(a1);return e.length==0?null:function(n){let r=l1(n,e).map(c1);return Gp(r).pipe(_e(u1))}}function hw(t){return t!=null?f1(d1(t)):null}function QA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function p1(t){return t._rawValidators}function m1(t){return t._rawAsyncValidators}function cw(t){return t?Array.isArray(t)?t:[t]:[]}function Vf(t,e){return Array.isArray(t)?t.includes(e):t===e}function YA(t,e){let n=cw(e);return cw(t).forEach(i=>{Vf(n,i)||n.push(i)}),n}function JA(t,e){return cw(e).filter(n=>!Vf(t,n))}var Lf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ei=class extends Lf{get formDirective(){return null}get path(){return null}},ti=class extends Lf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Uf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},I$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},NZ=Se(q({},I$),{"[class.ng-submitted]":"isSubmitted"}),Cn=(()=>{let e=class e extends Uf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(U(ti,2))},e.\u0275dir=Fe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&xd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Mt]});let t=e;return t})(),Ir=(()=>{let e=class e extends Uf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(U(ei,10))},e.\u0275dir=Fe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&xd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Mt]});let t=e;return t})();var Tu="VALID",kf="INVALID",ga="PENDING",Su="DISABLED";function fw(t){return(qf(t)?t.validators:t)||null}function C$(t){return Array.isArray(t)?dw(t):t||null}function pw(t,e){return(qf(e)?e.asyncValidators:t)||null}function D$(t){return Array.isArray(t)?hw(t):t||null}function qf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function g1(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new X(1e3,"");if(!r[n])throw new X(1001,"")}function y1(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new X(1002,"")})}var ya=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tu}get invalid(){return this.status===kf}get pending(){return this.status==ga}get disabled(){return this.status===Su}get enabled(){return this.status!==Su}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JA(e,this._rawAsyncValidators))}hasValidator(e){return Vf(this._rawValidators,e)}hasAsyncValidator(e){return Vf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ga,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Su,this.errors=null,this._forEachChild(r=>{r.disable(Se(q({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Se(q({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Tu,this._forEachChild(r=>{r.enable(Se(q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Se(q({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tu||this.status===ga)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Su:Tu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ga,this._hasOwnPendingAsyncValidator=!0;let n=c1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?Su:this.errors?kf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ga)?ga:this._anyControlsHaveStatus(kf)?kf:Tu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=C$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=D$(this._rawAsyncValidators)}},Vi=class extends ya{constructor(e,n,r){super(fw(n),pw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){y1(this,!0,e),Object.keys(e).forEach(r=>{g1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var uw=class extends Vi{};var Mu=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>Gf}),Gf="always";function _1(t,e){return[...e.path,t]}function jf(t,e,n=Gf){mw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),S$(t,e),A$(t,e),x$(t,e),T$(t,e)}function ZA(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$f(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Bf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function T$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function mw(t,e){let n=p1(t);e.validator!==null?t.setValidators(QA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=m1(t);e.asyncValidator!==null?t.setAsyncValidators(QA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Bf(e._rawValidators,i),Bf(e._rawAsyncValidators,i)}function $f(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=p1(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=m1(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Bf(e._rawValidators,r),Bf(e._rawAsyncValidators,r),n}function S$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&v1(t,e)})}function x$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&v1(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function v1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function A$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function w1(t,e){t==null,mw(t,e)}function M$(t,e){return $f(t,e)}function E1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function R$(t){return Object.getPrototypeOf(t.constructor)===Hf}function b1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function I1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===br?n=o:R$(o)?r=o:i=o}),i||r||n||null}function P$(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var N$={provide:ei,useExisting:Qt(()=>Ru)},xu=Promise.resolve(),Ru=(()=>{let e=class e extends ei{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ke,this.form=new Vi({},dw(r),hw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){xu.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),jf(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){xu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){xu.then(()=>{let i=this._findContainer(r.path),o=new Vi({});w1(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){xu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){xu.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,b1(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(U(Au,10),U(zf,10),U(Mu,8))},e.\u0275dir=Fe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&z("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[tt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wn([N$]),Mt]});let t=e;return t})();function XA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function e1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Er=class extends ya{constructor(e=null,n,r){super(fw(n),pw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(e1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){e1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var O$=t=>t instanceof Er;var k$={provide:ti,useExisting:Qt(()=>Hn)},t1=Promise.resolve(),Hn=(()=>{let e=class e extends ti{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Er,this._registered=!1,this.name="",this.update=new ke,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=I1(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),E1(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){jf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){t1.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Ei(i);t1.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?_1(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(U(ei,9),U(Au,10),U(zf,10),U(Li,10),U(nr,8),U(Mu,8))},e.\u0275dir=Fe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"],options:[tt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wn([k$]),Mt,Yt]});let t=e;return t})(),Cr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Fe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),F$={provide:Li,useExisting:Qt(()=>Pu),multi:!0},Pu=(()=>{let e=class e extends Hf{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275dir=Fe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&z("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[wn([F$]),Mt]});let t=e;return t})();var C1=new oe("");var V$={provide:ei,useExisting:Qt(()=>jo)},jo=(()=>{let e=class e extends ei{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ke,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($f(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return jf(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){ZA(r.control||null,r,!1),P$(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,b1(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(ZA(i||null,r),O$(o)&&(jf(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);w1(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&M$(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mw(this.form,this),this._oldForm&&$f(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(U(Au,10),U(zf,10),U(Mu,8))},e.\u0275dir=Fe({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&z("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[tt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wn([V$]),Mt,Yt]});let t=e;return t})();var L$={provide:ti,useExisting:Qt(()=>Bo)},Bo=(()=>{let e=class e extends ti{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ke,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=I1(this,s)}ngOnChanges(r){this._added||this._setUpControl(),E1(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return _1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(U(ei,13),U(Au,10),U(zf,10),U(Li,10),U(C1,8))},e.\u0275dir=Fe({type:e,selectors:[["","formControlName",""]],inputs:{name:[tt.None,"formControlName","name"],isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[wn([L$]),Mt,Yt]});let t=e;return t})(),U$={provide:Li,useExisting:Qt(()=>_a),multi:!0};function D1(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function j$(t){return t.split(":")[0]}var _a=(()=>{let e=class e extends Hf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=D1(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=j$(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275dir=Fe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&z("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[wn([U$]),Mt]});let t=e;return t})(),Wf=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(D1(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(U(Ht),U(At),U(_a,9))},e.\u0275dir=Fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),B$={provide:Li,useExisting:Qt(()=>Kf),multi:!0};function n1(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $$(t){return t.split(":")[0]}var Kf=(()=>{let e=class e extends Hf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=$$(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275dir=Fe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&z("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[wn([B$]),Mt]});let t=e;return t})(),Qf=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(n1(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(n1(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(U(Ht),U(At),U(Kf,9))},e.\u0275dir=Fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var H$=(()=>{let e=class e{constructor(){this._validator=Ff}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ff,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Fe({type:e,features:[Yt]});let t=e;return t})();var z$={provide:Au,useExisting:Qt(()=>$o),multi:!0};var $o=(()=>{let e=class e extends H${constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ei,this.createValidator=r=>s1}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275dir=Fe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&hc("required",o._enabled?"":null)},inputs:{required:"required"},features:[wn([z$]),Mt]});let t=e;return t})();var T1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zn({type:e}),e.\u0275inj=Jn({});let t=e;return t})(),lw=class extends ya{constructor(e,n,r){super(fw(n),pw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){y1(this,!1,e),e.forEach((r,i)=>{g1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function r1(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var va=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return r1(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Vi(o,s)}record(r,i=null){let o=this._reduceControls(r);return new uw(o,i)}control(r,i,o){let s={};return this.useNonNullable?(r1(i)?s=i:(s.validators=i,s.asyncValidators=o),new Er(r,Se(q({},s),{nonNullable:!0}))):new Er(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new lw(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof Er)return r;if(r instanceof ya)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Dr=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Mu,useValue:r.callSetDisabledState??Gf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zn({type:e}),e.\u0275inj=Jn({imports:[T1]});let t=e;return t})(),wa=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:C1,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Mu,useValue:r.callSetDisabledState??Gf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zn({type:e}),e.\u0275inj=Jn({imports:[T1]});let t=e;return t})();var Nu={apiKey:"AIzaSyAN3xGlyc729QZpxcNoITDpE5Oweb-85tQ",authDomain:"tpclinica-bartel.firebaseapp.com",projectId:"tpclinica-bartel",storageBucket:"tpclinica-bartel.appspot.com",messagingSenderId:"775881613005",appId:"1:775881613005:web:3b1c96b34693b512a59384"},VZ=go(Nu);function q$(t,e){if(t&1&&(y(0,"div",24),C(1),_()),t&2){let n=O();D(),he(n.errorMessage)}}var S1=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new ke,this.username="",this.password="",this.errorMessage="",this.app=go(Nu),this.auth=ht(this.app),this.db=fn(this.app)}fillPaciente1(){this.username="manuelPaciente1@gmail.com",this.password="paciente123"}fillPaciente2(){this.username="juanPaciente2@gmail.com",this.password="paciente123"}fillPaciente3(){this.username="carlosPaciente3@gmail.com",this.password="paciente123"}fillEspecialista1(){this.username="matiasMedico@gmail.com",this.password="123456"}fillEspecialista2(){this.username="especialistaJuan@gmail.com",this.password="juan123"}fillAdmin(){this.username="admin@correo.com",this.password="admin123"}onSubmit(){return v(this,null,function*(){try{let i=(yield Rh(this.auth,this.username,this.password)).user,o=Ft(this.db,"especialistas",i.uid),s=Ft(this.db,"pacientes",i.uid),a=Ft(this.db,"administradores",i.uid),[u,l,h]=yield Promise.all([Bn(o),Bn(s),Bn(a)]);if(u.exists())u.data().aprobado?(this.router.navigate(["/miPerfil"]),this.loginStatusChange.emit(!0)):(this.errorMessage="Tu cuenta de especialista a\xFAn no fue habilitada por un administrador.",this.loginStatusChange.emit(!1));else if(l.exists()){let p=l.data();this.router.navigate(["/sacarTurno"]),this.loginStatusChange.emit(!0)}else if(h.exists()){let p=h.data();this.router.navigate(["/usuarios"]),this.loginStatusChange.emit(!0)}else this.errorMessage="No se encontr\xF3 el usuario en la base de datos.",this.loginStatusChange.emit(!1)}catch(r){switch(r.code){case"auth/user-not-found":case"auth/wrong-password":this.errorMessage="Correo o contrase\xF1a incorrecta.";break;case"auth/invalid-email":this.errorMessage="Formato de correo inv\xE1lido.";break;case"auth/invalid-credential":this.errorMessage="Usuario inexistente";break;default:this.errorMessage="Error al iniciar sesi\xF3n. Intenta nuevamente."}console.error("Error en login:",r),this.loginStatusChange.emit(!1)}})}};e.\u0275fac=function(i){return new(i||e)(U(Zt))},e.\u0275cmp=Ye({type:e,selectors:[["app-login"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[ot],decls:34,vars:3,consts:[[1,"login-container"],[1,"titulo"],[3,"submit"],[1,"input-container"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Login%2FCorreo.png?alt=media&token=19f459bf-e240-4ffb-9768-9364b4a948ec","alt","user-icon",1,"input-icon"],["type","text","name","usuario","placeholder","Correo electr\xF3nico","required","",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Login%2FCandadoW.png?alt=media&token=2f6f1f2f-4fb8-4c41-91d5-60a9ff3fa99f","alt","password-icon",1,"input-icon"],["type","password","name","correo","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"buttons-container"],["type","submit"],[1,"acceso-rapido"],["for","acceso-rapido",1,"acceso-rapido-label"],[1,"acceso-rapido-row"],[1,"acceso-rapido-btn","paciente",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente 1",1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente 2",1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente 3",1,"logo"],[1,"acceso-rapido-btn","especialista",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Especialista 1",1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Especialista 2",1,"logo"],[1,"acceso-rapido-btn","admin",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Admin",1,"logo"],["href","/registro",1,"register-link"],[1,"error-message"]],template:function(i,o){i&1&&(y(0,"body")(1,"div",0)(2,"h2",1),C(3,"INICIAR SESION"),_(),y(4,"form",2),z("submit",function(){return o.onSubmit()}),y(5,"div",3),J(6,"img",4),y(7,"input",5),Me("ngModelChange",function(a){return Pe(o.username,a)||(o.username=a),a}),_()(),y(8,"div",3),J(9,"img",6),y(10,"input",7),Me("ngModelChange",function(a){return Pe(o.password,a)||(o.password=a),a}),_()(),Y(11,q$,2,1,"div",8),y(12,"div",9)(13,"button",10),C(14,"Iniciar Sesi\xF3n"),_()()(),y(15,"div",11)(16,"label",12),C(17,"Accesos R\xE1pidos"),_(),y(18,"div",13)(19,"button",14),z("click",function(){return o.fillPaciente1()}),J(20,"img",15),_(),y(21,"button",14),z("click",function(){return o.fillPaciente2()}),J(22,"img",16),_(),y(23,"button",14),z("click",function(){return o.fillPaciente3()}),J(24,"img",17),_()(),y(25,"div",13)(26,"button",18),z("click",function(){return o.fillEspecialista1()}),J(27,"img",19),_(),y(28,"button",18),z("click",function(){return o.fillEspecialista2()}),J(29,"img",20),_(),y(30,"button",21),z("click",function(){return o.fillAdmin()}),J(31,"img",22),_()()(),y(32,"a",23),C(33,"Quiero registrarme"),_()()()),i&2&&(D(7),Ae("ngModel",o.username),D(3),Ae("ngModel",o.password),D(),N("ngIf",o.errorMessage))},dependencies:[Dr,Cr,br,Cn,Ir,$o,Hn,Ru,_t,Jt],styles:['@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;width:100%;overflow-y:hidden}body[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/General%2FHospital%20Bartel.jpeg?alt=media&token=3f838801-78f3-4374-86e0-db83ab37e701);background-size:cover;background-position:center;background-attachment:fixed;display:flex;justify-content:center;align-items:center;height:100vh;width:100vw;overflow-y:hidden}.login-container[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:40px;background-color:#16243e;border-radius:10px;box-shadow:0 8px 20px #0000004d;text-align:center;font-family:Roboto;overflow-y:hidden}.titulo[_ngcontent-%COMP%]{font-size:26px;font-weight:700;color:#fff;margin-bottom:30px;font-family:Roboto}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:25px;border-bottom:2px solid #00bccd;padding-bottom:8px}.input-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:12px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{flex:1;padding:10px;border:none;font-size:16px;background-color:transparent;color:#fff;font-family:Roboto,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{outline:none}.error-message[_ngcontent-%COMP%]{color:#ff4d4d;font-size:14px;margin-bottom:15px;font-family:Roboto,sans-serif}.buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-bottom:20px}button[_ngcontent-%COMP%]{background-color:#1bb3c1;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;width:100%;font-family:Roboto,sans-serif;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#006aff}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.quick-access[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15px}.quick-access[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48%;background-color:#6e6e6e;font-family:Roboto,sans-serif}.quick-access[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#454545}.register-link[_ngcontent-%COMP%]{color:#00bccd;text-decoration:none;font-size:16px;font-weight:700;display:block;margin-top:20px;transition:color .3s;font-family:Roboto,sans-serif}.register-link[_ngcontent-%COMP%]:hover{color:#007bff}.acceso-rapido[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;align-items:center}.acceso-rapido-label[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;margin-bottom:10px;color:#fff}.acceso-rapido-row[_ngcontent-%COMP%]{display:flex;gap:20px}.acceso-rapido-btn[_ngcontent-%COMP%]{width:60px;height:60px;background-color:transparent;border:2px solid #fff;border-radius:10px;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:transform .3s ease-in-out,background-color .3s ease;box-shadow:0 4px 8px #0003}.acceso-rapido-btn[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;transition:transform .3s ease-in-out}.paciente[_ngcontent-%COMP%]{background-color:red}.paciente[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#8b0000}.paciente[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.especialista[_ngcontent-%COMP%]{background-color:green}.especialista[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#006400}.especialista[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.admin[_ngcontent-%COMP%]{background-color:gray}.admin[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a9a9a9}.admin[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}']});let t=e;return t})();var O1="firebasestorage.googleapis.com",k1="storageBucket",G$=2*60*1e3,W$=10*60*1e3;var Xe=class t extends qt{constructor(e,n,r=0){super(gw(e),`Firebase Storage: ${n} (${gw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},rt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(rt||{});function gw(t){return"storage/"+t}function bw(){let t="An unknown error occurred, please check the error payload for server response.";return new Xe(rt.UNKNOWN,t)}function K$(t){return new Xe(rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Q$(t){return new Xe(rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y$(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xe(rt.UNAUTHENTICATED,t)}function J$(){return new Xe(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Z$(t){return new Xe(rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function X$(){return new Xe(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function e6(){return new Xe(rt.CANCELED,"User canceled the upload/download.")}function t6(t){return new Xe(rt.INVALID_URL,"Invalid URL '"+t+"'.")}function n6(t){return new Xe(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function r6(){return new Xe(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+k1+"' property when initializing the app?")}function i6(){return new Xe(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function o6(){return new Xe(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function s6(t){return new Xe(rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yw(t){return new Xe(rt.INVALID_ARGUMENT,t)}function F1(){return new Xe(rt.APP_DELETED,"The Firebase app was deleted.")}function a6(t){return new Xe(rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ku(t,e){return new Xe(rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ou(t){throw new Xe(rt.INTERNAL_ERROR,"Internal error: "+t)}var zn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw n6(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(ne){ne.path_=decodeURIComponent(ne.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",E=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),M={bucket:1,path:3},k=n===O1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",B=new RegExp(`^https?://${k}/${i}/${F}`,"i"),Q=[{regex:a,indices:u,postModify:o},{regex:E,indices:M,postModify:l},{regex:B,indices:{bucket:1,path:2},postModify:l}];for(let ne=0;ne<Q.length;ne++){let je=Q[ne],ae=je.regex.exec(e);if(ae){let S=ae[je.indices.bucket],w=ae[je.indices.path];w||(w=""),r=new t(S,w),je.postModify(r);break}}if(r==null)throw t6(e);return r}},_w=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function c6(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function h(...F){l||(l=!0,e.apply(null,F))}function p(F){i=setTimeout(()=>{i=null,t(E,u())},F)}function g(){o&&clearTimeout(o)}function E(F,...B){if(l){g();return}if(F){g(),h.call(null,F,...B);return}if(u()||s){g(),h.call(null,F,...B);return}r<64&&(r*=2);let Q;a===1?(a=2,Q=0):Q=(r+Math.random())*1e3,p(Q)}let M=!1;function k(F){M||(M=!0,g(),!l&&(i!==null?(F||(a=2),clearTimeout(i),p(0)):F||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,k(!0)},n),k}function u6(t){t(!1)}function l6(t){return t!==void 0}function d6(t){return typeof t=="object"&&!Array.isArray(t)}function Iw(t){return typeof t=="string"||t instanceof String}function x1(t){return Cw()&&t instanceof Blob}function Cw(){return typeof Blob<"u"}function A1(t,e,n,r){if(r<e)throw yw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yw(`Invalid value for '${t}'. Expected ${n} or less.`)}function Dw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function V1(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ia=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Ia||{});function h6(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var vw=class{constructor(e,n,r,i,o,s,a,u,l,h,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,M)=>{this.resolve_=E,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new ba(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Ia.NO_ERROR,u=o.getStatus();if(!a||h6(u,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===Ia.ABORT;r(!1,new ba(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new ba(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());l6(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=bw();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?F1():e6();s(u)}else{let u=X$();s(u)}};this.canceled_?n(!1,new ba(!1,null,!0)):this.backoffId_=c6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ba=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function f6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function p6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function m6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function g6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function y6(t,e,n,r,i,o,s=!0){let a=V1(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return m6(l,e),f6(l,n),p6(l,o),g6(l,r),new vw(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function _6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function v6(...t){let e=_6();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Cw())return new Blob(t);throw new Xe(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function w6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function E6(t){if(typeof atob>"u")throw s6("base-64");return atob(t)}var Tr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Fu=class{constructor(e,n){this.data=e,this.contentType=n||null}};function b6(t,e){switch(t){case Tr.RAW:return new Fu(L1(e));case Tr.BASE64:case Tr.BASE64URL:return new Fu(U1(t,e));case Tr.DATA_URL:return new Fu(C6(e),D6(e))}throw bw()}function L1(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function I6(t){let e;try{e=decodeURIComponent(t)}catch{throw ku(Tr.DATA_URL,"Malformed data URL.")}return L1(e)}function U1(t,e){switch(t){case Tr.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw ku(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Tr.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw ku(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=E6(e)}catch(i){throw i.message.includes("polyfill")?i:ku(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Jf=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw ku(Tr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=T6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function C6(t){let e=new Jf(t);return e.base64?U1(Tr.BASE64,e.rest):I6(e.rest)}function D6(t){return new Jf(t).contentType}function T6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Zf=class t{constructor(e,n){let r=0,i="";x1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(x1(this.data_)){let r=this.data_,i=w6(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(Cw()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(v6.apply(null,n))}else{let n=e.map(s=>Iw(s)?b6(Tr.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function j1(t){let e;try{e=JSON.parse(t)}catch{return null}return d6(e)?e:null}function S6(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function x6(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function B1(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function A6(t,e){return e}var bt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||A6}},Yf=null;function M6(t){return!Iw(t)||t.length<2?t:B1(t)}function $1(){if(Yf)return Yf;let t=[];t.push(new bt("bucket")),t.push(new bt("generation")),t.push(new bt("metageneration")),t.push(new bt("name","fullPath",!0));function e(o,s){return M6(s)}let n=new bt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new bt("size");return i.xform=r,t.push(i),t.push(new bt("timeCreated")),t.push(new bt("updated")),t.push(new bt("md5Hash",null,!0)),t.push(new bt("cacheControl",null,!0)),t.push(new bt("contentDisposition",null,!0)),t.push(new bt("contentEncoding",null,!0)),t.push(new bt("contentLanguage",null,!0)),t.push(new bt("contentType",null,!0)),t.push(new bt("metadata","customMetadata",!0)),Yf=t,Yf}function R6(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new zn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function P6(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return R6(r,t),r}function H1(t,e,n){let r=j1(e);return r===null?null:P6(t,r,n)}function N6(t,e,n,r){let i=j1(e);if(i===null||!Iw(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let h=t.bucket,p=t.fullPath,g="/b/"+s(h)+"/o/"+s(p),E=Dw(g,n,r),M=V1({alt:"media",token:l});return E+M})[0]}function O6(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Xf=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function z1(t){if(!t)throw bw()}function k6(t,e){function n(r,i){let o=H1(t,i,e);return z1(o!==null),o}return n}function F6(t,e){function n(r,i){let o=H1(t,i,e);return z1(o!==null),N6(o,i,t.host,t._protocol)}return n}function q1(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=J$():i=Y$():n.getStatus()===402?i=Q$(t.bucket):n.getStatus()===403?i=Z$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function V6(t){let e=q1(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=K$(t.path)),o.serverResponse=i.serverResponse,o}return n}function L6(t,e,n){let r=e.fullServerUrl(),i=Dw(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Xf(i,o,F6(t,n),s);return a.errorHandler=V6(e),a}function U6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function j6(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=U6(null,e)),r}function B6(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let Q="";for(let ne=0;ne<2;ne++)Q=Q+Math.random().toString().slice(2);return Q}let u=a();s["Content-Type"]="multipart/related; boundary="+u;let l=j6(e,r,i),h=O6(l,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,g=`\r
--`+u+"--",E=Zf.getBlob(p,r,g);if(E===null)throw i6();let M={name:l.fullPath},k=Dw(o,t.host,t._protocol),F="POST",B=t.maxUploadRetryTime,Z=new Xf(k,F,k6(t,n),B);return Z.urlParams=M,Z.headers=s,Z.body=E.uploadData(),Z.errorHandler=q1(e),Z}var XZ=256*1024;var M1=null,ww=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ou("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ou("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ou("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ou("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ou("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Ew=class extends ww{initXhr(){this.xhr_.responseType="text"}};function G1(){return M1?M1():new Ew}var Ca=class t{constructor(e,n){this._service=e,n instanceof zn?this._location=n:this._location=zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B1(this._location.path)}get storage(){return this._service}get parent(){let e=S6(this._location.path);if(e===null)return null;let n=new zn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw a6(e)}};function $6(t,e,n){t._throwIfRoot("uploadBytes");let r=B6(t.storage,t._location,$1(),new Zf(e,!0),n);return t.storage.makeRequestWithTokens(r,G1).then(i=>({metadata:i,ref:t}))}function H6(t){t._throwIfRoot("getDownloadURL");let e=L6(t.storage,t._location,$1());return t.storage.makeRequestWithTokens(e,G1).then(n=>{if(n===null)throw o6();return n})}function z6(t,e){let n=x6(t._location.path,e),r=new zn(t._location.bucket,n);return new Ca(t.storage,r)}function q6(t){return/^[A-Za-z]+:\/\//.test(t)}function G6(t,e){return new Ca(t,e)}function W1(t,e){if(t instanceof Vu){let n=t;if(n._bucket==null)throw r6();let r=new Ca(n,n._bucket);return e!=null?W1(r,e):r}else return e!==void 0?z6(t,e):t}function W6(t,e){if(e&&q6(e)){if(t instanceof Vu)return G6(t,e);throw yw("To use ref(service, url), the first argument must be a Storage instance.")}else return W1(t,e)}function R1(t,e){let n=e?.[k1];return n==null?null:zn.makeFromBucketSpec(n,t)}function K6(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:sh(i,t.app.options.projectId))}var Vu=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=O1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=G$,this._maxUploadRetryTime=W$,this._requests=new Set,i!=null?this._bucket=zn.makeFromBucketSpec(i,this._host):this._bucket=R1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=R1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ca(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new _w(F1());{let s=y6(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return v(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},P1="@firebase/storage",N1="0.13.2";var K1="storage";function Da(t,e,n){return t=Ue(t),$6(t,e,n)}function Ta(t){return t=Ue(t),H6(t)}function Sa(t,e){return t=Ue(t),W6(t,e)}function ep(t=xi(),e){t=Ue(t);let r=mo(t,K1).getImmediate({identifier:e}),i=oh("storage");return i&&Q6(r,...i),r}function Q6(t,e,n,r={}){K6(t,e,n,r)}function Y6(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Vu(n,r,i,e,cr)}function J6(){ar(new Xt(K1,Y6,"PUBLIC").setMultipleInstances(!0)),Je(P1,N1,""),Je(P1,N1,"esm2017")}J6();var Z6=["captchaWrapperElem"],tp=(()=>{class t{constructor(n){this.zone=n,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(n,r,i,o){if(this.grecaptchaScriptLoaded(n.useEnterprise)){n.useEnterprise?this.zone.run(()=>{i(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}):this.zone.run(()=>{i(window[this.windowGrecaptcha])});return}n.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(i.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(i.bind(this,window[this.windowGrecaptcha]));let s=document.createElement("script");s.id=this.scriptElemId,s.innerHTML="",s.src=this.getCaptchaScriptUrl(n,r,o),s.async=!0,s.defer=!0,document.getElementsByTagName("head")[0].appendChild(s)}cleanup(){let n=document.getElementById(this.scriptElemId);n&&n.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(n){return!window[this.getCallbackName(n)]||!window[this.windowGrecaptcha]?!1:n&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]?!0:!!window[this.windowGrecaptcha].execute}getCallbackName(n){return n?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(n){return n?`&hl=${n}`:""}getCaptchaScriptUrl(n,r,i){let o=n.useGlobalDomain?this.globalDomain:this.defaultDomain,s=n.useEnterprise?this.enterpriseApi:this.defaultApi,a=this.getCallbackName(n.useEnterprise);return`https://www.${o}/recaptcha/${s}?onload=${a}&render=${r}${this.getLanguageParam(i)}`}}return t.\u0275fac=function(n){return new(n||t)(ge(xe))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),X6=(()=>{class t{constructor(n,r,i,o){this.renderer=n,this.zone=r,this.injector=i,this.scriptService=o,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.useEnterprise=!1,this.type="image",this.tabIndex=0,this.success=new ke,this.load=new ke,this.reset=new ke,this.ready=new ke,this.error=new ke,this.expire=new ke,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.onChange=s=>{},this.onTouched=s=>{},this.isLoaded=!1}ngAfterViewInit(){this.control=this.injector.get(ti,void 0,pe.Optional)?.control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(n){n&&n.hl&&!n.hl.firstChange&&n.hl.currentValue!==n.hl.previousValue&&this.scriptService.cleanup(),n&&n.useGlobalDomain&&!n.useGlobalDomain.firstChange&&n.useGlobalDomain.currentValue!==n.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(n){let r=document.getElementById(n);if(!r)throw Error(`Captcha element with id '${n}' was not found`);this.captchaElem=r}renderReCaptcha(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()},0)})}handleCallback(n){this.currentResponse=n,this.success.next(n),this.zone.run(()=>{this.onChange(n),this.onTouched(n)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return new Date().getUTCMilliseconds()+Math.floor(Math.random()*9999)}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript({useGlobalDomain:this.useGlobalDomain,useEnterprise:this.useEnterprise},"explicit",n=>{this.onloadCallback(n)},this.hl)}onloadCallback(n){if(this.reCaptchaApi=n,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";let n=this.renderer.createElement("div");n.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,n),setTimeout(()=>{this.captchaElemId&&this.ensureCaptchaElem(this.captchaElemId)},0)}writeValue(n){}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return t.\u0275fac=function(n){return new(n||t)(U(At),U(xe),U($t),U(tp))},t.\u0275dir=Fe({type:t,inputs:{siteKey:"siteKey",useGlobalDomain:"useGlobalDomain",useEnterprise:"useEnterprise",type:"type",hl:"hl",tabIndex:"tabIndex"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[Yt]}),t})(),Q1=function(t){return t[t.InvisibleReCaptcha=0]="InvisibleReCaptcha",t[t.ReCaptcha2=1]="ReCaptcha2",t}(Q1||{});var Y1=(()=>{class t extends X6{constructor(n,r,i,o){super(n,r,i,o),this.renderer=n,this.zone=r,this.injector=i,this.scriptService=o,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=Q1.ReCaptcha2}ngOnChanges(n){super.ngOnChanges(n)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:n=>this.zone.run(()=>this.handleCallback(n)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return t.\u0275fac=function(n){return new(n||t)(U(At),U(xe),U($t),U(tp))},t.\u0275cmp=Ye({type:t,selectors:[["ngx-recaptcha2"]],viewQuery:function(n,r){if(n&1&&Rd(Z6,5),n&2){let i;Ds(i=Ts())&&(r.captchaWrapperElem=i.first)}},inputs:{theme:"theme",size:"size"},features:[wn([{provide:Li,useExisting:Qt(()=>t),multi:!0}]),Mt,Yt],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(n,r){n&1&&J(0,"div",null,0)},encapsulation:2}),t})(),e9=(()=>{class t{constructor(n,r){this.scriptService=n,this.zone=r}execute(n,r,i,o,s){this.executeAsPromise(n,r,o).then(i).catch(a=>s?s(a):console.error(a))}executeAsPromise(n,r,i){return new Promise((o,s)=>{let a=i||{},u=l=>{this.zone.runOutsideAngular(()=>{try{l.execute(n,{action:r}).then(h=>this.zone.run(()=>o(h)))}catch(h){s(h)}})};this.scriptService.registerCaptchaScript(a,n,u)})}}return t.\u0275fac=function(n){return new(n||t)(ge(tp),ge(xe))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),J1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=Jn({providers:[tp,e9],imports:[_t]}),t})();var n9=["captchaElem"],nn=()=>({standalone:!0}),r9=()=>["Odontologo","Pediatra","Kinesiologo","Cardiologo","Cl\xEDnico","Dermat\xF3logo","Traumat\xF3logo"];function i9(t,e){if(t&1){let n=De();y(0,"div",3)(1,"button",4),z("click",function(){$(n);let i=O();return H(i.seleccionarTipo("paciente"))}),J(2,"img",5),C(3," Paciente "),_(),y(4,"button",4),z("click",function(){$(n);let i=O();return H(i.seleccionarTipo("especialista"))}),J(5,"img",6),C(6," Especialista "),_(),y(7,"div",7)(8,"button",8),z("click",function(){$(n);let i=O();return H(i.volverLogin())}),C(9," \u{1F814} "),_()()()}}function o9(t,e){if(t&1&&J(0,"img",45),t&2){let n=O(2);N("src",n.imagenesPerfilPreview.paciente.fotoPerfil,er)}}function s9(t,e){if(t&1&&J(0,"img",45),t&2){let n=O(2);N("src",n.imagenesPerfilPreview.paciente.fotoPerfil2,er)}}function a9(t,e){t&1&&(y(0,"div")(1,"small",46),C(2,"Por favor, resuelve el captcha."),_()())}function c9(t,e){if(t&1&&(y(0,"div",47),C(1),_()),t&2){let n=O(2);D(),he(n.errorMessage)}}function u9(t,e){if(t&1){let n=De();y(0,"form",9),z("ngSubmit",function(){$(n);let i=O();return H(i.onSubmit())}),y(1,"div",10),C(2," REGISTRATE COMO PACIENTE "),_(),y(3,"div",11)(4,"label",12),J(5,"img",13),_(),y(6,"input",14),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.nombre,i)||(o.nombre=i),H(i)}),_()(),y(7,"div",11)(8,"label",15),J(9,"img",16),_(),y(10,"input",17),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.apellido,i)||(o.apellido=i),H(i)}),_()(),y(11,"div",11)(12,"label",18),J(13,"img",19),_(),y(14,"input",20),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.edad,i)||(o.edad=i),H(i)}),_()(),y(15,"div",11)(16,"label",21),J(17,"img",22),_(),y(18,"input",23),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.dni,i)||(o.dni=i),H(i)}),_()(),y(19,"div",11)(20,"label",24),J(21,"img",25),_(),y(22,"input",26),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.obraSocial,i)||(o.obraSocial=i),H(i)}),_()(),y(23,"div",11)(24,"label",27),J(25,"img",28),_(),y(26,"input",29),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.correo,i)||(o.correo=i),H(i)}),_()(),y(27,"div",11)(28,"label",30),J(29,"img",31),_(),y(30,"input",32),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.contrasena,i)||(o.contrasena=i),H(i)}),_()(),y(31,"div",11)(32,"label",33),J(33,"img",34),y(34,"span"),C(35,"Seleccione una foto de su rostro"),_(),y(36,"input",35),z("change",function(i){$(n);let o=O();return H(o.onImageSelected(i,"paciente","fotoPerfil"))}),_()(),Y(37,o9,1,1,"img",36),_(),y(38,"div",11)(39,"label",37),J(40,"img",38),y(41,"span"),C(42,"Seleccione una foto de su dni"),_(),y(43,"input",39),z("change",function(i){$(n);let o=O();return H(o.onImageSelected(i,"paciente","fotoPerfil2"))}),_()(),Y(44,s9,1,1,"img",36),_(),y(45,"div",40)(46,"ngx-recaptcha2",41,0),z("success",function(i){$(n);let o=O();return H(o.onCaptchaSuccess(i))}),_(),Y(48,a9,3,0,"div",42),_(),y(49,"button",8),z("click",function(){$(n);let i=O();return H(i.volverSeleccionTipo())}),C(50," \u{1F814} "),_(),y(51,"button",43),C(52,"REGISTRAR"),_(),Y(53,c9,2,1,"div",44),_()}if(t&2){let n,r=O();N("formGroup",r.formulario),D(6),Ae("ngModel",r.nombre),N("ngModelOptions",Rt(21,nn)),D(4),Ae("ngModel",r.apellido),N("ngModelOptions",Rt(22,nn)),D(4),Ae("ngModel",r.edad),N("ngModelOptions",Rt(23,nn)),D(4),Ae("ngModel",r.dni),N("ngModelOptions",Rt(24,nn)),D(4),Ae("ngModel",r.obraSocial),N("ngModelOptions",Rt(25,nn)),D(4),Ae("ngModel",r.correo),N("ngModelOptions",Rt(26,nn)),D(4),Ae("ngModel",r.contrasena),N("ngModelOptions",Rt(27,nn)),D(7),N("ngIf",r.imagenesPerfilPreview.paciente.fotoPerfil),D(7),N("ngIf",r.imagenesPerfilPreview.paciente.fotoPerfil2),D(2),N("siteKey",r.siteKey),D(2),N("ngIf",r.submitted&&!((n=r.formulario.get("recaptcha"))!=null&&n.value)),D(3),N("disabled",r.formulario.invalid),D(2),N("ngIf",r.errorMessage)}}function l9(t,e){if(t&1){let n=De();y(0,"span",64),z("click",function(){let i=$(n).$implicit,o=O(2);return H(o.nuevaEspecialidad=i)}),C(1),_()}if(t&2){let n=e.$implicit;D(),he(n)}}function d9(t,e){if(t&1){let n=De();y(0,"span",67),C(1),y(2,"button",68),z("click",function(){let i=$(n).index,o=O(3);return H(o.eliminarEspecialidad(i))}),C(3,"\xD7"),_()()}if(t&2){let n=e.$implicit;D(),yt(" ",n," ")}}function h9(t,e){if(t&1&&(y(0,"div",65),Y(1,d9,4,1,"span",66),_()),t&2){let n=O(2);D(),N("ngForOf",n.especialidades)}}function f9(t,e){if(t&1&&J(0,"img",45),t&2){let n=O(2);N("src",n.imagenesPerfilPreview.especialista.fotoPerfil,er)}}function p9(t,e){t&1&&(y(0,"div")(1,"small",46),C(2,"Por favor, resuelve el captcha."),_()())}function m9(t,e){if(t&1&&(y(0,"div",47),C(1),_()),t&2){let n=O(2);D(),he(n.errorMessage)}}function g9(t,e){if(t&1){let n=De();y(0,"form",9),z("ngSubmit",function(){$(n);let i=O();return H(i.onSubmit())}),y(1,"div",10),C(2," REGISTRATE COMO ESPECIALISTA "),_(),y(3,"div",11),J(4,"img",13),y(5,"input",48),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.nombre,i)||(o.nombre=i),H(i)}),_()(),y(6,"div",11),J(7,"img",16),y(8,"input",49),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.apellido,i)||(o.apellido=i),H(i)}),_()(),y(9,"div",11),J(10,"img",22),y(11,"input",50),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.dni,i)||(o.dni=i),H(i)}),_()(),y(12,"div",11),J(13,"img",19),y(14,"input",51),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.edad,i)||(o.edad=i),H(i)}),_()(),y(15,"div",52),J(16,"img",53),y(17,"input",54),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.nuevaEspecialidad,i)||(o.nuevaEspecialidad=i),H(i)}),_(),y(18,"button",55),z("click",function(){$(n);let i=O();return H(i.agregarEspecialidad())}),C(19,"Agregar"),_()(),y(20,"div",56),Y(21,l9,2,1,"span",57),_(),Y(22,h9,2,1,"div",58),y(23,"div",11),J(24,"img",28),y(25,"input",59),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.correo,i)||(o.correo=i),H(i)}),_()(),y(26,"div",11),J(27,"img",31),y(28,"input",60),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.contrasena,i)||(o.contrasena=i),H(i)}),_()(),y(29,"div",11)(30,"label",61),J(31,"img",62),y(32,"span"),C(33,"Selecciona tu imagen de perfil"),_(),y(34,"input",63),z("change",function(i){$(n);let o=O();return H(o.onImageSelected(i,"especialista","fotoPerfil"))}),_()(),Y(35,f9,1,1,"img",36),_(),y(36,"button",8),z("click",function(){$(n);let i=O();return H(i.volverSeleccionTipo())}),C(37," \u{1F814} "),_(),y(38,"div",40)(39,"ngx-recaptcha2",41,0),z("success",function(i){$(n);let o=O();return H(o.onCaptchaSuccess(i))}),_(),Y(41,p9,3,0,"div",42),_(),y(42,"button",43),C(43,"REGISTRAR"),_(),Y(44,m9,2,1,"div",44),_()}if(t&2){let n,r=O();N("formGroup",r.formulario),D(5),Ae("ngModel",r.nombre),N("ngModelOptions",Rt(22,nn)),D(3),Ae("ngModel",r.apellido),N("ngModelOptions",Rt(23,nn)),D(3),Ae("ngModel",r.dni),N("ngModelOptions",Rt(24,nn)),D(3),Ae("ngModel",r.edad),N("ngModelOptions",Rt(25,nn)),D(3),Ae("ngModel",r.nuevaEspecialidad),N("ngModelOptions",Rt(26,nn)),D(4),N("ngForOf",Rt(27,r9)),D(),N("ngIf",r.especialidades.length>0),D(3),Ae("ngModel",r.correo),N("ngModelOptions",Rt(28,nn)),D(3),Ae("ngModel",r.contrasena),N("ngModelOptions",Rt(29,nn)),D(7),N("ngIf",r.imagenesPerfilPreview.especialista.fotoPerfil),D(4),N("siteKey",r.siteKey),D(2),N("ngIf",r.submitted&&!((n=r.formulario.get("recaptcha"))!=null&&n.value)),D(),N("disabled",r.formulario.invalid),D(2),N("ngIf",r.errorMessage)}}var Z1=(()=>{let e=class e{constructor(r,i,o){this.fb=r,this.router=i,this.cdr=o,this.loginStatusChange=new ke,this.correo="",this.contrasena="",this.tipoSeleccionado=null,this.nombre="",this.apellido="",this.dni="",this.edad="",this.obraSocial="",this.nuevaEspecialidad="",this.errorMessage="",this.mostrarFormularioRegistro=!1,this.imagenesPerfil={paciente:{fotoPerfil:null,fotoPerfil2:null},especialista:{fotoPerfil:null}},this.imagenesPerfilPreview={paciente:{fotoPerfil:null,fotoPerfil2:null},especialista:{fotoPerfil:null}},this.especialidades=[],this.siteKey="6LealXQrAAAAABQjIi6GUbyifS06GPBW7U3eqLX6",this.submitted=!1}ngOnInit(){this.formulario=this.fb.group({recaptcha:["",Xr.required]})}seleccionarTipo(r){this.tipoSeleccionado=r}agregarEspecialidad(){let r=this.nuevaEspecialidad?.trim();r&&!this.especialidades.includes(r)&&this.especialidades.push(r),this.nuevaEspecialidad=""}eliminarEspecialidad(r){this.especialidades.splice(r,1)}onImageSelected(r,i,o){let s=r.target;if(!s.files||s.files.length===0)return;let a=s.files[0];i==="paciente"?this.imagenesPerfil.paciente[o]=a:i==="especialista"&&(this.imagenesPerfil.especialista[o]=a);let u=new FileReader;u.onload=()=>{i==="paciente"?this.imagenesPerfilPreview.paciente[o]=u.result:i==="especialista"&&(this.imagenesPerfilPreview.especialista[o]=u.result)},u.readAsDataURL(a)}verificarCorreoExistente(r){return v(this,null,function*(){try{let i=ht();return(yield Ph(i,r)).length>0}catch(i){throw console.error("Error al verificar correo existente:",i),new Error("Error al verificar correo existente.")}})}onSubmit(){return v(this,null,function*(){if(this.submitted=!0,Object.values(this.formulario.controls).forEach(a=>{a.markAsTouched()}),this.formulario.invalid){this.captchaElem&&this.captchaElem.resetCaptcha();return}let r=ht(),i=fn(),o=ep();if(!this.nombre||!this.apellido||!this.dni||!this.edad){this.errorMessage="Todos los campos son obligatorios.";return}if(!this.correo||!this.contrasena){this.errorMessage="Correo y contrase\xF1a son obligatorios.";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.correo)){this.errorMessage="El formato del correo es inv\xE1lido.";return}try{if(yield this.verificarCorreoExistente(this.correo)){this.errorMessage="El correo ya est\xE1 registrado. Por favor, utiliza otro.";return}}catch{this.errorMessage="Error al verificar el correo. Intenta nuevamente.";return}if(this.tipoSeleccionado==="paciente"){if(!this.imagenesPerfil.paciente.fotoPerfil||!this.imagenesPerfil.paciente.fotoPerfil2){this.errorMessage="Por favor, carga ambas im\xE1genes del perfil del paciente.";return}}else if(this.tipoSeleccionado==="especialista"){if(!this.imagenesPerfil.especialista.fotoPerfil){this.errorMessage="Por favor, carga la imagen del perfil del especialista.";return}if(!this.especialidades||this.especialidades.length===0){this.errorMessage="Selecciona al menos una especialidad.";return}}else{this.errorMessage="Por favor, selecciona un tipo de usuario.";return}try{let u=(yield Hs(r,this.correo,this.contrasena)).user;yield zs(u);let l={contentType:"image/jpeg"},h="",p="";if(this.tipoSeleccionado==="paciente"){let k=Sa(o,`imagenes/Pacientes/${u.uid}_${Date.now()}_1.jpg`);yield Da(k,this.imagenesPerfil.paciente.fotoPerfil,l),h=yield Ta(k);let F=Sa(o,`imagenes/Pacientes/${u.uid}_${Date.now()}_2.jpg`);yield Da(F,this.imagenesPerfil.paciente.fotoPerfil2,l),p=yield Ta(F)}else if(this.tipoSeleccionado==="especialista"){let k=Sa(o,`imagenes/Especialistas/${u.uid}_${Date.now()}_1.jpg`);yield Da(k,this.imagenesPerfil.especialista.fotoPerfil,l),h=yield Ta(k)}let g=this.tipoSeleccionado==="paciente"?"pacientes":"especialistas",E=Ft(i,g,u.uid),M={nombre:this.nombre,apellido:this.apellido,edad:Number(this.edad),dni:this.dni,correo:this.correo,imagenPerfil:this.tipoSeleccionado==="paciente"?[h,p]:[h]};this.tipoSeleccionado==="paciente"?M.obraSocial=this.obraSocial:this.tipoSeleccionado==="especialista"&&(M.especialidades=this.especialidades,M.aprobado=!1),yield Du(E,M),this.router.navigate(["/login"])}catch(a){a.code==="auth/invalid-email"?this.errorMessage="El formato del correo es inv\xE1lido.":a.code==="auth/email-already-in-use"?this.errorMessage="El correo ya est\xE1 registrado. Por favor, utiliza otro.":a.code==="auth/weak-password"?this.errorMessage="La contrase\xF1a es demasiado d\xE9bil. Debe tener al menos 6 caracteres.":this.errorMessage="Hubo un error al registrar el usuario. Intenta nuevamente.",console.error(a)}this.formulario.reset(),this.submitted=!1,this.captchaElem&&this.captchaElem.resetCaptcha()})}resetForm(){this.formulario.reset(),this.submitted=!1,this.captchaElem&&this.captchaElem.resetCaptcha(),this.formulario.get("recaptcha")?.setValue("")}volverLogin(){this.router.navigate(["/login"])}volverSeleccionTipo(){this.tipoSeleccionado=null,this.formulario.reset(),this.submitted=!1,this.captchaElem&&this.captchaElem.resetCaptcha(),this.formulario.get("recaptcha")?.setValue("")}onCaptchaSuccess(r){console.log("Token reCAPTCHA v2:",r)}seleccionarEspecialidad(r){r&&!this.especialidades.includes(r)&&this.especialidades.push(r),this.nuevaEspecialidad=""}};e.\u0275fac=function(i){return new(i||e)(U(va),U(Zt),U(nr))},e.\u0275cmp=Ye({type:e,selectors:[["app-registro"]],viewQuery:function(i,o){if(i&1&&Rd(n9,5),i&2){let s;Ds(s=Ts())&&(o.captchaElem=s.first)}},outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[ot],decls:4,vars:3,consts:[["captchaElem",""],["class","tipo-seleccion",4,"ngIf"],["class","formulario",3,"formGroup","ngSubmit",4,"ngIf"],[1,"tipo-seleccion"],[1,"boton-tipo",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Especialista"],[1,"btn-login"],[1,"btn-atras",3,"click"],[1,"formulario",3,"ngSubmit","formGroup"],[1,"titulo-form"],[1,"input-container"],["for","nombre"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2FUsuarioW.png?alt=media&token=335845c9-ccf3-466f-a709-8dc973648919","alt","Nombre",1,"input-icon"],["type","text","id","nombre","name","nombre","required","","placeholder","Nombre del paciente",3,"ngModelChange","ngModel","ngModelOptions"],["for","apellido"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fapellido.png?alt=media&token=12696ffd-50fb-4e7c-b079-90d1436f4813","alt","Apellido",1,"input-icon"],["type","text","id","apellido","name","apellido","required","","placeholder","Apellido del paciente",3,"ngModelChange","ngModel","ngModelOptions"],["for","edad"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fedad.png?alt=media&token=c7d04542-0fc4-4a19-8bce-de28475ce8ab","alt","Edad",1,"input-icon"],["type","number","id","edad","name","edad","required","","placeholder","Edad del paciente",3,"ngModelChange","ngModel","ngModelOptions"],["for","dni"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fdni.png?alt=media&token=a3641431-2780-4aeb-9e29-d1b51a6b9897","alt","DNI",1,"input-icon"],["type","text","id","dni","name","dni","required","","placeholder","DNI del paciente",3,"ngModelChange","ngModel","ngModelOptions"],["for","obraSocial"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fdni.png?alt=media&token=a3641431-2780-4aeb-9e29-d1b51a6b9897","alt","Obra Social",1,"input-icon"],["type","text","id","obraSocial","name","obraSocial","required","","placeholder","Obra social del paciente",3,"ngModelChange","ngModel","ngModelOptions"],["for","correo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2FCorreo.png?alt=media&token=893fb86d-e897-405c-9135-b92773f98cec","alt","Correo",1,"input-icon"],["type","email","id","correo","name","correo","required","","placeholder","Correo electr\xF3nico",3,"ngModelChange","ngModel","ngModelOptions"],["for","contrasena"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2FCandadoW.png?alt=media&token=53af1ff2-1654-4f90-8585-92c8b31fd92e","alt","Contrase\xF1a",1,"input-icon"],["type","password","id","contrasena","name","contrasena","required","","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel","ngModelOptions"],["for","paciente-foto-perfil",1,"file-label"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Frostro.png?alt=media&token=2cbc023d-44b2-4c27-a525-32986057c50b","alt","Foto de Perfil",1,"input-icon"],["type","file","id","paciente-foto-perfil","accept","image/*","required","",3,"change"],["alt","Vista previa","class","preview-image",3,"src",4,"ngIf"],["for","paciente-foto-identificacion",1,"file-label"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fdni2.png?alt=media&token=80b6649a-af88-4d5e-bde2-8412d5b93726","alt","Foto de Identificaci\xF3n",1,"input-icon"],["type","file","id","paciente-foto-identificacion","accept","image/*","required","",3,"change"],[1,"form-group","captcha-container"],["formControlName","recaptcha",3,"success","siteKey"],[4,"ngIf"],["type","submit",1,"submit-btn",3,"disabled"],["class","error-message",4,"ngIf"],["alt","Vista previa",1,"preview-image",3,"src"],[1,"text-danger"],[1,"error-message"],["id","nombre","name","nombre","required","","type","text","placeholder","Nombre del especialista",3,"ngModelChange","ngModel","ngModelOptions"],["id","apellido","name","apellido","required","","type","text","placeholder","Apellido del especialista",3,"ngModelChange","ngModel","ngModelOptions"],["id","dni","name","dni","required","","type","text","placeholder","DNI del especialista",3,"ngModelChange","ngModel","ngModelOptions"],["id","edad","name","edad","required","","type","number","placeholder","Edad del especialista",3,"ngModelChange","ngModel","ngModelOptions"],[1,"input-container","especialidades-container"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fespecialidad2.png?alt=media&token=fd641cdb-94ca-4067-a897-33552cfd4db4","alt","Especialidad",1,"input-icon"],["type","text","name","nuevaEspecialidad","placeholder","Agregar especialidad",1,"input-especialidad",3,"ngModelChange","ngModel","ngModelOptions"],["type","button",1,"btn-agregar-especialidad",3,"click"],[1,"chips-sugerencias"],["class","chip-sugerencia",3,"click",4,"ngFor","ngForOf"],["class","especialidades-lista",4,"ngIf"],["id","correo","name","correo","required","","type","email","placeholder","Correo electr\xF3nico",3,"ngModelChange","ngModel","ngModelOptions"],["id","contrasena","name","contrasena","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel","ngModelOptions"],["for","especialista-foto-perfil",1,"file-label"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fimage%20(29).png?alt=media&token=7c140d4d-335f-48ef-bc99-40df2a1ed5be","alt","Especialista",1,"input-icon"],["type","file","id","especialista-foto-perfil","accept","image/*","required","",3,"change"],[1,"chip-sugerencia",3,"click"],[1,"especialidades-lista"],["class","especialidad-chip",4,"ngFor","ngForOf"],[1,"especialidad-chip"],["type","button",1,"chip-x",3,"click"]],template:function(i,o){i&1&&(y(0,"body"),Y(1,i9,10,0,"div",1)(2,u9,54,28,"form",2)(3,g9,45,30,"form",2),_()),i&2&&(D(),N("ngIf",!o.tipoSeleccionado),D(),N("ngIf",o.tipoSeleccionado==="paciente"),D(),N("ngIf",o.tipoSeleccionado==="especialista"))},dependencies:[_t,rr,Jt,Dr,Cr,br,Pu,Cn,Ir,$o,Hn,wa,jo,Bo,J1,Y1],styles:["body[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/General%2FHospital%20Bartel.jpeg?alt=media&token=3f838801-78f3-4374-86e0-db83ab37e701);background-size:cover;background-position:center;background-attachment:fixed;height:100vh;width:100vw;overflow:hidden}.tipo-seleccion[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:40px;margin-bottom:40px;max-width:500px;margin-left:auto;margin-right:auto;height:100%}.boton-tipo[_ngcontent-%COMP%]{background-color:#16243e;border:none;border-radius:15px;padding:20px 30px;cursor:pointer;transition:transform .3s,background-color .3s;text-align:center;font-weight:700;font-size:16px;color:#fff;display:flex;flex-direction:column;align-items:center;width:250px}.boton-tipo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:20%;margin-bottom:10px;transition:transform .3s}.boton-tipo[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#1bb3c1}.boton-tipo[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.btn-atras[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:12px;border:none;border-radius:8px;font-size:18px;cursor:pointer;width:100px;margin:0 auto 20px;display:block;text-align:center}.btn-atras[_ngcontent-%COMP%]:hover{background-color:#b8b8b8}.formulario[_ngcontent-%COMP%]{background-color:#1a1a2e;padding:30px;border-radius:12px;box-shadow:0 8px 15px #0003;width:500px;margin:auto;margin-top:70px!important;color:#fff;transform:scale(.6);transform-origin:top center;width:100%;max-width:900px;margin:0 auto}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:25px;background-color:#2a2a3c;padding:10px;border-radius:10px;font-family:Roboto,sans-serif}.input-icon[_ngcontent-%COMP%]{width:35px;height:35px;margin-right:15px;transition:transform .3s}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #444;border-radius:8px;background-color:transparent;color:#fff;font-size:16px;transition:border-color .3s}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1bb3c1;outline:none}button[_ngcontent-%COMP%]{background-color:#1bb3c1;color:#fff;padding:12px;border:none;border-radius:8px;font-size:18px;cursor:pointer;transition:background-color .3s,transform .3s;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#1aabcb;transform:scale(1.05)}.error-message[_ngcontent-%COMP%]{color:red;font-size:24px;text-align:center;margin-top:15px}.titulo-form[_ngcontent-%COMP%]{color:#fff;font-size:2.1em!important;text-align:center;margin-bottom:18px;font-family:Roboto,sans-serif}select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #444;border-radius:8px;background-color:#1a1a2e;color:#fff;font-size:16px;appearance:none;transition:border-color .3s}select[_ngcontent-%COMP%]:focus{border-color:#1bb3c1;outline:none}input[type=file][_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;z-index:2}.file-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#4caf50;color:#fff;padding:12px;border-radius:8px;cursor:pointer;font-weight:700;width:100%;text-align:center;position:relative;z-index:1;transition:background-color .3s,transform .3s}.file-label[_ngcontent-%COMP%]:hover{background-color:#45a049;transform:scale(1.05)}.preview-image[_ngcontent-%COMP%]{margin-top:15px;width:60px;height:60px;object-fit:cover;border-radius:8px;box-shadow:0 4px 8px #0000004d;margin-bottom:20px;margin-left:20px}.especialidades-container[_ngcontent-%COMP%]{background:#23234a;padding:18px 10px;border-radius:12px;margin-bottom:10px;gap:12px}.input-especialidad[_ngcontent-%COMP%]{font-size:18px;padding:10px 14px;border-radius:8px;border:1.5px solid #1bb3c1;background:#18182e;color:#fff;width:60%;margin-right:10px}.btn-agregar-especialidad[_ngcontent-%COMP%]{background:#1bb3c1;color:#fff;border:none;border-radius:8px;padding:10px 24px!important;font-size:1.15em!important;font-weight:700;cursor:pointer;transition:background .2s;min-width:120px!important;width:auto!important;height:44px!important;display:flex!important;align-items:center!important;justify-content:center!important;text-align:center!important}.btn-agregar-especialidad[_ngcontent-%COMP%]:hover{background:#148a96}.chips-sugerencias[_ngcontent-%COMP%]{margin:10px 0 18px;display:flex;flex-wrap:wrap;gap:10px}.chip-sugerencia[_ngcontent-%COMP%]{background:#e3f0ff;color:#1976d2;border-radius:16px;padding:7px 18px;font-size:16px;cursor:pointer;border:1.5px solid #1976d2;transition:background .2s,color .2s;-webkit-user-select:none;user-select:none}.chip-sugerencia[_ngcontent-%COMP%]:hover{background:#1976d2;color:#fff}.especialidades-lista[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:18px}.especialidad-chip[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-radius:16px;padding:7px 18px 7px 14px;font-size:17px;display:flex;align-items:center;gap:6px;box-shadow:0 2px 8px #1976d233}.chip-x[_ngcontent-%COMP%]{background:transparent;color:#fff;border:none;font-size:20px;margin-left:6px;cursor:pointer;font-weight:700;transition:color .2s}.chip-x[_ngcontent-%COMP%]:hover{color:#e53935}.captcha-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:0}.captcha-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .captcha-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{transform:scale(1.4);transform-origin:top center;margin-bottom:8px}.captcha-container[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{margin-top:8px;text-align:center;font-size:1.3em!important;color:#b71c1c!important;font-weight:700!important}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formulario[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .formulario[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:20px!important;padding:8px 14px!important;height:38px!important;margin-bottom:8px}.formulario[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .formulario[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .formulario[_ngcontent-%COMP%]   .btn-atras[_ngcontent-%COMP%], .formulario[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{font-size:20px;padding:3px 8px;height:24px;min-width:60px;margin:2px 4px}.form-group[_ngcontent-%COMP%]{margin-bottom:6px}.btn-atras[_ngcontent-%COMP%]{display:block!important;margin:16px auto 24px!important;text-align:center!important}.submit-btn[_ngcontent-%COMP%]{height:38px!important;font-size:20px!important;padding:6px 20px!important;display:block;margin:18px auto 0;text-transform:uppercase!important}.btn-imagen-perfil[_ngcontent-%COMP%]{font-size:1.5em!important;padding:14px 36px!important;min-width:200px!important;height:56px!important;display:flex!important;align-items:center!important;justify-content:center!important;text-align:center!important}.btn-agregar-especialidad[_ngcontent-%COMP%], .btn-especialidad[_ngcontent-%COMP%], .btn-imagen-perfil[_ngcontent-%COMP%]{font-size:1.4em!important;min-width:160px!important;height:54px!important;padding:12px 32px!important;display:flex!important;align-items:center!important;justify-content:center!important;text-align:center!important}.submit-btn[disabled][_ngcontent-%COMP%], button[disabled].submit-btn[_ngcontent-%COMP%]{background:#888!important;color:#eee!important;opacity:.6!important;cursor:not-allowed!important;border:1px solid #aaa!important;box-shadow:none!important}"]});let t=e;return t})();function y9(t,e){t&1&&(y(0,"th"),C(1,"Estado"),_())}function _9(t,e){if(t&1&&(y(0,"td"),C(1),_()),t&2){let n=O().$implicit;D(),yt(" ",n.aprobado?"Habilitado":"Inhabilitado"," ")}}function v9(t,e){if(t&1){let n=De();y(0,"button",7),z("click",function(){$(n);let i=O().$implicit,o=O(2);return H(o.cambiarEstadoEspecialista(i))}),C(1),_()}if(t&2){let n=O().$implicit;D(),yt(" ",n.aprobado?"Inhabilitar":"Habilitar"," ")}}function w9(t,e){if(t&1&&(y(0,"tr")(1,"td"),C(2),_(),y(3,"td"),C(4),_(),y(5,"td"),C(6),_(),y(7,"td"),C(8),_(),y(9,"td"),C(10),_(),y(11,"td"),C(12),_(),Y(13,_9,2,1,"td",4),y(14,"td"),Y(15,v9,2,1,"button",9),_()()),t&2){let n=e.$implicit;D(2),he(n.tipo),D(2),he(n.nombre),D(2),he(n.apellido),D(2),he(n.correo),D(2),he(n.dni),D(2),he(n.edad),D(),N("ngIf",n.tipo==="especialista"),D(2),N("ngIf",n.tipo==="especialista")}}function E9(t,e){if(t&1&&(y(0,"div",22),C(1),_()),t&2){let n=O(3);D(),he(n.adminError)}}function b9(t,e){if(t&1&&(y(0,"div",23),C(1),_()),t&2){let n=O(3);D(),he(n.adminSuccess)}}function I9(t,e){if(t&1){let n=De();y(0,"form",10,1),z("ngSubmit",function(){$(n);let i=O(2);return H(i.registrarAdmin())}),y(2,"h3"),C(3,"Registrar Administrador"),_(),y(4,"div",11)(5,"input",12),Me("ngModelChange",function(i){$(n);let o=O(2);return Pe(o.adminNombre,i)||(o.adminNombre=i),H(i)}),_()(),y(6,"div",11)(7,"input",13),Me("ngModelChange",function(i){$(n);let o=O(2);return Pe(o.adminApellido,i)||(o.adminApellido=i),H(i)}),_()(),y(8,"div",11)(9,"input",14),Me("ngModelChange",function(i){$(n);let o=O(2);return Pe(o.adminEdad,i)||(o.adminEdad=i),H(i)}),_()(),y(10,"div",11)(11,"input",15),Me("ngModelChange",function(i){$(n);let o=O(2);return Pe(o.adminDni,i)||(o.adminDni=i),H(i)}),_()(),y(12,"div",11)(13,"input",16),Me("ngModelChange",function(i){$(n);let o=O(2);return Pe(o.adminMail,i)||(o.adminMail=i),H(i)}),_()(),y(14,"div",11)(15,"input",17),Me("ngModelChange",function(i){$(n);let o=O(2);return Pe(o.adminPassword,i)||(o.adminPassword=i),H(i)}),_()(),y(16,"div",11)(17,"input",18),z("change",function(i){$(n);let o=O(2);return H(o.onAdminImageSelected(i))}),_()(),y(18,"button",19),C(19,"Registrar Administrador"),_(),Y(20,E9,2,1,"div",20)(21,b9,2,1,"div",21),_()}if(t&2){let n=O(2);D(5),Ae("ngModel",n.adminNombre),D(2),Ae("ngModel",n.adminApellido),D(2),Ae("ngModel",n.adminEdad),D(2),Ae("ngModel",n.adminDni),D(2),Ae("ngModel",n.adminMail),D(2),Ae("ngModel",n.adminPassword),D(5),N("ngIf",n.adminError),D(),N("ngIf",n.adminSuccess)}}function C9(t,e){if(t&1){let n=De();y(0,"div",3)(1,"h2"),C(2,"Gesti\xF3n de Usuarios"),_(),y(3,"table")(4,"thead")(5,"tr")(6,"th"),C(7,"Tipo"),_(),y(8,"th"),C(9,"Nombre"),_(),y(10,"th"),C(11,"Apellido"),_(),y(12,"th"),C(13,"Mail"),_(),y(14,"th"),C(15,"DNI"),_(),y(16,"th"),C(17,"Edad"),_(),Y(18,y9,2,0,"th",4),y(19,"th"),C(20,"Acciones"),_()()(),y(21,"tbody"),Y(22,w9,16,8,"tr",5),_()(),y(23,"div",6)(24,"button",7),z("click",function(){$(n);let i=O();return H(i.mostrarFormularioAdmin=!i.mostrarFormularioAdmin)}),C(25),_()(),Y(26,I9,22,8,"form",8),_()}if(t&2){let n=O();D(18),N("ngIf",n.tieneEspecialistas()),D(4),N("ngForOf",n.usuarios),D(3),yt(" ",n.mostrarFormularioAdmin?"Ocultar registro de administrador":"Registrar un usuario Administrador"," "),D(),N("ngIf",n.mostrarFormularioAdmin)}}function D9(t,e){t&1&&(y(0,"p"),C(1,"No tiene acceso a esta secci\xF3n."),_())}var X1=(()=>{let e=class e{constructor(r){this.router=r,this.usuarios=[],this.usuarioActual=null,this.mostrarFormularioAdmin=!1,this.adminNombre="",this.adminApellido="",this.adminEdad="",this.adminDni="",this.adminMail="",this.adminPassword="",this.adminImagen=null,this.adminOriginalMail="",this.adminOriginalPassword="",this.adminError="",this.adminSuccess=""}ngOnInit(){return v(this,null,function*(){let r=ht(),i=fn();Co(r,o=>v(this,null,function*(){if(!o){this.router.navigate(["/login"]);return}let s=0,a=null;for(;s<10&&(a=yield Bn(Ft(i,"administradores",o.uid)),!a.exists());)yield new Promise(u=>setTimeout(u,200)),s++;if(!a||!a.exists()){this.usuarioActual=null;return}this.usuarioActual={tipo:"administrador",uid:o.uid},yield this.cargarUsuarios()}))})}cargarUsuarios(){return v(this,null,function*(){let r=fn();this.usuarios=[],(yield pa(fa(r,"pacientes"))).forEach(a=>{this.usuarios.push(Se(q({},a.data()),{tipo:"paciente",uid:a.id}))}),(yield pa(fa(r,"especialistas"))).forEach(a=>{this.usuarios.push(Se(q({},a.data()),{tipo:"especialista",uid:a.id}))}),(yield pa(fa(r,"administradores"))).forEach(a=>{this.usuarios.push(Se(q({},a.data()),{tipo:"administrador",uid:a.id}))})})}tieneEspecialistas(){return this.usuarios.some(r=>r.tipo==="especialista")}cambiarEstadoEspecialista(r){return v(this,null,function*(){let i=fn(),o=Ft(i,"especialistas",r.uid);yield Mf(o,{aprobado:!r.aprobado}),yield this.cargarUsuarios()})}registrarAdmin(){return v(this,null,function*(){if(this.adminError="",this.adminSuccess="",!this.adminNombre||!this.adminApellido||!this.adminEdad||!this.adminDni||!this.adminMail||!this.adminPassword||!this.adminImagen){this.adminError="Todos los campos son obligatorios.";return}let r=ht(),i=fn(),o=ep();try{let a=(yield Hs(r,this.adminMail,this.adminPassword)).user;yield zs(a);let u=Sa(o,`imagenes/Administradores/${a.uid}_${Date.now()}.jpg`);yield Da(u,this.adminImagen);let l=yield Ta(u),h={nombre:this.adminNombre,apellido:this.adminApellido,edad:Number(this.adminEdad),dni:this.adminDni,correo:this.adminMail,imagenPerfil:[l]},p=Ft(i,"administradores",a.uid);yield Du(p,h),this.adminSuccess="Administrador registrado correctamente.",this.adminNombre="",this.adminApellido="",this.adminEdad="",this.adminDni="",this.adminMail="",this.adminPassword="",this.adminImagen=null,yield this.cargarUsuarios()}catch(s){this.adminError=s.message||"Error al crear administrador"}})}onAdminImageSelected(r){let i=r.target;i.files&&i.files.length>0&&(this.adminImagen=i.files[0])}};e.\u0275fac=function(i){return new(i||e)(U(Zt))},e.\u0275cmp=Ye({type:e,selectors:[["app-usuarios"]],standalone:!0,features:[ot],decls:3,vars:2,consts:[["noAcceso",""],["adminForm","ngForm"],["class","usuarios-container",4,"ngIf","ngIfElse"],[1,"usuarios-container"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"boton-centrado"],[3,"click"],["class","form-admin",3,"ngSubmit",4,"ngIf"],[3,"click",4,"ngIf"],[1,"form-admin",3,"ngSubmit"],[1,"input-container"],["type","text","name","adminNombre","placeholder","Nombre","required","",3,"ngModelChange","ngModel"],["type","text","name","adminApellido","placeholder","Apellido","required","",3,"ngModelChange","ngModel"],["type","number","name","adminEdad","placeholder","Edad","required","",3,"ngModelChange","ngModel"],["type","text","name","adminDni","placeholder","DNI","required","",3,"ngModelChange","ngModel"],["type","email","name","adminMail","placeholder","Mail","required","",3,"ngModelChange","ngModel"],["type","password","name","adminPassword","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","file","accept","image/*","required","",3,"change"],["type","submit"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[1,"error"],[1,"success"]],template:function(i,o){if(i&1&&Y(0,C9,27,4,"div",2)(1,D9,2,0,"ng-template",null,0,oD),i&2){let s=XC(2);N("ngIf",(o.usuarioActual==null?null:o.usuarioActual.tipo)==="administrador")("ngIfElse",s)}},dependencies:[Dr,Cr,br,Pu,Cn,Ir,$o,Hn,Ru,_t,rr,Jt],styles:["[_nghost-%COMP%]{display:block;padding:2rem;background:#f4f8fb;min-height:100vh}h3[_ngcontent-%COMP%]{color:#1976d2;margin-top:2rem;margin-bottom:1rem;font-size:1.35rem;font-weight:700;text-align:center;letter-spacing:.5px}.form-admin[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;width:100%;margin-bottom:1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;margin-bottom:2.5rem;background:#fff;box-shadow:0 4px 16px #2c3e501a;border-radius:12px;overflow:hidden}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem 1.2rem;text-align:left}th[_ngcontent-%COMP%]{background:#e3eafc;color:#1976d2;font-weight:700;border-bottom:2px solid #d1d9e6;font-size:1.08rem}tr[_ngcontent-%COMP%]{border-bottom:1px solid #f1f1f1;transition:background .2s}tr[_ngcontent-%COMP%]:hover{background:#f0f7ff}td[_ngcontent-%COMP%]{vertical-align:middle;font-size:1.02rem}button[_ngcontent-%COMP%]{padding:.45rem 1.1rem;border:none;border-radius:5px;background:#1976d2;color:#fff;cursor:pointer;font-weight:500;font-size:1rem;transition:background .2s,box-shadow .2s;box-shadow:0 2px 6px #1976d214}button[_ngcontent-%COMP%]:hover{background:#125ea7;box-shadow:0 4px 12px #1976d221}form[_ngcontent-%COMP%]{background:#fff;padding:2.2rem 2.5rem 1.5rem;border-radius:14px;box-shadow:0 6px 24px #2c3e5021;display:flex;flex-wrap:wrap;gap:1.1rem;align-items:flex-end;margin-bottom:2rem;border:1.5px solid #e3e8ee;position:relative}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:.7rem 1rem;border:1.5px solid #bfc9d1;border-radius:6px;font-size:1.05rem;outline:none;background:#f8fafb;transition:border .2s,box-shadow .2s}select[_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#1976d2;background:#f0f7ff;box-shadow:0 2px 8px #1976d214}input[type=file][_ngcontent-%COMP%]{margin-top:.5rem;font-size:1rem;background:#f8fafb;border-radius:6px;border:1.5px solid #bfc9d1;padding:.5rem}button[type=submit][_ngcontent-%COMP%]{padding:.8rem 1.5rem;background:#43a047;color:#fff;border:none;border-radius:6px;font-weight:700;cursor:pointer;transition:background .2s,box-shadow .2s;margin-top:.7rem;font-size:1.08rem;box-shadow:0 2px 8px #43a04717}.form-admin[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{display:block;margin:1rem auto 0}button[type=submit][_ngcontent-%COMP%]:hover{background:#357a38;box-shadow:0 4px 16px #43a04721}p[_ngcontent-%COMP%]{color:#c62828;font-weight:500;margin-top:1rem;text-align:center;font-size:1rem}.error[_ngcontent-%COMP%]{color:#c62828;font-weight:500;margin-top:.5rem;text-align:center;font-size:1rem}.success[_ngcontent-%COMP%]{color:#388e3c;font-weight:500;margin-top:.5rem;text-align:center;font-size:1rem}@media (max-width: 700px){.form-admin[_ngcontent-%COMP%]{padding:1rem;max-width:100%}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:.97rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.6rem .5rem}}.form-admin[_ngcontent-%COMP%]{background:#fff;padding:2.2rem 2.5rem 1.5rem;border-radius:14px;box-shadow:0 6px 24px #2c3e5021;display:flex;flex-direction:column;gap:1.1rem;max-width:430px;margin:2.5rem auto 0;border:1.5px solid #e3e8ee;position:relative}.input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:.3rem}h2[_ngcontent-%COMP%]{color:#1976d2;margin-bottom:2rem;font-size:2.2rem;font-weight:700;text-align:center;letter-spacing:1px}.boton-centrado[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1rem}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.usuarios-container[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-family:Segoe UI,Roboto,Arial,sans-serif}"]});let t=e;return t})();var T9=(t,e)=>({"horario-no-disponible":t,"horario-seleccionado":e});function S9(t,e){if(t&1){let n=De();y(0,"button",13),z("click",function(){let i=$(n).$implicit,o=O(2);return H(o.seleccionarProfesional(i))}),J(1,"img",14),y(2,"div",15),C(3),_()()}if(t&2){let n=e.$implicit;D(),Ad("alt",n.nombre),N("src",n.imagen,er),D(2),he(n.nombre)}}function x9(t,e){if(t&1&&(y(0,"div",9)(1,"h3",10),C(2,"Selecciona un profesional"),_(),y(3,"div",11),Y(4,S9,4,3,"button",12),_()()),t&2){let n=O();D(4),N("ngForOf",n.profesionales)}}function A9(t,e){if(t&1){let n=De();y(0,"button",18),z("click",function(){let i=$(n).$implicit,o=O(2);return H(o.seleccionarEspecialidad(i))}),y(1,"div",19),J(2,"img",20),_(),y(3,"div",21),C(4),_()()}if(t&2){let n=e.$implicit,r=O(2);D(2),Ad("alt",n.nombre),N("src",r.getImagenEspecialidad(n.nombre),er),D(2),he(n.nombre)}}function M9(t,e){if(t&1&&(y(0,"div",16)(1,"h3"),C(2,"Selecciona una especialidad"),_(),Y(3,A9,5,3,"button",17),_()),t&2){let n=O();D(3),N("ngForOf",n.profesionalSeleccionado.especialidades)}}function R9(t,e){if(t&1){let n=De();y(0,"button",25),z("click",function(){let i=$(n).$implicit,o=O(2);return H(o.seleccionarDia(i))}),C(1),_()}if(t&2){let n=e.$implicit;D(),yt(" ",n," ")}}function P9(t,e){if(t&1&&(y(0,"div",22)(1,"h3",10),C(2,"Selecciona un d\xEDa"),_(),y(3,"div",23),Y(4,R9,2,1,"button",24),_()()),t&2){let n=O();D(4),N("ngForOf",n.diasDisponibles)}}function N9(t,e){if(t&1){let n=De();y(0,"button",28),z("click",function(){let i=$(n).$implicit,o=O(2);return H(o.seleccionarHorario(i))}),C(1),_()}if(t&2){let n=e.$implicit,r=O(2);N("disabled",!r.esHorarioDisponible(n))("ngClass",nD(3,T9,!r.esHorarioDisponible(n),r.horarioSeleccionado===n)),D(),yt(" ",n," ")}}function O9(t,e){if(t&1&&(y(0,"div",26)(1,"h3"),C(2,"Selecciona un horario"),_(),Y(3,N9,2,6,"button",27),_()),t&2){let n=O();D(3),N("ngForOf",n.horariosDisponibles)}}function k9(t,e){if(t&1&&(y(0,"div",29)(1,"h3"),C(2,"Confirmar turno"),_(),y(3,"p"),C(4," Profesional: "),y(5,"b"),C(6),_(),J(7,"br"),C(8," Especialidad: "),y(9,"b"),C(10),_(),J(11,"br"),C(12," D\xEDa: "),y(13,"b"),C(14),_(),J(15,"br"),C(16," Horario: "),y(17,"b"),C(18),_()()()),t&2){let n=O();D(6),he(n.profesionalSeleccionado==null?null:n.profesionalSeleccionado.nombre),D(4),he(n.especialidadSeleccionada==null?null:n.especialidadSeleccionada.nombre),D(4),he(n.diaSeleccionado),D(4),he(n.horarioSeleccionado)}}function F9(t,e){if(t&1&&(y(0,"option",34),C(1),_()),t&2){let n=e.$implicit;N("value",n.id),D(),kn("",n.nombre," ",n.apellido,"")}}function V9(t,e){if(t&1&&(y(0,"div",30)(1,"label"),C(2,"Paciente:"),_(),y(3,"select",31)(4,"option",32),C(5,"Seleccione un paciente"),_(),Y(6,F9,2,3,"option",33),_()()),t&2){let n=O();D(6),N("ngForOf",n.pacientes)}}function L9(t,e){if(t&1&&(y(0,"div",38),C(1),_()),t&2){let n=O(2);D(),he(n.mensajeExito)}}function U9(t,e){if(t&1){let n=De();y(0,"div",35)(1,"button",36),z("click",function(){$(n);let i=O();return H(i.solicitarTurno())}),C(2,"Solicitar Turno"),_(),Y(3,L9,2,1,"div",37),_()}if(t&2){let n=O();D(),N("disabled",!n.horarioSeleccionado||n.enviando),D(2),N("ngIf",n.mensajeExito)}}var eM=(()=>{let e=class e{constructor(r){this.fb=r,this.especialidades=[],this.especialistas=[],this.especialistasFiltrados=[],this.esAdmin=!1,this.pacientes=[],this.diasDisponibles=[],this.horasDisponibles=[],this.horariosEspecialista=[],this.mensajeExito="",this.profesionales=[],this.profesionalSeleccionado=null,this.especialidadSeleccionada=null,this.diaSeleccionado=null,this.horariosDisponibles=[],this.horarioSeleccionado=null,this.enviando=!1,this.horariosReservados=[],this.especialidadImagenes={Odontologo:"https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Especialidades%2Fodontologo.jpg?alt=media&token=532b9f54-92cb-4928-86d7-c971f567fe6f",Pediatra:"https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Especialidades%2Fpediatra.jpg?alt=media&token=e93eb3a9-9988-45b1-b197-49219d195b61",Kinesiologo:"https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Especialidades%2Fkinesiologi%CC%81a.png?alt=media&token=ec2ffb61-c4d0-443a-af9a-1db99176b2f9",Cardiologo:"https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Especialidades%2Fcardiologo.png?alt=media&token=6196d14c-1acd-47c4-bdbf-9a170971b55b",Cl\u00EDnico:"https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Especialidades%2Fclinico.jpg?alt=media&token=17https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Especialidades%2Fclinico.jpg?alt=media&token=1703f9b0-ede3-4943-a0e4-2d644284ffdehttps://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Especialidades%2Fclinico.jpg?alt=media&token=1703f9b0-ede3-4943-a0e4-2d644284ffde03f9b0-ede3-4943-a0e4-2d644284ffde",Dermat\u00F3logo:"https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Especialidades%2Fdermatologo.jpg?alt=media&token=89c12570-e117-4f79-86f4-3b5c1218ab14",Traumat\u00F3logo:"https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Especialidades%2Ftraumatologo.jpeg?alt=media&token=3b4519c1-85c0-439c-9f7a-c5ec14145e0c",default:"https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Especialidades%2Fdefault.jpg?alt=media&token=d5298d56-1986-405e-8fb5-8587562904e5"},this.firestore=G($n)}ngOnInit(){return v(this,null,function*(){if(this.turnoForm=this.fb.group({especialidad:["",Xr.required],especialista:["",Xr.required],dia:["",Xr.required],hora:["",Xr.required],paciente:[""]}),yield this.cargarProfesionalesDesdeFirestore(),this.esAdmin){let r=tn(this.firestore,"pacientes");Nf(r,{idField:"id"}).subscribe(i=>{this.pacientes=i})}})}cargarProfesionalesDesdeFirestore(){return v(this,null,function*(){let r=tn(this.firestore,"especialistas"),i=mn(r,He("aprobado","==",!0)),o=yield wr(i);this.profesionales=o.docs.map(s=>{let a=s.data(),u=[];return Array.isArray(a.especialidades)?u=a.especialidades.map((l,h)=>({id:"esp"+h,nombre:l,imagen:""})):a.especialidad&&(u=[{id:"esp1",nombre:a.especialidad,imagen:""}]),{id:s.id,nombre:a.nombre+" "+a.apellido,imagen:Array.isArray(a.imagenPerfil)&&a.imagenPerfil.length>0?a.imagenPerfil[0]:"https://cdn-icons-png.flaticon.com/512/3774/3774296.png",especialidades:u}})})}onEspecialidadChange(){return v(this,null,function*(){let r=this.turnoForm.value.especialidad;this.especialistasFiltrados=this.especialistas.filter(i=>i.especialidad===r||Array.isArray(i.especialidades)&&i.especialidades.includes(r)),this.turnoForm.patchValue({especialista:""}),this.diasDisponibles=[],this.horasDisponibles=[],this.horariosEspecialista=[]})}onEspecialistaChange(){return v(this,null,function*(){let r=this.turnoForm.value.especialista,i=this.turnoForm.value.especialidad;if(!r||!i)return;let o=tn(this.firestore,"Horarios"),s=mn(o,He("especialistaId","==",r),He("especialidad","==",i)),a=yield wr(s);this.horariosEspecialista=a.docs.map(u=>u.data()),this.diasDisponibles=this.getDiasDisponiblesProximos15(),this.turnoForm.patchValue({dia:"",hora:""}),this.horasDisponibles=[]})}onDiaChange(){return v(this,null,function*(){let r=this.turnoForm.value.dia,i=/^(\d{4}-\d{2}-\d{2}) \(([^)]+)\)$/.exec(r),o=i?i[1]:"",s=i?i[2]:"",a=this.horariosEspecialista.filter(p=>p.dia===s).map(p=>p.hora),u=new Date,l=new Date(o);if(o&&u.toISOString().slice(0,10)===o){let p=u.getHours()+u.getMinutes()/60;a=a.filter(g=>{let[E,M]=g.split(":").map(Number);return E+M/60>p})}let h=this.turnoForm.value.especialista;if(h&&o){let p=tn(this.firestore,"Turnos"),g=mn(p,He("especialistaId","==",h),He("FechaTurno","==",o),He("estado","in",["pendiente","confirmado"])),M=(yield wr(g)).docs.map(k=>k.data().HorarioTurno);a=a.filter(k=>!M.includes(k))}this.horasDisponibles=a,this.turnoForm.patchValue({hora:""})})}getDiasDisponiblesProximos15(){if(!this.horariosEspecialista.length)return[];let r=["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],i=Array.from(new Set(this.horariosEspecialista.map(a=>a.dia))),o=new Date,s=[];for(let a=0;a<15;a++){let u=new Date(o);u.setDate(o.getDate()+a);let l=r[u.getDay()];if(i.includes(l)){let h=u.toISOString().slice(0,10)+" ("+l+")";s.push(h)}}return s}solicitarTurno(){return v(this,null,function*(){if(this.enviando)return;if(!this.horarioSeleccionado){this.mensajeExito="Debes seleccionar un horario v\xE1lido.",setTimeout(()=>{this.mensajeExito=""},3e3);return}this.enviando=!0;let r=ht().currentUser;if(!r){this.mensajeExito="Debes estar logueado para solicitar un turno.",setTimeout(()=>{this.mensajeExito=""},3e3),this.enviando=!1;return}let i=tn(this.firestore,"Turnos"),o=mn(i,He("especialistaId","==",this.profesionalSeleccionado?.id),He("especialidad","==",this.especialidadSeleccionada?.nombre),He("FechaTurno","==",this.diaSeleccionado),He("HorarioTurno","==",this.horarioSeleccionado));if(!(yield wr(o)).empty){this.mensajeExito="Ese horario ya fue reservado. Por favor, elige otro.",setTimeout(()=>{this.mensajeExito=""},3e3),this.enviando=!1;return}let a="",u="";try{let g=yield Uo(pn(this.firestore,"pacientes",r.uid));if(g.exists()){let E=g.data();a=E.nombre||"",u=E.apellido||""}}catch{}let l="",h="";if(this.profesionalSeleccionado){let g=this.profesionalSeleccionado.nombre.split(" ");l=g[0]||"",h=g.slice(1).join(" ")||""}let p={especialistaId:this.profesionalSeleccionado?.id,especialistaNombre:l,especialistaApellido:h,especialidad:this.especialidadSeleccionada?.nombre,FechaTurno:this.diaSeleccionado,HorarioTurno:this.horarioSeleccionado,pacienteId:r.uid,pacienteNombre:a,pacienteApellido:u,estado:"pendiente",fechaSolicitud:new Date};try{yield Of(tn(this.firestore,"Turnos"),p),this.mensajeExito="\xA1Turno solicitado con \xE9xito!"}catch(g){this.mensajeExito="Error al solicitar el turno: "+g.message}setTimeout(()=>{this.mensajeExito=""},3e3),this.profesionalSeleccionado=null,this.especialidadSeleccionada=null,this.diaSeleccionado=null,this.horarioSeleccionado=null,this.enviando=!1})}seleccionarProfesional(r){this.profesionalSeleccionado=r,this.especialidadSeleccionada=null,this.diaSeleccionado=null,this.horarioSeleccionado=null,this.diasDisponibles=["09-09-2021","10-09-2021","11-09-2021"]}seleccionarEspecialidad(r){this.especialidadSeleccionada=r,this.diaSeleccionado=null,this.horarioSeleccionado=null,this.diasDisponibles=["09-09-2021","10-09-2021","11-09-2021"]}seleccionarDia(r){return v(this,null,function*(){if(this.diaSeleccionado=r,this.horarioSeleccionado=null,this.horariosDisponibles=["08:00am","09:30am","11:00am","12:15pm"],this.profesionalSeleccionado&&this.especialidadSeleccionada){let i=tn(this.firestore,"Turnos"),o=mn(i,He("especialistaId","==",this.profesionalSeleccionado.id),He("especialidad","==",this.especialidadSeleccionada.nombre),He("FechaTurno","==",r)),s=yield wr(o);this.horariosReservados=s.docs.map(a=>a.data().HorarioTurno)}else this.horariosReservados=[]})}esHorarioDisponible(r){return!this.horariosReservados.includes(r)}seleccionarHorario(r){return v(this,null,function*(){let i=tn(this.firestore,"Turnos"),o=mn(i,He("especialistaId","==",this.profesionalSeleccionado?.id),He("especialidad","==",this.especialidadSeleccionada?.nombre),He("FechaTurno","==",this.diaSeleccionado),He("HorarioTurno","==",r));(yield wr(o)).empty&&(this.horarioSeleccionado=r,this.mensajeExito="")})}confirmarTurno(){alert(`Turno reservado con ${this.profesionalSeleccionado?.nombre} - ${this.especialidadSeleccionada?.nombre} el ${this.diaSeleccionado} a las ${this.horarioSeleccionado}`),this.profesionalSeleccionado=null,this.especialidadSeleccionada=null,this.diaSeleccionado=null,this.horarioSeleccionado=null}getImagenEspecialidad(r){return this.especialidadImagenes[r]||this.especialidadImagenes.default}};e.\u0275fac=function(i){return new(i||e)(U(va))},e.\u0275cmp=Ye({type:e,selectors:[["app-sacar-turno"]],standalone:!0,features:[ot],decls:11,vars:8,consts:[[1,"turno-container"],[3,"ngSubmit","formGroup"],["class","profesionales-step",4,"ngIf"],["class","especialidades-lista",4,"ngIf"],["class","dias-step",4,"ngIf"],["class","horarios-lista",4,"ngIf"],["class","confirmar-turno",4,"ngIf"],["class","form-group",4,"ngIf"],["class","solicitar-turno-footer","style","text-align:center; margin-top: 32px;",4,"ngIf"],[1,"profesionales-step"],[1,"step-title"],[1,"profesionales-lista"],["class","profesional-btn",3,"click",4,"ngFor","ngForOf"],[1,"profesional-btn",3,"click"],[1,"profesional-img",3,"src","alt"],[1,"profesional-nombre"],[1,"especialidades-lista"],["class","especialidad-btn",3,"click",4,"ngFor","ngForOf"],[1,"especialidad-btn",3,"click"],[1,"especialidad-img-container"],[1,"especialidad-img",3,"src","alt"],[1,"especialidad-nombre"],[1,"dias-step"],[1,"dias-lista"],["class","dia-btn",3,"click",4,"ngFor","ngForOf"],[1,"dia-btn",3,"click"],[1,"horarios-lista"],["class","horario-btn",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],[1,"horario-btn",3,"click","disabled","ngClass"],[1,"confirmar-turno"],[1,"form-group"],["formControlName","paciente"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"solicitar-turno-footer",2,"text-align","center","margin-top","32px"],[1,"confirmar-btn",3,"click","disabled"],["class","mensaje-exito",4,"ngIf"],[1,"mensaje-exito"]],template:function(i,o){i&1&&(y(0,"div",0)(1,"h2"),C(2,"Sacar Turno"),_(),y(3,"form",1),z("ngSubmit",function(){return o.solicitarTurno()}),Y(4,x9,5,1,"div",2)(5,M9,4,1,"div",3)(6,P9,5,1,"div",4)(7,O9,4,1,"div",5)(8,k9,19,4,"div",6)(9,V9,7,1,"div",7)(10,U9,4,2,"div",8),_()()),i&2&&(D(3),N("formGroup",o.turnoForm),D(),N("ngIf",!o.profesionalSeleccionado),D(),N("ngIf",o.profesionalSeleccionado&&!o.especialidadSeleccionada),D(),N("ngIf",o.especialidadSeleccionada&&!o.diaSeleccionado),D(),N("ngIf",o.diaSeleccionado&&!o.horarioSeleccionado),D(),N("ngIf",o.horarioSeleccionado),D(),N("ngIf",o.esAdmin),D(),N("ngIf",o.horarioSeleccionado))},dependencies:[_t,Fd,rr,Jt,wa,Cr,Wf,Qf,_a,Cn,Ir,jo,Bo],styles:["body[_ngcontent-%COMP%], .turno-container[_ngcontent-%COMP%]{font-family:Segoe UI,Roboto,Arial,sans-serif}.turno-container[_ngcontent-%COMP%]{max-width:420px;margin:32px auto;padding:28px 28px 18px;background:#f4f8fb;border-radius:12px;box-shadow:0 2px 12px #1976d220;border:1.5px solid #1976d2}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:22px;color:#1976d2;font-weight:700;letter-spacing:1px}.form-group[_ngcontent-%COMP%]{min-height:70px;display:flex;flex-direction:column;justify-content:center}label[_ngcontent-%COMP%]{display:block;margin-bottom:7px;font-weight:600;color:#1976d2}select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;padding:9px;border-radius:6px;border:1.5px solid #b0c4de;font-size:1em;background:#fff;transition:border .2s}select[_ngcontent-%COMP%]:focus{border:1.5px solid #1976d2;outline:none}button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;margin-top:12px;cursor:pointer;font-weight:600;font-size:1.08em;box-shadow:0 1px 4px #1976d220;transition:background .2s}button[_ngcontent-%COMP%]:disabled{background:#b0c4de;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .mensaje-vacio[_ngcontent-%COMP%]{min-height:44px;display:flex;align-items:center}.mensaje-vacio[_ngcontent-%COMP%]{background:#e3eafc;color:#1976d2;border:1px solid #b0c4de;border-radius:6px;padding:10px 12px;margin-bottom:16px;text-align:center;font-size:.98em;font-weight:500;letter-spacing:.2px;min-height:44px;display:flex;align-items:center;justify-content:center}.mensaje-exito-turno[_ngcontent-%COMP%]{background:#e3fcec;color:#388e3c;border:1.5px solid #388e3c;border-radius:7px;padding:12px 16px;margin:18px 0 0;text-align:center;font-size:1.08em;font-weight:600;letter-spacing:.2px;box-shadow:0 1px 6px #388e3c22;display:flex;align-items:center;justify-content:center;gap:8px}.mensaje-exito[_ngcontent-%COMP%]{color:#fff;background:#43a047;border-radius:8px;padding:10px 24px;margin-top:18px;font-size:1.1em;text-align:center;display:inline-block;box-shadow:0 2px 8px #43a0471f}.profesionales-lista[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:32px;justify-content:center;align-items:flex-start;margin:0 auto;max-width:900px}.profesional-btn[_ngcontent-%COMP%]{width:170px;height:130px;border-radius:18px;border:2px solid #1976d2;background:#f5faff;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:box-shadow .2s,border .2s;box-shadow:0 2px 8px #1976d214;padding:12px;margin:0}.profesional-btn[_ngcontent-%COMP%]:hover{border:2px solid #0d47a1;box-shadow:0 4px 16px #1976d22e}.profesional-img[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;object-fit:cover;margin-bottom:10px;border:2px solid #1976d2}.profesional-nombre[_ngcontent-%COMP%]{font-size:1.08em;text-align:center;color:#1976d2;font-weight:500;word-break:break-word;max-width:140px;white-space:normal;line-height:1.2}.especialidades-lista[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;align-items:flex-start;margin-bottom:24px;max-width:900px;margin-left:auto;margin-right:auto}.especialidad-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;width:300px;height:200px;margin:16px;padding:18px 10px 10px;border:2px solid #004a86;border-radius:18px;background:#03002f;cursor:pointer;transition:box-shadow .2s,border .2s;box-shadow:0 4px 16px #0288d11a;font-size:1.2rem}.especialidad-btn[_ngcontent-%COMP%]:hover{border:2px solid #1976d2;box-shadow:0 6px 20px #0288d12e}.especialidad-img-container[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center;margin-bottom:18px;box-shadow:0 2px 8px #0000001a}.especialidad-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.especialidad-nombre[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;text-align:center}.dias-lista[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-top:0;margin-bottom:0}.dia-btn[_ngcontent-%COMP%]{width:100px;height:100px;min-width:100px;min-height:100px;max-width:100px;max-height:100px;display:flex;align-items:center;justify-content:center;font-size:1.1rem;margin:10px;border-radius:16px;border:2px solid #004a86;background:#f5faff;color:#004a86;font-weight:600;transition:box-shadow .2s,border .2s;box-shadow:0 2px 8px #00000014;cursor:pointer;padding:0}.dia-btn[_ngcontent-%COMP%]:hover{border:2px solid #1976d2;background:#e3f2fd}.horarios-lista[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-bottom:24px}.horario-btn[_ngcontent-%COMP%]{min-width:110px;height:44px;border-radius:14px;border:2px solid #0288d1;background:#e1f5fe;color:#0288d1;font-size:1.1em;font-weight:500;cursor:pointer;transition:box-shadow .2s,border .2s;box-shadow:0 2px 8px #0288d114;padding:0 18px}.horario-btn[_ngcontent-%COMP%]:hover{border:2px solid #01579b;box-shadow:0 4px 16px #0288d12e}.horario-no-disponible[_ngcontent-%COMP%]{background:#eee!important;color:#aaa!important;cursor:not-allowed!important;border:1px solid #ccc!important}.horario-seleccionado[_ngcontent-%COMP%]{background:#4caf50!important;color:#fff!important;border:2px solid #388e3c!important}.confirmar-turno[_ngcontent-%COMP%]{text-align:center;margin-top:32px}.confirmar-btn[_ngcontent-%COMP%]{background:#43a047;color:#fff;border:none;border-radius:16px;font-size:1.2em;font-weight:700;padding:12px 32px;margin-top:18px;cursor:pointer;transition:background .2s}.confirmar-btn[_ngcontent-%COMP%]:hover{background:#1b5e20}.step-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:18px;font-size:1.3em;font-weight:600}.profesionales-step[_ngcontent-%COMP%], .dias-step[_ngcontent-%COMP%]{display:block;margin-bottom:32px}"]});let t=e;return t})();function j9(t,e){if(t&1&&J(0,"img",9),t&2){let n=O(2);N("src",n.especialista.imagenPerfil?n.especialista.imagenPerfil[0]:n.especialista.imagenUrl,er)}}function B9(t,e){if(t&1&&(y(0,"option",25),C(1),_()),t&2){let n=e.$implicit;N("ngValue",n),D(),he(n)}}function $9(t,e){if(t&1&&(y(0,"option",26),C(1),_()),t&2){let n=e.$implicit;N("value",n),D(),he(n)}}function H9(t,e){if(t&1&&(y(0,"option",26),C(1),_()),t&2){let n=e.$implicit;N("value",n),D(),he(n)}}function z9(t,e){if(t&1){let n=De();y(0,"li"),C(1),y(2,"button",29),z("click",function(){let i=$(n).$implicit,o=O(4);return H(o.confirmarEliminarHorario(i.id,i.dia,i.hora))}),C(3,"\xD7"),_()()}if(t&2){let n=e.$implicit;D(),kn(" ",n.dia," - ",n.hora," ")}}function q9(t,e){if(t&1&&(y(0,"div",27)(1,"h4"),C(2,"Horarios ya cargados:"),_(),y(3,"ul"),Y(4,z9,4,2,"li",28),_()()),t&2){let n=O(3);D(4),N("ngForOf",n.horariosCargados)}}function G9(t,e){if(t&1){let n=De();y(0,"div",30)(1,"div",31)(2,"p"),C(3,"\xBFSeguro que deseas eliminar el horario "),y(4,"strong"),C(5),_(),C(6,"?"),_(),y(7,"button",32),z("click",function(){$(n);let i=O(3);return H(i.eliminarHorarioConfirmado())}),C(8,"S\xED, eliminar"),_(),y(9,"button",32),z("click",function(){$(n);let i=O(3);return H(i.cancelarEliminarHorario())}),C(10,"Cancelar"),_()()()}if(t&2){let n=O(3);D(5),kn("",n.horarioAEliminar==null?null:n.horarioAEliminar.dia," - ",n.horarioAEliminar==null?null:n.horarioAEliminar.hora,"")}}function W9(t,e){t&1&&(y(0,"div",33)(1,"div",34)(2,"p"),C(3,"\xA1Horarios guardados exitosamente!"),_()()())}function K9(t,e){if(t&1&&(y(0,"div",35)(1,"div",36)(2,"p"),C(3),_()()()),t&2){let n=O(3);D(3),he(n.mensajeError)}}function Q9(t,e){if(t&1){let n=De();y(0,"div",10)(1,"h3",11),C(2,"Mis horarios"),_(),y(3,"div",12)(4,"label",13),C(5,"Especialidad:"),_(),y(6,"select",14),Me("ngModelChange",function(i){$(n);let o=O(2);return Pe(o.especialidadSeleccionada,i)||(o.especialidadSeleccionada=i),H(i)}),z("change",function(){$(n);let i=O(2);return H(i.onEspecialidadSeleccionadaChange())}),Y(7,B9,2,2,"option",15),_()(),y(8,"form",16),z("ngSubmit",function(){$(n);let i=O(2);return H(i.guardarHorarios())}),y(9,"label"),C(10,"D\xEDas disponibles:"),_(),y(11,"select",17),Y(12,$9,2,2,"option",18),_(),y(13,"label"),C(14,"Horas disponibles:"),_(),y(15,"select",19),Y(16,H9,2,2,"option",18),_(),y(17,"button",20),C(18,"Guardar horarios"),_()(),Y(19,q9,5,1,"div",21)(20,G9,11,2,"div",22)(21,W9,4,0,"div",23)(22,K9,4,1,"div",24),_()}if(t&2){let n=O(2);D(6),Ae("ngModel",n.especialidadSeleccionada),D(),N("ngForOf",n.getEspecialidades),D(),N("formGroup",n.horariosForm),D(4),N("ngForOf",n.diasSemana),D(4),N("ngForOf",n.horas),D(3),N("ngIf",n.horariosCargados.length>0),D(),N("ngIf",n.mostrarModalEliminar),D(),N("ngIf",n.mostrarModalExito),D(),N("ngIf",n.mostrarModalError)}}function Y9(t,e){if(t&1&&(y(0,"div",1)(1,"div",2),Y(2,j9,1,1,"img",3),y(3,"h2"),C(4,"Mi Perfil"),_()(),y(5,"div",4)(6,"p",5)(7,"strong"),C(8,"Nombre:"),_(),C(9),_(),y(10,"p",6)(11,"strong"),C(12,"Apellido:"),_(),C(13),_(),y(14,"p",7)(15,"strong"),C(16,"Correo:"),_(),C(17),_()(),Y(18,Q9,23,9,"div",8),_()),t&2){let n=O();D(2),N("ngIf",n.especialista.imagenPerfil&&n.especialista.imagenPerfil.length>0||n.especialista.imagenUrl),D(7),yt(" ",n.especialista.nombre,""),D(4),yt(" ",n.especialista.apellido,""),D(4),yt(" ",n.especialista.correo,""),D(),N("ngIf",n.getEspecialidades.length>0)}}var tM=(()=>{let e=class e{constructor(r){this.fb=r,this.especialista=null,this.diasSemana=["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],this.horas=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"],this.horariosCargados=[],this.mostrarModalEliminar=!1,this.horarioAEliminar=null,this.mostrarModalExito=!1,this.mostrarModalError=!1,this.mensajeError="",this.especialidadSeleccionada="",this.firestore=G($n),this.auth=G(Do)}ngOnInit(){return v(this,null,function*(){let r=yield qp(qS(this.auth));if(!r)return;let i=pn(this.firestore,"especialistas",r.uid),o=yield Uo(i);o.exists()&&(this.especialista=q({id:o.id},o.data()),this.especialista.especialidades&&this.especialista.especialidades.length>0?this.especialidadSeleccionada=this.especialista.especialidades[0]:this.especialista.especialidad&&(this.especialidadSeleccionada=this.especialista.especialidad)),this.perfilForm=new Vi({nombre:new Er(this.especialista?.nombre),apellido:new Er(this.especialista?.apellido),correo:new Er(this.especialista?.correo),especialidad:new Er(this.especialista?.especialidad)}),this.horariosForm=this.fb.group({dias:this.fb.control(this.getDiasDisponibles()),horas:this.fb.control(this.getHorasDisponibles())}),yield this.cargarHorariosCargados()})}getDiasDisponibles(){let r=this.especialista?.horarios?.find(i=>i.especialidad===this.especialidadSeleccionada);return r?r.dias:[]}getHorasDisponibles(){let r=this.especialista?.horarios?.find(i=>i.especialidad===this.especialidadSeleccionada);return r?r.horas:[]}cargarHorariosCargados(){return v(this,null,function*(){if(!this.especialista)return;let r=tn(this.firestore,"Horarios"),i=mn(r,He("especialistaId","==",this.especialista.id),He("especialidad","==",this.especialidadSeleccionada)),o=yield wr(i);this.horariosCargados=o.docs.map(s=>q({id:s.id},s.data()))})}confirmarEliminarHorario(r,i,o){this.horarioAEliminar={id:r,dia:i,hora:o},this.mostrarModalEliminar=!0}cancelarEliminarHorario(){this.mostrarModalEliminar=!1,this.horarioAEliminar=null}eliminarHorarioConfirmado(){return v(this,null,function*(){if(!this.horarioAEliminar)return;let r=pn(this.firestore,"Horarios",this.horarioAEliminar.id);yield zA(r),yield this.cargarHorariosCargados(),this.cancelarEliminarHorario()})}guardarHorarios(){return v(this,null,function*(){if(!this.especialista)return;let r=tn(this.firestore,"Horarios"),i=this.horariosForm.value.dias||[],o=this.horariosForm.value.horas||[],s=0;for(let a of i)for(let u of o){let l=mn(r,He("especialistaId","==",this.especialista.id),He("dia","==",a),He("hora","==",u));(yield wr(l)).empty&&(yield Of(r,{especialistaId:this.especialista.id,nombre:this.especialista.nombre,apellido:this.especialista.apellido,especialidad:this.especialidadSeleccionada,dia:a,hora:u}),s++)}yield this.cargarHorariosCargados(),s>0?(this.mostrarModalExito=!0,setTimeout(()=>{this.mostrarModalExito=!1},2e3)):(this.mensajeError="Todos los horarios seleccionados ya existen.",this.mostrarModalError=!0,setTimeout(()=>{this.mostrarModalError=!1},2500))})}get getEspecialidades(){return this.especialista?.especialidades&&Array.isArray(this.especialista.especialidades)?this.especialista.especialidades:this.especialista?.especialidad?[this.especialista.especialidad]:[]}onEspecialidadSeleccionadaChange(){return v(this,null,function*(){this.horariosForm.patchValue({dias:this.getDiasDisponibles(),horas:this.getHorasDisponibles()}),yield this.cargarHorariosCargados()})}};e.\u0275fac=function(i){return new(i||e)(U(va))},e.\u0275cmp=Ye({type:e,selectors:[["app-mi-perfil"]],standalone:!0,features:[ot],decls:1,vars:1,consts:[["class","perfil-container",4,"ngIf"],[1,"perfil-container"],[1,"perfil-header"],["alt","Foto de perfil","class","perfil-img-header",3,"src",4,"ngIf"],[1,"datos-personales"],[1,"dato-nombre"],[1,"dato-apellido"],[1,"dato-correo"],["class","horarios",4,"ngIf"],["alt","Foto de perfil",1,"perfil-img-header",3,"src"],[1,"horarios"],[1,"titulo-horarios"],[1,"selector-especialidad"],["for","select-especialidad"],["id","select-especialidad","name","selectEspecialidad",3,"ngModelChange","change","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngSubmit","formGroup"],["formControlName","dias","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","horas","multiple",""],["type","submit"],["class","horarios-cargados",4,"ngIf"],["class","modal-eliminar",4,"ngIf"],["class","modal-exito",4,"ngIf"],["class","modal-error",4,"ngIf"],[3,"ngValue"],[3,"value"],[1,"horarios-cargados"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[1,"modal-eliminar"],[1,"modal-contenido"],[3,"click"],[1,"modal-exito"],[1,"modal-contenido-exito"],[1,"modal-error"],[1,"modal-contenido-error"]],template:function(i,o){i&1&&Y(0,Y9,19,5,"div",0),i&2&&N("ngIf",o.especialista)},dependencies:[_t,rr,Jt,wa,Cr,Wf,Qf,_a,Kf,Cn,Ir,jo,Bo,Dr,Hn],styles:['body[_ngcontent-%COMP%], .perfil-container[_ngcontent-%COMP%]{font-family:Segoe UI,Roboto,Arial,sans-serif}.perfil-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:24px}.perfil-img-header[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;object-fit:cover;border:4px solid #1976d2;box-shadow:0 2px 8px #1976d233}.perfil-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.6rem;font-weight:700;color:#1976d2;margin:0}.perfil-container[_ngcontent-%COMP%]{max-width:650px;margin:40px auto;background:#f8faff;border-radius:18px;padding:36px 36px 28px;box-shadow:0 2px 24px #1976d222;border:2.5px solid #1976d2;font-size:1.25rem}.perfil-img[_ngcontent-%COMP%]{width:120px;border-radius:50%;margin-bottom:20px;border:2.5px solid #1976d2}.datos-personales[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;color:#333;font-size:1.2rem}.horarios[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:24px;color:#1976d2;font-size:1.4rem}select[multiple][_ngcontent-%COMP%]{width:100%;min-height:120px;padding:7px;margin-bottom:12px;border:2px solid #1976d2;border-radius:10px;background:#f0f6ff;font-size:1.2rem;font-weight:700}button[type=submit][_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;border-radius:10px;padding:10px 32px;font-weight:700;font-size:1.2rem;cursor:pointer;transition:background .2s;margin-top:10px;box-shadow:0 2px 8px #1976d233}button[type=submit][_ngcontent-%COMP%]:hover{background:#1256a3}.horarios-cargados[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.horarios-cargados[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#e3f0ff;border:1.5px solid #1976d2;border-radius:10px;margin:6px 0;padding:8px 14px;display:flex;align-items:center;justify-content:space-between;font-size:1.15rem}.horarios-cargados[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background:#e53935;color:#fff;border:none;border-radius:50%;width:32px;height:32px;font-size:1.5rem;cursor:pointer;transition:background .2s;margin-left:8px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #e5393522}.horarios-cargados[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background:#b71c1c}.modal-eliminar[_ngcontent-%COMP%]{position:fixed;inset:0;background:#1976d226;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-contenido[_ngcontent-%COMP%]{background:#fff;padding:24px 40px;border-radius:12px;box-shadow:0 2px 24px #1976d244;text-align:center;border:3px solid #1976d2;font-size:1.3rem}.modal-contenido[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 16px;padding:10px 28px;border:none;border-radius:8px;cursor:pointer;font-weight:700;font-size:1.1rem}.modal-contenido[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#e53935;color:#fff}.modal-contenido[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#1976d2;color:#fff}.modal-exito[_ngcontent-%COMP%]{position:fixed;inset:0;background:#1976d21a;display:flex;align-items:center;justify-content:center;z-index:1100}.modal-contenido-exito[_ngcontent-%COMP%]{background:#e3f0ff;border:3px solid #1976d2;color:#1976d2;padding:24px 40px;border-radius:12px;font-size:1.5em;font-weight:700;box-shadow:0 2px 24px #1976d244}.modal-error[_ngcontent-%COMP%]{position:fixed;inset:0;background:#e539351a;display:flex;align-items:center;justify-content:center;z-index:1200}.modal-contenido-error[_ngcontent-%COMP%]{background:#fff0f0;border:3px solid #e53935;color:#e53935;padding:24px 40px;border-radius:12px;font-size:1.5em;font-weight:700;box-shadow:0 2px 24px #e5393522;text-align:center}.titulo-horarios[_ngcontent-%COMP%]{text-align:center;font-size:2.2rem;color:#1976d2;font-weight:700;margin:24px 0 16px;letter-spacing:1px}.dato-nombre[_ngcontent-%COMP%], .dato-apellido[_ngcontent-%COMP%], .dato-correo[_ngcontent-%COMP%], .dato-especialidad[_ngcontent-%COMP%]{font-size:1.32rem;margin:10px 0}.selector-especialidad[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin:0 0 16px;justify-content:flex-start;position:relative;width:100%;max-width:350px}.selector-especialidad[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.25rem;color:#1976d2;font-weight:700;margin-right:8px;min-width:110px;font-family:Montserrat,Segoe UI,Roboto,Arial,sans-serif}.selector-especialidad[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#e3f0ff;color:#1976d2;border:2px solid #1976d2;border-radius:10px;padding:8px 38px 8px 16px;font-size:1.2rem;font-weight:700;min-width:180px;box-shadow:0 2px 8px #1976d233;appearance:none;transition:border .2s,box-shadow .2s;width:100%}.selector-especialidad[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border:2.5px solid #1256a3;box-shadow:0 2px 12px #1976d244}.selector-especialidad[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{background:#d0e6ff}.selector-especialidad[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::-ms-expand{display:none}.selector-especialidad[_ngcontent-%COMP%]:after{content:"\\25bc";position:absolute;right:18px;top:50%;transform:translateY(-50%);color:#1976d2;font-size:1.2rem;pointer-events:none}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:6px 0 2px;font-family:Montserrat,Segoe UI,Roboto,Arial,sans-serif}']});let t=e;return t})();function J9(t,e){t&1&&(y(0,"h2"),C(1,"\u{1F5D3}\uFE0F Mis Turnos"),_())}function Z9(t,e){t&1&&(y(0,"h2"),C(1,"Turnos Asignados"),_())}function X9(t,e){if(t&1){let n=De();y(0,"div",7)(1,"button",8),z("click",function(){$(n);let i=O();return H(i.limpiarRechazados())}),y(2,"span",9),C(3,"\u{1F5D1}\uFE0F"),_(),C(4," Limpiar Rechazados "),_()()}}function eH(t,e){t&1&&(y(0,"span"),C(1,"\u{1F641} No tienes turnos para mostrar."),_())}function tH(t,e){t&1&&(y(0,"span"),C(1,"\u{1F641} No tienes turnos asignados."),_())}function nH(t,e){if(t&1&&(y(0,"div",10),Y(1,eH,2,0,"span",1)(2,tH,2,0,"span",1),_()),t&2){let n=O();D(),N("ngIf",n.esPaciente),D(),N("ngIf",n.esEspecialista)}}function rH(t,e){t&1&&(y(0,"th"),C(1,"Especialista"),_())}function iH(t,e){t&1&&(y(0,"th"),C(1,"Paciente"),_())}function oH(t,e){t&1&&(y(0,"th"),C(1,"Paciente"),_())}function sH(t,e){t&1&&(y(0,"th"),C(1,"Especialista"),_())}function aH(t,e){if(t&1&&(y(0,"td"),C(1),_()),t&2){let n=O().$implicit;D(),kn("",n.especialistaNombre," ",n.especialistaApellido,"")}}function cH(t,e){if(t&1&&(y(0,"td"),C(1),_()),t&2){let n=O().$implicit;D(),kn("",n.pacienteNombre||""," ",n.pacienteApellido||"","")}}function uH(t,e){if(t&1&&(y(0,"td"),C(1),_()),t&2){let n=O().$implicit;D(),kn("",n.pacienteNombre||""," ",n.pacienteApellido||"","")}}function lH(t,e){if(t&1&&(y(0,"td"),C(1),_()),t&2){let n=O().$implicit;D(),kn("",n.especialistaNombre||""," ",n.especialistaApellido||"","")}}function dH(t,e){t&1&&(y(0,"span"),C(1,"\u23F3 Pendiente"),_())}function hH(t,e){t&1&&(y(0,"span"),C(1,"\u2705 Confirmado"),_())}function fH(t,e){t&1&&(y(0,"span"),C(1,"\u{1F7E2} Aceptado"),_())}function pH(t,e){t&1&&(y(0,"span"),C(1,"\u{1F3C1} Realizado"),_())}function mH(t,e){t&1&&(y(0,"span"),C(1,"\u274C Rechazado"),_())}function gH(t,e){t&1&&(y(0,"span"),C(1,"\u{1F6AB} Cancelado"),_())}function yH(t,e){if(t&1&&(y(0,"span"),C(1),qg(2,"titlecase"),_()),t&2){let n=O().$implicit;D(),he(Gg(2,1,n.estado))}}function _H(t,e){if(t&1){let n=De();y(0,"span")(1,"button",16),z("click",function(){$(n);let i=O(2).$implicit,o=O(2);return H(o.abrirModalCancelar(i))}),C(2,"\u274C Cancelar"),_()()}}function vH(t,e){if(t&1){let n=De();y(0,"span")(1,"button",17),z("click",function(){$(n);let i=O(2).$implicit,o=O(2);return H(o.abrirModalResena(i))}),C(2,"\u2B50 Ver Rese\xF1a"),_()()}}function wH(t,e){t&1&&(y(0,"span")(1,"button",18),C(2,"\u{1F4DD}Encuesta"),_()())}function EH(t,e){t&1&&(y(0,"span")(1,"button",19),C(2,"\u{1F31F} Calificar"),_()())}function bH(t,e){if(t&1&&(Is(0),Y(1,_H,3,0,"span",1)(2,vH,3,0,"span",1)(3,wH,3,0,"span",1)(4,EH,3,0,"span",1),Cs()),t&2){let n=O().$implicit;D(),N("ngIf",n.estado==="pendiente"||n.estado==="confirmado"),D(),N("ngIf",n.estado==="realizado"&&n.resena),D(),N("ngIf",n.estado==="realizado"&&!n.encuestaCompletada),D(),N("ngIf",n.estado==="realizado"&&!n.calificacion)}}function IH(t,e){if(t&1){let n=De();y(0,"span")(1,"button",20),z("click",function(){$(n);let i=O(2).$implicit,o=O(2);return H(o.aceptarTurno(i))}),C(2,"\u2705 Aceptar"),_(),y(3,"button",21),z("click",function(){$(n);let i=O(2).$implicit,o=O(2);return H(o.abrirModalRechazar(i))}),C(4,"\u{1F5D1}\uFE0F Rechazar"),_()()}}function CH(t,e){if(t&1){let n=De();y(0,"span")(1,"button",16),z("click",function(){$(n);let i=O(2).$implicit,o=O(2);return H(o.abrirModalCancelar(i))}),C(2,"\u274C Cancelar"),_(),y(3,"button",22),z("click",function(){$(n);let i=O(2).$implicit,o=O(2);return H(o.abrirModalFinalizar(i))}),C(4,"\u{1F3C1} Finalizar"),_()()}}function DH(t,e){if(t&1){let n=De();y(0,"span")(1,"button",17),z("click",function(){$(n);let i=O(2).$implicit,o=O(2);return H(o.abrirModalResena(i))}),C(2,"\u2B50 Ver Rese\xF1a"),_()()}}function TH(t,e){if(t&1&&(Is(0),Y(1,IH,5,0,"span",1)(2,CH,5,0,"span",1)(3,DH,3,0,"span",1),Cs()),t&2){let n=O().$implicit;D(),N("ngIf",n.estado==="pendiente"),D(),N("ngIf",n.estado==="aceptado"),D(),N("ngIf",n.resena)}}function SH(t,e){if(t&1){let n=De();y(0,"span")(1,"button",16),z("click",function(){$(n);let i=O(2).$implicit,o=O(2);return H(o.abrirModalCancelar(i))}),C(2,"\u274C Cancelar"),_()()}}function xH(t,e){if(t&1){let n=De();y(0,"span")(1,"button",17),z("click",function(){$(n);let i=O(2).$implicit,o=O(2);return H(o.abrirModalMotivo(i))}),C(2,"\u{1F4DD} Ver Motivo"),_()()}}function AH(t,e){if(t&1&&(Is(0),Y(1,SH,3,0,"span",1)(2,xH,3,0,"span",1),Cs()),t&2){let n=O().$implicit,r=O(2);D(),N("ngIf",r.puedeCancelarAdmin(n)),D(),N("ngIf",n.estado==="cancelado"&&n.comentarioCancelacion)}}function MH(t,e){if(t&1&&(y(0,"tr")(1,"td"),C(2),_(),Y(3,aH,2,2,"td",1)(4,cH,2,2,"td",1)(5,uH,2,2,"td",1)(6,lH,2,2,"td",1),y(7,"td"),C(8),_(),y(9,"td"),C(10),_(),y(11,"td")(12,"span"),Is(13,13),Y(14,dH,2,0,"span",14)(15,hH,2,0,"span",14)(16,fH,2,0,"span",14)(17,pH,2,0,"span",14)(18,mH,2,0,"span",14)(19,gH,2,0,"span",14)(20,yH,3,3,"span",15),Cs(),_()(),y(21,"td"),Y(22,bH,5,4,"ng-container",1)(23,TH,4,3,"ng-container",1)(24,AH,3,2,"ng-container",1),_()()),t&2){let n=e.$implicit,r=O(2);D(2),he(n.especialidad),D(),N("ngIf",r.esPaciente),D(),N("ngIf",r.esEspecialista),D(),N("ngIf",r.esAdmin),D(),N("ngIf",r.esAdmin),D(2),he(n.FechaTurno),D(2),he(n.HorarioTurno),D(2),YC("estado-",n.estado,""),D(),N("ngSwitch",n.estado),D(),N("ngSwitchCase","pendiente"),D(),N("ngSwitchCase","confirmado"),D(),N("ngSwitchCase","aceptado"),D(),N("ngSwitchCase","realizado"),D(),N("ngSwitchCase","rechazado"),D(),N("ngSwitchCase","cancelado"),D(3),N("ngIf",r.esPaciente),D(),N("ngIf",r.esEspecialista),D(),N("ngIf",r.esAdmin)}}function RH(t,e){if(t&1&&(y(0,"table",11)(1,"thead")(2,"tr")(3,"th"),C(4,"Especialidad"),_(),Y(5,rH,2,0,"th",1)(6,iH,2,0,"th",1)(7,oH,2,0,"th",1)(8,sH,2,0,"th",1),y(9,"th"),C(10,"Fecha"),_(),y(11,"th"),C(12,"Horario"),_(),y(13,"th"),C(14,"Estado"),_(),y(15,"th"),C(16,"Acci\xF3n"),_()()(),y(17,"tbody"),Y(18,MH,25,20,"tr",12),_()()),t&2){let n=O();D(5),N("ngIf",n.esPaciente),D(),N("ngIf",n.esEspecialista),D(),N("ngIf",n.esAdmin),D(),N("ngIf",n.esAdmin),D(10),N("ngForOf",n.turnosFiltrados)}}function PH(t,e){if(t&1&&(y(0,"div",30),C(1),_()),t&2){let n=O(2);D(),he(n.errorMotivo)}}function NH(t,e){if(t&1){let n=De();y(0,"div",23)(1,"div",24)(2,"h3"),C(3,"Cancelar turno"),_(),y(4,"p"),C(5,"Por favor, ingresa el motivo de la cancelaci\xF3n:"),_(),y(6,"textarea",25),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.motivoOperacion,i)||(o.motivoOperacion=i),H(i)}),_(),Y(7,PH,2,1,"div",26),y(8,"div",27)(9,"button",28),z("click",function(){$(n);let i=O();return H(i.confirmarCancelacion())}),C(10,"Confirmar"),_(),y(11,"button",29),z("click",function(){$(n);let i=O();return H(i.cerrarModalCancelar())}),C(12,"Cerrar"),_()()()()}if(t&2){let n=O();D(6),Ae("ngModel",n.motivoOperacion),D(),N("ngIf",n.errorMotivo)}}function OH(t,e){if(t&1&&(y(0,"div",30),C(1),_()),t&2){let n=O(2);D(),he(n.errorMotivo)}}function kH(t,e){if(t&1){let n=De();y(0,"div",23)(1,"div",24)(2,"h3"),C(3,"Rechazar turno"),_(),y(4,"p"),C(5,"Por favor, ingresa el motivo del rechazo:"),_(),y(6,"textarea",25),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.motivoOperacion,i)||(o.motivoOperacion=i),H(i)}),_(),Y(7,OH,2,1,"div",26),y(8,"div",27)(9,"button",28),z("click",function(){$(n);let i=O();return H(i.confirmarRechazo())}),C(10,"Confirmar"),_(),y(11,"button",29),z("click",function(){$(n);let i=O();return H(i.cerrarModalRechazar())}),C(12,"Cerrar"),_()()()()}if(t&2){let n=O();D(6),Ae("ngModel",n.motivoOperacion),D(),N("ngIf",n.errorMotivo)}}function FH(t,e){if(t&1&&(y(0,"div",30),C(1),_()),t&2){let n=O(2);D(),he(n.errorMotivo)}}function VH(t,e){if(t&1){let n=De();y(0,"div",23)(1,"div",24)(2,"h3"),C(3,"Finalizar turno"),_(),y(4,"p"),C(5,"Por favor, ingresa una rese\xF1a o comentario de la consulta:"),_(),y(6,"textarea",31),Me("ngModelChange",function(i){$(n);let o=O();return Pe(o.resenaFinal,i)||(o.resenaFinal=i),H(i)}),_(),Y(7,FH,2,1,"div",26),y(8,"div",27)(9,"button",32),z("click",function(){$(n);let i=O();return H(i.confirmarFinalizacion())}),C(10,"Finalizar"),_(),y(11,"button",29),z("click",function(){$(n);let i=O();return H(i.cerrarModalFinalizar())}),C(12,"Cerrar"),_()()()()}if(t&2){let n=O();D(6),Ae("ngModel",n.resenaFinal),D(),N("ngIf",n.errorMotivo)}}function LH(t,e){if(t&1){let n=De();y(0,"div",23)(1,"div",24)(2,"h3"),C(3,"Rese\xF1a del turno"),_(),y(4,"p",33),C(5),_(),y(6,"div",27)(7,"button",29),z("click",function(){$(n);let i=O();return H(i.cerrarModalResena())}),C(8,"Cerrar"),_()()()()}if(t&2){let n=O();D(5),he(n.resenaAMostrar)}}function UH(t,e){if(t&1){let n=De();y(0,"div",23)(1,"div",24)(2,"h3"),C(3),qg(4,"titlecase"),_(),y(5,"p",33),C(6),_(),y(7,"div",27)(8,"button",29),z("click",function(){$(n);let i=O();return H(i.cerrarModalMotivo())}),C(9,"Cerrar"),_()()()()}if(t&2){let n=O();D(3),yt("Motivo de ",Gg(4,2,n.turnoAOperar==null?null:n.turnoAOperar.estado),""),D(3),he(n.motivoAMostrar)}}var Tw=(()=>{let e=class e{constructor(){this.turnos=[],this.turnosFiltrados=[],this.filtro="",this.uid="",this.firestore=G($n),this.esPaciente=!1,this.esEspecialista=!1,this.esAdmin=!1,this.mostrarModalCancelar=!1,this.mostrarModalRechazar=!1,this.mostrarModalFinalizar=!1,this.turnoAOperar=null,this.motivoOperacion="",this.errorMotivo="",this.resenaFinal="",this.mostrarModalResena=!1,this.resenaAMostrar="",this.mostrarModalMotivo=!1,this.motivoAMostrar=""}ngOnInit(){return v(this,null,function*(){let r=ht().currentUser;if(r){this.uid=r.uid;let i=pn(this.firestore,"administradores",this.uid),o=yield Uo(i),s=pn(this.firestore,"especialistas",this.uid),a=yield Uo(s);this.esAdmin=o.exists(),this.esEspecialista=a.exists(),this.esPaciente=!this.esEspecialista&&!this.esAdmin,yield this.cargarTurnos()}})}cargarTurnos(){return v(this,null,function*(){let r=tn(this.firestore,"Turnos"),i;this.esPaciente?i=mn(r,He("pacienteId","==",this.uid)):this.esEspecialista?i=mn(r,He("especialistaId","==",this.uid)):this.esAdmin&&(i=r),i&&Nf(i,{idField:"id"}).subscribe(o=>{this.turnos=o,this.aplicarFiltro()})})}aplicarFiltro(){let r=this.filtro.trim().toLowerCase();if(!r){this.turnosFiltrados=this.turnos;return}this.esPaciente?this.turnosFiltrados=this.turnos.filter(i=>i.especialidad&&i.especialidad.toLowerCase().includes(r)||i.especialistaNombre&&i.especialistaNombre.toLowerCase().includes(r)||i.especialistaApellido&&i.especialistaApellido.toLowerCase().includes(r)):this.esEspecialista?this.turnosFiltrados=this.turnos.filter(i=>i.especialidad&&i.especialidad.toLowerCase().includes(r)||i.pacienteNombre&&i.pacienteNombre.toLowerCase().includes(r)||i.pacienteApellido&&i.pacienteApellido.toLowerCase().includes(r)):this.esAdmin&&(this.turnosFiltrados=this.turnos.filter(i=>i.especialidad&&i.especialidad.toLowerCase().includes(r)||i.especialistaNombre&&i.especialistaNombre.toLowerCase().includes(r)||i.especialistaApellido&&i.especialistaApellido.toLowerCase().includes(r)))}abrirModalCancelar(r){this.turnoAOperar=r,this.motivoOperacion="",this.errorMotivo="",this.mostrarModalCancelar=!0}cerrarModalCancelar(){this.mostrarModalCancelar=!1,this.turnoAOperar=null,this.motivoOperacion="",this.errorMotivo=""}confirmarCancelacion(){return v(this,null,function*(){if(!this.motivoOperacion.trim()){this.errorMotivo="Debes ingresar un motivo para cancelar el turno.";return}let r=pn(this.firestore,"Turnos",this.turnoAOperar.id);yield ma(r,{estado:"cancelado",comentarioCancelacion:this.motivoOperacion.trim()}),this.cerrarModalCancelar(),yield this.cargarTurnos()})}abrirModalRechazar(r){this.turnoAOperar=r,this.motivoOperacion="",this.errorMotivo="",this.mostrarModalRechazar=!0}cerrarModalRechazar(){this.mostrarModalRechazar=!1,this.turnoAOperar=null,this.motivoOperacion="",this.errorMotivo=""}confirmarRechazo(){return v(this,null,function*(){if(!this.motivoOperacion.trim()){this.errorMotivo="Debes ingresar un motivo para rechazar el turno.";return}let r=pn(this.firestore,"Turnos",this.turnoAOperar.id);yield ma(r,{estado:"rechazado",comentarioRechazo:this.motivoOperacion.trim()}),this.cerrarModalRechazar(),yield this.cargarTurnos()})}aceptarTurno(r){return v(this,null,function*(){let i=pn(this.firestore,"Turnos",r.id);yield ma(i,{estado:"aceptado"}),yield this.cargarTurnos()})}abrirModalFinalizar(r){this.turnoAOperar=r,this.resenaFinal="",this.errorMotivo="",this.mostrarModalFinalizar=!0}cerrarModalFinalizar(){this.mostrarModalFinalizar=!1,this.turnoAOperar=null,this.resenaFinal="",this.errorMotivo=""}confirmarFinalizacion(){return v(this,null,function*(){if(!this.resenaFinal.trim()){this.errorMotivo="Debes ingresar una rese\xF1a o comentario.";return}let r=pn(this.firestore,"Turnos",this.turnoAOperar.id);yield ma(r,{estado:"realizado",resena:this.resenaFinal.trim()}),this.cerrarModalFinalizar(),yield this.cargarTurnos()})}abrirModalResena(r){this.resenaAMostrar=r.resena||"Sin rese\xF1a disponible.",this.mostrarModalResena=!0}cerrarModalResena(){this.mostrarModalResena=!1,this.resenaAMostrar=""}limpiarRechazados(){return v(this,null,function*(){let r=this.turnosFiltrados.filter(i=>i.estado==="rechazado");for(let i of r){let o=pn(this.firestore,"Turnos",i.id);yield ma(o,{eliminado:!0})}yield this.cargarTurnos()})}tieneRechazados(){return this.turnosFiltrados.some(r=>r.estado==="rechazado")}abrirModalMotivo(r){this.turnoAOperar=r,r.estado==="cancelado"?this.motivoAMostrar=r.comentarioCancelacion||"Sin motivo registrado.":r.estado==="rechazado"&&(this.motivoAMostrar=r.comentarioRechazo||"Sin motivo registrado."),this.mostrarModalMotivo=!0}cerrarModalMotivo(){this.mostrarModalMotivo=!1,this.motivoAMostrar="",this.turnoAOperar=null}puedeCancelarAdmin(r){return this.esAdmin&&!["aceptado","realizado","rechazado"].includes(r.estado)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-mis-turnos"]],standalone:!0,features:[ot],decls:12,vars:13,consts:[[1,"mis-turnos-container"],[4,"ngIf"],["type","text",1,"filtro-input",3,"ngModelChange","input","ngModel","placeholder"],["class","limpiar-rechazados-container",4,"ngIf"],["class","mensaje-vacio",4,"ngIf"],["class","tabla-turnos",4,"ngIf"],["class","modal-cancelar",4,"ngIf"],[1,"limpiar-rechazados-container"],[1,"btn-limpiar-rechazados",3,"click"],[1,"emoji-tacho"],[1,"mensaje-vacio"],[1,"tabla-turnos"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"btn-cancelar",3,"click"],[1,"btn-ver",3,"click"],[1,"btn-encuesta"],[1,"btn-calificar"],[1,"btn-aceptar",3,"click"],[1,"btn-rechazar",3,"click"],[1,"btn-finalizar",3,"click"],[1,"modal-cancelar"],[1,"modal-content"],["rows","3","placeholder","Motivo...",1,"textarea-motivo",3,"ngModelChange","ngModel"],["class","error-motivo",4,"ngIf"],[1,"modal-actions"],[1,"btn-cancelar-modal",3,"click"],[1,"btn-cerrar-modal",3,"click"],[1,"error-motivo"],["rows","3","placeholder","Comentario o diagn\xF3stico...",1,"textarea-motivo",3,"ngModelChange","ngModel"],[1,"btn-finalizar-modal",3,"click"],[1,"resena-texto"]],template:function(i,o){i&1&&(y(0,"div",0),Y(1,J9,2,0,"h2",1)(2,Z9,2,0,"h2",1),y(3,"input",2),Me("ngModelChange",function(a){return Pe(o.filtro,a)||(o.filtro=a),a}),z("input",function(){return o.aplicarFiltro()}),_(),Y(4,X9,5,0,"div",3)(5,nH,3,2,"div",4)(6,RH,19,5,"table",5)(7,NH,13,2,"div",6)(8,kH,13,2,"div",6)(9,VH,13,2,"div",6)(10,LH,9,1,"div",6)(11,UH,10,4,"div",6),_()),i&2&&(D(),N("ngIf",o.esPaciente),D(),N("ngIf",o.esEspecialista),D(),Md("placeholder","\u{1F50E} Buscar por especialidad o ",o.esPaciente?"especialista":"paciente","..."),Ae("ngModel",o.filtro),D(),N("ngIf",o.esEspecialista&&o.tieneRechazados()),D(),N("ngIf",o.turnosFiltrados.length===0),D(),N("ngIf",o.turnosFiltrados.length>0),D(),N("ngIf",o.mostrarModalCancelar),D(),N("ngIf",o.mostrarModalRechazar),D(),N("ngIf",o.mostrarModalFinalizar),D(),N("ngIf",o.mostrarModalResena),D(),N("ngIf",o.mostrarModalMotivo))},dependencies:[_t,rr,Jt,Vd,CD,DD,TD,Dr,br,Cn,Hn],styles:[".mis-turnos-container[_ngcontent-%COMP%]{max-width:1200px;margin:36px auto;padding:30px 32px 22px;background:#f4f8fb;border-radius:12px;box-shadow:0 2px 12px #1976d220;border:1.5px solid #1976d2;font-family:Segoe UI,Roboto,Arial,sans-serif}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:22px;color:#1976d2;font-weight:700;letter-spacing:1px}.filtro-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:6px;border:1.5px solid #b0c4de;font-size:1.05em;margin-bottom:18px;background:#fff;transition:border .2s}.filtro-input[_ngcontent-%COMP%]:focus{border:1.5px solid #1976d2;outline:none}.tabla-turnos[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 6px #1976d220}.tabla-turnos[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla-turnos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 10px;text-align:left;border-bottom:1px solid #e3eafc}.tabla-turnos[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#e3eafc;color:#1976d2;font-weight:600}.estado-pendiente[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.estado-confirmado[_ngcontent-%COMP%]{color:#1976d2;font-weight:700}.estado-realizado[_ngcontent-%COMP%]{color:#388e3c;font-weight:700}.estado-cancelado[_ngcontent-%COMP%]{color:#d32f2f;font-weight:700}.mensaje-vacio[_ngcontent-%COMP%]{background:#e3eafc;color:#1976d2;border:1px solid #b0c4de;border-radius:6px;padding:12px 14px;margin-bottom:18px;text-align:center;font-size:1.05em;font-weight:500;letter-spacing:.2px}.btn-cancelar[_ngcontent-%COMP%], .btn-ver[_ngcontent-%COMP%], .btn-encuesta[_ngcontent-%COMP%], .btn-calificar[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;border-radius:5px;padding:7px 14px;margin:0 2px;font-size:.98em;font-weight:600;cursor:pointer;transition:background .2s}.btn-cancelar[_ngcontent-%COMP%]:hover{background:#d32f2f}.btn-ver[_ngcontent-%COMP%]:hover{background:#388e3c}.btn-encuesta[_ngcontent-%COMP%]:hover{background:#ff9800}.btn-calificar[_ngcontent-%COMP%]:hover{background:#1976d2cc}.modal-cancelar[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000040;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:28px 24px 18px;box-shadow:0 2px 16px #1976d250;min-width:320px;max-width:90vw;text-align:center}.textarea-motivo[_ngcontent-%COMP%]{width:100%;border-radius:6px;border:1.5px solid #b0c4de;padding:8px;font-size:1em;margin:10px 0 6px;resize:vertical;min-height:60px}.error-motivo[_ngcontent-%COMP%]{color:#d32f2f;font-size:.98em;margin-bottom:8px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:10px}.btn-cancelar-modal[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;border:none;border-radius:5px;padding:7px 18px;font-size:1em;font-weight:600;cursor:pointer;transition:background .2s}.btn-cancelar-modal[_ngcontent-%COMP%]:hover{background:#b71c1c}.btn-cerrar-modal[_ngcontent-%COMP%]{background:#b0c4de;color:#1976d2;border:none;border-radius:5px;padding:7px 18px;font-size:1em;font-weight:600;cursor:pointer;transition:background .2s}.btn-cerrar-modal[_ngcontent-%COMP%]:hover{background:#e3eafc}.btn-aceptar[_ngcontent-%COMP%]{background:#388e3c;color:#fff;border:none;border-radius:5px;padding:7px 14px;margin:0 2px;font-size:.98em;font-weight:600;cursor:pointer;transition:background .2s}.btn-aceptar[_ngcontent-%COMP%]:hover{background:#2e7031}.btn-rechazar[_ngcontent-%COMP%]{background:#ff9800;color:#fff;border:none;border-radius:5px;padding:7px 14px;margin:0 2px;font-size:.98em;font-weight:600;cursor:pointer;transition:background .2s}.btn-rechazar[_ngcontent-%COMP%]:hover{background:#e65100}.resena-texto[_ngcontent-%COMP%]{background:#e3eafc;color:#1976d2;border-radius:6px;padding:14px 16px;margin:18px 0 10px;font-size:1.08em;font-weight:500;text-align:left;white-space:pre-line}.limpiar-rechazados-container[_ngcontent-%COMP%]{text-align:right;margin-bottom:10px}.btn-limpiar-rechazados[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;border:none;border-radius:6px;padding:8px 18px;font-size:1em;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:7px;transition:background .2s}.btn-limpiar-rechazados[_ngcontent-%COMP%]:hover{background:#b71c1c}.emoji-tacho[_ngcontent-%COMP%]{font-size:1.2em;vertical-align:middle}.tabla-turnos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{white-space:nowrap}"]});let t=e;return t})();var nM=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:WA},{path:"login",component:S1},{path:"registro",component:Z1},{path:"usuarios",component:X1},{path:"sacarTurno",component:eM},{path:"miPerfil",component:tM},{path:"misTurnos",component:Tw},{path:"turnos",component:Tw},{path:"**",component:KA}];var rM={production:!1,firebase:Nu};kD(GA,{providers:[yT(nM),zT(()=>qT(rM.firebase)),HA(()=>qA()),zS(()=>GS())]}).catch(t=>console.error(t));
