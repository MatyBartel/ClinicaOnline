var Fx=Object.defineProperty,kx=Object.defineProperties;var Lx=Object.getOwnPropertyDescriptors;var sw=Object.getOwnPropertySymbols,Vx=Object.getPrototypeOf,Ux=Object.prototype.hasOwnProperty,jx=Object.prototype.propertyIsEnumerable,Bx=Reflect.get;var aw=(t,e,n)=>e in t?Fx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})Ux.call(e,n)&&aw(t,n,e[n]);if(sw)for(var n of sw(e))jx.call(e,n)&&aw(t,n,e[n]);return t},be=(t,e)=>kx(t,Lx(e));var Dr=(t,e,n)=>Bx(Vx(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var cw=null;var hf=1,ff=Symbol("SIGNAL");function De(t){let e=cw;return cw=t,e}var uw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $x(t){if(!(mf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hf)){if(!t.producerMustRecompute(t)&&!pf(t)){t.dirty=!1,t.lastCleanEpoch=hf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=hf}}function lw(t){return t&&(t.nextProducerIndex=0),De(t)}function dw(t,e){if(De(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(mf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)gf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function pf(t){pu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||($x(n),r!==n.version))return!0}return!1}function hw(t){if(pu(t),mf(t))for(let e=0;e<t.producerNode.length;e++)gf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function gf(t,e){if(Hx(t),pu(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)gf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];pu(i),i.producerIndexOfThis[r]=e}}function mf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function pu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Hx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function qx(){throw new Error}var zx=qx;function fw(t){zx=t}function oe(t){return typeof t=="function"}function uo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var gu=uo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ai(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof gu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{pw(o)}catch(s){e=e??[],s instanceof gu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new gu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)pw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ai(n,e)}remove(e){let{_finalizers:n}=this;n&&ai(n,e),e instanceof t&&e._removeParent(this)}};Qe.EMPTY=(()=>{let t=new Qe;return t.closed=!0,t})();var yf=Qe.EMPTY;function mu(t){return t instanceof Qe||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function pw(t){oe(t)?t():t.unsubscribe()}var on={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var lo={setTimeout(t,e,...n){let{delegate:r}=lo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=lo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function yu(t){lo.setTimeout(()=>{let{onUnhandledError:e}=on;if(e)e(t);else throw t})}function ca(){}var gw=vf("C",void 0,void 0);function mw(t){return vf("E",void 0,t)}function yw(t){return vf("N",t,void 0)}function vf(t,e,n){return{kind:t,value:e,error:n}}var ci=null;function ho(t){if(on.useDeprecatedSynchronousErrorHandling){let e=!ci;if(e&&(ci={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ci;if(ci=null,n)throw r}}else t()}function vw(t){on.useDeprecatedSynchronousErrorHandling&&ci&&(ci.errorThrown=!0,ci.error=t)}var ui=class extends Qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mu(e)&&e.add(this)):this.destination=Kx}static create(e,n,r){return new fo(e,n,r)}next(e){this.isStopped?wf(yw(e),this):this._next(e)}error(e){this.isStopped?wf(mw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wf(gw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Gx=Function.prototype.bind;function _f(t,e){return Gx.call(t,e)}var Ef=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){vu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){vu(r)}else vu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){vu(n)}}},fo=class extends ui{constructor(e,n,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&on.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_f(e.next,o),error:e.error&&_f(e.error,o),complete:e.complete&&_f(e.complete,o)}):i=e}this.destination=new Ef(i)}};function vu(t){on.useDeprecatedSynchronousErrorHandling?vw(t):yu(t)}function Wx(t){throw t}function wf(t,e){let{onStoppedNotification:n}=on;n&&lo.setTimeout(()=>n(t,e))}var Kx={closed:!0,next:ca,error:Wx,complete:ca};var po=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ut(t){return t}function If(...t){return bf(t)}function bf(t){return t.length===0?Ut:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var _e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Yx(n)?n:new fo(n,r,i);return ho(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=_w(r),new r((i,o)=>{let s=new fo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[po](){return this}pipe(...n){return bf(n)(this)}toPromise(n){return n=_w(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function _w(t){var e;return(e=t??on.Promise)!==null&&e!==void 0?e:Promise}function Qx(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}function Yx(t){return t&&t instanceof ui||Qx(t)&&mu(t)}function Cf(t){return oe(t?.lift)}function we(t){return e=>{if(Cf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e,n,r,i){return new Df(t,e,n,r,i)}var Df=class extends ui{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function go(){return we((t,e)=>{let n=null;t._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var mo=class extends _e{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Cf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qe;let n=this.getSubject();e.add(this.source.subscribe(fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qe.EMPTY)}return e}refCount(){return go()(this)}};var ww=uo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var vt=(()=>{class t extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _u(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ww}next(n){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?yf:(this.currentObservers=null,o.push(n),new Qe(()=>{this.currentObservers=null,ai(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new _e;return n.source=this,n}}return t.create=(e,n)=>new _u(e,n),t})(),_u=class extends vt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:yf}};var ct=class extends vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Tf={now(){return(Tf.delegate||Date).now()},delegate:void 0};var wu=class extends Qe{constructor(e,n){super()}schedule(e,n=0){return this}};var ua={setInterval(t,e,...n){let{delegate:r}=ua;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ua;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var yo=class extends wu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ua.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ua.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ai(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var vo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};vo.now=Tf.now;var _o=class extends vo{constructor(e,n=vo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Af=new _o(yo);var Eu=class extends yo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Iu=class extends _o{};var Sf=new Iu(Eu);var jt=new _e(t=>t.complete());function Ew(t){return t&&oe(t.schedule)}function Iw(t){return t[t.length-1]}function bu(t){return oe(Iw(t))?t.pop():void 0}function Tr(t){return Ew(Iw(t))?t.pop():void 0}function xf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Cw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function bw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function li(t){return this instanceof li?(this.v=t,this):new li(t)}function Dw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){r[m]&&(i[m]=function(_){return new Promise(function(A,P){o.push([m,_,A,P])>1||a(m,_)})})}function a(m,_){try{u(r[m](_))}catch(A){p(o[0][3],A)}}function u(m){m.value instanceof li?Promise.resolve(m.value.v).then(l,h):p(o[0][2],m)}function l(m){a("next",m)}function h(m){a("throw",m)}function p(m,_){m(_),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Tw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bw=="function"?bw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Cu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Du(t){return oe(t?.then)}function Tu(t){return oe(t[po])}function Au(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function Su(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Jx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xu=Jx();function Ru(t){return oe(t?.[xu])}function Mu(t){return Dw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield li(n.read());if(i)return yield li(void 0);yield yield li(r)}}finally{n.releaseLock()}})}function Pu(t){return oe(t?.getReader)}function Je(t){if(t instanceof _e)return t;if(t!=null){if(Tu(t))return Zx(t);if(Cu(t))return Xx(t);if(Du(t))return eR(t);if(Au(t))return Aw(t);if(Ru(t))return tR(t);if(Pu(t))return nR(t)}throw Su(t)}function Zx(t){return new _e(e=>{let n=t[po]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Xx(t){return new _e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function eR(t){return new _e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,yu)})}function tR(t){return new _e(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Aw(t){return new _e(e=>{rR(t,e).catch(n=>e.error(n))})}function nR(t){return Aw(Mu(t))}function rR(t,e){var n,r,i,o;return Cw(this,void 0,void 0,function*(){try{for(n=Tw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Mt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ar(t,e=0){return we((n,r)=>{n.subscribe(fe(r,i=>Mt(r,t,()=>r.next(i),e),()=>Mt(r,t,()=>r.complete(),e),i=>Mt(r,t,()=>r.error(i),e)))})}function Sr(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Sw(t,e){return Je(t).pipe(Sr(e),Ar(e))}function xw(t,e){return Je(t).pipe(Sr(e),Ar(e))}function Rw(t,e){return new _e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Mw(t,e){return new _e(n=>{let r;return Mt(n,e,()=>{r=t[xu](),Mt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Nu(t,e){if(!t)throw new Error("Iterable cannot be null");return new _e(n=>{Mt(n,e,()=>{let r=t[Symbol.asyncIterator]();Mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Pw(t,e){return Nu(Mu(t),e)}function Nw(t,e){if(t!=null){if(Tu(t))return Sw(t,e);if(Cu(t))return Rw(t,e);if(Du(t))return xw(t,e);if(Au(t))return Nu(t,e);if(Ru(t))return Mw(t,e);if(Pu(t))return Pw(t,e)}throw Su(t)}function $e(t,e){return e?Nw(t,e):Je(t)}function re(...t){let e=Tr(t);return $e(t,e)}function wo(t,e){let n=oe(t)?t:()=>t,r=i=>i.error(n());return new _e(e?i=>e.schedule(r,0,i):r)}function Rf(t){return!!t&&(t instanceof _e||oe(t.lift)&&oe(t.subscribe))}var Wn=uo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function pe(t,e){return we((n,r)=>{let i=0;n.subscribe(fe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:iR}=Array;function oR(t,e){return iR(e)?t(...e):t(e)}function Ou(t){return pe(e=>oR(t,e))}var{isArray:sR}=Array,{getPrototypeOf:aR,prototype:cR,keys:uR}=Object;function Fu(t){if(t.length===1){let e=t[0];if(sR(e))return{args:e,keys:null};if(lR(e)){let n=uR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function lR(t){return t&&typeof t=="object"&&aR(t)===cR}function ku(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Lu(...t){let e=Tr(t),n=bu(t),{args:r,keys:i}=Fu(t);if(r.length===0)return $e([],e);let o=new _e(dR(r,e,i?s=>ku(i,s):Ut));return n?o.pipe(Ou(n)):o}function dR(t,e,n=Ut){return r=>{Ow(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Ow(e,()=>{let l=$e(t[u],e),h=!1;l.subscribe(fe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ow(t,e,n){t?Mt(n,t,e):e()}function Fw(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},_=P=>l<r?A(P):u.push(P),A=P=>{o&&e.next(P),l++;let M=!1;Je(n(P,h++)).subscribe(fe(e,k=>{i?.(k),o?_(k):e.next(k)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let k=u.shift();s?Mt(e,s,()=>A(k)):A(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(fe(e,_,()=>{p=!0,m()})),()=>{a?.()}}function et(t,e,n=1/0){return oe(e)?et((r,i)=>pe((o,s)=>e(r,o,i,s))(Je(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>Fw(r,i,t,n)))}function Eo(t=1/0){return et(Ut,t)}function kw(){return Eo(1)}function Io(...t){return kw()($e(t,Tr(t)))}function Vu(t){return new _e(e=>{Je(t()).subscribe(e)})}function Mf(...t){let e=bu(t),{args:n,keys:r}=Fu(t),i=new _e(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Je(n[h]).subscribe(fe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?ku(r,a):a),o.complete())}))}});return e?i.pipe(Ou(e)):i}function sn(t,e){return we((n,r)=>{let i=0;n.subscribe(fe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function xr(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(fe(n,void 0,void 0,s=>{o=Je(t(s,xr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Lw(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(fe(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function bo(t,e){return oe(e)?et(t,e,1):et(t,1)}function Rr(t){return we((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Kn(t){return t<=0?()=>jt:we((e,n)=>{let r=0;e.subscribe(fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Pf(t){return pe(()=>t)}function Uu(t=hR){return we((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function hR(){return new Wn}function la(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function _n(t,e){let n=arguments.length>=2;return r=>r.pipe(t?sn((i,o)=>t(i,o,r)):Ut,Kn(1),n?Rr(e):Uu(()=>new Wn))}function Co(t){return t<=0?()=>jt:we((e,n)=>{let r=[];e.subscribe(fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Nf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?sn((i,o)=>t(i,o,r)):Ut,Co(1),n?Rr(e):Uu(()=>new Wn))}function Of(t,e){return we(Lw(t,e,arguments.length>=2,!0))}function Ff(...t){let e=Tr(t);return we((n,r)=>{(e?Io(t,n,e):Io(t,n)).subscribe(r)})}function an(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=o++;Je(t(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function kf(t){return we((e,n)=>{Je(t).subscribe(fe(n,()=>n.complete(),ca)),!n.closed&&e.subscribe(n)})}function tt(t,e,n){let r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ut}var IE="https://g.co/ng/security#xss",W=class extends Error{constructor(e,n){super(zp(e,n)),this.code=e}};function zp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ba(t){return{toString:t}.toString()}var ju="__parameters__";function fR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function bE(t,e,n){return ba(()=>{let r=fR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(ju)?u[ju]:Object.defineProperty(u,ju,{value:[]})[ju];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Qn=globalThis;function Ne(t){for(let e in t)if(t[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function pR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Vw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var gR=Ne({__forward_ref__:Ne});function Dn(t){return t.__forward_ref__=Dn,t.toString=function(){return Dt(this())},t}function Ct(t){return CE(t)?t():t}function CE(t){return typeof t=="function"&&t.hasOwnProperty(gR)&&t.__forward_ref__===Dn}function ne(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bi(t){return{providers:t.providers||[],imports:t.imports||[]}}function ml(t){return Uw(t,TE)||Uw(t,AE)}function DE(t){return ml(t)!==null}function Uw(t,e){return t.hasOwnProperty(e)?t[e]:null}function mR(t){let e=t&&(t[TE]||t[AE]);return e||null}function jw(t){return t&&(t.hasOwnProperty(Bw)||t.hasOwnProperty(yR))?t[Bw]:null}var TE=Ne({\u0275prov:Ne}),Bw=Ne({\u0275inj:Ne}),AE=Ne({ngInjectableDef:Ne}),yR=Ne({ngInjectorDef:Ne}),X=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ne({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function SE(t){return t&&!!t.\u0275providers}var vR=Ne({\u0275cmp:Ne}),_R=Ne({\u0275dir:Ne}),wR=Ne({\u0275pipe:Ne}),ER=Ne({\u0275mod:Ne}),Ju=Ne({\u0275fac:Ne}),da=Ne({__NG_ELEMENT_ID__:Ne}),$w=Ne({__NG_ENV_ID__:Ne});function yl(t){return typeof t=="string"?t:t==null?"":String(t)}function IR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():yl(t)}function bR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new W(-200,t)}function Gp(t,e){throw new W(-201,!1)}var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{}),Zf;function xE(){return Zf}function Kt(t){let e=Zf;return Zf=t,e}function RE(t,e,n){let r=ml(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&le.Optional)return null;if(e!==void 0)return e;Gp(t,"Injector")}var CR={},ha=CR,Xf="__NG_DI_FLAG__",Zu="ngTempTokenPath",DR="ngTokenPath",TR=/\n/gm,AR="\u0275",Hw="__source",So;function SR(){return So}function Mr(t){let e=So;return So=t,e}function xR(t,e=le.Default){if(So===void 0)throw new W(-203,!1);return So===null?RE(t,void 0,e):So.get(t,e&le.Optional?null:void 0,e)}function ge(t,e=le.Default){return(xE()||xR)(Ct(t),e)}function B(t,e=le.Default){return ge(t,vl(e))}function vl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ep(t){let e=[];for(let n=0;n<t.length;n++){let r=Ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=le.Default;for(let s=0;s<r.length;s++){let a=r[s],u=RR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ge(i,o))}else e.push(ge(r))}return e}function ME(t,e){return t[Xf]=e,t.prototype[Xf]=e,t}function RR(t){return t[Xf]}function MR(t,e,n,r){let i=t[Zu];throw e[Hw]&&i.unshift(e[Hw]),t.message=PR(`
`+t.message,i,n,r),t[DR]=i,t[Zu]=null,t}function PR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==AR?t.slice(2):t;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Dt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(TR,`
  `)}`}var Tt=ME(bE("Optional"),8);var PE=ME(bE("SkipSelf"),4);function Ro(t,e){let n=t.hasOwnProperty(Ju);return n?t[Ju]:null}function NR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function OR(t){return t.flat(Number.POSITIVE_INFINITY)}function Wp(t,e){t.forEach(n=>Array.isArray(n)?Wp(n,e):e(n))}function NE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function FR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function kR(t,e,n){let r=Ca(t,e);return r>=0?t[r|1]=n:(r=~r,FR(t,r,e,n)),r}function Lf(t,e){let n=Ca(t,e);if(n>=0)return t[n|1]}function Ca(t,e){return LR(t,e,1)}function LR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Mo={},Qt=[],Po=new X(""),OE=new X("",-1),FE=new X(""),el=class{get(e,n=ha){if(n===ha){let r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return n}},kE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kE||{}),In=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(In||{}),ut=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ut||{});function VR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function tp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];UR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function LE(t){return t===3||t===4||t===6}function UR(t){return t.charCodeAt(0)===64}function fa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?qw(t,n,i,null,e[++r]):qw(t,n,i,null,null))}}return t}function qw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var VE="ng-template";function jR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&VR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Kp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Kp(t){return t.type===4&&t.value!==VE}function BR(t,e,n){let r=t.type===4&&!n?VE:t.value;return e===r}function $R(t,e,n){let r=4,i=t.attrs,o=i!==null?zR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!cn(r)&&!cn(u))return!1;if(s&&cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!BR(t,u,n)||u===""&&e.length===1){if(cn(r))return!1;s=!0}}else if(r&8){if(i===null||!jR(t,i,u,n)){if(cn(r))return!1;s=!0}}else{let l=e[++a],h=HR(u,i,Kp(t),n);if(h===-1){if(cn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(cn(r))return!1;s=!0}}}}return cn(r)||s}function cn(t){return(t&1)===0}function HR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return GR(e,t)}function qR(t,e,n=!1){for(let r=0;r<e.length;r++)if($R(t,e[r],n))return!0;return!1}function zR(t){for(let e=0;e<t.length;e++){let n=t[e];if(LE(n))return e}return t.length}function GR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function zw(t,e){return t?":not("+e.trim()+")":e}function WR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!cn(s)&&(e+=zw(o,i),i=""),r=s,o=o||!cn(r);n++}return i!==""&&(e+=zw(o,i)),e}function KR(t){return t.map(WR).join(",")}function QR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!cn(i))break;i=o}r++}return{attrs:e,classes:n}}function Pt(t){return ba(()=>{let e=HE(t),n=be(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||In.Emulated,styles:t.styles||Qt,_:null,schemas:t.schemas||null,tView:null,id:""});qE(n);let r=t.dependencies;return n.directiveDefs=Ww(r,!1),n.pipeDefs=Ww(r,!0),n.id=ZR(n),n})}function YR(t){return fi(t)||UE(t)}function JR(t){return t!==null}function Ci(t){return ba(()=>({type:t.type,bootstrap:t.bootstrap||Qt,declarations:t.declarations||Qt,imports:t.imports||Qt,exports:t.exports||Qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Gw(t,e){if(t==null)return Mo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ut.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ut.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ue(t){return ba(()=>{let e=HE(t);return qE(e),e})}function fi(t){return t[vR]||null}function UE(t){return t[_R]||null}function jE(t){return t[wR]||null}function BE(t){let e=fi(t)||UE(t)||jE(t);return e!==null?e.standalone:!1}function $E(t,e){let n=t[ER]||null;if(!n&&e===!0)throw new Error(`Type ${Dt(t)} does not have '\u0275mod' property.`);return n}function HE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Mo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gw(t.inputs,e),outputs:Gw(t.outputs),debugInfo:null}}function qE(t){t.features?.forEach(e=>e(t))}function Ww(t,e){if(!t)return null;let n=e?jE:YR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(JR)}function ZR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Tn(t){return{\u0275providers:t}}function XR(...t){return{\u0275providers:zE(!0,t),\u0275fromNgModule:!0}}function zE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Wp(e,s=>{let a=s;np(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&GE(i,o),n}function GE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Qp(i,o=>{e(o,r)})}}function np(t,e,n,r){if(t=Ct(t),!t)return!1;let i=null,o=jw(t),s=!o&&fi(t);if(!o&&!s){let u=t.ngModule;if(o=jw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)np(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Wp(o.imports,h=>{np(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&GE(l,e)}if(!a){let l=Ro(i)||(()=>new i);e({provide:i,useFactory:l,deps:Qt},i),e({provide:FE,useValue:i,multi:!0},i),e({provide:Po,useValue:()=>ge(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Qp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Qp(t,e){for(let n of t)SE(n)&&(n=n.\u0275providers),Array.isArray(n)?Qp(n,e):e(n)}var eM=Ne({provide:String,useValue:Ne});function WE(t){return t!==null&&typeof t=="object"&&eM in t}function tM(t){return!!(t&&t.useExisting)}function nM(t){return!!(t&&t.useFactory)}function No(t){return typeof t=="function"}function rM(t){return!!t.useClass}var _l=new X(""),zu={},iM={},Vf;function Yp(){return Vf===void 0&&(Vf=new el),Vf}var Yt=class{},pa=class extends Yt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ip(e,s=>this.processProvider(s)),this.records.set(OE,Do(void 0,this)),i.has("environment")&&this.records.set(Yt,Do(void 0,this));let o=this.records.get(_l);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(FE,Qt,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=De(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),De(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Mr(this),r=Kt(void 0),i;try{return e()}finally{Mr(n),Kt(r)}}get(e,n=ha,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty($w))return e[$w](this);r=vl(r);let i,o=Mr(this),s=Kt(void 0);try{if(!(r&le.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=uM(e)&&ml(e);l&&this.injectableDefInScope(l)?u=Do(rp(e),zu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&le.Self?Yp():this.parent;return n=r&le.Optional&&n===ha?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Zu]=a[Zu]||[]).unshift(Dt(e)),o)throw a;return MR(a,e,"R3InjectorError",this.source)}else throw a}finally{Kt(s),Mr(o)}}resolveInjectorInitializers(){let e=De(null),n=Mr(this),r=Kt(void 0),i;try{let o=this.get(Po,Qt,le.Self);for(let s of o)s()}finally{Mr(n),Kt(r),De(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=Ct(e);let n=No(e)?e:Ct(e&&e.provide),r=sM(e);if(!No(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Do(void 0,zu,!0),i.factory=()=>ep(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=De(null);try{return n.value===zu&&(n.value=iM,n.value=n.factory()),typeof n.value=="object"&&n.value&&cM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{De(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function rp(t){let e=ml(t),n=e!==null?e.factory:Ro(t);if(n!==null)return n;if(t instanceof X)throw new W(204,!1);if(t instanceof Function)return oM(t);throw new W(204,!1)}function oM(t){if(t.length>0)throw new W(204,!1);let n=mR(t);return n!==null?()=>n.factory(t):()=>new t}function sM(t){if(WE(t))return Do(void 0,t.useValue);{let e=KE(t);return Do(e,zu)}}function KE(t,e,n){let r;if(No(t)){let i=Ct(t);return Ro(i)||rp(i)}else if(WE(t))r=()=>Ct(t.useValue);else if(nM(t))r=()=>t.useFactory(...ep(t.deps||[]));else if(tM(t))r=()=>ge(Ct(t.useExisting));else{let i=Ct(t&&(t.useClass||t.provide));if(aM(t))r=()=>new i(...ep(t.deps));else return Ro(i)||rp(i)}return r}function Do(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aM(t){return!!t.deps}function cM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uM(t){return typeof t=="function"||typeof t=="object"&&t instanceof X}function ip(t,e){for(let n of t)Array.isArray(n)?ip(n,e):n&&SE(n)?ip(n.\u0275providers,e):e(n)}function Di(t,e){t instanceof pa&&t.assertNotDestroyed();let n,r=Mr(t),i=Kt(void 0);try{return e()}finally{Mr(r),Kt(i)}}function lM(){return xE()!==void 0||SR()!=null}function dM(t){return typeof t=="function"}var tr=0,ce=1,J=2,lt=3,un=4,hn=5,tl=6,ga=7,ln=8,Oo=9,dn=10,nt=11,ma=12,Kw=13,Lo=14,bn=15,Da=16,To=17,Yn=18,wl=19,QE=20,Pr=21,Uf=22,pi=23,Jn=25,YE=1;var gi=7,nl=8,Fo=9,Bt=10,Jp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Jp||{});function di(t){return Array.isArray(t)&&typeof t[YE]=="object"}function nr(t){return Array.isArray(t)&&t[YE]===!0}function JE(t){return(t.flags&4)!==0}function El(t){return t.componentOffset>-1}function Zp(t){return(t.flags&1)===1}function Nr(t){return!!t.template}function hM(t){return(t[J]&512)!==0}var op=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ZE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function rr(){return XE}function XE(t){return t.type.prototype.ngOnChanges&&(t.setInput=pM),fM}rr.ngInherit=!0;function fM(){let t=tI(this),e=t?.current;if(e){let n=t.previous;if(n===Mo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function pM(t,e,n,r,i){let o=this.declaredInputs[r],s=tI(t)||gM(t,{previous:Mo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new op(l&&l.currentValue,n,u===Mo),ZE(t,e,i,n)}var eI="__ngSimpleChanges__";function tI(t){return t[eI]||null}function gM(t,e){return t[eI]=e}var Qw=null;var wn=function(t,e,n){Qw?.(t,e,n)},mM="svg",yM="math",vM=!1;function _M(){return vM}function Cn(t){for(;Array.isArray(t);)t=t[tr];return t}function nI(t,e){return Cn(e[t])}function Jt(t,e){return Cn(e[t.index])}function rI(t,e){return t.data[e]}function wM(t,e){return t[e]}function Fr(t,e){let n=e[t];return di(n)?n:n[tr]}function EM(t){return(t[J]&4)===4}function Xp(t){return(t[J]&128)===128}function IM(t){return nr(t[lt])}function rl(t,e){return e==null?null:t[e]}function iI(t){t[To]=0}function bM(t){t[J]&1024||(t[J]|=1024,Xp(t)&&ya(t))}function CM(t,e){for(;t>0;)e=e[Lo],t--;return e}function eg(t){return!!(t[J]&9216||t[pi]?.dirty)}function sp(t){t[dn].changeDetectionScheduler?.notify(1),eg(t)?ya(t):t[J]&64&&(_M()?(t[J]|=1024,ya(t)):t[dn].changeDetectionScheduler?.notify())}function ya(t){t[dn].changeDetectionScheduler?.notify();let e=va(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Xp(e)));)e=va(e)}function oI(t,e){if((t[J]&256)===256)throw new W(911,!1);t[Pr]===null&&(t[Pr]=[]),t[Pr].push(e)}function DM(t,e){if(t[Pr]===null)return;let n=t[Pr].indexOf(e);n!==-1&&t[Pr].splice(n,1)}function va(t){let e=t[lt];return nr(e)?e[lt]:e}var ue={lFrame:hI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function TM(){return ue.lFrame.elementDepthCount}function AM(){ue.lFrame.elementDepthCount++}function SM(){ue.lFrame.elementDepthCount--}function sI(){return ue.bindingsEnabled}function xM(){return ue.skipHydrationRootTNode!==null}function RM(t){return ue.skipHydrationRootTNode===t}function MM(){ue.skipHydrationRootTNode=null}function Se(){return ue.lFrame.lView}function At(){return ue.lFrame.tView}function de(t){return ue.lFrame.contextLView=t,t[ln]}function he(t){return ue.lFrame.contextLView=null,t}function St(){let t=aI();for(;t!==null&&t.type===64;)t=t.parent;return t}function aI(){return ue.lFrame.currentTNode}function PM(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ta(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function cI(){return ue.lFrame.isParent}function NM(){ue.lFrame.isParent=!1}function OM(){return ue.lFrame.contextLView}function FM(){let t=ue.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function kM(t){return ue.lFrame.bindingIndex=t}function Il(){return ue.lFrame.bindingIndex++}function LM(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function VM(){return ue.lFrame.inI18n}function UM(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,ap(e)}function jM(){return ue.lFrame.currentDirectiveIndex}function ap(t){ue.lFrame.currentDirectiveIndex=t}function BM(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function uI(){return ue.lFrame.currentQueryIndex}function tg(t){ue.lFrame.currentQueryIndex=t}function $M(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[hn]:null}function lI(t,e,n){if(n&le.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&le.Host);)if(i=$M(o),i===null||(o=o[Lo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ue.lFrame=dI();return r.currentTNode=e,r.lView=t,!0}function ng(t){let e=dI(),n=t[ce];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dI(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?hI(t):e}function hI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fI(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pI=fI;function rg(){let t=fI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function HM(t){return(ue.lFrame.contextLView=CM(t,ue.lFrame.contextLView))[ln]}function Vo(){return ue.lFrame.selectedIndex}function mi(t){ue.lFrame.selectedIndex=t}function ig(){let t=ue.lFrame;return rI(t.tView,t.selectedIndex)}function qM(){return ue.lFrame.currentNamespace}var gI=!0;function og(){return gI}function sg(t){gI=t}function zM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=XE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ag(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Gu(t,e,n){mI(t,e,3,n)}function Wu(t,e,n,r){(t[J]&3)===n&&mI(t,e,n,r)}function jf(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function mI(t,e,n,r){let i=r!==void 0?t[To]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[To]+=65536),(a<o||o==-1)&&(GM(t,n,e,u),t[To]=(t[To]&4294901760)+u+2),u++}function Yw(t,e){wn(4,t,e);let n=De(null);try{e.call(t)}finally{De(n),wn(5,t,e)}}function GM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[To]>>16&&(t[J]&3)===e&&(t[J]+=16384,Yw(a,o)):Yw(a,o)}var xo=-1,yi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function WM(t){return t instanceof yi}function KM(t){return(t.flags&8)!==0}function QM(t){return(t.flags&16)!==0}function yI(t){return t!==xo}function il(t){return t&32767}function YM(t){return t>>16}function ol(t,e){let n=YM(t),r=e;for(;n>0;)r=r[Lo],n--;return r}var cp=!0;function Jw(t){let e=cp;return cp=t,e}var JM=256,vI=JM-1,_I=5,ZM=0,En={};function XM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(da)&&(r=n[da]),r==null&&(r=n[da]=ZM++);let i=r&vI,o=1<<i;e.data[t+(i>>_I)]|=o}function sl(t,e){let n=wI(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,Bf(r.data,t),Bf(e,null),Bf(r.blueprint,null));let i=cg(t,e),o=t.injectorIndex;if(yI(i)){let s=il(i),a=ol(i,e),u=a[ce].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Bf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function cg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=DI(i),r===null)return xo;if(n++,i=i[Lo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return xo}function up(t,e,n){XM(t,e,n)}function e1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(LE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function EI(t,e,n){if(n&le.Optional||t!==void 0)return t;Gp(e,"NodeInjector")}function II(t,e,n,r){if(n&le.Optional&&r===void 0&&(r=null),!(n&(le.Self|le.Host))){let i=t[Oo],o=Kt(void 0);try{return i?i.get(e,r,n&le.Optional):RE(e,r,n&le.Optional)}finally{Kt(o)}}return EI(r,e,n)}function bI(t,e,n,r=le.Default,i){if(t!==null){if(e[J]&2048&&!(r&le.Self)){let s=i1(t,e,n,r,En);if(s!==En)return s}let o=CI(t,e,n,r,En);if(o!==En)return o}return II(e,n,r,i)}function CI(t,e,n,r,i){let o=n1(n);if(typeof o=="function"){if(!lI(e,t,r))return r&le.Host?EI(i,n,r):II(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&le.Optional))Gp(n);else return s}finally{pI()}}else if(typeof o=="number"){let s=null,a=wI(t,e),u=xo,l=r&le.Host?e[bn][hn]:null;for((a===-1||r&le.SkipSelf)&&(u=a===-1?cg(t,e):e[a+8],u===xo||!Xw(r,!1)?a=-1:(s=e[ce],a=il(u),e=ol(u,e)));a!==-1;){let h=e[ce];if(Zw(o,a,h.data)){let p=t1(a,e,n,s,r,l);if(p!==En)return p}u=e[a+8],u!==xo&&Xw(r,e[ce].data[a+8]===l)&&Zw(o,a,e)?(s=h,a=il(u),e=ol(u,e)):a=-1}}return i}function t1(t,e,n,r,i,o){let s=e[ce],a=s.data[t+8],u=r==null?El(a)&&cp:r!=s&&(a.type&3)!==0,l=i&le.Host&&o===a,h=Ku(a,s,n,u,l);return h!==null?vi(e,s,h,a):En}function Ku(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let _=p;_<m;_++){let A=s[_];if(_<u&&n===A||_>=u&&A.type===n)return _}if(i){let _=s[u];if(_&&Nr(_)&&_.type===n)return u}return null}function vi(t,e,n,r){let i=t[n],o=e.data;if(WM(i)){let s=i;s.resolving&&bR(IR(o[n]));let a=Jw(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Kt(s.injectImpl):null,h=lI(t,r,le.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&zM(n,o[n],e)}finally{l!==null&&Kt(l),Jw(a),s.resolving=!1,pI()}}return i}function n1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(da)?t[da]:void 0;return typeof e=="number"?e>=0?e&vI:r1:e}function Zw(t,e,n){let r=1<<t;return!!(n[e+(t>>_I)]&r)}function Xw(t,e){return!(t&le.Self)&&!(t&le.Host&&e)}var hi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bI(this._tNode,this._lView,e,vl(r),n)}};function r1(){return new hi(St(),Se())}function ir(t){return ba(()=>{let e=t.prototype.constructor,n=e[Ju]||lp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ju]||lp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function lp(t){return CE(t)?()=>{let e=lp(Ct(t));return e&&e()}:Ro(t)}function i1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!(s[J]&512);){let a=CI(o,s,n,r|le.Self,En);if(a!==En)return a;let u=o.parent;if(!u){let l=s[QE];if(l){let h=l.get(n,En,r);if(h!==En)return h}u=DI(s),s=s[Lo]}o=u}return i}function DI(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[hn]:null}function ug(t){return e1(St(),t)}function eE(t,e=null,n=null,r){let i=TI(t,e,n,r);return i.resolveInjectorInitializers(),i}function TI(t,e=null,n=null,r,i=new Set){let o=[n||Qt,XR(t)];return r=r||(typeof t=="object"?void 0:Dt(t)),new pa(o,e||Yp(),r||null,i)}var Zt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return eE({name:""},i,r,"");{let o=r.name??"";return eE({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=ha,e.NULL=new el,e.\u0275prov=ne({token:e,providedIn:"any",factory:()=>ge(OE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var o1="ngOriginalError";function $f(t){return t[o1]}var Zn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&$f(e);for(;n&&$f(n);)n=$f(n);return n||null}},AI=new X("",{providedIn:"root",factory:()=>B(Zn).handleError.bind(void 0)}),SI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=s1,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),dp=class extends SI{constructor(e){super(),this._lView=e}onDestroy(e){return oI(this._lView,e),()=>DM(this._lView,e)}};function s1(){return new dp(Se())}function a1(){return Uo(St(),Se())}function Uo(t,e){return new xt(Jt(t,e))}var xt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=a1;let t=e;return t})();function c1(t){return t instanceof xt?t.nativeElement:t}var hp=class extends vt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,lM()&&(this.destroyRef=B(SI,{optional:!0})??void 0)}emit(e){let n=De(null);try{super.next(e)}finally{De(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Hf(o),i&&(i=Hf(i)),s&&(s=Hf(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Qe&&e.add(a),a}};function Hf(t){return e=>{setTimeout(t,void 0,e)}}var He=hp;function u1(){return this._results[Symbol.iterator]()}var fp=class t{get changes(){return this._changes??=new He}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=u1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=OR(e);(this._changesDetected=!NR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function xI(t){return(t.flags&128)===128}var RI=new Map,l1=0;function d1(){return l1++}function h1(t){RI.set(t[wl],t)}function f1(t){RI.delete(t[wl])}var tE="__ngContext__";function _i(t,e){di(e)?(t[tE]=e[wl],h1(e)):t[tE]=e}function MI(t){return NI(t[ma])}function PI(t){return NI(t[un])}function NI(t){for(;t!==null&&!nr(t);)t=t[un];return t}var pp;function OI(t){pp=t}function p1(){if(pp!==void 0)return pp;if(typeof document<"u")return document;throw new W(210,!1)}var lg=new X("",{providedIn:"root",factory:()=>g1}),g1="ng",dg=new X(""),kr=new X("",{providedIn:"platform",factory:()=>"unknown"});var hg=new X("",{providedIn:"root",factory:()=>p1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var m1="h",y1="b";var v1=()=>null;function fg(t,e,n=!1){return v1(t,e,n)}var FI=!1,_1=new X("",{providedIn:"root",factory:()=>FI});var Bu;function w1(){if(Bu===void 0&&(Bu=null,Qn.trustedTypes))try{Bu=Qn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bu}function E1(t){return w1()?.createScriptURL(t)||t}var $u;function I1(){if($u===void 0&&($u=null,Qn.trustedTypes))try{$u=Qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $u}function nE(t){return I1()?.createScriptURL(t)||t}var al=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${IE})`}};function Aa(t){return t instanceof al?t.changingThisBreaksApplicationSecurity:t}function pg(t,e){let n=b1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${IE})`)}return n===e}function b1(t){return t instanceof al&&t.getTypeName()||null}var C1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kI(t){return t=String(t),t.match(C1)?t:"unsafe:"+t}var bl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(bl||{});function Sa(t){let e=UI();return e?e.sanitize(bl.URL,t)||"":pg(t,"URL")?Aa(t):kI(yl(t))}function D1(t){let e=UI();if(e)return nE(e.sanitize(bl.RESOURCE_URL,t)||"");if(pg(t,"ResourceURL"))return nE(Aa(t));throw new W(904,!1)}function LI(t){return E1(t[0])}function T1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?D1:Sa}function VI(t,e,n){return T1(e,n)(t)}function UI(){let t=Se();return t&&t[dn].sanitizer}function jI(t){return t instanceof Function?t():t}var Xn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xn||{}),A1;function gg(t,e){return A1(t,e)}function Ao(t,e,n,r,i){if(r!=null){let o,s=!1;nr(r)?o=r:di(r)&&(s=!0,r=r[tr]);let a=Cn(r);t===0&&n!==null?i==null?zI(e,n,a):cl(e,n,a,i||null,!0):t===1&&n!==null?cl(e,n,a,i||null,!0):t===2?q1(e,a,s):t===3&&e.destroyNode(a),o!=null&&G1(e,t,o,n,i)}}function S1(t,e){return t.createText(e)}function x1(t,e,n){t.setValue(e,n)}function BI(t,e,n){return t.createElement(e,n)}function R1(t,e){$I(t,e),e[tr]=null,e[hn]=null}function M1(t,e,n,r,i,o){r[tr]=i,r[hn]=e,Cl(t,r,n,1,i,o)}function $I(t,e){e[dn].changeDetectionScheduler?.notify(1),Cl(t,e,e[nt],2,null,null)}function P1(t){let e=t[ma];if(!e)return qf(t[ce],t);for(;e;){let n=null;if(di(e))n=e[ma];else{let r=e[Bt];r&&(n=r)}if(!n){for(;e&&!e[un]&&e!==t;)di(e)&&qf(e[ce],e),e=e[lt];e===null&&(e=t),di(e)&&qf(e[ce],e),n=e&&e[un]}e=n}}function N1(t,e,n,r){let i=Bt+r,o=n.length;r>0&&(n[i-1][un]=e),r<o-Bt?(e[un]=n[i],NE(n,Bt+r,e)):(n.push(e),e[un]=null),e[lt]=n;let s=e[Da];s!==null&&n!==s&&O1(s,e);let a=e[Yn];a!==null&&a.insertView(t),sp(e),e[J]|=128}function O1(t,e){let n=t[Fo],i=e[lt][lt][bn];e[bn]!==i&&(t[J]|=Jp.HasTransplantedViews),n===null?t[Fo]=[e]:n.push(e)}function HI(t,e){let n=t[Fo],r=n.indexOf(e);n.splice(r,1)}function gp(t,e){if(t.length<=Bt)return;let n=Bt+e,r=t[n];if(r){let i=r[Da];i!==null&&i!==t&&HI(i,r),e>0&&(t[n-1][un]=r[un]);let o=Xu(t,Bt+e);R1(r[ce],r);let s=o[Yn];s!==null&&s.detachView(o[ce]),r[lt]=null,r[un]=null,r[J]&=-129}return r}function qI(t,e){if(!(e[J]&256)){let n=e[nt];n.destroyNode&&Cl(t,e,n,3,null,null),P1(e)}}function qf(t,e){if(e[J]&256)return;let n=De(null);try{e[J]&=-129,e[J]|=256,e[pi]&&hw(e[pi]),k1(t,e),F1(t,e),e[ce].type===1&&e[nt].destroy();let r=e[Da];if(r!==null&&nr(e[lt])){r!==e[lt]&&HI(r,e);let i=e[Yn];i!==null&&i.detachView(t)}f1(e)}finally{De(n)}}function F1(t,e){let n=t.cleanup,r=e[ga];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ga]=null);let i=e[Pr];if(i!==null){e[Pr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function k1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof yi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];wn(4,a,u);try{u.call(a)}finally{wn(5,a,u)}}else{wn(4,i,o);try{o.call(i)}finally{wn(5,i,o)}}}}}function L1(t,e,n){return V1(t,e.parent,n)}function V1(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[tr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===In.None||o===In.Emulated)return null}return Jt(r,n)}}function cl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function zI(t,e,n){t.appendChild(e,n)}function rE(t,e,n,r,i){r!==null?cl(t,e,n,r,i):zI(t,e,n)}function U1(t,e,n,r){t.removeChild(e,n,r)}function mg(t,e){return t.parentNode(e)}function j1(t,e){return t.nextSibling(e)}function B1(t,e,n){return H1(t,e,n)}function $1(t,e,n){return t.type&40?Jt(t,n):null}var H1=$1,iE;function yg(t,e,n,r){let i=L1(t,r,e),o=e[nt],s=r.parent||e[hn],a=B1(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)rE(o,i,n[u],a,!1);else rE(o,i,n,a,!1);iE!==void 0&&iE(o,r,e,n,i)}function Qu(t,e){if(e!==null){let n=e.type;if(n&3)return Jt(e,t);if(n&4)return mp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Qu(t,r);{let i=t[e.index];return nr(i)?mp(-1,i):Cn(i)}}else{if(n&32)return gg(e,t)()||Cn(t[e.index]);{let r=GI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=va(t[bn]);return Qu(i,r)}else return Qu(t,e.next)}}}return null}function GI(t,e){if(e!==null){let r=t[bn][hn],i=e.projection;return r.projection[i]}return null}function mp(t,e){let n=Bt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return Qu(r,i)}return e[gi]}function q1(t,e,n){let r=mg(t,e);r&&U1(t,r,e,n)}function vg(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&_i(Cn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)vg(t,e,n.child,r,i,o,!1),Ao(e,t,i,a,o);else if(u&32){let l=gg(n,r),h;for(;h=l();)Ao(e,t,i,h,o);Ao(e,t,i,a,o)}else u&16?z1(t,e,r,n,i,o):Ao(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Cl(t,e,n,r,i,o){vg(n,r,t.firstChild,e,i,o,!1)}function z1(t,e,n,r,i,o){let s=n[bn],u=s[hn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ao(e,t,i,h,o)}else{let l=u,h=s[lt];xI(r)&&(l.flags|=128),vg(t,e,l,h,i,o,!0)}}function G1(t,e,n,r,i){let o=n[gi],s=Cn(n);o!==s&&Ao(e,t,r,o,i);for(let a=Bt;a<n.length;a++){let u=n[a];Cl(u[ce],u,t,e,r,o)}}function W1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Xn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Xn.Important),t.setStyle(n,r,i,o))}}function K1(t,e,n){t.setAttribute(e,"style",n)}function WI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function KI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&tp(t,e,r),i!==null&&WI(t,e,i),o!==null&&K1(t,e,o)}var Ti={};function U(t=1){QI(At(),Se(),Vo()+t,!1)}function QI(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Gu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Wu(e,o,0,n)}mi(n)}function q(t,e=le.Default){let n=Se();if(n===null)return ge(t,e);let r=St();return bI(r,n,Ct(t),e)}function YI(t,e,n,r,i,o){let s=De(null);try{let a=null;i&ut.SignalBased&&(a=e[r][ff]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ut.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):ZE(e,a,r,o)}finally{De(s)}}function Q1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)mi(~i);else{let o=i,s=n[++r],a=n[++r];UM(s,o);let u=e[o];a(2,u)}}}finally{mi(-1)}}function Dl(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[tr]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),iI(p),p[lt]=p[Lo]=t,p[ln]=n,p[dn]=s||t&&t[dn],p[nt]=a||t&&t[nt],p[Oo]=u||t&&t[Oo]||null,p[hn]=o,p[wl]=d1(),p[tl]=h,p[QE]=l,p[bn]=e.type==2?t[bn]:p,p}function Tl(t,e,n,r,i){let o=t.data[e];if(o===null)o=Y1(t,e,n,r,i),VM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=PM();o.injectorIndex=s===null?-1:s.injectorIndex}return Ta(o,!0),o}function Y1(t,e,n,r,i){let o=aI(),s=cI(),a=s?o:o&&o.parent,u=t.data[e]=nP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function JI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ZI(t,e,n,r,i){let o=Vo(),s=r&2;try{mi(-1),s&&e.length>Jn&&QI(t,e,Jn,!1),wn(s?2:0,i),n(r,i)}finally{mi(o),wn(s?3:1,i)}}function XI(t,e,n){if(JE(e)){let r=De(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{De(r)}}}function eb(t,e,n){sI()&&(cP(t,e,n,Jt(n,e)),(n.flags&64)===64&&sb(t,e,n))}function tb(t,e,n=Jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function nb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=_g(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _g(t,e,n,r,i,o,s,a,u,l,h){let p=Jn+r,m=p+i,_=J1(p,m),A=typeof l=="function"?l():l;return _[ce]={type:t,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function J1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ti);return n}function Z1(t,e,n,r){let o=r.get(_1,FI)||n===In.ShadowDom,s=t.selectRootElement(e,o);return X1(s),s}function X1(t){eP(t)}var eP=()=>null;function tP(t,e,n,r){let i=ub(e);i.push(n),t.firstCreatePass&&lb(t).push(r,i.length-1)}function nP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return xM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function oE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=ut.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?sE(r,n,l,a,u):sE(r,n,l,a)}return r}function sE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function rP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,_=m?m.inputs:null,A=m?m.outputs:null;u=oE(0,p.inputs,h,u,_),l=oE(1,p.outputs,h,l,A);let P=u!==null&&s!==null&&!Kp(e)?_P(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function iP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function rb(t,e,n,r,i,o,s,a){let u=Jt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(wg(t,n,h,r,i),El(e)&&oP(n,e.index)):e.type&3?(r=iP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function oP(t,e){let n=Fr(e,t);n[J]&16||(n[J]|=64)}function ib(t,e,n,r){if(sI()){let i=r===null?null:{"":-1},o=lP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&ob(t,e,n,s,i,a),i&&dP(n,r,i)}n.mergedAttrs=fa(n.mergedAttrs,n.attrs)}function ob(t,e,n,r,i,o){for(let l=0;l<r.length;l++)up(sl(n,e),t,r[l].type);fP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=JI(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=fa(n.mergedAttrs,h.hostAttrs),pP(t,n,e,u,h),hP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}rP(t,n,o)}function sP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;aP(s)!=a&&s.push(a),s.push(n,r,o)}}function aP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function cP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;El(n)&&gP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||sl(n,e),_i(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=vi(e,t,a,n);if(_i(l,e),s!==null&&vP(e,a-i,l,u,n,s),Nr(u)){let h=Fr(n.index,e);h[ln]=vi(e,t,a,n)}}}function sb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=jM();try{mi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];ap(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&uP(u,l)}}finally{mi(-1),ap(s)}}function uP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function lP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(qR(e,s.selectors,!1))if(r||(r=[]),Nr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;yp(t,e,u)}else r.unshift(s),yp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function yp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function dP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new W(-301,!1);r.push(e[i],o)}}}function hP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Nr(e)&&(n[""]=t)}}function fP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function pP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ro(i.type,!0)),s=new yi(o,Nr(i),q);t.blueprint[r]=s,n[r]=s,sP(t,e,r,JI(t,n,i.hostVars,Ti),i)}function gP(t,e,n){let r=Jt(e,t),i=nb(n),o=t[dn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Al(t,Dl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function mP(t,e,n,r,i,o){let s=Jt(t,e);yP(e[nt],s,o,t.value,n,r,i)}function yP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?yl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function vP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];YI(r,n,u,l,h,p)}}function _P(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function ab(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function cb(t,e){let n=t.contentQueries;if(n!==null){let r=De(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];tg(o),a.contentQueries(2,e[s],s)}}}finally{De(r)}}}function Al(t,e){return t[ma]?t[Kw][un]=e:t[ma]=e,t[Kw]=e,e}function vp(t,e,n){tg(0);let r=De(null);try{e(t,n)}finally{De(r)}}function ub(t){return t[ga]||(t[ga]=[])}function lb(t){return t.cleanup||(t.cleanup=[])}function db(t,e){let n=t[Oo],r=n?n.get(Zn,null):null;r&&r.handleError(e)}function wg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];YI(h,l,r,a,u,i)}}function wP(t,e,n){let r=nI(e,t);x1(t[nt],r,n)}function EP(t,e){let n=Fr(e,t),r=n[ce];IP(r,n);let i=n[tr];i!==null&&n[tl]===null&&(n[tl]=fg(i,n[Oo])),Eg(r,n,n[ln])}function IP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Eg(t,e,n){ng(e);try{let r=t.viewQuery;r!==null&&vp(1,r,n);let i=t.template;i!==null&&ZI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Yn]?.finishViewCreation(t),t.staticContentQueries&&cb(t,e),t.staticViewQueries&&vp(2,t.viewQuery,n);let o=t.components;o!==null&&bP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,rg()}}function bP(t,e){for(let n=0;n<e.length;n++)EP(t,e[n])}function CP(t,e,n,r){let i=De(null);try{let o=e.tView,a=t[J]&4096?4096:16,u=Dl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Da]=l;let h=t[Yn];return h!==null&&(u[Yn]=h.createEmbeddedView(o)),Eg(o,u,n),u}finally{De(i)}}function aE(t,e){return!e||e.firstChild===null||xI(t)}function DP(t,e,n,r=!0){let i=e[ce];if(N1(i,e,t,n),r){let s=mp(n,t),a=e[nt],u=mg(a,t[gi]);u!==null&&M1(i,t[hn],a,e,u,s)}let o=e[tl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ul(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Cn(o)),nr(o)&&TP(o,r);let s=n.type;if(s&8)ul(t,e,n.child,r);else if(s&32){let a=gg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=GI(e,n);if(Array.isArray(a))r.push(...a);else{let u=va(e[bn]);ul(u[ce],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function TP(t,e){for(let n=Bt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&ul(r[ce],r,i,e)}t[gi]!==t[tr]&&e.push(t[gi])}var hb=[];function AP(t){return t[pi]??SP(t)}function SP(t){let e=hb.pop()??Object.create(RP);return e.lView=t,e}function xP(t){t.lView[pi]!==t&&(t.lView=null,hb.push(t))}var RP=be(V({},uw),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ya(t.lView)},consumerOnSignalRead(){this.lView[pi]=this}}),fb=100;function pb(t,e=!0,n=0){let r=t[dn],i=r.rendererFactory,o=!1;o||i.begin?.();try{MP(t,n)}catch(s){throw e&&db(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function MP(t,e){_p(t,e);let n=0;for(;eg(t);){if(n===fb)throw new W(103,!1);n++,_p(t,1)}}function PP(t,e,n,r){let i=e[J];if((i&256)===256)return;let o=!1;!o&&e[dn].inlineEffectRunner?.flush(),ng(e);let s=null,a=null;!o&&NP(t)&&(a=AP(e),s=lw(a));try{iI(e),kM(t.bindingStartIndex),n!==null&&ZI(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Gu(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Wu(e,p,0,null),jf(e,0)}if(OP(e),gb(e,0),t.contentQueries!==null&&cb(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Gu(e,p)}else{let p=t.contentHooks;p!==null&&Wu(e,p,1),jf(e,1)}Q1(t,e);let l=t.components;l!==null&&yb(e,l,0);let h=t.viewQuery;if(h!==null&&vp(2,h,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Gu(e,p)}else{let p=t.viewHooks;p!==null&&Wu(e,p,2),jf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Uf]){for(let p of e[Uf])p();e[Uf]=null}o||(e[J]&=-73)}catch(u){throw ya(e),u}finally{a!==null&&(dw(a,s),xP(a)),rg()}}function NP(t){return t.type!==2}function gb(t,e){for(let n=MI(t);n!==null;n=PI(n))for(let r=Bt;r<n.length;r++){let i=n[r];mb(i,e)}}function OP(t){for(let e=MI(t);e!==null;e=PI(e)){if(!(e[J]&Jp.HasTransplantedViews))continue;let n=e[Fo];for(let r=0;r<n.length;r++){let i=n[r],o=i[lt];bM(i)}}}function FP(t,e,n){let r=Fr(e,t);mb(r,n)}function mb(t,e){Xp(t)&&_p(t,e)}function _p(t,e){let r=t[ce],i=t[J],o=t[pi],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&pf(o)),o&&(o.dirty=!1),t[J]&=-9217,s)PP(r,t,r.template,t[ln]);else if(i&8192){gb(t,1);let a=r.components;a!==null&&yb(t,a,1)}}function yb(t,e,n){for(let r=0;r<e.length;r++)FP(t,e[r],n)}function Ig(t){for(t[dn].changeDetectionScheduler?.notify();t;){t[J]|=64;let e=va(t);if(hM(t)&&!e)return t;t=e}return null}var wi=class{get rootNodes(){let e=this._lView,n=e[ce];return ul(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ln]}set context(e){this._lView[ln]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(nr(e)){let n=e[nl],r=n?n.indexOf(this):-1;r>-1&&(gp(e,r),Xu(n,r))}this._attachedToViewContainer=!1}qI(this._lView[ce],this._lView)}onDestroy(e){oI(this._lView,e)}markForCheck(){Ig(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){sp(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,pb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,$I(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e,sp(this._lView)}},Ei=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VP;let t=e;return t})(),kP=Ei,LP=class extends kP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=CP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new wi(i)}};function VP(){return Sl(St(),Se())}function Sl(t,e){return t.type&4?new LP(e,t,Uo(t,e)):null}var SG=new RegExp(`^(\\d+)*(${y1}|${m1})*(.*)`);var UP=()=>null;function cE(t,e){return UP(t,e)}var wp=class{},Ep=class{},ll=class{};function jP(t){let e=Error(`No component factory found for ${Dt(t)}.`);return e[BP]=t,e}var BP="ngComponent";var Ip=class{resolveComponentFactory(e){throw jP(e)}},xl=(()=>{let e=class e{};e.NULL=new Ip;let t=e;return t})(),_a=class{},fn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>$P();let t=e;return t})();function $P(){let t=Se(),e=St(),n=Fr(e.index,t);return(di(n)?n:t)[nt]}var HP=(()=>{let e=class e{};e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),zf={};var uE=new Set;function vb(t){uE.has(t)||(uE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function lE(...t){}function qP(){let t=typeof Qn.requestAnimationFrame=="function",e=Qn[t?"requestAnimationFrame":"setTimeout"],n=Qn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Re=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=qP().nativeRequestAnimationFrame,WP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new W(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,zP,lE,lE);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},zP={};function bg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function GP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bp(t),t.isCheckStableRunning=!0,bg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bp(t))}function WP(t){let e=()=>{GP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(KP(a))return n.invokeTask(i,o,s,a);try{return dE(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),hE(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return dE(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),hE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,bp(t),bg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function bp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function dE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hE(t){t._nesting--,bg(t)}function KP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var _b=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Cp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Vw(i,a);else if(o==2){let u=a,l=e[++s];r=Vw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var dl=class extends xl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=fi(e);return new wa(n,this.ngModule)}};function fE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function QP(t){let e=t.toLowerCase();return e==="svg"?mM:e==="math"?yM:null}var Dp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=vl(r);let i=this.injector.get(e,zf,r);return i!==zf||n===zf?i:this.parentInjector.get(e,n,r)}},wa=class extends ll{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=fE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return fE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=KR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=De(null);try{i=i||this.ngModule;let s=i instanceof Yt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Dp(e,s):e,u=a.get(_a,null);if(u===null)throw new W(407,!1);let l=a.get(HP,null),h=a.get(_b,null),p=a.get(wp,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",P=r?Z1(_,r,this.componentDef.encapsulation,a):BI(_,A,QP(A)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let k=null;P!==null&&(k=fg(P,a,!0));let G=_g(0,null,null,1,0,null,null,null,null,null,null),$=Dl(null,G,null,M,null,null,m,_,a,null,k);ng($);let Q,Me;try{let te=this.componentDef,b,y=null;te.findHostDirectiveDefs?(b=[],y=new Map,te.findHostDirectiveDefs(te,b,y),b.push(te)):b=[te];let w=YP($,P),I=JP(w,P,te,b,$,m,_);Me=rI(G,Jn),P&&eN(_,te,P,r),n!==void 0&&tN(Me,this.ngContentSelectors,n),Q=XP(I,te,b,y,$,[nN]),Eg(G,$,null)}finally{rg()}return new Tp(this.componentType,Q,Uo(Me,$),$,Me)}finally{De(o)}}},Tp=class extends Ep{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;wg(o[ce],o,i,e,n),this.previousInputValues.set(e,n);let s=Fr(this._tNode.index,o);Ig(s)}}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function YP(t,e){let n=t[ce],r=Jn;return t[r]=e,Tl(n,r,2,"#host",null)}function JP(t,e,n,r,i,o,s){let a=i[ce];ZP(r,t,e,s);let u=null;e!==null&&(u=fg(e,i[Oo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Dl(i,nb(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&yp(a,t,r.length-1),Al(i,p),i[t.index]=p}function ZP(t,e,n,r){for(let i of t)e.mergedAttrs=fa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Cp(e,e.mergedAttrs,!0),n!==null&&KI(r,n,e))}function XP(t,e,n,r,i,o){let s=St(),a=i[ce],u=Jt(s,i);ob(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=vi(i,a,p,s);_i(m,i)}sb(a,i,s),u&&_i(u,i);let l=vi(i,a,s.directiveStart+s.componentOffset,s);if(t[ln]=i[ln]=l,o!==null)for(let h of o)h(l,e);return XI(a,s,i),l}function eN(t,e,n,r){if(r)tp(t,n,["ng-version","17.3.4"]);else{let{attrs:i,classes:o}=QR(e.selectors[0]);i&&tp(t,n,i),o&&o.length>0&&WI(t,n,o.join(" "))}}function tN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function nN(){let t=St();ag(Se()[ce],t)}var Lr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rN;let t=e;return t})();function rN(){let t=St();return Eb(t,Se())}var iN=Lr,wb=class extends iN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Uo(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){let e=cg(this._hostTNode,this._hostLView);if(yI(e)){let n=ol(e,this._hostLView),r=il(e),i=n[ce].data[r+8];return new hi(i,n)}else return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=pE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=cE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,aE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!dM(e),a;if(s)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new wa(fi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Yt,null);P&&(o=P)}let h=fi(u.componentType??{}),p=cE(this._lContainer,h?.id??null),m=p?.firstChild??null,_=u.create(l,i,m,o);return this.insertImpl(_.hostView,a,aE(this._hostTNode,p)),_}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(IM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[lt],l=new wb(u,u[hn],u[lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return DP(s,i,o,r),e.attachToViewContainerRef(),NE(Gf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=pE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=gp(this._lContainer,n);r&&(Xu(Gf(this._lContainer),n),qI(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=gp(this._lContainer,n);return r&&Xu(Gf(this._lContainer),n)!=null?new wi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function pE(t){return t[nl]}function Gf(t){return t[nl]||(t[nl]=[])}function Eb(t,e){let n,r=e[t.index];return nr(r)?n=r:(n=ab(r,e,null,t),e[t.index]=n,Al(e,n)),sN(n,e,t,r),new wb(n,t,e)}function oN(t,e){let n=t[nt],r=n.createComment(""),i=Jt(e,t),o=mg(n,i);return cl(n,o,r,j1(n,i),!1),r}var sN=uN,aN=()=>!1;function cN(t,e,n){return aN(t,e,n)}function uN(t,e,n,r){if(t[gi])return;let i;n.type&8?i=Cn(r):i=oN(e,n),t[gi]=i}var Ap=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Sp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Cg(e,n).matches!==null&&this.queries[n].setDirty()}},xp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=yN(e):this.predicate=e}},Rp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Mp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,lN(n,o)),this.matchTNodeWithReadOption(e,n,Ku(n,e,o,!1,!1))}else r===Ei?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ku(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===xt||i===Lr||i===Ei&&n.type&4)this.addMatch(n.index,-2);else{let o=Ku(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function lN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function dN(t,e){return t.type&11?Uo(t,e):t.type&4?Sl(t,e):null}function hN(t,e,n,r){return n===-1?dN(e,t):n===-2?fN(t,e,r):vi(t,t[ce],n,e)}function fN(t,e,n){if(n===xt)return Uo(e,t);if(n===Ei)return Sl(e,t);if(n===Lr)return Eb(e,t)}function Ib(t,e,n,r){let i=e[Yn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(hN(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Pp(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Ib(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Bt;p<h.length;p++){let m=h[p];m[Da]===m[lt]&&Pp(m[ce],m,l,r)}if(h[Fo]!==null){let p=h[Fo];for(let m=0;m<p.length;m++){let _=p[m];Pp(_[ce],_,l,r)}}}}}return r}function pN(t,e){return t[Yn].queries[e].queryList}function gN(t,e,n){let r=new fp((n&4)===4);return tP(t,e,r,r.destroy),(e[Yn]??=new Sp).queries.push(new Ap(r))-1}function mN(t,e,n,r){let i=At();if(i.firstCreatePass){let o=St();vN(i,new xp(e,n,r),o.index),_N(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return gN(i,Se(),n)}function yN(t){return t.split(",").map(e=>e.trim())}function vN(t,e,n){t.queries===null&&(t.queries=new Rp),t.queries.track(new Mp(e,n))}function _N(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Cg(t,e){return t.queries.getByIndex(e)}function wN(t,e){let n=t[ce],r=Cg(n,e);return r.crossesNgTemplate?Pp(n,t,e,[]):Ib(n,t,r,e)}function EN(t){return typeof t=="function"&&t[ff]!==void 0}function bb(t){return EN(t)&&typeof t.set=="function"}function IN(t){return Object.getPrototypeOf(t.prototype).constructor}function Xt(t){let e=IN(t.type),n=!0,r=[t];for(;e;){let i;if(Nr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Hu(t.inputs),s.inputTransforms=Hu(t.inputTransforms),s.declaredInputs=Hu(t.declaredInputs),s.outputs=Hu(t.outputs);let a=i.hostBindings;a&&AN(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&DN(t,u),l&&TN(t,l),bN(t,i),pR(t.outputs,i.outputs),Nr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Xt&&(n=!1)}}e=Object.getPrototypeOf(e)}CN(r)}function bN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function CN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fa(i.hostAttrs,n=fa(n,i.hostAttrs))}}function Hu(t){return t===Mo?{}:t===Qt?[]:t}function DN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function TN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function AN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Dg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Or=class{},Ea=class{};var Np=class extends Or{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dl(this);let i=$E(e);this._bootstrapComponents=jI(i.bootstrap),this._r3Injector=TI(e,n,[{provide:Or,useValue:this},{provide:xl,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Op=class extends Ea{constructor(e){super(),this.moduleType=e}create(e){return new Np(this.moduleType,e,[])}};var hl=class extends Or{constructor(e){super(),this.componentFactoryResolver=new dl(this),this.instance=null;let n=new pa([...e.providers,{provide:Or,useValue:this},{provide:xl,useValue:this.componentFactoryResolver}],e.parent||Yp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Tg(t,e,n=null){return new hl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Rl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ct(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cb(t){return xN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function SN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function xN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function RN(t,e,n){return t[e]=n}function jo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function MN(t){return(t.flags&32)===32}function PN(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Tl(e,t,4,s||null,rl(l,a));ib(e,n,h,rl(l,u)),ag(e,h);let p=h.tView=_g(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function qe(t,e,n,r,i,o,s,a){let u=Se(),l=At(),h=t+Jn,p=l.firstCreatePass?PN(h,l,u,e,n,r,i,o,s):l.data[h];Ta(p,!1);let m=NN(l,u,p,t);og()&&yg(l,u,m,p),_i(m,u);let _=ab(m,u,m,p);return u[h]=_,Al(u,_),cN(_,p,u),Zp(p)&&eb(l,u,p),s!=null&&tb(u,p,a),qe}var NN=ON;function ON(t,e,n,r){return sg(!0),e[nt].createComment("")}function xa(t,e,n,r){let i=Se(),o=Il();if(jo(i,o,e)){let s=At(),a=ig();mP(a,i,t,e,n,r)}return xa}function FN(t,e,n,r){return jo(t,Il(),n)?e+yl(n)+r:Ti}function qu(t,e){return t<<17|e<<2}function Ii(t){return t>>17&32767}function kN(t){return(t&2)==2}function LN(t,e){return t&131071|e<<17}function Fp(t){return t|2}function ko(t){return(t&131068)>>2}function Wf(t,e){return t&-131069|e<<2}function VN(t){return(t&1)===1}function kp(t){return t|1}function UN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ii(s),u=ko(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ca(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Ii(t[a+1]);t[r+1]=qu(m,a),m!==0&&(t[m+1]=Wf(t[m+1],r)),t[a+1]=LN(t[a+1],r)}else t[r+1]=qu(a,0),a!==0&&(t[a+1]=Wf(t[a+1],r)),a=r;else t[r+1]=qu(u,0),a===0?a=r:t[u+1]=Wf(t[u+1],r),u=r;l&&(t[r+1]=Fp(t[r+1])),gE(t,h,r,!0),gE(t,h,r,!1),jN(e,h,t,r,o),s=qu(a,u),o?e.classBindings=s:e.styleBindings=s}function jN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ca(o,e)>=0&&(n[r+1]=kp(n[r+1]))}function gE(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ii(i):ko(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];BN(u,e)&&(a=!0,t[s+1]=r?kp(l):Fp(l)),s=r?Ii(l):ko(l)}a&&(t[n+1]=r?Fp(i):kp(i))}function BN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ca(t,e)>=0:!1}function Te(t,e,n){let r=Se(),i=Il();if(jo(r,i,e)){let o=At(),s=ig();rb(o,s,r,t,e,r[nt],n,!1)}return Te}function mE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";wg(t,n,o[s],s,r)}function Ml(t,e){return $N(t,e,null,!0),Ml}function $N(t,e,n,r){let i=Se(),o=At(),s=LM(2);if(o.firstUpdatePass&&qN(o,t,s,r),e!==Ti&&jo(i,s,e)){let a=o.data[Vo()];QN(o,a,i,i[nt],t,i[s+1]=YN(e,n),r,s)}}function HN(t,e){return e>=t.expandoStartIndex}function qN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Vo()],s=HN(t,n);JN(o,r)&&e===null&&!s&&(e=!1),e=zN(i,o,e,r),UN(i,o,e,n,s,r)}}function zN(t,e,n,r){let i=BM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Kf(null,t,e,n,r),n=Ia(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Kf(i,t,e,n,r),o===null){let u=GN(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Kf(null,t,e,u[1],r),u=Ia(u,e.attrs,r),WN(t,e,r,u))}else o=KN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function GN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ko(r)!==0)return t[Ii(r)]}function WN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ii(i)]=r}function KN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ia(r,s,n)}return Ia(r,e.attrs,n)}function Kf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ia(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ia(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),kR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function QN(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=VN(l)?yE(u,e,n,i,ko(l),s):void 0;if(!fl(h)){fl(o)||kN(l)&&(o=yE(u,null,n,i,a,s));let p=nI(Vo(),n);W1(r,s,p,i,o)}}function yE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Ti&&(m=p?Qt:void 0);let _=p?Lf(m,r):h===r?m:void 0;if(l&&!fl(_)&&(_=Lf(u,r)),fl(_)&&(a=_,s))return a;let A=t[i+1];i=s?Ii(A):ko(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Lf(u,r))}return a}function fl(t){return t!==void 0}function YN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Dt(Aa(t)))),t}function JN(t,e){return(t.flags&(e?8:16))!==0}function ZN(t,e,n,r,i,o){let s=e.consts,a=rl(s,i),u=Tl(e,t,2,r,a);return ib(e,n,u,rl(s,o)),u.attrs!==null&&Cp(u,u.attrs,!1),u.mergedAttrs!==null&&Cp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function x(t,e,n,r){let i=Se(),o=At(),s=Jn+t,a=i[nt],u=o.firstCreatePass?ZN(s,o,i,e,n,r):o.data[s],l=XN(o,i,u,a,e,t);i[s]=l;let h=Zp(u);return Ta(u,!0),KI(a,l,u),!MN(u)&&og()&&yg(o,i,l,u),TM()===0&&_i(l,i),AM(),h&&(eb(o,i,u),XI(o,u,i)),r!==null&&tb(i,u),x}function R(){let t=St();cI()?NM():(t=t.parent,Ta(t,!1));let e=t;RM(e)&&MM(),SM();let n=At();return n.firstCreatePass&&(ag(n,t),JE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&KM(e)&&mE(n,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&QM(e)&&mE(n,e,Se(),e.stylesWithoutHost,!1),R}function ee(t,e,n,r){return x(t,e,n,r),R(),ee}var XN=(t,e,n,r,i,o)=>(sg(!0),BI(r,i,qM()));function or(){return Se()}var pl="en-US";var eO=pl;function tO(t){typeof t=="string"&&(eO=t.toLowerCase().replace(/_/g,"-"))}function me(t,e,n,r){let i=Se(),o=At(),s=St();return Db(o,i,i[nt],s,t,e,r),me}function nO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ga],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Db(t,e,n,r,i,o,s){let a=Zp(r),l=t.firstCreatePass&&lb(t),h=e[ln],p=ub(e),m=!0;if(r.type&3||s){let P=Jt(r,e),M=s?s(P):P,k=p.length,G=s?Q=>s(Cn(Q[r.index])):r.index,$=null;if(!s&&a&&($=nO(t,e,i,r.index)),$!==null){let Q=$.__ngLastListenerFn__||$;Q.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,m=!1}else{o=_E(r,e,h,o,!1);let Q=n.listen(M,i,o);p.push(o,Q),l&&l.push(i,G,k,k+1)}}else o=_E(r,e,h,o,!1);let _=r.outputs,A;if(m&&_!==null&&(A=_[i])){let P=A.length;if(P)for(let M=0;M<P;M+=2){let k=A[M],G=A[M+1],Me=e[k][G].subscribe(o),te=p.length;p.push(o,Me),l&&l.push(i,r.index,te,-(te+1))}}}function vE(t,e,n,r){let i=De(null);try{return wn(6,e,n),n(r)!==!1}catch(o){return db(t,o),!1}finally{wn(7,e,n),De(i)}}function _E(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Fr(t.index,e):e;Ig(a);let u=vE(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=vE(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function z(t=1){return HM(t)}function Tb(t,e,n,r){mN(t,e,n,r)}function Ab(t){let e=Se(),n=At(),r=uI();tg(r+1);let i=Cg(n,r);if(t.dirty&&EM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=wN(e,r);t.reset(o,c1),t.notifyOnChanges()}return!0}return!1}function Sb(){return pN(Se(),uI())}function xb(t){let e=OM();return wM(e,Jn+t)}function L(t,e=""){let n=Se(),r=At(),i=t+Jn,o=r.firstCreatePass?Tl(r,i,1,e,null):r.data[i],s=rO(r,n,o,e,t);n[i]=s,og()&&yg(r,n,s,o),Ta(o,!1)}var rO=(t,e,n,r,i)=>(sg(!0),S1(e[nt],r));function it(t){return Bo("",t,""),it}function Bo(t,e,n){let r=Se(),i=FN(r,t,e,n);return i!==Ti&&wP(r,Vo(),i),Bo}function Oe(t,e,n){bb(e)&&(e=e());let r=Se(),i=Il();if(jo(r,i,e)){let o=At(),s=ig();rb(o,s,r,t,e,r[nt],n,!1)}return Oe}function ke(t,e){let n=bb(t);return n&&t.set(e),n}function Fe(t,e){let n=Se(),r=At(),i=St();return Db(r,n,n[nt],i,t,e),Fe}function iO(t,e,n){let r=At();if(r.firstCreatePass){let i=Nr(t);Lp(n,r.data,r.blueprint,i,!0),Lp(e,r.data,r.blueprint,i,!1)}}function Lp(t,e,n,r,i){if(t=Ct(t),Array.isArray(t))for(let o=0;o<t.length;o++)Lp(t[o],e,n,r,i);else{let o=At(),s=Se(),a=St(),u=No(t)?t:Ct(t.provide),l=KE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(No(t)||!t.multi){let _=new yi(l,i,q),A=Yf(u,e,i?h:h+m,p);A===-1?(up(sl(a,s),o,u),Qf(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),s.push(_)):(n[A]=_,s[A]=_)}else{let _=Yf(u,e,h+m,p),A=Yf(u,e,h,h+m),P=_>=0&&n[_],M=A>=0&&n[A];if(i&&!M||!i&&!P){up(sl(a,s),o,u);let k=aO(i?sO:oO,n.length,i,r,l);!i&&M&&(n[A].providerFactory=k),Qf(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=Rb(n[i?A:_],l,!i&&r);Qf(o,t,_>-1?_:A,k)}!i&&r&&M&&n[A].componentProviders++}}}function Qf(t,e,n,r){let i=No(e),o=rM(e);if(i||o){let u=(o?Ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Rb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Yf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oO(t,e,n,r){return Vp(this.multi,[])}function sO(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=vi(n,n[ce],this.providerFactory.index,r);o=a.slice(0,s),Vp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Vp(i,o);return o}function Vp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function aO(t,e,n,r,i){let o=new yi(t,n,q);return o.multi=[],o.index=e,o.componentProviders=0,Rb(o,i,r&&!n),o}function Vr(t,e=[]){return n=>{n.providersResolver=(r,i)=>iO(r,i?i(t):t,e)}}var cO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=zE(!1,r.type),o=i.length>0?Tg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ne({token:e,providedIn:"environment",factory:()=>new e(ge(Yt))});let t=e;return t})();function Nt(t){vb("NgStandalone"),t.getStandaloneInjector=e=>e.get(cO).getOrCreateStandaloneInjector(t)}function Mb(t,e,n,r){return lO(Se(),FM(),t,e,n,r)}function uO(t,e){let n=t[e];return n===Ti?void 0:n}function lO(t,e,n,r,i,o){let s=e+n;return jo(t,s,i)?RN(t,s+1,o?r.call(o,i):r(i)):uO(t,s+1)}function Pb(t,e){return Sl(t,e)}var er=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Nb=new er("17.3.4"),Pl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Ob=new X("");function Ai(t){return!!t&&typeof t.then=="function"}function Fb(t){return!!t&&typeof t.subscribe=="function"}var kb=new X(""),Lb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=B(kb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Ai(s))r.push(s);else if(Fb(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ag=new X("");function dO(){fw(()=>{throw new W(600,!1)})}function hO(t){return t.isBoundToModule}function fO(t,e,n){try{let r=n();return Ai(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ra=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(AI),this.afterRenderEffectManager=B(_b),this.externalTestViews=new Set,this.beforeRender=new vt,this.afterTick=new vt,this.componentTypes=[],this.components=[],this.isStable=B(Rl).hasPendingTasks.pipe(pe(r=>!r)),this._injector=B(Yt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof ll;if(!this._injector.get(Lb).done){let _=!o&&BE(r),A=!1;throw new W(405,A)}let a;o?a=r:a=this._injector.get(xl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=hO(a)?void 0:this._injector.get(Or),l=i||a.selector,h=a.create(Zt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(Ob,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Jf(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new W(101,!1);let i=De(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,De(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===fb)throw new W(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)pO(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Up(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Up(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Jf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ag,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Jf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new W(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Jf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pO(t,e,n){!e&&!Up(t)||gO(t,n,e)}function Up(t){return eg(t)}function gO(t,e,n){let r;n?(r=0,t[J]|=1024):t[J]&64?r=0:r=1,pb(t,e,r)}var jp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Sg=(()=>{let e=class e{compileModuleSync(r){return new Op(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=$E(r),s=jI(o.declarations).reduce((a,u)=>{let l=fi(u);return l&&a.push(new wa(l)),a},[]);return new jp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mO=(()=>{let e=class e{constructor(){this.zone=B(Re),this.applicationRef=B(Ra)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yO(t){return[{provide:Re,useFactory:t},{provide:Po,multi:!0,useFactory:()=>{let e=B(mO,{optional:!0});return()=>e.initialize()}},{provide:Po,multi:!0,useFactory:()=>{let e=B(EO);return()=>{e.initialize()}}},{provide:AI,useFactory:vO}]}function vO(){let t=B(Re),e=B(Zn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function _O(t){let e=yO(()=>new Re(wO(t)));return Tn([[],e])}function wO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var EO=(()=>{let e=class e{constructor(){this.subscription=new Qe,this.initialized=!1,this.zone=B(Re),this.pendingTasks=B(Rl)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IO(){return typeof $localize<"u"&&$localize.locale||pl}var xg=new X("",{providedIn:"root",factory:()=>B(xg,le.Optional|le.SkipSelf)||IO()});var Vb=new X("");var Yu=null;function bO(t=[],e){return Zt.create({name:e,providers:[{provide:_l,useValue:"platform"},{provide:Vb,useValue:new Set([()=>Yu=null])},...t]})}function CO(t=[]){if(Yu)return Yu;let e=bO(t);return Yu=e,dO(),DO(e),e}function DO(t){t.get(dg,null)?.forEach(n=>n())}var Ur=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=TO;let t=e;return t})();function TO(t){return AO(St(),Se(),(t&16)===16)}function AO(t,e,n){if(El(t)&&!n){let r=Fr(t.index,e);return new wi(r,r)}else if(t.type&47){let r=e[bn];return new wi(r,e)}return null}var Bp=class{constructor(){}supports(e){return Cb(e)}create(e){return new $p(e)}},SO=(t,e)=>e,$p=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||SO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<wE(r,i,o)?n:r,a=wE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let _=m<o.length?o[m]:o[m]=0,A=_+m;h<=A&&A<l&&(o[m]=_+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Cb(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,SN(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Hp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new gl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Hp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},qp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},gl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new qp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function EE(){return new Rg([new Bp])}var Rg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||EE()),deps:[[e,new PE,new Tt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new W(901,!1)}};e.\u0275prov=ne({token:e,providedIn:"root",factory:EE});let t=e;return t})();function Ub(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=CO(r),o=[_O(),...n||[]],a=new hl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Re);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Zn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:_=>{l.handleError(_)}})});let p=()=>a.destroy(),m=i.get(Vb);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),fO(l,u,()=>{let _=a.get(Lb);return _.runInitializers(),_.donePromise.then(()=>{let A=a.get(xg,pl);tO(A||pl);let P=a.get(Ra);return e!==void 0&&P.bootstrap(e),P})})})}catch(e){return Promise.reject(e)}}function jr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var zb=null;function sr(){return zb}function Gb(t){zb??=t}var Nl=class{};var en=new X(""),Wb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>B(xO),providedIn:"platform"});let t=e;return t})();var xO=(()=>{let e=class e extends Wb{constructor(){super(),this._doc=B(en),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sr().getBaseHref(this._doc)}onPopState(r){let i=sr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=sr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Kb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function jb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Si(t){return t&&t[0]!=="?"?"?"+t:t}var $o=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>B(Qb),providedIn:"root"});let t=e;return t})(),RO=new X(""),Qb=(()=>{let e=class e extends $o{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??B(en).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Kb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Si(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Si(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Si(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ge(Wb),ge(RO,8))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ma=(()=>{let e=class e{constructor(r){this._subject=new He,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=NO(jb(Bb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Si(i))}normalize(r){return e.stripTrailingSlash(PO(this._basePath,Bb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Si(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Si(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Si,e.joinWithSlash=Kb,e.stripTrailingSlash=jb,e.\u0275fac=function(i){return new(i||e)(ge($o))},e.\u0275prov=ne({token:e,factory:()=>MO(),providedIn:"root"});let t=e;return t})();function MO(){return new Ma(ge($o))}function PO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Bb(t){return t.replace(/\/index.html$/,"")}function NO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Yb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Mg=/\s+/,$b=[],Jb=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=$b,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Mg):$b}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Mg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Mg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(q(xt),q(fn))},e.\u0275dir=Ue({type:e,selectors:[["","ngClass",""]],inputs:{klass:[ut.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Pg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Fl=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Pg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),Hb(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Hb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(q(Lr),q(Ei),q(Rg))},e.\u0275dir=Ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Hb(t,e){t.context.$implicit=e.item}var Br=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Ng,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){qb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){qb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(q(Lr),q(Ei))},e.\u0275dir=Ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Ng=class{constructor(){this.$implicit=null,this.ngIf=null}};function qb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Dt(e)}'.`)}var ar=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ci({type:e}),e.\u0275inj=bi({});let t=e;return t})(),Zb="browser",OO="server";function Og(t){return t===OO}var Ol=class{};var Lg=class extends Nl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Vg=class t extends Lg{static makeCurrent(){Gb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=FO();return n==null?null:kO(n)}resetBaseElement(){Na=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yb(document.cookie,e)}},Na=null;function FO(){return Na=Na||document.querySelector("base"),Na?Na.getAttribute("href"):null}function kO(t){return new URL(t,document.baseURI).pathname}var LO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),Ug=new X(""),nC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new W(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ge(Ug),ge(Re))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),kl=class{constructor(e){this._doc=e}},Fg="ng-app-id",rC=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Og(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Fg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Fg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Fg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ge(en),ge(lg),ge(hg,8),ge(kr))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),kg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bg=/%COMP%/g,iC="%COMP%",VO=`_nghost-${iC}`,UO=`_ngcontent-${iC}`,jO=!0,BO=new X("",{providedIn:"root",factory:()=>jO});function $O(t){return UO.replace(Bg,t)}function HO(t){return VO.replace(Bg,t)}function oC(t,e){return e.map(n=>n.replace(Bg,t))}var Xb=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Og(u),this.defaultRenderer=new Oa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===In.ShadowDom&&(i=be(V({},i),{encapsulation:In.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ll?o.applyToHost(r):o instanceof Fa&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case In.Emulated:s=new Ll(l,h,i,this.appId,p,a,u,m);break;case In.ShadowDom:return new jg(l,h,r,i,a,u,this.nonce,m);default:s=new Fa(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ge(nC),ge(rC),ge(lg),ge(BO),ge(en),ge(kr),ge(Re),ge(hg))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),Oa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(kg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(eC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(eC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=kg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=kg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xn.DashCase|Xn.Important)?e.style.setProperty(n,r,i&Xn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=sr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function eC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var jg=class extends Oa{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=oC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fa=class extends Oa{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?oC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ll=class extends Fa{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=$O(l),this.hostAttr=HO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},qO=(()=>{let e=class e extends kl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(ge(en))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),tC=["alt","control","meta","shift"],zO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},WO=(()=>{let e=class e extends kl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),tC.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=zO[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),tC.forEach(a=>{if(a!==o){let u=GO[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ge(en))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})();function sC(t,e){return Ub(V({rootComponent:t},KO(e)))}function KO(t){return{appProviders:[...XO,...t?.providers??[]],platformProviders:ZO}}function QO(){Vg.makeCurrent()}function YO(){return new Zn}function JO(){return OI(document),document}var ZO=[{provide:kr,useValue:Zb},{provide:dg,useValue:QO,multi:!0},{provide:en,useFactory:JO,deps:[]}];var XO=[{provide:_l,useValue:"root"},{provide:Zn,useFactory:YO,deps:[]},{provide:Ug,useClass:qO,multi:!0,deps:[en,Re,kr]},{provide:Ug,useClass:WO,multi:!0,deps:[en]},Xb,rC,nC,{provide:_a,useExisting:Xb},{provide:Ol,useClass:LO,deps:[]},[]];var aC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ge(en))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ae="primary",Ya=Symbol("RouteTitle"),Gg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Wo(t){return new Gg(t)}function tF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function nF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!An(t[n],e[n]))return!1;return!0}function An(t,e){let n=t?Wg(t):void 0,r=e?Wg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fC(t[i],e[i]))return!1;return!0}function Wg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function pC(t){return t.length>0?t[t.length-1]:null}function qr(t){return Rf(t)?t:Ai(t)?$e(Promise.resolve(t)):re(t)}var rF={exact:mC,subset:yC},gC={exact:iF,subset:oF,ignored:()=>!0};function cC(t,e,n){return rF[n.paths](t.root,e.root,n.matrixParams)&&gC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function iF(t,e){return An(t,e)}function mC(t,e,n){if(!Ri(t.segments,e.segments)||!jl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!mC(t.children[r],e.children[r],n))return!1;return!0}function oF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fC(t[n],e[n]))}function yC(t,e,n){return vC(t,e,e.segments,n)}function vC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ri(i,n)||e.hasChildren()||!jl(i,n,r))}else if(t.segments.length===n.length){if(!Ri(t.segments,n)||!jl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!yC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ri(t.segments,i)||!jl(t.segments,i,r)||!t.children[ae]?!1:vC(t.children[ae],e,o,r)}}function jl(t,e,n){return e.every((r,i)=>gC[n](t[i].parameters,r.parameters))}var $r=class{constructor(e=new Ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Wo(this.queryParams),this._queryParamMap}toString(){return cF.serialize(this)}},Ae=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bl(this)}},xi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Wo(this.parameters),this._parameterMap}toString(){return wC(this)}};function sF(t,e){return Ri(t,e)&&t.every((n,r)=>An(n.parameters,e[r].parameters))}function Ri(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function aF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}var _m=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>new Hl,providedIn:"root"});let t=e;return t})(),Hl=class{parse(e){let n=new Qg(e);return new $r(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ka(e.root,!0)}`,r=dF(e.queryParams),i=typeof e.fragment=="string"?`#${uF(e.fragment)}`:"";return`${n}${r}${i}`}},cF=new Hl;function Bl(t){return t.segments.map(e=>wC(e)).join("/")}function ka(t,e){if(!t.hasChildren())return Bl(t);if(e){let n=t.children[ae]?ka(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${ka(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=aF(t,(r,i)=>i===ae?[ka(t.children[ae],!1)]:[`${i}:${ka(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ae]!=null?`${Bl(t)}/${n[0]}`:`${Bl(t)}/(${n.join("//")})`}}function _C(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vl(t){return _C(t).replace(/%3B/gi,";")}function uF(t){return encodeURI(t)}function Kg(t){return _C(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $l(t){return decodeURIComponent(t)}function uC(t){return $l(t.replace(/\+/g,"%20"))}function wC(t){return`${Kg(t.path)}${lF(t.parameters)}`}function lF(t){return Object.entries(t).map(([e,n])=>`;${Kg(e)}=${Kg(n)}`).join("")}function dF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Vl(n)}=${Vl(i)}`).join("&"):`${Vl(n)}=${Vl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var hF=/^[^\/()?;#]+/;function $g(t){let e=t.match(hF);return e?e[0]:""}var fF=/^[^\/()?;=#]+/;function pF(t){let e=t.match(fF);return e?e[0]:""}var gF=/^[^=?&#]+/;function mF(t){let e=t.match(gF);return e?e[0]:""}var yF=/^[^&#]+/;function vF(t){let e=t.match(yF);return e?e[0]:""}var Qg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new Ae(e,n)),r}parseSegment(){let e=$g(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new xi($l(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=pF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=$g(this.remaining);i&&(r=i,this.capture(r))}e[$l(n)]=$l(r)}parseQueryParam(e){let n=mF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=vF(this.remaining);s&&(r=s,this.capture(r))}let i=uC(n),o=uC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=$g(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ae]:new Ae([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function EC(t){return t.segments.length>0?new Ae([],{[ae]:t}):t}function IC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=IC(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ae(t.segments,e);return _F(n)}function _F(t){if(t.numberOfChildren===1&&t.children[ae]){let e=t.children[ae];return new Ae(t.segments.concat(e.segments),e.children)}return t}function Ko(t){return t instanceof $r}function wF(t,e,n=null,r=null){let i=bC(t);return CC(i,e,n,r)}function bC(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ae(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=EC(r);return e??i}function CC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Hg(i,i,i,n,r);let o=EF(e);if(o.toRoot())return Hg(i,i,new Ae([],{}),n,r);let s=IF(o,i,t),a=s.processChildren?Ua(s.segmentGroup,s.index,o.commands):TC(s.segmentGroup,s.index,o.commands);return Hg(i,s.segmentGroup,a,n,r)}function ql(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function $a(t){return typeof t=="object"&&t!=null&&t.outlets}function Hg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=DC(t,e,n);let a=EC(IC(s));return new $r(a,o,i)}function DC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=DC(o,e,n)}),new Ae(t.segments,r)}var zl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ql(r[0]))throw new W(4003,!1);let i=r.find($a);if(i&&i!==pC(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function EF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new zl(n,e,r)}var zo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function IF(t,e,n){if(t.isAbsolute)return new zo(e,!0,0);if(!n)return new zo(e,!1,NaN);if(n.parent===null)return new zo(n,!0,0);let r=ql(t.commands[0])?0:1,i=n.segments.length-1+r;return bF(n,i,t.numberOfDoubleDots)}function bF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new zo(r,!1,i-o)}function CF(t){return $a(t[0])?t[0].outlets:{[ae]:t}}function TC(t,e,n){if(t??=new Ae([],{}),t.segments.length===0&&t.hasChildren())return Ua(t,e,n);let r=DF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ae(t.segments.slice(0,r.pathIndex),{});return o.children[ae]=new Ae(t.segments.slice(r.pathIndex),t.children),Ua(o,0,i)}else return r.match&&i.length===0?new Ae(t.segments,{}):r.match&&!t.hasChildren()?Yg(t,e,n):r.match?Ua(t,0,i):Yg(t,e,n)}function Ua(t,e,n){if(n.length===0)return new Ae(t.segments,{});{let r=CF(n),i={};if(Object.keys(r).some(o=>o!==ae)&&t.children[ae]&&t.numberOfChildren===1&&t.children[ae].segments.length===0){let o=Ua(t.children[ae],e,n);return new Ae(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(t.segments,i)}}function DF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if($a(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!dC(u,l,s))return o;r+=2}else{if(!dC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Yg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if($a(o)){let u=TF(o.outlets);return new Ae(r,u)}if(i===0&&ql(n[0])){let u=t.segments[e];r.push(new xi(u.path,lC(n[0]))),i++;continue}let s=$a(o)?o.outlets[ae]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ql(a)?(r.push(new xi(s,lC(a))),i+=2):(r.push(new xi(s,{})),i++)}return new Ae(r,{})}function TF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Yg(new Ae([],{}),0,r))}),e}function lC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function dC(t,e,n){return t==n.path&&An(e,n.parameters)}var ja="imperative",dt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(dt||{}),tn=class{constructor(e,n){this.id=e,this.url=n}},Ha=class extends tn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=dt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cr=class extends tn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=dt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ht||{}),Jg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Jg||{}),Hr=class extends tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=dt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mi=class extends tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=dt.NavigationSkipped}},qa=class extends tn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=dt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gl=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=dt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zg=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=dt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xg=class extends tn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=dt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},em=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=dt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tm=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=dt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nm=class{constructor(e){this.route=e,this.type=dt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rm=class{constructor(e){this.route=e,this.type=dt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},im=class{constructor(e){this.snapshot=e,this.type=dt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},om=class{constructor(e){this.snapshot=e,this.type=dt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sm=class{constructor(e){this.snapshot=e,this.type=dt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},am=class{constructor(e){this.snapshot=e,this.type=dt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var za=class{},Ga=class{constructor(e){this.url=e}};var cm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xl,this.attachRef=null}},Xl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new cm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=um(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=um(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=lm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lm(e,this._root).map(n=>n.value)}};function um(t,e){if(t===e.value)return e;for(let n of e.children){let r=um(t,n);if(r)return r}return null}function lm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=lm(t,n);if(r.length)return r.unshift(e),r}return[]}var $t=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function qo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Kl=class extends Wl{constructor(e,n){super(e),this.snapshot=n,Em(this,e)}toString(){return this.snapshot.toString()}};function AC(t){let e=AF(t),n=new ct([new xi("",{})]),r=new ct({}),i=new ct({}),o=new ct({}),s=new ct(""),a=new Pi(n,r,o,s,i,ae,t,e.root);return a.snapshot=e.root,new Kl(new $t(a,[]),e)}function AF(t){let e={},n={},r={},i="",o=new Wa([],e,r,i,n,ae,t,null,{});return new Ql("",new $t(o,[]))}var Pi=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(l=>l[Ya]))??re(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(e=>Wo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(e=>Wo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&xC(i)&&(r.resolve[Ya]=i.title),r}var Wa=class{get title(){return this.data?.[Ya]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ql=class extends Wl{constructor(e,n){super(n),this.url=e,Em(this,n)}toString(){return SC(this._root)}};function Em(t,e){e.value._routerState=t,e.children.forEach(n=>Em(t,n))}function SC(t){let e=t.children.length>0?` { ${t.children.map(SC).join(", ")} } `:"";return`${t.value}${e}`}function qg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,An(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),An(e.params,n.params)||t.paramsSubject.next(n.params),nF(e.url,n.url)||t.urlSubject.next(n.url),An(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function dm(t,e){let n=An(t.params,e.params)&&sF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||dm(t.parent,e.parent))}function xC(t){return typeof t.title=="string"||t.title===null}var Im=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.parentContexts=B(Xl),this.location=B(Lr),this.changeDetector=B(Ur),this.environmentInjector=B(Yt),this.inputBinder=B(bm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new hm(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rr]});let t=e;return t})(),hm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Pi?this.route:e===Xl?this.childContexts:this.parent.get(e,n)}},bm=new X("");function SF(t,e,n){let r=Ka(t,e._root,n?n._root:void 0);return new Kl(r,e)}function Ka(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=xF(t,e,n);return new $t(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ka(t,a)),s}}let r=RF(e.value),i=e.children.map(o=>Ka(t,o));return new $t(r,i)}}function xF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ka(t,r,i);return Ka(t,r)})}function RF(t){return new Pi(new ct(t.url),new ct(t.params),new ct(t.queryParams),new ct(t.fragment),new ct(t.data),t.outlet,t.component,t)}var RC="ngNavigationCancelingError";function MC(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ko(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PC(!1,Ht.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function PC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[RC]=!0,n.cancellationCode=e,n}function MF(t){return NC(t)&&Ko(t.url)}function NC(t){return!!t&&t[RC]}var PF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Pt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Nt],decls:1,vars:0,template:function(i,o){i&1&&ee(0,"router-outlet")},dependencies:[Im],encapsulation:2});let t=e;return t})();function NF(t,e){return t.providers&&!t._injector&&(t._injector=Tg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Cm(t){let e=t.children&&t.children.map(Cm),n=e?be(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=PF),n}function Sn(t){return t.outlet||ae}function OF(t,e){let n=t.filter(r=>Sn(r)===e);return n.push(...t.filter(r=>Sn(r)!==e)),n}function Ja(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var FF=(t,e,n,r)=>pe(i=>(new fm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),fm=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),qg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=qo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=qo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new am(o.value.snapshot))}),e.children.length&&this.forwardEvent(new om(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(qg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),qg(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ja(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Yl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Go=class{constructor(e,n){this.component=e,this.route=n}};function kF(t,e,n){let r=t._root,i=e?e._root:null;return La(r,i,n,[r.value])}function LF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Yo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!DE(t)?t:e.get(t):r}function La(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=qo(e);return t.children.forEach(s=>{VF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ba(a,n.getContext(s),i)),i}function VF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=UF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Yl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?La(t,e,a?a.children:null,r,i):La(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Go(a.outlet.component,s))}else s&&Ba(e,a,i),i.canActivateChecks.push(new Yl(r)),o.component?La(t,null,a?a.children:null,r,i):La(t,null,n,r,i);return i}function UF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ri(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ri(t.url,e.url)||!An(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dm(t,e)||!An(t.queryParams,e.queryParams);case"paramsChange":default:return!dm(t,e)}}function Ba(t,e,n){let r=qo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ba(s,e.children.getContext(o),n):Ba(s,null,n):Ba(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Go(e.outlet.component,i)):n.canDeactivateChecks.push(new Go(null,i)):n.canDeactivateChecks.push(new Go(null,i))}function Za(t){return typeof t=="function"}function jF(t){return typeof t=="boolean"}function BF(t){return t&&Za(t.canLoad)}function $F(t){return t&&Za(t.canActivate)}function HF(t){return t&&Za(t.canActivateChild)}function qF(t){return t&&Za(t.canDeactivate)}function zF(t){return t&&Za(t.canMatch)}function OC(t){return t instanceof Wn||t?.name==="EmptyError"}var Ul=Symbol("INITIAL_VALUE");function Qo(){return an(t=>Lu(t.map(e=>e.pipe(Kn(1),Ff(Ul)))).pipe(pe(e=>{for(let n of e)if(n!==!0){if(n===Ul)return Ul;if(n===!1||n instanceof $r)return n}return!0}),sn(e=>e!==Ul),Kn(1)))}function GF(t,e){return et(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?re(be(V({},n),{guardsResult:!0})):WF(s,r,i,t).pipe(et(a=>a&&jF(a)?KF(r,o,t,e):re(a)),pe(a=>be(V({},n),{guardsResult:a})))})}function WF(t,e,n,r){return $e(t).pipe(et(i=>XF(i.component,i.route,n,e,r)),_n(i=>i!==!0,!0))}function KF(t,e,n,r){return $e(e).pipe(bo(i=>Io(YF(i.route.parent,r),QF(i.route,r),ZF(t,i.path,n),JF(t,i.route,n))),_n(i=>i!==!0,!0))}function QF(t,e){return t!==null&&e&&e(new sm(t)),re(!0)}function YF(t,e){return t!==null&&e&&e(new im(t)),re(!0)}function JF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(o=>Vu(()=>{let s=Ja(e)??n,a=Yo(o,s),u=$F(a)?a.canActivate(e,t):Di(s,()=>a(e,t));return qr(u).pipe(_n())}));return re(i).pipe(Qo())}function ZF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>LF(s)).filter(s=>s!==null).map(s=>Vu(()=>{let a=s.guards.map(u=>{let l=Ja(s.node)??n,h=Yo(u,l),p=HF(h)?h.canActivateChild(r,t):Di(l,()=>h(r,t));return qr(p).pipe(_n())});return re(a).pipe(Qo())}));return re(o).pipe(Qo())}function XF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return re(!0);let s=o.map(a=>{let u=Ja(e)??i,l=Yo(a,u),h=qF(l)?l.canDeactivate(t,e,n,r):Di(u,()=>l(t,e,n,r));return qr(h).pipe(_n())});return re(s).pipe(Qo())}function ek(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let o=i.map(s=>{let a=Yo(s,t),u=BF(a)?a.canLoad(e,n):Di(t,()=>a(e,n));return qr(u)});return re(o).pipe(Qo(),FC(r))}function FC(t){return If(tt(e=>{if(Ko(e))throw MC(t,e)}),pe(e=>e===!0))}function tk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let o=i.map(s=>{let a=Yo(s,t),u=zF(a)?a.canMatch(e,n):Di(t,()=>a(e,n));return qr(u)});return re(o).pipe(Qo(),FC(r))}var Qa=class{constructor(e){this.segmentGroup=e||null}},Jl=class extends Error{constructor(e){super(),this.urlTree=e}};function Ho(t){return wo(new Qa(t))}function nk(t){return wo(new W(4e3,!1))}function rk(t){return wo(PC(!1,Ht.GuardRejected))}var pm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[ae])return nk(e.redirectTo);i=i.children[ae]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Jl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new $r(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ae(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},gm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ik(t,e,n,r,i){let o=Dm(t,e,n);return o.matched?(r=NF(e,r),tk(r,e,n,i).pipe(pe(s=>s===!0?o:V({},gm)))):re(o)}function Dm(t,e,n){if(e.path==="**")return ok(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},gm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||tF)(n,t,e);if(!i)return V({},gm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ok(t){return{matched:!0,parameters:t.length>0?pC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function hC(t,e,n,r){return n.length>0&&ck(t,n,r)?{segmentGroup:new Ae(e,ak(r,new Ae(n,t.children))),slicedSegments:[]}:n.length===0&&uk(t,n,r)?{segmentGroup:new Ae(t.segments,sk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ae(t.segments,t.children),slicedSegments:n}}function sk(t,e,n,r){let i={};for(let o of n)if(ed(t,e,o)&&!r[Sn(o)]){let s=new Ae([],{});i[Sn(o)]=s}return V(V({},r),i)}function ak(t,e){let n={};n[ae]=e;for(let r of t)if(r.path===""&&Sn(r)!==ae){let i=new Ae([],{});n[Sn(r)]=i}return n}function ck(t,e,n){return n.some(r=>ed(t,e,r)&&Sn(r)!==ae)}function uk(t,e,n){return n.some(r=>ed(t,e,r))}function ed(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function lk(t,e,n,r){return Sn(t)!==r&&(r===ae||!ed(e,n,t))?!1:Dm(e,t,n).matched}function dk(t,e,n){return e.length===0&&!t.children[n]}var mm=class{};function hk(t,e,n,r,i,o,s="emptyOnly"){return new ym(t,e,n,r,i,s,o).recognize()}var fk=31,ym=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new pm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=hC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(pe(n=>{let r=new Wa([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,{},ae,this.rootComponentType,null,{}),i=new $t(r,n),o=new Ql("",i),s=wF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(xr(r=>{if(r instanceof Jl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Qa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=wm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(pe(o=>o instanceof $t?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return $e(i).pipe(bo(o=>{let s=r.children[o],a=OF(n,o);return this.processSegmentGroup(e,a,s,o)}),Of((o,s)=>(o.push(...s),o)),Rr(null),Nf(),et(o=>{if(o===null)return Ho(r);let s=kC(o);return pk(s),re(s)}))}processSegment(e,n,r,i,o,s){return $e(n).pipe(bo(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(xr(u=>{if(u instanceof Qa)return re(null);throw u}))),_n(a=>!!a),xr(a=>{if(OC(a))return dk(r,i,o)?re(new mm):Ho(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return lk(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Ho(i):Ho(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=Dm(n,i,o);if(!a)return Ho(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fk&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(et(m=>this.processSegment(e,r,n,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=ik(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(an(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(an(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,_=new Wa(h,m,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,mk(r),Sn(r),r.component??r._loadedComponent??null,r,yk(r)),{segmentGroup:A,slicedSegments:P}=hC(n,h,p,u);if(P.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(pe(k=>k===null?null:new $t(_,k)));if(u.length===0&&P.length===0)return re(new $t(_,[]));let M=Sn(r)===o;return this.processSegment(l,u,A,P,M?ae:o,!0).pipe(pe(k=>new $t(_,k instanceof $t?[k]:[])))}))):Ho(n)))}getChildConfig(e,n,r){return n.children?re({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?re({routes:n._loadedRoutes,injector:n._loadedInjector}):ek(e,n,r,this.urlSerializer).pipe(et(i=>i?this.configLoader.loadChildren(e,n).pipe(tt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):rk(n))):re({routes:[],injector:e})}};function pk(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}function gk(t){let e=t.value.routeConfig;return e&&e.path===""}function kC(t){let e=[],n=new Set;for(let r of t){if(!gk(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=kC(r.children);e.push(new $t(r.value,i))}return e.filter(r=>!n.has(r))}function mk(t){return t.data||{}}function yk(t){return t.resolve||{}}function vk(t,e,n,r,i,o){return et(s=>hk(t,e,n,r,s.extractedUrl,i,o).pipe(pe(({state:a,tree:u})=>be(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function _k(t,e){return et(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return re(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of LC(u))s.add(l);let a=0;return $e(s).pipe(bo(u=>o.has(u)?wk(u,r,t,e):(u.data=wm(u,u.parent,t).resolve,re(void 0))),tt(()=>a++),Co(1),et(u=>a===s.size?re(n):jt))})}function LC(t){let e=t.children.map(n=>LC(n)).flat();return[t,...e]}function wk(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!xC(i)&&(o[Ya]=i.title),Ek(o,t,e,r).pipe(pe(s=>(t._resolvedData=s,t.data=wm(t,t.parent,n).resolve,null)))}function Ek(t,e,n,r){let i=Wg(t);if(i.length===0)return re({});let o={};return $e(i).pipe(et(s=>Ik(t[s],e,n,r).pipe(_n(),tt(a=>{o[s]=a}))),Co(1),Pf(o),xr(s=>OC(s)?jt:wo(s)))}function Ik(t,e,n,r){let i=Ja(e)??r,o=Yo(t,i),s=o.resolve?o.resolve(e,n):Di(i,()=>o(e,n));return qr(s)}function zg(t){return an(e=>{let n=t(e);return n?$e(n).pipe(pe(()=>e)):re(e)})}var VC=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ae);return i}getResolvedTitleForRoute(r){return r.data[Ya]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>B(bk),providedIn:"root"});let t=e;return t})(),bk=(()=>{let e=class e extends VC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ge(aC))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tm=new X("",{providedIn:"root",factory:()=>({})}),Am=new X(""),Ck=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(Sg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return re(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=qr(r.loadComponent()).pipe(pe(UC),tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),la(()=>{this.componentLoaders.delete(r)})),o=new mo(i,()=>new vt).pipe(go());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return re({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Dk(i,this.compiler,r,this.onLoadEndListener).pipe(la(()=>{this.childrenLoaders.delete(i)})),a=new mo(s,()=>new vt).pipe(go());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dk(t,e,n,r){return qr(t.loadChildren()).pipe(pe(UC),et(i=>i instanceof Ea||Array.isArray(i)?re(i):$e(e.compileModuleAsync(i))),pe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Am,[],{optional:!0,self:!0}).flat()),{routes:s.map(Cm),injector:o}}))}function Tk(t){return t&&typeof t=="object"&&"default"in t}function UC(t){return Tk(t)?t.default:t}var Sm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>B(Ak),providedIn:"root"});let t=e;return t})(),Ak=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sk=new X("");var xk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt,this.transitionAbortSubject=new vt,this.configLoader=B(Ck),this.environmentInjector=B(Yt),this.urlSerializer=B(_m),this.rootContexts=B(Xl),this.location=B(Ma),this.inputBindingEnabled=B(bm,{optional:!0})!==null,this.titleStrategy=B(VC),this.options=B(Tm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(Sm),this.createViewTransition=B(Sk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let r=o=>this.events.next(new nm(o)),i=o=>this.events.next(new rm(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(be(V(V({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ct({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ja,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sn(s=>s.id!==0),pe(s=>be(V({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),an(s=>{let a=!1,u=!1;return re(s).pipe(an(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ht.SupersededByNewNavigation),jt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?be(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Mi(l.id,this.urlSerializer.serialize(l.rawUrl),m,Jg.IgnoredSameUrlNavigation)),l.resolve(null),jt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return re(l).pipe(an(m=>{let _=this.transitions?.getValue();return this.events.next(new Ha(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?jt:Promise.resolve(m)}),vk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=be(V({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let _=new Gl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:_,source:A,restoredState:P,extras:M}=l,k=new Ha(m,this.urlSerializer.serialize(_),A,P);this.events.next(k);let G=AC(this.rootComponentType).snapshot;return this.currentTransition=s=be(V({},l),{targetSnapshot:G,urlAfterRedirects:_,extras:be(V({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,re(s)}else{let m="";return this.events.next(new Mi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Jg.IgnoredByUrlHandlingStrategy)),l.resolve(null),jt}}),tt(l=>{let h=new Zg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),pe(l=>(this.currentTransition=s=be(V({},l),{guards:kF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),GF(this.environmentInjector,l=>this.events.next(l)),tt(l=>{if(s.guardsResult=l.guardsResult,Ko(l.guardsResult))throw MC(this.urlSerializer,l.guardsResult);let h=new Xg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),sn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ht.GuardRejected),!1)),zg(l=>{if(l.guards.canActivateChecks.length)return re(l).pipe(tt(h=>{let p=new em(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),an(h=>{let p=!1;return re(h).pipe(_k(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Ht.NoDataFromResolver)}}))}),tt(h=>{let p=new tm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),zg(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(tt(_=>{p.component=_}),pe(()=>{})));for(let _ of p.children)m.push(...h(_));return m};return Lu(h(l.targetSnapshot.root)).pipe(Rr(null),Kn(1))}),zg(()=>this.afterPreactivation()),an(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?$e(p).pipe(pe(()=>s)):re(s)}),pe(l=>{let h=SF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=be(V({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),tt(()=>{this.events.next(new za)}),FF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Kn(1),tt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),kf(this.transitionAbortSubject.pipe(tt(l=>{throw l}))),la(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),xr(l=>{if(u=!0,NC(l))this.events.next(new Hr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),MF(l)?this.events.next(new Ga(l.url)):s.resolve(!1);else{this.events.next(new qa(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return jt}))}))}cancelNavigationTransition(r,i,o){let s=new Hr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rk(t){return t!==ja}var Mk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>B(Pk),providedIn:"root"});let t=e;return t})(),vm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Pk=(()=>{let e=class e extends vm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ir(e)))(o||e)}})(),e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>B(Nk),providedIn:"root"});let t=e;return t})(),Nk=(()=>{let e=class e extends jC{constructor(){super(...arguments),this.location=B(Ma),this.urlSerializer=B(_m),this.options=B(Tm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(Sm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $r,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=AC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ha)this.stateMemento=this.createStateMemento();else if(r instanceof Mi)this.rawUrlTree=i.initialUrl;else if(r instanceof Gl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof za?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Hr&&(r.code===Ht.GuardRejected||r.code===Ht.NoDataFromResolver)?this.restoreHistory(i):r instanceof qa?this.restoreHistory(i,!0):r instanceof cr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=V(V({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=V(V({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ir(e)))(o||e)}})(),e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Va=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Va||{});function Ok(t,e){t.events.pipe(sn(n=>n instanceof cr||n instanceof Hr||n instanceof qa||n instanceof Mi),pe(n=>n instanceof cr||n instanceof Mi?Va.COMPLETE:(n instanceof Hr?n.code===Ht.Redirect||n.code===Ht.SupersededByNewNavigation:!1)?Va.REDIRECTING:Va.FAILED),sn(n=>n!==Va.REDIRECTING),Kn(1)).subscribe(()=>{e()})}function Fk(t){throw t}var kk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ot=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=B(Pl),this.stateManager=B(jC),this.options=B(Tm,{optional:!0})||{},this.pendingTasks=B(Rl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(xk),this.urlSerializer=B(_m),this.location=B(Ma),this.urlHandlingStrategy=B(Sm),this._events=new vt,this.errorHandler=this.options.errorHandler||Fk,this.navigated=!1,this.routeReuseStrategy=B(Mk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(Am,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(bm,{optional:!0}),this.eventsSubscription=new Qe,this.isNgZoneEnabled=B(Re)instanceof Re&&Re.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Hr&&i.code!==Ht.Redirect&&i.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof cr)this.navigated=!0;else if(i instanceof Ga){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Rk(o.source)};this.scheduleNavigation(a,ja,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Uk(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ja,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=V({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Cm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=V(V({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let _=o?o.snapshot:this.routerState.snapshot.root;m=bC(_)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return CC(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ko(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ja,null,i)}navigate(r,i={skipLocationChange:!1}){return Vk(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=V({},kk):i===!1?o=V({},Lk):o=i,Ko(r))return cC(this.currentUrlTree,r,o);let s=this.parseUrl(r);return cC(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,_)=>{u=m,l=_});let p=this.pendingTasks.add();return Ok(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new W(4008,!1)}function Uk(t){return!(t instanceof za)&&!(t instanceof Ga)}var Zl=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new vt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof cr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:VI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(q(Ot),q(Pi),ug("tabindex"),q(fn),q(xt),q($o))},e.\u0275dir=Ue({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&me("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&xa("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ut.HasDecoratorInputTransform,"preserveFragment","preserveFragment",jr],skipLocationChange:[ut.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",jr],replaceUrl:[ut.HasDecoratorInputTransform,"replaceUrl","replaceUrl",jr],routerLink:"routerLink"},standalone:!0,features:[Dg,rr]});let t=e;return t})(),BC=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new He,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof cr&&this.update()})}ngAfterContentInit(){re(this.links.changes,re(null)).pipe(Eo()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=$e(r).pipe(Eo()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=jk(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(q(Ot),q(xt),q(fn),q(Ur),q(Zl,8))},e.\u0275dir=Ue({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&Tb(s,Zl,5),i&2){let a;Ab(a=Sb())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[rr]});let t=e;return t})();function jk(t){return!!t.paths}var Bk=new X("");function $C(t,...e){return Tn([{provide:Am,multi:!0,useValue:t},[],{provide:Pi,useFactory:$k,deps:[Ot]},{provide:Ag,multi:!0,useFactory:Hk},e.map(n=>n.\u0275providers)])}function $k(t){return t.routerState.root}function Hk(){let t=B(Zt);return e=>{let n=t.get(Ra);if(e!==n.components[0])return;let r=t.get(Ot),i=t.get(qk);t.get(zk)===1&&r.initialNavigation(),t.get(Gk,null,le.Optional)?.setUpPreloading(),t.get(Bk,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qk=new X("",{factory:()=>new vt}),zk=new X("",{providedIn:"root",factory:()=>1});var Gk=new X("");var HC=(()=>{let e=class e{constructor(r){this.router=r}};e.\u0275fac=function(i){return new(i||e)(q(Ot))},e.\u0275cmp=Pt({type:e,selectors:[["app-home"]],standalone:!0,features:[Nt],decls:50,vars:0,consts:[["href",LI`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"home-container"],[1,"header"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FBartel%20Clinica.png?alt=media&token=41b6210c-7e30-4924-af2b-42c8ed20a25c","alt","Logo de la Cl\xEDnica",1,"logo"],[1,"welcome-section"],[1,"differentiators-section"],[1,"cards-container"],[1,"card"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2Fatencion-personaliz.png?alt=media&token=577d5e14-8708-4c22-bdb0-ab1df0dcb1c9","alt","Atenci\xF3n Personalizada",1,"card-image"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FIngreso%20inmediato.png?alt=media&token=03e81afb-c196-4ab4-ac8b-f5541b246920","alt","Acceso Inmediato",1,"card-image"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FProfesionales.png?alt=media&token=8a137d64-eac6-4c96-af57-fe6c5d85b39b","alt","Profesionales de Confianza",1,"card-image"],[1,"info-bar"],[1,"info-item"],[1,"footer"]],template:function(i,o){i&1&&(ee(0,"link",0),x(1,"div",1)(2,"header",2),ee(3,"img",3),R(),x(4,"section",4)(5,"h1"),L(6,"Bienvenido a la Cl\xEDnica Bartel"),R(),x(7,"p"),L(8," Nos dedicamos a proporcionar servicios de salud de alta calidad con acceso f\xE1cil y r\xE1pido a m\xE9dicos profesionales. "),R()(),x(9,"section",5)(10,"h2"),L(11,"\xBFQu\xE9 nos diferencia?"),R(),x(12,"div",6)(13,"div",7)(14,"h3"),L(15,"Atenci\xF3n Personalizada"),R(),x(16,"p"),L(17,"Nos enfocamos en cada paciente con un trato especial y \xFAnico, podras gestionar tus turnos como tener tu ficha medica cuando quieras."),R(),ee(18,"img",8),R(),x(19,"div",7)(20,"h3"),L(21,"Acceso Inmediato"),R(),x(22,"p"),L(23,"Reserva tus consultas de forma r\xE1pida y desde cualquier dispositivo a cualquiera hora, desde donde sea, con el profesional que desees."),R(),ee(24,"img",9),R(),x(25,"div",7)(26,"h3"),L(27,"Profesionales de Confianza"),R(),x(28,"p"),L(29,"Un equipo m\xE9dico de alto nivel y con experiencia en el rubro te pueden dar la tranquilidad de que estas en el lugar indicado."),R(),ee(30,"img",10),R()()(),x(31,"section",11)(32,"div",12)(33,"p"),L(34,"+15"),R(),x(35,"h4"),L(36,"A\xF1os en el rubro"),R()(),x(37,"div",12)(38,"p"),L(39,"+25.000"),R(),x(40,"h4"),L(41,"Pacientes Atendidos"),R()(),x(42,"div",12)(43,"p"),L(44,"+50"),R(),x(45,"h4"),L(46,"Profesionales"),R()()()(),x(47,"footer",13)(48,"p"),L(49,"\xA9 2024 Clinica Bartel. Todos los derechos reservados."),R()())},styles:['.home-container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;color:#fff;background-color:#1a1a2e;padding:20px;font-family:Roboto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]{width:100px;margin-top:20px}.welcome-section[_ngcontent-%COMP%]{text-align:left;margin-left:5%;margin-bottom:50px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;margin-bottom:10px}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:1.5}.differentiators-section[_ngcontent-%COMP%]{margin-bottom:50px}.differentiators-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:28px;margin-bottom:20px;position:relative}.differentiators-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";display:block;width:50px;height:4px;background-color:#00bccd;margin:8px auto 0;border-radius:2px}.cards-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:15px}.card[_ngcontent-%COMP%]{background-color:#0f3460;padding:20px;border-radius:8px;width:30%;text-align:center;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 15px #0000004d}.card-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:4px}.info-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;background-color:#16213e;padding:15px;margin-top:20px;border-radius:8px}.info-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin:0}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:5px 0}.footer[_ngcontent-%COMP%]{width:100%;background-color:#1a1a2e;padding:20px;display:flex;flex-direction:column;align-items:center;color:#fff;font-family:Roboto}.copyright[_ngcontent-%COMP%]{margin:0;font-size:16px;text-align:center}.contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10px}.contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00bcd4;text-decoration:none}.contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']});let t=e;return t})();var qC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Pt({type:e,selectors:[["app-page-not-found"]],standalone:!0,features:[Nt],decls:0,vars:0,template:function(i,o){}});let t=e;return t})();var eD=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(q(fn),q(xt))},e.\u0275dir=Ue({type:e});let t=e;return t})(),ad=(()=>{let e=class e extends eD{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ir(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,features:[Xt]});let t=e;return t})(),ic=new X("");var Wk={provide:ic,useExisting:Dn(()=>zr),multi:!0};function Kk(){let t=sr()?sr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Qk=new X(""),zr=(()=>{let e=class e extends eD{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Kk())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(q(fn),q(xt),q(Qk,8))},e.\u0275dir=Ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&me("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Vr([Wk]),Xt]});let t=e;return t})();function Yk(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Rm=new X(""),tD=new X("");function Jk(t){return Yk(t.value)?{required:!0}:null}function zC(t){return null}function nD(t){return t!=null}function rD(t){return Ai(t)?$e(t):t}function iD(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function oD(t,e){return e.map(n=>n(t))}function Zk(t){return!t.validate}function sD(t){return t.map(e=>Zk(e)?e:n=>e.validate(n))}function Xk(t){if(!t)return null;let e=t.filter(nD);return e.length==0?null:function(n){return iD(oD(n,e))}}function Mm(t){return t!=null?Xk(sD(t)):null}function eL(t){if(!t)return null;let e=t.filter(nD);return e.length==0?null:function(n){let r=oD(n,e).map(rD);return Mf(r).pipe(pe(iD))}}function Pm(t){return t!=null?eL(sD(t)):null}function GC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function tL(t){return t._rawValidators}function nL(t){return t._rawAsyncValidators}function xm(t){return t?Array.isArray(t)?t:[t]:[]}function nd(t,e){return Array.isArray(t)?t.includes(e):t===e}function WC(t,e){let n=xm(e);return xm(t).forEach(i=>{nd(n,i)||n.push(i)}),n}function KC(t,e){return xm(e).filter(n=>!nd(t,n))}var rd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Pm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Zo=class extends rd{get formDirective(){return null}get path(){return null}},rc=class extends rd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},id=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},rL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},h8=be(V({},rL),{"[class.ng-submitted]":"isSubmitted"}),Xo=(()=>{let e=class e extends id{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(q(rc,2))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Ml("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Xt]});let t=e;return t})(),es=(()=>{let e=class e extends id{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(q(Zo,10))},e.\u0275dir=Ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Ml("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Xt]});let t=e;return t})();var ec="VALID",td="INVALID",Jo="PENDING",tc="DISABLED";function aD(t){return(cd(t)?t.validators:t)||null}function iL(t){return Array.isArray(t)?Mm(t):t||null}function cD(t,e){return(cd(e)?e.asyncValidators:t)||null}function oL(t){return Array.isArray(t)?Pm(t):t||null}function cd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function sL(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new W(1e3,"");if(!r[n])throw new W(1001,"")}function aL(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new W(1002,"")})}var od=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ec}get invalid(){return this.status===td}get pending(){return this.status==Jo}get disabled(){return this.status===tc}get enabled(){return this.status!==tc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(WC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(KC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(KC(e,this._rawAsyncValidators))}hasValidator(e){return nd(this._rawValidators,e)}hasAsyncValidator(e){return nd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Jo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=tc,this.errors=null,this._forEachChild(r=>{r.disable(be(V({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(V({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ec,this._forEachChild(r=>{r.enable(be(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be(V({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ec||this.status===Jo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tc:ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Jo,this._hasOwnPendingAsyncValidator=!0;let n=rD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?tc:this.errors?td:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jo)?Jo:this._anyControlsHaveStatus(td)?td:ec}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=iL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=oL(this._rawAsyncValidators)}},sd=class extends od{constructor(e,n,r){super(aD(n),cD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){aL(this,!0,e),Object.keys(e).forEach(r=>{sL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Nm=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Om}),Om="always";function cL(t,e){return[...e.path,t]}function uD(t,e,n=Om){lD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),lL(t,e),hL(t,e),dL(t,e),uL(t,e)}function QC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function uL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function lD(t,e){let n=tL(t);e.validator!==null?t.setValidators(GC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=nL(t);e.asyncValidator!==null?t.setAsyncValidators(GC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();QC(e._rawValidators,i),QC(e._rawAsyncValidators,i)}function lL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&dD(t,e)})}function dL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&dD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function dD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function fL(t,e){t==null,lD(t,e)}function pL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function gL(t){return Object.getPrototypeOf(t.constructor)===ad}function mL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function yL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===zr?n=o:gL(o)?r=o:i=o}),i||r||n||null}var vL={provide:Zo,useExisting:Dn(()=>Ni)},nc=Promise.resolve(),Ni=(()=>{let e=class e extends Zo{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new He,this.form=new sd({},Mm(r),Pm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){nc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),uD(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){nc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){nc.then(()=>{let i=this._findContainer(r.path),o=new sd({});fL(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){nc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){nc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,mL(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(q(Rm,10),q(tD,10),q(Nm,8))},e.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&me("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[ut.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vr([vL]),Xt]});let t=e;return t})();function YC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function JC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var _L=class extends od{constructor(e=null,n,r){super(aD(n),cD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(JC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){YC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){YC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){JC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wL={provide:rc,useExisting:Dn(()=>Oi)},ZC=Promise.resolve(),Oi=(()=>{let e=class e extends rc{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new _L,this._registered=!1,this.name="",this.update=new He,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=yL(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),pL(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){uD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){ZC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&jr(i);ZC.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?cL(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(q(Zo,9),q(Rm,10),q(tD,10),q(ic,10),q(Ur,8),q(Nm,8))},e.\u0275dir=Ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ut.None,"disabled","isDisabled"],model:[ut.None,"ngModel","model"],options:[ut.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vr([wL]),Xt,rr]});let t=e;return t})(),ts=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),EL={provide:ic,useExisting:Dn(()=>oc),multi:!0},oc=(()=>{let e=class e extends ad{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ir(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&me("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Vr([EL]),Xt]});let t=e;return t})();var IL={provide:ic,useExisting:Dn(()=>ud),multi:!0};function hD(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function bL(t){return t.split(":")[0]}var ud=(()=>{let e=class e extends ad{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=hD(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=bL(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ir(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&me("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vr([IL]),Xt]});let t=e;return t})(),fD=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(hD(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(q(xt),q(fn),q(ud,9))},e.\u0275dir=Ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),CL={provide:ic,useExisting:Dn(()=>pD),multi:!0};function XC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function DL(t){return t.split(":")[0]}var pD=(()=>{let e=class e extends ad{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=DL(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ir(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&me("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vr([CL]),Xt]});let t=e;return t})(),gD=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(XC(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(XC(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(q(xt),q(fn),q(pD,9))},e.\u0275dir=Ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var TL=(()=>{let e=class e{constructor(){this._validator=zC}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):zC,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ue({type:e,features:[rr]});let t=e;return t})();var AL={provide:Rm,useExisting:Dn(()=>Fi),multi:!0};var Fi=(()=>{let e=class e extends TL{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=jr,this.createValidator=r=>Jk}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ir(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&xa("required",o._enabled?"":null)},inputs:{required:"required"},features:[Vr([AL]),Xt]});let t=e;return t})();var SL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ci({type:e}),e.\u0275inj=bi({});let t=e;return t})();var ns=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Nm,useValue:r.callSetDisabledState??Om}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ci({type:e}),e.\u0275inj=bi({imports:[SL]});let t=e;return t})();var yD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,_=l&63;u||(_=64,s||(m=64)),r.push(n[h],n[p],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Lm;let m=o<<2|a>>4;if(r.push(m),l!==64){let _=a<<4&240|l>>2;if(r.push(_),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Lm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},RL=function(t){let e=yD(t);return vD.encodeByteArray(e,!0)},sc=function(t){return RL(t).replace(/\./g,"")},Um=function(t){try{return vD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ML(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var PL=()=>ML().__FIREBASE_DEFAULTS__,NL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Um(t[1]);return e&&JSON.parse(e)},dd=()=>{try{return PL()||NL()||OL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jm=t=>{var e,n;return(n=(e=dd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hd=t=>{let e=jm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Bm=()=>{var t;return(t=dd())===null||t===void 0?void 0:t.config},$m=t=>{var e;return(e=dd())===null||e===void 0?void 0:e[`_${t}`]};var ld=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function fd(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sc(JSON.stringify(n)),sc(JSON.stringify(s)),""].join(".")}function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _D(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function FL(){var t;let e=(t=dd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ED(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ID(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bD(){let t=ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CD(){return!FL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hm(){try{return typeof indexedDB=="object"}catch{return!1}}function DD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var kL="FirebaseError",Rt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ur.prototype.create)}},ur=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?LL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Rt(i,a,r)}};function LL(t,e){return t.replace(VL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var VL=/\{\$([^}]+)}/g;function TD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ki(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(mD(o)&&mD(s)){if(!ki(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function mD(t){return t!==null&&typeof t=="object"}function ac(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function is(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AD(t,e){let n=new Vm(t,e);return n.subscribe.bind(n)}var Vm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=km),i.error===void 0&&(i.error=km),i.complete===void 0&&(i.complete=km);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function UL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function km(){}var g8=4*60*60*1e3;function Le(t){return t&&t._delegate?t._delegate:t}var Ft=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Li="[DEFAULT]";var qm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ld;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BL(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jL(t){return t===Li?void 0:t}function BL(t){return t.instantiationMode==="EAGER"}var pd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var $L=[],ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ye||{}),HL={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},qL=ye.INFO,zL={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},GL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=zL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gr=class{constructor(e){this.name=e,this._logLevel=qL,this._logHandler=GL,this._userLogHandler=null,$L.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var WL=(t,e)=>e.some(n=>t instanceof n),SD,xD;function KL(){return SD||(SD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QL(){return xD||(xD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var RD=new WeakMap,Gm=new WeakMap,MD=new WeakMap,zm=new WeakMap,Km=new WeakMap;function YL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&RD.set(n,t)}).catch(()=>{}),Km.set(e,t),e}function JL(t){if(Gm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Gm.set(t,e)}var Wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PD(t){Wm=t(Wm)}function ZL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(gd(this),e,...n);return MD.set(r,e.sort?e.sort():[e]),xn(r)}:QL().includes(t)?function(...e){return t.apply(gd(this),e),xn(RD.get(this))}:function(...e){return xn(t.apply(gd(this),e))}}function XL(t){return typeof t=="function"?ZL(t):(t instanceof IDBTransaction&&JL(t),WL(t,KL())?new Proxy(t,Wm):t)}function xn(t){if(t instanceof IDBRequest)return YL(t);if(zm.has(t))return zm.get(t);let e=XL(t);return e!==t&&(zm.set(t,e),Km.set(e,t)),e}var gd=t=>Km.get(t);function OD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=xn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(xn(s.result),u.oldVersion,u.newVersion,xn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var eV=["get","getKey","getAll","getAllKeys","count"],tV=["put","add","delete","clear"],Qm=new Map;function ND(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qm.get(e))return Qm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=tV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eV.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Qm.set(e,o),o}PD(t=>be(V({},t),{get:(e,n,r)=>ND(e,n)||t.get(e,n,r),has:(e,n)=>!!ND(e,n)||t.has(e,n)}));var Jm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function nV(t){let e=t.getComponent();return e?.type==="VERSION"}var Zm="@firebase/app",FD="0.10.13";var lr=new Gr("@firebase/app"),rV="@firebase/app-compat",iV="@firebase/analytics-compat",oV="@firebase/analytics",sV="@firebase/app-check-compat",aV="@firebase/app-check",cV="@firebase/auth",uV="@firebase/auth-compat",lV="@firebase/database",dV="@firebase/data-connect",hV="@firebase/database-compat",fV="@firebase/functions",pV="@firebase/functions-compat",gV="@firebase/installations",mV="@firebase/installations-compat",yV="@firebase/messaging",vV="@firebase/messaging-compat",_V="@firebase/performance",wV="@firebase/performance-compat",EV="@firebase/remote-config",IV="@firebase/remote-config-compat",bV="@firebase/storage",CV="@firebase/storage-compat",DV="@firebase/firestore",TV="@firebase/vertexai-preview",AV="@firebase/firestore-compat",SV="firebase",xV="10.14.1";var Xm="[DEFAULT]",RV={[Zm]:"fire-core",[rV]:"fire-core-compat",[oV]:"fire-analytics",[iV]:"fire-analytics-compat",[aV]:"fire-app-check",[sV]:"fire-app-check-compat",[cV]:"fire-auth",[uV]:"fire-auth-compat",[lV]:"fire-rtdb",[dV]:"fire-data-connect",[hV]:"fire-rtdb-compat",[fV]:"fire-fn",[pV]:"fire-fn-compat",[gV]:"fire-iid",[mV]:"fire-iid-compat",[yV]:"fire-fcm",[vV]:"fire-fcm-compat",[_V]:"fire-perf",[wV]:"fire-perf-compat",[EV]:"fire-rc",[IV]:"fire-rc-compat",[bV]:"fire-gcs",[CV]:"fire-gcs-compat",[DV]:"fire-fst",[AV]:"fire-fst-compat",[TV]:"fire-vertex","fire-js":"fire-js",[SV]:"fire-js-all"};var cc=new Map,MV=new Map,ey=new Map;function kD(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rn(t){let e=t.name;if(ey.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;ey.set(e,t);for(let n of cc.values())kD(n,t);for(let n of MV.values())kD(n,t);return!0}function Vi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gn(t){return t.settings!==void 0}var PV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new ur("app","Firebase",PV);var ty=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}};var Mn=xV;function Ui(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Xm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(n||(n=Bm()),!n)throw Wr.create("no-options");let o=cc.get(i);if(o){if(ki(n,o.options)&&ki(r,o.config))return o;throw Wr.create("duplicate-app",{appName:i})}let s=new pd(i);for(let u of ey.values())s.addComponent(u);let a=new ty(n,r,s);return cc.set(i,a),a}function Kr(t=Xm){let e=cc.get(t);if(!e&&t===Xm&&Bm())return Ui();if(!e)throw Wr.create("no-app",{appName:t});return e}function md(){return Array.from(cc.values())}function ze(t,e,n){var r;let i=(r=RV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(a.join(" "));return}Rn(new Ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var NV="firebase-heartbeat-database",OV=1,uc="firebase-heartbeat-store",Ym=null;function jD(){return Ym||(Ym=OD(NV,OV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),Ym}function FV(t){return v(this,null,function*(){try{let n=(yield jD()).transaction(uc),r=yield n.objectStore(uc).get(BD(t));return yield n.done,r}catch(e){if(e instanceof Rt)lr.warn(e.message);else{let n=Wr.create("idb-get",{originalErrorMessage:e?.message});lr.warn(n.message)}}})}function LD(t,e){return v(this,null,function*(){try{let r=(yield jD()).transaction(uc,"readwrite");yield r.objectStore(uc).put(e,BD(t)),yield r.done}catch(n){if(n instanceof Rt)lr.warn(n.message);else{let r=Wr.create("idb-set",{originalErrorMessage:n?.message});lr.warn(r.message)}}})}function BD(t){return`${t.name}!${t.options.appId}`}var kV=1024,LV=30*24*60*60*1e3,ny=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ry(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=LV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){lr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=VD(),{heartbeatsToSend:r,unsentEntries:i}=VV(this._heartbeatsCache.heartbeats),o=sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return lr.warn(n),""}})}};function VD(){return new Date().toISOString().substring(0,10)}function VV(t,e=kV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),UD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ry=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Hm()?DD().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield FV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function UD(t){return sc(JSON.stringify({version:2,heartbeats:t})).length}function UV(t){Rn(new Ft("platform-logger",e=>new Jm(e),"PRIVATE")),Rn(new Ft("heartbeat",e=>new ny(e),"PRIVATE")),ze(Zm,FD,t),ze(Zm,FD,"esm2017"),ze("fire-js","")}UV("");function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var oT=iT,sT=new ur("auth","Firebase",iT());var Id=new Gr("@firebase/auth");function jV(t,...e){Id.logLevel<=ye.WARN&&Id.warn(`Auth (${Mn}): ${t}`,...e)}function vd(t,...e){Id.logLevel<=ye.ERROR&&Id.error(`Auth (${Mn}): ${t}`,...e)}function Nn(t,...e){throw Dy(t,...e)}function ji(t,...e){return Dy(t,...e)}function aT(t,e,n){let r=Object.assign(Object.assign({},oT()),{[e]:n});return new ur("auth","Firebase",r).create(e,{appName:t.name})}function fr(t){return aT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sT.create(t,...e)}function K(t,e,...n){if(!t)throw Dy(e,...n)}function dr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function Yr(t,e){t||dr(e)}function bd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cT(){return $D()==="http:"||$D()==="https:"}function $D(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function BV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cT()||ED()||"connection"in navigator)?navigator.onLine:!0}function $V(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Bi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=_D()||ID()}get(){return BV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ty(t,e){Yr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Cd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var HV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var qV=new Bi(3e4,6e4);function On(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Fn(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return uT(t,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ac(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let _=Object.assign({method:e,headers:m},l);return wD()||(_.referrerPolicy="no-referrer"),Cd.fetch()(lT(t,t.config.apiHost,n,p),_)}))})}function uT(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},HV),e);try{let i=new ay(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw yd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw yd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw yd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw aT(t,h,l);Nn(t,h)}}catch(i){if(i instanceof Rt)throw i;Nn(t,"network-request-failed",{message:String(i)})}})}function yc(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield Fn(t,e,n,r,i);return"mfaPendingCredential"in l&&Nn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function lT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ty(t.config,i):`${t.config.apiScheme}://${i}`}function zV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ay=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),qV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function yd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ji(t,e,r);return i.customData._tokenResponse=n,i}function HD(t){return t!==void 0&&t.enterprise!==void 0}var cy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function GV(t,e){return v(this,null,function*(){return Fn(t,"GET","/v2/recaptchaConfig",On(t,e))})}function WV(t,e){return v(this,null,function*(){return Fn(t,"POST","/v1/accounts:delete",e)})}function dT(t,e){return v(this,null,function*(){return Fn(t,"POST","/v1/accounts:lookup",e)})}function lc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ay(t,e=!1){return v(this,null,function*(){let n=Le(t),r=yield n.getIdToken(e),i=Sy(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:lc(iy(i.auth_time)),issuedAtTime:lc(iy(i.iat)),expirationTime:lc(iy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function iy(t){return Number(t)*1e3}function Sy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Um(n);return i?JSON.parse(i):(vd("Failed to decode base64 JWT payload"),null)}catch(i){return vd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qD(t){let e=Sy(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function hc(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Rt&&KV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function KV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var uy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Dd(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield hc(t,dT(n,{idToken:r}));K(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hT(o.providerUserInfo):[],a=QV(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function xy(t){return v(this,null,function*(){let e=Le(t);yield Dd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function QV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hT(t){return t.map(e=>{var{providerId:n}=e,r=xf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function YV(t,e){return v(this,null,function*(){let n=yield uT(t,{},()=>v(this,null,function*(){let r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=lT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function JV(t,e){return v(this,null,function*(){return Fn(t,"POST","/v2/accounts:revokeToken",On(t,e))})}var dc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=qD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield YV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return dr("not implemented")}};function Qr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var os=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield hc(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ay(this,e)}reload(){return xy(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Dd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(gn(this.auth.app))return Promise.reject(fr(this.auth));let e=yield this.getIdToken();return yield hc(this,WV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,_=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,G=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:Q,isAnonymous:Me,providerData:te,stsTokenManager:b}=n;K($&&b,e,"internal-error");let y=dc.fromJSON(this.name,b);K(typeof $=="string",e,"internal-error"),Qr(p,e.name),Qr(m,e.name),K(typeof Q=="boolean",e,"internal-error"),K(typeof Me=="boolean",e,"internal-error"),Qr(_,e.name),Qr(A,e.name),Qr(P,e.name),Qr(M,e.name),Qr(k,e.name),Qr(G,e.name);let w=new t({uid:$,auth:e,email:m,emailVerified:Q,displayName:p,isAnonymous:Me,photoURL:A,phoneNumber:_,tenantId:P,stsTokenManager:y,createdAt:k,lastLoginAt:G});return te&&Array.isArray(te)&&(w.providerData=te.map(I=>Object.assign({},I))),M&&(w._redirectEventId=M),w}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new dc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Dd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?hT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new dc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var zD=new Map;function hr(t){Yr(t instanceof Function,"Expected a class definition");let e=zD.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zD.set(t,e),e)}var ZV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ly=ZV;function _d(t,e,n){return`firebase:${t}:${e}:${n}`}var Td=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_d(this.userKey,i.apiKey,o),this.fullPersistenceKey=_d("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?os._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(hr(ly),e,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||hr(ly),s=_d(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=os._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function GD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vT(e))return"Blackberry";if(_T(e))return"Webos";if(pT(e))return"Safari";if((e.includes("chrome/")||gT(e))&&!e.includes("edge/"))return"Chrome";if(yT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fT(t=ot()){return/firefox\//i.test(t)}function pT(t=ot()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gT(t=ot()){return/crios\//i.test(t)}function mT(t=ot()){return/iemobile/i.test(t)}function yT(t=ot()){return/android/i.test(t)}function vT(t=ot()){return/blackberry/i.test(t)}function _T(t=ot()){return/webos/i.test(t)}function Ry(t=ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XV(t=ot()){var e;return Ry(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e2(){return bD()&&document.documentMode===10}function wT(t=ot()){return Ry(t)||yT(t)||_T(t)||vT(t)||/windows phone/i.test(t)||mT(t)}function ET(t,e=[]){let n;switch(t){case"Browser":n=GD(ot());break;case"Worker":n=`${GD(ot())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mn}/${r}`}var dy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function t2(n){return v(this,arguments,function*(t,e={}){return Fn(t,"GET","/v2/passwordPolicy",On(t,e))})}var n2=6,hy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:n2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var fy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ad(this),this.idTokenSubscription=new Ad(this),this.beforeStateQueue=new dy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Td.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield dT(this,{idToken:e}),r=yield os._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(gn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Dd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=$V()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(gn(this.app))return Promise.reject(fr(this));let n=e?Le(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return gn(this.app)?Promise.reject(fr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return gn(this.app)?Promise.reject(fr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(hr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield t2(this),n=new hy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ur("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield JV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&hr(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield Td.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&jV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Hi(t){return Le(t)}var Ad=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=AD(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Od={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r2(t){Od=t}function IT(t){return Od.loadJS(t)}function i2(){return Od.recaptchaEnterpriseScript}function o2(){return Od.gapiScript}function bT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var s2="recaptcha-enterprise",a2="NO_RECAPTCHA",py=class{constructor(e){this.type=s2,this.auth=Hi(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){GV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new cy(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;HD(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(a2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&HD(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=i2();u.length!==0&&(u+=a),IT(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function WD(t,e,n,r=!1){return v(this,null,function*(){let i=new py(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function gy(t,e,n,r){return v(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield WD(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>v(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield WD(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function My(t,e){let n=Vi(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(ki(o,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function c2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(hr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Py(t,e,n){let r=Hi(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=CT(e),{host:s,port:a}=u2(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||l2()}function CT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u2(t){let e=CT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:KD(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:KD(s)}}}function KD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function l2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var pc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}};function d2(t,e){return v(this,null,function*(){return Fn(t,"POST","/v1/accounts:signUp",e)})}function h2(t,e){return v(this,null,function*(){return yc(t,"POST","/v1/accounts:signInWithPassword",On(t,e))})}function f2(t,e){return v(this,null,function*(){return Fn(t,"POST","/v1/accounts:sendOobCode",On(t,e))})}function p2(t,e){return v(this,null,function*(){return f2(t,e)})}function g2(t,e){return v(this,null,function*(){return yc(t,"POST","/v1/accounts:signInWithEmailLink",On(t,e))})}function m2(t,e){return v(this,null,function*(){return yc(t,"POST","/v1/accounts:signInWithEmailLink",On(t,e))})}var gc=class t extends pc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gy(e,n,"signInWithPassword",h2);case"emailLink":return g2(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gy(e,r,"signUpPassword",d2);case"emailLink":return m2(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function oy(t,e){return v(this,null,function*(){return yc(t,"POST","/v1/accounts:signInWithIdp",On(t,e))})}function y2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v2(t){let e=rs(is(t)).link,n=e?rs(is(e)).deep_link_id:null,r=rs(is(t)).deep_link_id;return(r?rs(is(r)).link:null)||r||n||e||t}var Sd=class t{constructor(e){var n,r,i,o,s,a;let u=rs(is(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=y2((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=v2(e);try{return new t(n)}catch{return null}}};var DT=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return gc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Sd.parseLink(r);return K(i,"argument-error"),gc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),xd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var my=class extends xd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function _2(t,e){return v(this,null,function*(){return yc(t,"POST","/v1/accounts:signUp",On(t,e))})}var ss=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield os._fromIdTokenResponse(e,r,i),s=QD(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=QD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function QD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var yy=class t extends Rt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function TT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yy._fromErrorAndOperation(t,o,e,r):o})}function w2(t,e,n=!1){return v(this,null,function*(){let r=yield hc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ss._forOperation(t,"link",r)})}function E2(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(gn(r.app))return Promise.reject(fr(r));let i="reauthenticate";try{let o=yield hc(t,TT(r,i,e,t),n);K(o.idToken,r,"internal-error");let s=Sy(o.idToken);K(s,r,"internal-error");let{sub:a}=s;return K(t.uid===a,r,"user-mismatch"),ss._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nn(r,"user-mismatch"),o}})}function AT(t,e,n=!1){return v(this,null,function*(){if(gn(t.app))return Promise.reject(fr(t));let r="signIn",i=yield TT(t,r,e),o=yield ss._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Ny(t,e){return v(this,null,function*(){return AT(Hi(t),e)})}function I2(t,e,n){var r;K(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),K(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(K(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(K(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function ST(t){return v(this,null,function*(){let e=Hi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function as(t,e,n){return v(this,null,function*(){if(gn(t.app))return Promise.reject(fr(t));let r=Hi(t),s=yield gy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_2).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ST(t),u}),a=yield ss._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Fd(t,e,n){return gn(t.app)?Promise.reject(fr(t)):Ny(Le(t),DT.credential(e,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ST(t),r}))}function b2(t,e){return v(this,null,function*(){return Fn(t,"POST","/v1/accounts:createAuthUri",On(t,e))})}function kd(t,e){return v(this,null,function*(){let n=cT()?bd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=yield b2(Le(t),r);return i||[]})}function cs(t,e){return v(this,null,function*(){let n=Le(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&I2(n.auth,i,e);let{email:o}=yield p2(n.auth,i);o!==t.email&&(yield t.reload())})}function Oy(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function Fy(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function us(t,e,n,r){return Le(t).onAuthStateChanged(e,n,r)}function Ld(t){return Le(t).signOut()}var Rd="__sak";var Md=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rd,"1"),this.storage.removeItem(Rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var C2=1e3,D2=10,T2=(()=>{class t extends Md{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);e2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,D2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield Dr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield Dr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield Dr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),xT=T2;var A2=(()=>{class t extends Md{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),ky=A2;function S2(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var x2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield S2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function RT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var vy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=RT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Pn(){return window}function R2(t){Pn().location.href=t}function MT(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}function M2(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function P2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function N2(){return MT()?self:null}var PT="firebaseLocalStorageDb",O2=1,Pd="firebaseLocalStorage",NT="fbase_key",$i=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Vd(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function F2(){let t=indexedDB.deleteDatabase(PT);return new $i(t).toPromise()}function _y(){let t=indexedDB.open(PT,O2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Pd,{keyPath:NT})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),yield F2(),e(yield _y()))}))})}function YD(t,e,n){return v(this,null,function*(){let r=Vd(t,!0).put({[NT]:e,value:n});return new $i(r).toPromise()})}function k2(t,e){return v(this,null,function*(){let n=Vd(t,!1).get(e),r=yield new $i(n).toPromise();return r===void 0?null:r.value})}function JD(t,e){let n=Vd(t,!0).delete(e);return new $i(n).toPromise()}var L2=800,V2=3,U2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield _y(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>V2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return MT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=x2._getInstance(N2()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield M2(),!this.activeServiceWorker)return;this.sender=new vy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||P2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield _y();return yield YD(n,Rd,"1"),yield JD(n,Rd),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>YD(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>k2(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>JD(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=Vd(o,!1).getAll();return new $i(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),OT=U2;var $8=bT("rcb"),H8=new Bi(3e4,6e4);function j2(t,e){return e?hr(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var mc=class extends pc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function B2(t){return AT(t.auth,new mc(t),t.bypassAuthState)}function $2(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),E2(n,new mc(t),t.bypassAuthState)}function H2(t){return v(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),w2(n,new mc(t),t.bypassAuthState)})}var wy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B2;case"linkViaPopup":case"linkViaRedirect":return H2;case"reauthViaPopup":case"reauthViaRedirect":return $2;default:Nn(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var q8=new Bi(2e3,1e4);var q2="pendingRedirect",wd=new Map,Ey=class t extends wy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=wd.get(this.auth._key());if(!e){try{let r=(yield z2(this.resolver,this.auth))?yield Dr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wd.set(this.auth._key(),e)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Dr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Dr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function z2(t,e){return v(this,null,function*(){let n=K2(e),r=W2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function G2(t,e){wd.set(t._key(),e)}function W2(t){return hr(t._redirectPersistence)}function K2(t){return _d(q2,t.config.apiKey,t.name)}function Q2(t,e,n=!1){return v(this,null,function*(){if(gn(t.app))return Promise.reject(fr(t));let r=Hi(t),i=j2(r,e),s=yield new Ey(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Y2=10*60*1e3,Iy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ji(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y2&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZD(e))}saveEventToCache(e){this.cachedEventUids.add(ZD(e)),this.lastProcessedEventTime=Date.now()}};function ZD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function J2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(t);default:return!1}}function Z2(n){return v(this,arguments,function*(t,e={}){return Fn(t,"GET","/v1/projects",e)})}var X2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eU=/^https?/;function tU(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Z2(t);for(let n of e)try{if(nU(n))return}catch{}Nn(t,"unauthorized-domain")})}function nU(t){let e=bd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!eU.test(n))return!1;if(X2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var rU=new Bi(3e4,6e4);function XD(){let t=Pn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iU(t){return new Promise((e,n)=>{var r,i,o;function s(){XD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XD(),n(ji(t,"network-request-failed"))},timeout:rU.get()})}if(!((i=(r=Pn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Pn().gapi)===null||o===void 0)&&o.load)s();else{let a=bT("iframefcb");return Pn()[a]=()=>{gapi.load?s():n(ji(t,"network-request-failed"))},IT(`${o2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Ed=null,e})}var Ed=null;function oU(t){return Ed=Ed||iU(t),Ed}var sU=new Bi(5e3,15e3),aU="__/auth/iframe",cU="emulator/auth/iframe",uU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dU(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ty(e,cU):`https://${t.config.authDomain}/${aU}`,r={apiKey:e.apiKey,appName:t.name,v:Mn},i=lU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ac(r).slice(1)}`}function hU(t){return v(this,null,function*(){let e=yield oU(t),n=Pn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:dU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uU,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ji(t,"network-request-failed"),a=Pn().setTimeout(()=>{o(s)},sU.get());function u(){Pn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var fU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pU=500,gU=600,mU="_blank",yU="http://localhost",Nd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function vU(t,e,n,r=pU,i=gU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},fU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ot().toLowerCase();n&&(a=gT(l)?mU:n),fT(l)&&(e=e||yU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[_,A])=>`${m}${_}=${A},`,"");if(XV(l)&&a!=="_self")return _U(e||"",a),new Nd(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new Nd(p)}function _U(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var wU="__/auth/handler",EU="emulator/auth/handler",IU=encodeURIComponent("fac");function eT(t,e,n,r,i,o){return v(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mn,eventId:i};if(e instanceof xd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",TD(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof my){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${IU}=${encodeURIComponent(u)}`:"";return`${bU(t)}?${ac(a).slice(1)}${l}`})}function bU({config:t}){return t.emulator?Ty(t,EU):`https://${t.authDomain}/${wU}`}var sy="webStorageSupport",by=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ky,this._completeRedirectFn=Q2,this._overrideRedirectResult=G2}_openPopup(e,n,r,i){return v(this,null,function*(){var o;Yr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield eT(e,n,r,bd(),i);return vU(e,s,RT())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield eT(e,n,r,bd(),i);return R2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Yr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield hU(e),r=new Iy(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sy,{type:sy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[sy];s!==void 0&&n(!!s),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wT()||pT()||Ry()}},kT=by;var tT="@firebase/auth",nT="1.7.9";var Cy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function CU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DU(t){Rn(new Ft("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(t)},l=new fy(r,i,o,u);return c2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rn(new Ft("auth-internal",e=>{let n=Hi(e.getProvider("auth").getImmediate());return(r=>new Cy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(tT,nT,CU(t)),ze(tT,nT,"esm2017")}var TU=5*60,AU=$m("authIdTokenMaxAge")||TU,rT=null,SU=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AU)return;let i=n?.token;rT!==i&&(rT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function kt(t=Kr()){let e=Vi(t,"auth");if(e.isInitialized())return e.getImmediate();let n=My(t,{popupRedirectResolver:kT,persistence:[OT,xT,ky]}),r=$m("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=SU(o.toString());Fy(n,s,()=>s(n.currentUser)),Oy(n,a=>s(a))}}let i=jm("auth");return i&&Py(n,`http://${i}`),n}function xU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}r2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=ji("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",xU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DU("Browser");var mj="firebase",yj="10.14.1";ze(mj,yj,"app");var LT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VT={};var Jr,Ly;(function(){var t;function e(b,y){function w(){}w.prototype=y.prototype,b.D=y.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(I,C,T){for(var E=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)E[qn-2]=arguments[qn];return y.prototype[C].apply(I,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,y,w){w||(w=0);var I=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)I[C]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(C=0;16>C;++C)I[C]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=b.g[0],w=b.g[1],C=b.g[2];var T=b.g[3],E=y+(T^w&(C^T))+I[0]+3614090360&4294967295;y=w+(E<<7&4294967295|E>>>25),E=T+(C^y&(w^C))+I[1]+3905402710&4294967295,T=y+(E<<12&4294967295|E>>>20),E=C+(w^T&(y^w))+I[2]+606105819&4294967295,C=T+(E<<17&4294967295|E>>>15),E=w+(y^C&(T^y))+I[3]+3250441966&4294967295,w=C+(E<<22&4294967295|E>>>10),E=y+(T^w&(C^T))+I[4]+4118548399&4294967295,y=w+(E<<7&4294967295|E>>>25),E=T+(C^y&(w^C))+I[5]+1200080426&4294967295,T=y+(E<<12&4294967295|E>>>20),E=C+(w^T&(y^w))+I[6]+2821735955&4294967295,C=T+(E<<17&4294967295|E>>>15),E=w+(y^C&(T^y))+I[7]+4249261313&4294967295,w=C+(E<<22&4294967295|E>>>10),E=y+(T^w&(C^T))+I[8]+1770035416&4294967295,y=w+(E<<7&4294967295|E>>>25),E=T+(C^y&(w^C))+I[9]+2336552879&4294967295,T=y+(E<<12&4294967295|E>>>20),E=C+(w^T&(y^w))+I[10]+4294925233&4294967295,C=T+(E<<17&4294967295|E>>>15),E=w+(y^C&(T^y))+I[11]+2304563134&4294967295,w=C+(E<<22&4294967295|E>>>10),E=y+(T^w&(C^T))+I[12]+1804603682&4294967295,y=w+(E<<7&4294967295|E>>>25),E=T+(C^y&(w^C))+I[13]+4254626195&4294967295,T=y+(E<<12&4294967295|E>>>20),E=C+(w^T&(y^w))+I[14]+2792965006&4294967295,C=T+(E<<17&4294967295|E>>>15),E=w+(y^C&(T^y))+I[15]+1236535329&4294967295,w=C+(E<<22&4294967295|E>>>10),E=y+(C^T&(w^C))+I[1]+4129170786&4294967295,y=w+(E<<5&4294967295|E>>>27),E=T+(w^C&(y^w))+I[6]+3225465664&4294967295,T=y+(E<<9&4294967295|E>>>23),E=C+(y^w&(T^y))+I[11]+643717713&4294967295,C=T+(E<<14&4294967295|E>>>18),E=w+(T^y&(C^T))+I[0]+3921069994&4294967295,w=C+(E<<20&4294967295|E>>>12),E=y+(C^T&(w^C))+I[5]+3593408605&4294967295,y=w+(E<<5&4294967295|E>>>27),E=T+(w^C&(y^w))+I[10]+38016083&4294967295,T=y+(E<<9&4294967295|E>>>23),E=C+(y^w&(T^y))+I[15]+3634488961&4294967295,C=T+(E<<14&4294967295|E>>>18),E=w+(T^y&(C^T))+I[4]+3889429448&4294967295,w=C+(E<<20&4294967295|E>>>12),E=y+(C^T&(w^C))+I[9]+568446438&4294967295,y=w+(E<<5&4294967295|E>>>27),E=T+(w^C&(y^w))+I[14]+3275163606&4294967295,T=y+(E<<9&4294967295|E>>>23),E=C+(y^w&(T^y))+I[3]+4107603335&4294967295,C=T+(E<<14&4294967295|E>>>18),E=w+(T^y&(C^T))+I[8]+1163531501&4294967295,w=C+(E<<20&4294967295|E>>>12),E=y+(C^T&(w^C))+I[13]+2850285829&4294967295,y=w+(E<<5&4294967295|E>>>27),E=T+(w^C&(y^w))+I[2]+4243563512&4294967295,T=y+(E<<9&4294967295|E>>>23),E=C+(y^w&(T^y))+I[7]+1735328473&4294967295,C=T+(E<<14&4294967295|E>>>18),E=w+(T^y&(C^T))+I[12]+2368359562&4294967295,w=C+(E<<20&4294967295|E>>>12),E=y+(w^C^T)+I[5]+4294588738&4294967295,y=w+(E<<4&4294967295|E>>>28),E=T+(y^w^C)+I[8]+2272392833&4294967295,T=y+(E<<11&4294967295|E>>>21),E=C+(T^y^w)+I[11]+1839030562&4294967295,C=T+(E<<16&4294967295|E>>>16),E=w+(C^T^y)+I[14]+4259657740&4294967295,w=C+(E<<23&4294967295|E>>>9),E=y+(w^C^T)+I[1]+2763975236&4294967295,y=w+(E<<4&4294967295|E>>>28),E=T+(y^w^C)+I[4]+1272893353&4294967295,T=y+(E<<11&4294967295|E>>>21),E=C+(T^y^w)+I[7]+4139469664&4294967295,C=T+(E<<16&4294967295|E>>>16),E=w+(C^T^y)+I[10]+3200236656&4294967295,w=C+(E<<23&4294967295|E>>>9),E=y+(w^C^T)+I[13]+681279174&4294967295,y=w+(E<<4&4294967295|E>>>28),E=T+(y^w^C)+I[0]+3936430074&4294967295,T=y+(E<<11&4294967295|E>>>21),E=C+(T^y^w)+I[3]+3572445317&4294967295,C=T+(E<<16&4294967295|E>>>16),E=w+(C^T^y)+I[6]+76029189&4294967295,w=C+(E<<23&4294967295|E>>>9),E=y+(w^C^T)+I[9]+3654602809&4294967295,y=w+(E<<4&4294967295|E>>>28),E=T+(y^w^C)+I[12]+3873151461&4294967295,T=y+(E<<11&4294967295|E>>>21),E=C+(T^y^w)+I[15]+530742520&4294967295,C=T+(E<<16&4294967295|E>>>16),E=w+(C^T^y)+I[2]+3299628645&4294967295,w=C+(E<<23&4294967295|E>>>9),E=y+(C^(w|~T))+I[0]+4096336452&4294967295,y=w+(E<<6&4294967295|E>>>26),E=T+(w^(y|~C))+I[7]+1126891415&4294967295,T=y+(E<<10&4294967295|E>>>22),E=C+(y^(T|~w))+I[14]+2878612391&4294967295,C=T+(E<<15&4294967295|E>>>17),E=w+(T^(C|~y))+I[5]+4237533241&4294967295,w=C+(E<<21&4294967295|E>>>11),E=y+(C^(w|~T))+I[12]+1700485571&4294967295,y=w+(E<<6&4294967295|E>>>26),E=T+(w^(y|~C))+I[3]+2399980690&4294967295,T=y+(E<<10&4294967295|E>>>22),E=C+(y^(T|~w))+I[10]+4293915773&4294967295,C=T+(E<<15&4294967295|E>>>17),E=w+(T^(C|~y))+I[1]+2240044497&4294967295,w=C+(E<<21&4294967295|E>>>11),E=y+(C^(w|~T))+I[8]+1873313359&4294967295,y=w+(E<<6&4294967295|E>>>26),E=T+(w^(y|~C))+I[15]+4264355552&4294967295,T=y+(E<<10&4294967295|E>>>22),E=C+(y^(T|~w))+I[6]+2734768916&4294967295,C=T+(E<<15&4294967295|E>>>17),E=w+(T^(C|~y))+I[13]+1309151649&4294967295,w=C+(E<<21&4294967295|E>>>11),E=y+(C^(w|~T))+I[4]+4149444226&4294967295,y=w+(E<<6&4294967295|E>>>26),E=T+(w^(y|~C))+I[11]+3174756917&4294967295,T=y+(E<<10&4294967295|E>>>22),E=C+(y^(T|~w))+I[2]+718787259&4294967295,C=T+(E<<15&4294967295|E>>>17),E=w+(T^(C|~y))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(C+(E<<21&4294967295|E>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+T&4294967295}r.prototype.u=function(b,y){y===void 0&&(y=b.length);for(var w=y-this.blockSize,I=this.B,C=this.h,T=0;T<y;){if(C==0)for(;T<=w;)i(this,b,T),T+=this.blockSize;if(typeof b=="string"){for(;T<y;)if(I[C++]=b.charCodeAt(T++),C==this.blockSize){i(this,I),C=0;break}}else for(;T<y;)if(I[C++]=b[T++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;var w=8*this.o;for(y=b.length-8;y<b.length;++y)b[y]=w&255,w/=256;for(this.u(b),b=Array(16),y=w=0;4>y;++y)for(var I=0;32>I;I+=8)b[w++]=this.g[y]>>>I&255;return b};function o(b,y){var w=a;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=y(b)}function s(b,y){this.h=y;for(var w=[],I=!0,C=b.length-1;0<=C;C--){var T=b[C]|0;I&&T==y||(w[C]=T,I=!1)}this.g=w}var a={};function u(b){return-128<=b&&128>b?o(b,function(y){return new s([y|0],0>y?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return M(l(-b));for(var y=[],w=1,I=0;b>=w;I++)y[I]=b/w|0,w*=4294967296;return new s(y,0)}function h(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return M(h(b.substring(1),y));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(y,8)),I=p,C=0;C<b.length;C+=8){var T=Math.min(8,b.length-C),E=parseInt(b.substring(C,C+T),y);8>T?(T=l(Math.pow(y,T)),I=I.j(T).add(l(E))):(I=I.j(w),I=I.add(l(E)))}return I}var p=u(0),m=u(1),_=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-M(this).m();for(var b=0,y=1,w=0;w<this.g.length;w++){var I=this.i(w);b+=(0<=I?I:4294967296+I)*y,y*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A(this))return"0";if(P(this))return"-"+M(this).toString(b);for(var y=l(Math.pow(b,6)),w=this,I="";;){var C=Q(w,y).g;w=k(w,C.j(y));var T=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=C,A(w))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function A(b){if(b.h!=0)return!1;for(var y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function P(b){return b.h==-1}t.l=function(b){return b=k(this,b),P(b)?-1:A(b)?0:1};function M(b){for(var y=b.g.length,w=[],I=0;I<y;I++)w[I]=~b.g[I];return new s(w,~b.h).add(m)}t.abs=function(){return P(this)?M(this):this},t.add=function(b){for(var y=Math.max(this.g.length,b.g.length),w=[],I=0,C=0;C<=y;C++){var T=I+(this.i(C)&65535)+(b.i(C)&65535),E=(T>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);I=E>>>16,T&=65535,E&=65535,w[C]=E<<16|T}return new s(w,w[w.length-1]&-2147483648?-1:0)};function k(b,y){return b.add(M(y))}t.j=function(b){if(A(this)||A(b))return p;if(P(this))return P(b)?M(this).j(M(b)):M(M(this).j(b));if(P(b))return M(this.j(M(b)));if(0>this.l(_)&&0>b.l(_))return l(this.m()*b.m());for(var y=this.g.length+b.g.length,w=[],I=0;I<2*y;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<b.g.length;C++){var T=this.i(I)>>>16,E=this.i(I)&65535,qn=b.i(C)>>>16,Hs=b.i(C)&65535;w[2*I+2*C]+=E*Hs,G(w,2*I+2*C),w[2*I+2*C+1]+=T*Hs,G(w,2*I+2*C+1),w[2*I+2*C+1]+=E*qn,G(w,2*I+2*C+1),w[2*I+2*C+2]+=T*qn,G(w,2*I+2*C+2)}for(I=0;I<y;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=y;I<2*y;I++)w[I]=0;return new s(w,0)};function G(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function $(b,y){this.g=b,this.h=y}function Q(b,y){if(A(y))throw Error("division by zero");if(A(b))return new $(p,p);if(P(b))return y=Q(M(b),y),new $(M(y.g),M(y.h));if(P(y))return y=Q(b,M(y)),new $(M(y.g),y.h);if(30<b.g.length){if(P(b)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,I=y;0>=I.l(b);)w=Me(w),I=Me(I);var C=te(w,1),T=te(I,1);for(I=te(I,2),w=te(w,2);!A(I);){var E=T.add(I);0>=E.l(b)&&(C=C.add(w),T=E),I=te(I,1),w=te(w,1)}return y=k(b,C.j(y)),new $(C,y)}for(C=p;0<=b.l(y);){for(w=Math.max(1,Math.floor(b.m()/y.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=l(w),E=T.j(y);P(E)||0<E.l(b);)w-=I,T=l(w),E=T.j(y);A(T)&&(T=m),C=C.add(T),b=k(b,E)}return new $(C,b)}t.A=function(b){return Q(this,b).h},t.and=function(b){for(var y=Math.max(this.g.length,b.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)&b.i(I);return new s(w,this.h&b.h)},t.or=function(b){for(var y=Math.max(this.g.length,b.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)|b.i(I);return new s(w,this.h|b.h)},t.xor=function(b){for(var y=Math.max(this.g.length,b.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)^b.i(I);return new s(w,this.h^b.h)};function Me(b){for(var y=b.g.length+1,w=[],I=0;I<y;I++)w[I]=b.i(I)<<1|b.i(I-1)>>>31;return new s(w,b.h)}function te(b,y){var w=y>>5;y%=32;for(var I=b.g.length-w,C=[],T=0;T<I;T++)C[T]=0<y?b.i(T+w)>>>y|b.i(T+w+1)<<32-y:b.i(T+w);return new s(C,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ly=VT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Jr=VT.Integer=s}).apply(typeof LT<"u"?LT:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pr={};var Vy,vj,ls,Uy,vc,jd,jy,By,$y;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function _(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,S){for(var F=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)F[Pe-2]=arguments[Pe];return d.prototype[D].apply(g,F)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,S=g.length||0;c.length=D+S;for(let F=0;F<S;F++)c[D+F]=g[F]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var Me=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function te(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let S=0;S<w.length;S++)f=w[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function E(){var c=jh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class qn{constructor(){this.h=this.g=null}add(d,f){let g=Hs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Hs=new k(()=>new tx,c=>c.reset());class tx{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let qs,zs=!1,jh=new qn,o0=()=>{let c=a.Promise.resolve(void 0);qs=()=>{c.then(nx)}};var nx=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){T(f)}var d=Hs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}zs=!1};function Er(){this.s=this.s,this.C=this.C}Er.prototype.s=!1,Er.prototype.ma=function(){this.s||(this.s=!0,this.N())},Er.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var rx=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Gs(c,d){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Me){e:{try{Q(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ix[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Gs.aa.h.call(this)}}A(Gs,pt);var ix={2:"touch",3:"pen",4:"mouse"};Gs.prototype.h=function(){Gs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ws="closure_listenable_"+(1e6*Math.random()|0),ox=0;function sx(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++ox,this.da=this.fa=!1}function Jc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Zc(c){this.src=c,this.g={},this.h=0}Zc.prototype.add=function(c,d,f,g,D){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var F=$h(c,d,g,D);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new sx(d,this.src,S,!!g,D),d.fa=f,c.push(d)),d};function Bh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=D)&&Array.prototype.splice.call(g,D,1),S&&(Jc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function $h(c,d,f,g){for(var D=0;D<c.length;++D){var S=c[D];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return D}return-1}var Hh="closure_lm_"+(1e6*Math.random()|0),qh={};function s0(c,d,f,g,D){if(g&&g.once)return c0(c,d,f,g,D);if(Array.isArray(d)){for(var S=0;S<d.length;S++)s0(c,d[S],f,g,D);return null}return f=Kh(f),c&&c[Ws]?c.K(d,f,l(g)?!!g.capture:!!g,D):a0(c,d,f,!1,g,D)}function a0(c,d,f,g,D,S){if(!d)throw Error("Invalid event type");var F=l(D)?!!D.capture:!!D,Pe=Gh(c);if(Pe||(c[Hh]=Pe=new Zc(c)),f=Pe.add(d,f,g,F,S),f.proxy)return f;if(g=ax(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)rx||(D=F),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(l0(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ax(){function c(f){return d.call(c.src,c.listener,f)}let d=cx;return c}function c0(c,d,f,g,D){if(Array.isArray(d)){for(var S=0;S<d.length;S++)c0(c,d[S],f,g,D);return null}return f=Kh(f),c&&c[Ws]?c.L(d,f,l(g)?!!g.capture:!!g,D):a0(c,d,f,!0,g,D)}function u0(c,d,f,g,D){if(Array.isArray(d))for(var S=0;S<d.length;S++)u0(c,d[S],f,g,D);else g=l(g)?!!g.capture:!!g,f=Kh(f),c&&c[Ws]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=$h(S,f,g,D),-1<f&&(Jc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=Gh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=$h(d,f,g,D)),(f=-1<c?d[c]:null)&&zh(f))}function zh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ws])Bh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(l0(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Gh(d))?(Bh(f,c),f.h==0&&(f.src=null,d[Hh]=null)):Jc(c)}}}function l0(c){return c in qh?qh[c]:qh[c]="on"+c}function cx(c,d){if(c.da)c=!0;else{d=new Gs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&zh(c),c=f.call(g,d)}return c}function Gh(c){return c=c[Hh],c instanceof Zc?c:null}var Wh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kh(c){return typeof c=="function"?c:(c[Wh]||(c[Wh]=function(d){return c.handleEvent(d)}),c[Wh])}function gt(){Er.call(this),this.i=new Zc(this),this.M=this,this.F=null}A(gt,Er),gt.prototype[Ws]=!0,gt.prototype.removeEventListener=function(c,d,f,g){u0(this,c,d,f,g)};function It(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new pt(d,c);else if(d instanceof pt)d.target=d.target||c;else{var D=d;d=new pt(g,c),I(d,D)}if(D=!0,f)for(var S=f.length-1;0<=S;S--){var F=d.g=f[S];D=Xc(F,g,!0,d)&&D}if(F=d.g=c,D=Xc(F,g,!0,d)&&D,D=Xc(F,g,!1,d)&&D,f)for(S=0;S<f.length;S++)F=d.g=f[S],D=Xc(F,g,!1,d)&&D}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Jc(f[g]);delete c.g[d],c.h--}}this.F=null},gt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},gt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Xc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,S=0;S<d.length;++S){var F=d[S];if(F&&!F.da&&F.capture==f){var Pe=F.listener,at=F.ha||F.src;F.fa&&Bh(c.i,F),D=Pe.call(at,g)!==!1&&D}}return D&&!g.defaultPrevented}function d0(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function h0(c){c.g=d0(()=>{c.g=null,c.i&&(c.i=!1,h0(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class ux extends Er{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:h0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(c){Er.call(this),this.h=c,this.g={}}A(Ks,Er);var f0=[];function p0(c){te(c.g,function(d,f){this.g.hasOwnProperty(f)&&zh(d)},c),c.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),p0(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qh=a.JSON.stringify,lx=a.JSON.parse,dx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Yh(){}Yh.prototype.h=null;function g0(c){return c.h||(c.h=c.i())}function m0(){}var Qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jh(){pt.call(this,"d")}A(Jh,pt);function Zh(){pt.call(this,"c")}A(Zh,pt);var ri={},y0=null;function eu(){return y0=y0||new gt}ri.La="serverreachability";function v0(c){pt.call(this,ri.La,c)}A(v0,pt);function Ys(c){let d=eu();It(d,new v0(d))}ri.STAT_EVENT="statevent";function _0(c,d){pt.call(this,ri.STAT_EVENT,c),this.stat=d}A(_0,pt);function bt(c){let d=eu();It(d,new _0(d,c))}ri.Ma="timingevent";function w0(c,d){pt.call(this,ri.Ma,c),this.size=d}A(w0,pt);function Js(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Zs(){this.g=!0}Zs.prototype.xa=function(){this.g=!1};function hx(c,d,f,g,D,S){c.info(function(){if(c.g)if(S)for(var F="",Pe=S.split("&"),at=0;at<Pe.length;at++){var Ie=Pe[at].split("=");if(1<Ie.length){var mt=Ie[0];Ie=Ie[1];var yt=mt.split("_");F=2<=yt.length&&yt[1]=="type"?F+(mt+"="+Ie+"&"):F+(mt+"=redacted&")}}else F=null;else F=S;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+F})}function fx(c,d,f,g,D,S,F){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+S+" "+F})}function oo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+gx(c,f)+(g?" "+g:"")})}function px(c,d){c.info(function(){return"TIMEOUT: "+d})}Zs.prototype.info=function(){};function gx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var S=D[0];if(S!="noop"&&S!="stop"&&S!="close")for(var F=1;F<D.length;F++)D[F]=""}}}}return Qh(f)}catch{return d}}var tu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},E0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xh;function nu(){}A(nu,Yh),nu.prototype.g=function(){return new XMLHttpRequest},nu.prototype.i=function(){return{}},Xh=new nu;function Ir(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new I0}function I0(){this.i=null,this.g="",this.h=!1}var b0={},ef={};function tf(c,d,f){c.L=1,c.v=su(zn(d)),c.m=f,c.P=!0,C0(c,null)}function C0(c,d){c.F=Date.now(),ru(c),c.A=zn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),V0(f.i,"t",g),c.C=0,f=c.j.J,c.h=new I0,c.g=nw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new ux(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(f0[0]=D.toString()),D=f0);for(var S=0;S<D.length;S++){var F=s0(f,D[S],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ys(),hx(c.i,c.u,c.A,c.l,c.R,c.m)}Ir.prototype.ca=function(c){c=c.target;let d=this.M;d&&Gn(c)==3?d.j():this.Y(c)},Ir.prototype.Y=function(c){try{if(c==this.g)e:{let yt=Gn(this.g);var d=this.g.Ba();let co=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||z0(this.g)))){this.J||yt!=4||d==7||(d==8||0>=co?Ys(3):Ys(2)),nf(this);var f=this.g.Z();this.X=f;t:if(D0(this)){var g=z0(this.g);c="";var D=g.length,S=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),Xs(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,fx(this.i,this.u,this.A,this.l,this.R,yt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,at=this.g;if((Pe=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Pe)){var Ie=Pe;break t}}Ie=null}if(f=Ie)oo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rf(this,f);else{this.o=!1,this.s=3,bt(12),ii(this),Xs(this);break e}}if(this.P){f=!0;let rn;for(;!this.J&&this.C<F.length;)if(rn=mx(this,F),rn==ef){yt==4&&(this.s=4,bt(14),f=!1),oo(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==b0){this.s=4,bt(15),oo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else oo(this.i,this.l,rn,null),rf(this,rn);if(D0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||F.length!=0||this.h.h||(this.s=1,bt(16),f=!1),this.o=this.o&&f,!f)oo(this.i,this.l,F,"[Invalid Chunked Response]"),ii(this),Xs(this);else if(0<F.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),lf(mt),mt.M=!0,bt(11))}}else oo(this.i,this.l,F,null),rf(this,F);yt==4&&ii(this),this.o&&!this.J&&(yt==4?Z0(this.j,this):(this.o=!1,ru(this)))}else Nx(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),ii(this),Xs(this)}}}catch{}finally{}};function D0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mx(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?ef:(f=Number(d.substring(f,g)),isNaN(f)?b0:(g+=1,g+f>d.length?ef:(d=d.slice(g,g+f),c.C=g+f,d)))}Ir.prototype.cancel=function(){this.J=!0,ii(this)};function ru(c){c.S=Date.now()+c.I,T0(c,c.I)}function T0(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Js(m(c.ba,c),d)}function nf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ir.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(px(this.i,this.A),this.L!=2&&(Ys(),bt(17)),ii(this),this.s=2,Xs(this)):T0(this,this.S-c)};function Xs(c){c.j.G==0||c.J||Z0(c.j,c)}function ii(c){nf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,p0(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function rf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||of(f.h,c))){if(!c.K&&of(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)du(f),uu(f);else break e;uf(f),bt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Js(m(f.Za,f),6e3));if(1>=x0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else si(f,11)}else if((c.K||f.g==c)&&du(f),!G(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let Ie=D[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let mt=Ie[3];mt!=null&&(f.la=mt,f.j.info("VER="+f.la));let yt=Ie[4];yt!=null&&(f.Aa=yt,f.j.info("SVER="+f.Aa));let co=Ie[5];co!=null&&typeof co=="number"&&0<co&&(g=1.5*co,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let rn=c.g;if(rn){let fu=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fu){var S=g.h;S.g||fu.indexOf("spdy")==-1&&fu.indexOf("quic")==-1&&fu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(sf(S,S.h),S.h=null))}if(g.D){let df=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;df&&(g.ya=df,Ve(g.I,g.D,df))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=c;if(g.qa=tw(g,g.J?g.ia:null,g.W),F.K){R0(g.h,F);var Pe=F,at=g.L;at&&(Pe.I=at),Pe.B&&(nf(Pe),ru(Pe)),g.g=F}else Y0(g);0<f.i.length&&lu(f)}else Ie[0]!="stop"&&Ie[0]!="close"||si(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?si(f,7):cf(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}Ys(4)}catch{}}var yx=class{constructor(c,d){this.g=c,this.map=d}};function A0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function S0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function x0(c){return c.h?1:c.g?c.g.size:0}function of(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function sf(c,d){c.g?c.g.add(d):c.h=d}function R0(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}A0.prototype.cancel=function(){if(this.i=M0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function M0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function vx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function _x(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function P0(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=_x(c),g=vx(c),D=g.length,S=0;S<D;S++)d.call(void 0,g[S],f&&f[S],c)}var N0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var S=c[f].substring(0,g);D=c[f].substring(g+1)}else S=c[f];d(S,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function oi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof oi){this.h=c.h,iu(this,c.j),this.o=c.o,this.g=c.g,ou(this,c.s),this.l=c.l;var d=c.i,f=new na;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),O0(this,f),this.m=c.m}else c&&(d=String(c).match(N0))?(this.h=!1,iu(this,d[1]||"",!0),this.o=ea(d[2]||""),this.g=ea(d[3]||"",!0),ou(this,d[4]),this.l=ea(d[5]||"",!0),O0(this,d[6]||"",!0),this.m=ea(d[7]||"")):(this.h=!1,this.i=new na(null,this.h))}oi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ta(d,F0,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ta(d,F0,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ta(f,f.charAt(0)=="/"?bx:Ix,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ta(f,Dx)),c.join("")};function zn(c){return new oi(c)}function iu(c,d,f){c.j=f?ea(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ou(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function O0(c,d,f){d instanceof na?(c.i=d,Tx(c.i,c.h)):(f||(d=ta(d,Cx)),c.i=new na(d,c.h))}function Ve(c,d,f){c.i.set(d,f)}function su(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ea(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ta(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Ex),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ex(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var F0=/[#\/\?@]/g,Ix=/[#\?:]/g,bx=/[#\?]/g,Cx=/[#\?@]/g,Dx=/#/g;function na(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function br(c){c.g||(c.g=new Map,c.h=0,c.i&&wx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=na.prototype,t.add=function(c,d){br(this),this.i=null,c=so(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function k0(c,d){br(c),d=so(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function L0(c,d){return br(c),d=so(c,d),c.g.has(d)}t.forEach=function(c,d){br(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},t.na=function(){br(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let S=0;S<D.length;S++)f.push(d[g])}return f},t.V=function(c){br(this);let d=[];if(typeof c=="string")L0(this,c)&&(d=d.concat(this.g.get(so(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return br(this),this.i=null,c=so(this,c),L0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function V0(c,d,f){k0(c,d),0<f.length&&(c.i=null,c.g.set(so(c,d),P(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var D=S;F[g]!==""&&(D+="="+encodeURIComponent(String(F[g]))),c.push(D)}}return this.i=c.join("&")};function so(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Tx(c,d){d&&!c.j&&(br(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(k0(this,g),V0(this,D,f))},c)),c.j=d}function Ax(c,d){let f=new Zs;if(a.Image){let g=new Image;g.onload=_(Cr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=_(Cr,f,"TestLoadImage: error",!1,d,g),g.onabort=_(Cr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=_(Cr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function Sx(c,d){let f=new Zs,g=new AbortController,D=setTimeout(()=>{g.abort(),Cr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(D),S.ok?Cr(f,"TestPingServer: ok",!0,d):Cr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Cr(f,"TestPingServer: error",!1,d)})}function Cr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function xx(){this.g=new dx}function Rx(c,d,f){let g=f||"";try{P0(c,function(D,S){let F=D;l(D)&&(F=Qh(D)),d.push(g+S+"="+encodeURIComponent(F))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function ra(c){this.l=c.Ub||null,this.j=c.eb||!1}A(ra,Yh),ra.prototype.g=function(){return new au(this.l,this.j)},ra.prototype.i=function(c){return function(){return c}}({});function au(c,d){gt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(au,gt),t=au.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,oa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;U0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function U0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ia(this):oa(this),this.readyState==3&&U0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ia(this))},t.Qa=function(c){this.g&&(this.response=c,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function oa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function j0(c){let d="";return te(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function af(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=j0(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ve(c,d,f))}function Be(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Be,gt);var Mx=/^https?$/i,Px=["POST","PUT"];t=Be.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xh.g(),this.v=this.o?g0(this.o):g0(Xh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){B0(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Px,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,F]of f)this.g.setRequestHeader(S,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{q0(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){B0(this,S)}};function B0(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,$0(c),cu(c)}function $0(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),cu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cu(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?H0(this):this.bb())},t.bb=function(){H0(this)};function H0(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Gn(c)!=4||c.Z()!=2)){if(c.u&&Gn(c)==4)d0(c.Ea,0,c);else if(It(c,"readystatechange"),Gn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var D=String(c.D).match(N0)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!Mx.test(D?D.toLowerCase():"")}f=g}if(f)It(c,"complete"),It(c,"success");else{c.m=6;try{var S=2<Gn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",$0(c)}}finally{cu(c)}}}}function cu(c,d){if(c.g){q0(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||It(c,"ready");try{f.onreadystatechange=g}catch{}}}function q0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),lx(d)}};function z0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Nx(c){let d={};c=(c.g&&2<=Gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(G(c[g]))continue;var f=C(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[D]||[];d[D]=S,S.push(f)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function G0(c){this.Aa=0,this.i=[],this.j=new Zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,c),this.cb=sa("retryDelaySeedMs",1e4,c),this.Wa=sa("forwardChannelMaxRetries",2,c),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new A0(c&&c.concurrentRequestLimit),this.Da=new xx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=G0.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){bt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=tw(this,null,this.W),lu(this)};function cf(c){if(W0(c),c.G==3){var d=c.U++,f=zn(c.I);if(Ve(f,"SID",c.K),Ve(f,"RID",d),Ve(f,"TYPE","terminate"),aa(c,f),d=new Ir(c,c.j,d),d.L=2,d.v=su(zn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=nw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ru(d)}ew(c)}function uu(c){c.g&&(lf(c),c.g.cancel(),c.g=null)}function W0(c){uu(c),c.u&&(a.clearTimeout(c.u),c.u=null),du(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function lu(c){if(!S0(c.h)&&!c.s){c.s=!0;var d=c.Ga;qs||o0(),zs||(qs(),zs=!0),jh.add(d,c),c.B=0}}function Ox(c,d){return x0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Js(m(c.Ga,c,d),X0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Ir(this,this.j,c),S=this.o;if(this.S&&(S?(S=y(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(D.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Q0(this,D,d),f=zn(this.I),Ve(f,"RID",c),Ve(f,"CVER",22),this.D&&Ve(f,"X-HTTP-Session-Id",this.D),aa(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(j0(S)))+"&"+d:this.m&&af(f,this.m,S)),sf(this.h,D),this.Ua&&Ve(f,"TYPE","init"),this.P?(Ve(f,"$req",d),Ve(f,"SID","null"),D.T=!0,tf(D,f,null)):tf(D,f,d),this.G=2}}else this.G==3&&(c?K0(this,c):this.i.length==0||S0(this.h)||K0(this))};function K0(c,d){var f;d?f=d.l:f=c.U++;let g=zn(c.I);Ve(g,"SID",c.K),Ve(g,"RID",f),Ve(g,"AID",c.T),aa(c,g),c.m&&c.o&&af(g,c.m,c.o),f=new Ir(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Q0(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sf(c.h,f),tf(f,g,d)}function aa(c,d){c.H&&te(c.H,function(f,g){Ve(d,g,f)}),c.l&&P0({},function(f,g){Ve(d,g,f)})}function Q0(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let S=-1;for(;;){let F=["count="+f];S==-1?0<f?(S=D[0].g,F.push("ofs="+S)):S=0:F.push("ofs="+S);let Pe=!0;for(let at=0;at<f;at++){let Ie=D[at].g,mt=D[at].map;if(Ie-=S,0>Ie)S=Math.max(0,D[at].g-100),Pe=!1;else try{Rx(mt,F,"req"+Ie+"_")}catch{g&&g(mt)}}if(Pe){g=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Y0(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;qs||o0(),zs||(qs(),zs=!0),jh.add(d,c),c.v=0}}function uf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Js(m(c.Fa,c),X0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,J0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Js(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),uu(this),J0(this))};function lf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function J0(c){c.g=new Ir(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=zn(c.qa);Ve(d,"RID","rpc"),Ve(d,"SID",c.K),Ve(d,"AID",c.T),Ve(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(d,"TO",c.ja),Ve(d,"TYPE","xmlhttp"),aa(c,d),c.m&&c.o&&af(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=su(zn(d)),f.m=null,f.P=!0,C0(f,c)}t.Za=function(){this.C!=null&&(this.C=null,uu(this),uf(this),bt(19))};function du(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Z0(c,d){var f=null;if(c.g==d){du(c),lf(c),c.g=null;var g=2}else if(of(c.h,d))f=d.D,R0(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=eu(),It(g,new w0(g,f)),lu(c)}else Y0(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&Ox(c,d)||g==2&&uf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:si(c,5);break;case 4:si(c,10);break;case 3:si(c,6);break;default:si(c,2)}}}function X0(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function si(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new oi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||iu(g,"https"),su(g),D?Ax(g.toString(),f):Sx(g.toString(),f)}else bt(2);c.G=0,c.l&&c.l.sa(d),ew(c),W0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function ew(c){if(c.G=0,c.ka=[],c.l){let d=M0(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function tw(c,d,f){var g=f instanceof oi?zn(f):new oi(f);if(g.g!="")d&&(g.g=d+"."+g.g),ou(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var S=new oi(null);g&&iu(S,g),d&&(S.g=d),D&&ou(S,D),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Ve(g,f,d),Ve(g,"VER",c.la),aa(c,g),g}function nw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Be(new ra({eb:f})):new Be(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rw(){}t=rw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hu(){}hu.prototype.g=function(c,d){return new Vt(c,d)};function Vt(c,d){gt.call(this),this.g=new G0(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ao(this)}A(Vt,gt),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){cf(this.g)},Vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Qh(c),c=f);d.i.push(new yx(d.Ya++,c)),d.G==3&&lu(d)},Vt.prototype.N=function(){this.g.l=null,delete this.j,cf(this.g),delete this.g,Vt.aa.N.call(this)};function iw(c){Jh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(iw,Jh);function ow(){Zh.call(this),this.status=1}A(ow,Zh);function ao(c){this.g=c}A(ao,rw),ao.prototype.ua=function(){It(this.g,"a")},ao.prototype.ta=function(c){It(this.g,new iw(c))},ao.prototype.sa=function(c){It(this.g,new ow)},ao.prototype.ra=function(){It(this.g,"b")},hu.prototype.createWebChannel=hu.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,$y=pr.createWebChannelTransport=function(){return new hu},By=pr.getStatEventTarget=function(){return eu()},jy=pr.Event=ri,jd=pr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tu.NO_ERROR=0,tu.TIMEOUT=8,tu.HTTP_ERROR=6,vc=pr.ErrorCode=tu,E0.COMPLETE="complete",Uy=pr.EventType=E0,m0.EventType=Qs,Qs.OPEN="a",Qs.CLOSE="b",Qs.ERROR="c",Qs.MESSAGE="d",gt.prototype.listen=gt.prototype.K,ls=pr.WebChannel=m0,vj=pr.FetchXmlHttpFactory=ra,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,Vy=pr.XhrIo=Be}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});var UT="@firebase/firestore";var st=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");var Ms="10.14.0";var Wi=new Gr("@firebase/firestore");function _c(){return Wi.logLevel}function j(t,...e){if(Wi.logLevel<=ye.DEBUG){let n=e.map(I_);Wi.debug(`Firestore (${Ms}): ${t}`,...n)}}function gr(t,...e){if(Wi.logLevel<=ye.ERROR){let n=e.map(I_);Wi.error(`Firestore (${Ms}): ${t}`,...n)}}function ys(t,...e){if(Wi.logLevel<=ye.WARN){let n=e.map(I_);Wi.warn(`Firestore (${Ms}): ${t}`,...n)}}function I_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Z(t="Unexpected state"){let e=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: `+t;throw gr(e),new Error(e)}function xe(t,e){t||Z()}function ie(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Rt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var zd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Wy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}},Ky=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Qy=class{constructor(e){this.t=e,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new zd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new st(e)}},Yy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=st.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Jy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Yy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Zy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Xy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new Zy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _j(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Gd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=_j(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ce(t,e){return t<e?-1:t>e?1:0}function vs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ht=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ht(0,0))}static max(){return new t(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Wd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ge=class t extends Wd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},wj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class t extends Wd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return wj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new H(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Y=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ge.fromString(e))}static fromName(e){return new t(Ge.fromString(e).popFirst(5))}static empty(){return new t(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ge(e.slice()))}};var ev=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ev.UNKNOWN_ID=-1;function Ej(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Ki(i,Y.empty(),e)}function Ij(t){return new Ki(t.readTime,t.key,-1)}var Ki=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(se.min(),Y.empty(),-1)}static max(){return new t(se.max(),Y.empty(),-1)}};function bj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}var Cj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function kc(t){return v(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==Cj)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Dj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lc(t){return t.name==="IndexedDbTransactionError"}var mA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Dh(t){return t==null}function Dc(t){return t===0&&1/t==-1/0}function Tj(t){return typeof t=="number"&&Number.isInteger(t)&&!Dc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Aj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FW=[...Aj,"documentOverlays"],Sj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xj=Sj,Rj=[...xj,"indexConfiguration","indexState","indexEntries"];var kW=[...Rj,"globals"];function jT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var We=class t{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ps(this.root,e,this.comparator,!0)}},ps=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ln=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var wt=class t{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kd(this.data.getIterator())}getIteratorFrom(e){return new Kd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Kd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var nn=class t{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new wt(zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Qd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Qd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var Mj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(t){if(xe(!!t),typeof t=="string"){let e=0,n=Mj.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ei(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}function b_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function C_(t){let e=t.mapValue.fields.__previous_value__;return b_(e)?C_(e):e}function Tc(t){let e=mr(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}var nv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Yd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Bd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b_(t)?4:_A(t)?9007199254740991:vA(t)?10:11:Z()}function jn(t,e){if(t===e)return!0;let n=Qi(t);if(n!==Qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=mr(i.timestampValue),a=mr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ei(i.bytesValue).isEqual(ei(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return je(i.geoPointValue.latitude)===je(o.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return je(i.integerValue)===je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=je(i.doubleValue),a=je(o.doubleValue);return s===a?Dc(s)===Dc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return vs(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(jT(s)!==jT(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!jn(s[u],a[u])))return!1;return!0}(t,e);default:return Z()}}function Ac(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function _s(t,e){if(t===e)return 0;let n=Qi(t),r=Qi(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=je(o.integerValue||o.doubleValue),u=je(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return BT(t.timestampValue,e.timestampValue);case 4:return BT(Tc(t),Tc(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(o,s){let a=ei(o),u=ei(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ce(a[l],u[l]);if(h!==0)return h}return Ce(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ce(je(o.latitude),je(s.latitude));return a!==0?a:Ce(je(o.longitude),je(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $T(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},_=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=Ce(((l=_?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:$T(_,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Bd.mapValue&&s===Bd.mapValue)return 0;if(o===Bd.mapValue)return 1;if(s===Bd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Ce(u[p],h[p]);if(m!==0)return m;let _=_s(a[u[p]],l[h[p]]);if(_!==0)return _}return Ce(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Z()}}function BT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);let n=mr(t),r=mr(e),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function $T(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=_s(n[i],r[i]);if(o)return o}return Ce(n.length,r.length)}function ws(t){return rv(t)}function rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=rv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${rv(n.fields[s])}`;return i+"}"}(t.mapValue):Z()}function iv(t){return!!t&&"integerValue"in t}function D_(t){return!!t&&"arrayValue"in t}function HT(t){return!!t&&"nullValue"in t}function qT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hd(t){return!!t&&"mapValue"in t}function vA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ec(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _A(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var qt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ec(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){eo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ec(this.value))}};function wA(t){let e=[];return eo(t.fields,(n,r)=>{let i=new zt([n]);if(Hd(r)){let o=wA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new nn(e)}var yn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,se.min(),se.min(),se.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,se.min(),se.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,se.min(),se.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Es=class{constructor(e,n){this.position=e,this.inclusive=n}};function zT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),n.key):r=_s(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function GT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}var Is=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Pj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Jd=class{},rt=class t extends Jd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sv(e,n,r):n==="array-contains"?new uv(e,r):n==="in"?new lv(e,r):n==="not-in"?new dv(e,r):n==="array-contains-any"?new hv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new av(e,r):new cv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_s(n,this.value)):n!==null&&Qi(this.value)===Qi(n)&&this.matchesComparison(_s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Bn=class t extends Jd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return EA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function EA(t){return t.op==="and"}function IA(t){return Nj(t)&&EA(t)}function Nj(t){for(let e of t.filters)if(e instanceof Bn)return!1;return!0}function ov(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+ws(t.value);if(IA(t))return t.filters.map(e=>ov(e)).join(",");{let e=t.filters.map(n=>ov(n)).join(",");return`${t.op}(${e})`}}function bA(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)}(t,e):t instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bA(s,i.filters[a]),!0):!1}(t,e):void Z()}function CA(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${ws(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(CA).join(" ,")+"}"}(t):"Filter"}var sv=class extends rt{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){let n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}},av=class extends rt{constructor(e,n){super(e,"in",n),this.keys=DA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},cv=class extends rt{constructor(e,n){super(e,"not-in",n),this.keys=DA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function DA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}var uv=class extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return D_(n)&&Ac(n.arrayValue,this.value)}},lv=class extends rt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}},dv=class extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ac(this.value.arrayValue,n)}},hv=class extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!D_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ac(this.value.arrayValue,r))}};var fv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function WT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new fv(t,e,n,r,i,o,s)}function T_(t){let e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ov(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ws(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ws(r)).join(",")),e.ue=n}return e.ue}function A_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GT(t.startAt,e.startAt)&&GT(t.endAt,e.endAt)}function pv(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var bs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Oj(t,e,n,r,i,o,s,a){return new bs(t,e,n,r,i,o,s,a)}function S_(t){return new bs(t)}function KT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fj(t){return t.collectionGroup!==null}function Ic(t){let e=ie(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new wt(zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Is(o,r))}),n.has(zt.keyField().canonicalString())||e.ce.push(new Is(zt.keyField(),r))}return e.ce}function Vn(t){let e=ie(t);return e.le||(e.le=kj(e,Ic(t))),e.le}function kj(t,e){if(t.limitType==="F")return WT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Is(i.field,o)});let n=t.endAt?new Es(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Es(t.startAt.position,t.startAt.inclusive):null;return WT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gv(t,e,n){return new bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Th(t,e){return A_(Vn(t),Vn(e))&&t.limitType===e.limitType}function TA(t){return`${T_(Vn(t))}|lt:${t.limitType}`}function ds(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CA(i)).join(", ")}]`),Dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ws(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ws(i)).join(",")),`Target(${r})`}(Vn(t))}; limitType=${t.limitType})`}function Ah(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ic(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=zT(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Ic(r),i)||r.endAt&&!function(s,a,u){let l=zT(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Ic(r),i))}(t,e)}function Lj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AA(t){return(e,n)=>{let r=!1;for(let i of Ic(t)){let o=Vj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Vj(t,e,n){let r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?_s(u,l):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var ti=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return yA(this.inner)}size(){return this.innerSize}};var Uj=new We(Y.comparator);function yr(){return Uj}var SA=new We(Y.comparator);function wc(...t){let e=SA;for(let n of t)e=e.insert(n.key,n);return e}function xA(t){let e=SA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return bc()}function RA(){return bc()}function bc(){return new ti(t=>t.toString(),(t,e)=>t.isEqual(e))}var jj=new We(Y.comparator),Bj=new wt(Y.comparator);function ve(...t){let e=Bj;for(let n of t)e=e.add(n);return e}var $j=new wt(Ce);function Hj(){return $j}function x_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function MA(t){return{integerValue:""+t}}function qj(t,e){return Tj(e)?MA(e):x_(t,e)}var Cs=class{constructor(){this._=void 0}};function zj(t,e,n){return t instanceof Ds?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&b_(o)&&(o=C_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Yi?NA(t,e):t instanceof Ji?OA(t,e):function(i,o){let s=PA(i,o),a=QT(s)+QT(i.Pe);return iv(s)&&iv(i.Pe)?MA(a):x_(i.serializer,a)}(t,e)}function Gj(t,e,n){return t instanceof Yi?NA(t,e):t instanceof Ji?OA(t,e):n}function PA(t,e){return t instanceof Ts?function(r){return iv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ds=class extends Cs{},Yi=class extends Cs{constructor(e){super(),this.elements=e}};function NA(t,e){let n=FA(e);for(let r of t.elements)n.some(i=>jn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ji=class extends Cs{constructor(e){super(),this.elements=e}};function OA(t,e){let n=FA(e);for(let r of t.elements)n=n.filter(i=>!jn(i,r));return{arrayValue:{values:n}}}var Ts=class extends Cs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function QT(t){return je(t.integerValue||t.doubleValue)}function FA(t){return D_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Wj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yi&&i instanceof Yi||r instanceof Ji&&i instanceof Ji?vs(r.elements,i.elements,jn):r instanceof Ts&&i instanceof Ts?jn(r.Pe,i.Pe):r instanceof Ds&&i instanceof Ds}(t.transform,e.transform)}var mv=class{constructor(e,n){this.version=e,this.transformResults=n}},Zr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var As=class{};function kA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zd(t.key,Zr.none()):new Zi(t.key,t.data,Zr.none());{let n=t.data,r=qt.empty(),i=new wt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new $n(t.key,r,new nn(i.toArray()),Zr.none())}}function Kj(t,e,n){t instanceof Zi?function(i,o,s){let a=i.value.clone(),u=JT(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $n?function(i,o,s){if(!qd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=JT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(LA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Cc(t,e,n,r){return t instanceof Zi?function(o,s,a,u){if(!qd(o.precondition,s))return a;let l=o.value.clone(),h=ZT(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof $n?function(o,s,a,u){if(!qd(o.precondition,s))return a;let l=ZT(o.fieldTransforms,u,s),h=s.data;return h.setAll(LA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return qd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Qj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=PA(r.transform,i||null);o!=null&&(n===null&&(n=qt.empty()),n.set(r.field,o))}return n||null}function YT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vs(r,i,(o,s)=>Wj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Zi=class extends As{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},$n=class extends As{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function LA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function JT(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Gj(s,a,n[i]))}return r}function ZT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,zj(o,s,e))}return r}var Zd=class extends As{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},yv=class extends As{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var vv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Kj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=RA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=kA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(n,r)=>YT(n,r))&&vs(this.baseMutations,e.baseMutations,(n,r)=>YT(n,r))}},_v=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return jj}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var wv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ev=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ze,Ee;function Yj(t){switch(t){default:return Z();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function VA(t){if(t===void 0)return gr("GRPC error has no .code"),N.UNKNOWN;switch(t){case Ze.OK:return N.OK;case Ze.CANCELLED:return N.CANCELLED;case Ze.UNKNOWN:return N.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return N.INTERNAL;case Ze.UNAVAILABLE:return N.UNAVAILABLE;case Ze.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ze.NOT_FOUND:return N.NOT_FOUND;case Ze.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ze.ABORTED:return N.ABORTED;case Ze.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ze.DATA_LOSS:return N.DATA_LOSS;default:return Z()}}(Ee=Ze||(Ze={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";var XT=null;function Jj(){return new TextEncoder}var Zj=new Jr([4294967295,4294967295],0);function eA(t){let e=Jj().encode(t),n=new Ly;return n.update(e),new Uint8Array(n.digest())}function tA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jr([n,r],0),new Jr([i,o],0)]}var Iv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zi(`Invalid padding: ${n}`);if(r<0)throw new zi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Jr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Jr.fromNumber(r)));return i.compare(Zj)===1&&(i=new Jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=eA(e),[r,i]=tA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=eA(e),[r,i]=tA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},zi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Xd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(se.min(),i,new We(Ce),yr(),ve())}},Sc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ve(),ve(),ve())}};var gs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},eh=class{constructor(e,n){this.targetId=e,this.me=n}},th=class{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},nh=class{constructor(){this.fe=0,this.ge=rA(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Sc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=rA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},bv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=yr(),this.qe=nA(),this.Qe=new We(Ce)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(pv(o))if(r===0){let s=new Y(o.path);this.Ue(n,s,yn.newNoDocument(s,se.min()))}else xe(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}XT?.et(function(h,p,m,_,A){var P,M,k,G,$,Q;let Me={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},te=p.unchangedNames;return te&&(Me.bloomFilter={applied:A===0,hashCount:(P=te?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(G=(k=(M=te?.bits)===null||M===void 0?void 0:M.bitmap)===null||k===void 0?void 0:k.length)!==null&&G!==void 0?G:0,padding:(Q=($=te?.bits)===null||$===void 0?void 0:$.padding)!==null&&Q!==void 0?Q:0,mightContain:b=>{var y;return(y=_?.mightContain(b))!==null&&y!==void 0&&y}}),Me}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=ei(r).toUint8Array()}catch(u){if(u instanceof Qd)return ys("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Iv(s,i,o)}catch(u){return ys(u instanceof zi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&pv(a.target)){let u=new Y(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,yn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ve();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Xd(e,n,this.Qe,this.ke,r);return this.ke=yr(),this.qe=nA(),this.Qe=new We(Ce),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new nh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wt(Ce),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function nA(){return new We(Y.comparator)}function rA(){return new We(Y.comparator)}var Xj={asc:"ASCENDING",desc:"DESCENDING"},eB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tB={and:"AND",or:"OR"},Cv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Dv(t,e){return t.useProto3Json||Dh(e)?e:{value:e}}function rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nB(t,e){return rh(t,e.toTimestamp())}function Un(t){return xe(!!t),se.fromTimestamp(function(n){let r=mr(n);return new ht(r.seconds,r.nanos)}(t))}function R_(t,e){return Tv(t,e).canonicalString()}function Tv(t,e){let n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jA(t){let e=Ge.fromString(t);return xe(zA(e)),e}function Av(t,e){return R_(t.databaseId,e.path)}function Hy(t,e){let n=jA(e);if(n.get(1)!==t.databaseId.projectId)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y($A(n))}function BA(t,e){return R_(t.databaseId,e)}function rB(t){let e=jA(t);return e.length===4?Ge.emptyPath():$A(e)}function Sv(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $A(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iA(t,e,n){return{name:Av(t,e),fields:n.value.mapValue.fields}}function iB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(xe(h===void 0||typeof h=="string"),Et.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:VA(l.code);return new H(h,l.message||"")}(s);n=new th(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Hy(t,r.document.name),o=Un(r.document.updateTime),s=r.document.createTime?Un(r.document.createTime):se.min(),a=new qt({mapValue:{fields:r.document.fields}}),u=yn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new gs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Hy(t,r.document),o=r.readTime?Un(r.readTime):se.min(),s=yn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new gs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Hy(t,r.document),o=r.removedTargetIds||[];n=new gs([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Ev(i,o),a=r.targetId;n=new eh(a,s)}}return n}function oB(t,e){let n;if(e instanceof Zi)n={update:iA(t,e.key,e.value)};else if(e instanceof Zd)n={delete:Av(t,e.key)};else if(e instanceof $n)n={update:iA(t,e.key,e.data),updateMask:pB(e.fieldMask)};else{if(!(e instanceof yv))return Z();n={verify:Av(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ds)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ji)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:nB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(t,e.precondition)),n}function sB(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Un(i.updateTime):Un(o);return s.isEqual(se.min())&&(s=Un(o)),new mv(s,i.transformResults||[])}(n,e))):[]}function aB(t,e){return{documents:[BA(t,e.path)]}}function cB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BA(t,i);let o=function(l){if(l.length!==0)return qA(Bn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:hs(m.field),direction:dB(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Dv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function uB(t){let e=rB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=HA(p);return m instanceof Bn&&IA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(A){return new Is(fs(A.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Dh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,_=p.values||[];return new Es(_,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,_=p.values||[];return new Es(_,m)}(n.endAt)),Oj(e,i,s,o,a,"F",u,l)}function lB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=fs(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fs(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=fs(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=fs(n.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(fs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>HA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function dB(t){return Xj[t]}function hB(t){return eB[t]}function fB(t){return tB[t]}function hs(t){return{fieldPath:t.canonicalString()}}function fs(t){return zt.fromServerFormat(t.fieldPath)}function qA(t){return t instanceof rt?function(n){if(n.op==="=="){if(qT(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NAN"}};if(HT(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qT(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NAN"}};if(HT(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(n.field),op:hB(n.op),value:n.value}}}(t):t instanceof Bn?function(n){let r=n.getFilters().map(i=>qA(i));return r.length===1?r[0]:{compositeFilter:{op:fB(n.op),filters:r}}}(t):Z()}function pB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var xc=class t{constructor(e,n,r,i,o=se.min(),s=se.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var xv=class{constructor(e){this.ct=e}};function gB(t){let e=uB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gv(e,e.limit,"L"):e}var ih=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Dc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=mr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ei(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?_A(e)?this.dt(n,Number.MAX_SAFE_INTEGER):vA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(je(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Y.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};ih.vt=new ih;var Rv=class{constructor(){this.un=new Mv}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Ki.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},Mv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wt(Ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(Ge.comparator)).toArray()}};var VW=new Uint8Array(0);var kn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);var Rc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Pv=class{constructor(){this.changes=new ti(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Nv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ov=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cc(r.mutation,i,nn.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){let i=qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=wc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=yr(),s=bc(),a=function(){return bc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof $n)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Cc(h.mutation,l,h.mutation.getFieldMask(),ht.now())):s.set(l.key,nn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Nv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=bc(),i=new We((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||nn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=RA();h.forEach(m=>{if(!o.has(m)){let _=kA(n.get(m),r.get(m));_!==null&&p.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(qi()),a=-1,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ve())).next(h=>({batchId:a,changes:xA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=wc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=wc();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=function(p,m){return new bs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,yn.newInvalidDocument(h)))});let a=wc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Cc(h.mutation,l,nn.empty(),ht.now()),Ah(n,l)&&(a=a.insert(u,l))}),a})}};var Fv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Un(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:gB(i.bundledQuery),readTime:Un(i.readTime)}}(n)),O.resolve()}};var kv=class{constructor(){this.overlays=new We(Y.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=qi();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=qi(),o=n.length+1,s=new Y(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new We((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=qi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=qi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new wv(n,r));let o=this.Ir.get(n);o===void 0&&(o=ve(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Lv=class{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var Mc=class{constructor(){this.Tr=new wt(Xe.Er),this.dr=new wt(Xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Xe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Xe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Y(new Ge([])),r=new Xe(n,e),i=new Xe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Y(new Ge([])),r=new Xe(n,e),i=new Xe(n,e+1),o=ve();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Xe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Xe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||Ce(e.wr,n.wr)}static Ar(e,n){return Ce(e.wr,n.wr)||Y.comparator(e.key,n.key)}};var Vv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new wt(Xe.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new vv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Xe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Xe(n,0),i=new Xe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(Ce);return n.forEach(i=>{let o=new Xe(i,0),s=new Xe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new Xe(new Y(o),0),a=new wt(Ce);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),O.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let o=new Xe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Xe(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Uv=class{constructor(e){this.Mr=e,this.docs=function(){return new We(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=yr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():yn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yr(),s=n.path,a=new Y(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||bj(Ij(h),r)<=0||(i.has(h.key)||Ah(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jv(this)}getSize(e){return O.resolve(this.size)}},jv=class extends Pv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Bv=class{constructor(e){this.persistence=e,this.Nr=new ti(n=>T_(n),A_),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Mc,this.targetCount=0,this.kr=Rc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Rc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var $v=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new mA(0),this.Kr=!1,this.Kr=!0,this.$r=new Lv,this.referenceDelegate=e(this),this.Ur=new Bv(this),this.indexManager=new Rv,this.remoteDocumentCache=function(i){return new Uv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new xv(n),this.Gr=new Fv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Vv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new Hv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Hv=class extends tv{constructor(e){super(),this.currentSequenceNumber=e}},qv=class t{constructor(e){this.persistence=e,this.Jr=new Mc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=Y.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var zv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ve(),i=ve();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Gv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Wv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return CD()?8:Dj(ot())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Gv;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(_c()<=ye.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(_c()<=ye.DEBUG&&j("QueryEngine","Query:",ds(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(_c()<=ye.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):O.resolve())}Yi(e,n){if(KT(n))return O.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gv(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ve(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,gv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return KT(n)||i.isEqual(se.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?O.resolve(null):(_c()<=ye.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ds(n)),this.rs(e,s,n,Ej(i,-1)).next(a=>a))})}ts(e,n){let r=new wt(AA(e));return n.forEach((i,o)=>{Ah(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return _c()<=ye.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",ds(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ki.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Kv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new We(Ce),this._s=new ti(o=>T_(o),A_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ov(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function mB(t,e,n,r){return new Kv(t,e,n,r)}function GA(t,e){return v(this,null,function*(){let n=ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ve();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function yB(t,e){let n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),_=O.resolve();return m.forEach(A=>{_=_.next(()=>h.getEntry(u,A)).next(P=>{let M=l.docVersions.get(A);xe(M!==null),P.version.compareTo(M)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WA(t){let e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function vB(t,e){let n=ie(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let _=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Et.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(p,_),function(P,M,k){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,_,h)&&a.push(n.Ur.updateTargetData(o,_))});let u=yr(),l=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(_B(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(se.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function _B(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=yr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function wB(t,e){let n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EB(t,e){let n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new xc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Qv(t,e,n){return v(this,null,function*(){let r=ie(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Lc(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function oA(t,e,n){let r=ie(t),i=se.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ie(u),m=p._s.get(h);return m!==void 0?O.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:ve())).next(a=>(IB(r,Lj(e),a),{documents:a,Ts:o})))}function IB(t,e,n){let r=t.us.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var oh=class{constructor(){this.activeTargetIds=Hj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Yv=class{constructor(){this.so=new oh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new oh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Jv=class{_o(e){}shutdown(){}};var sh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var $d=null;function qy(){return $d===null?$d=function(){return 268435456+Math.round(2147483648*Math.random())}():$d++,"0x"+$d.toString(16)}var bB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Zv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var _t="WebChannelConnection",Xv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=qy(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ys("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=bB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=qy();return new Promise((s,a)=>{let u=new Vy;u.setWithCredentials(!0),u.listenOnce(Uy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case vc.NO_ERROR:let h=u.getResponseJson();j(_t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case vc.TIMEOUT:j(_t,`RPC '${e}' ${o} timed out`),a(new H(N.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:let p=u.getStatus();if(j(_t,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let _=m?.error;if(_&&_.status&&_.message){let A=function(M){let k=M.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(k)>=0?k:N.UNKNOWN}(_.status);a(new H(A,_.message))}else a(new H(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(N.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{j(_t,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);j(_t,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=qy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$y(),a=By(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");j(_t,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,_=!1,A=new Zv({Io:M=>{_?j(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(j(_t,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(_t,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},To:()=>p.close()}),P=(M,k,G)=>{M.listen(k,$=>{try{G($)}catch(Q){setTimeout(()=>{throw Q},0)}})};return P(p,ls.EventType.OPEN,()=>{_||(j(_t,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),P(p,ls.EventType.CLOSE,()=>{_||(_=!0,j(_t,`RPC '${e}' stream ${i} transport closed`),A.So())}),P(p,ls.EventType.ERROR,M=>{_||(_=!0,ys(_t,`RPC '${e}' stream ${i} transport errored:`,M),A.So(new H(N.UNAVAILABLE,"The operation could not be completed")))}),P(p,ls.EventType.MESSAGE,M=>{var k;if(!_){let G=M.data[0];xe(!!G);let $=G,Q=$.error||((k=$[0])===null||k===void 0?void 0:k.error);if(Q){j(_t,`RPC '${e}' stream ${i} received error:`,Q);let Me=Q.status,te=function(w){let I=Ze[w];if(I!==void 0)return VA(I)}(Me),b=Q.message;te===void 0&&(te=N.INTERNAL,b="Unknown error status: "+Me+" with message "+Q.message),_=!0,A.So(new H(te,b)),p.close()}else j(_t,`RPC '${e}' stream ${i} received:`,G),A.bo(G)}}),P(a,jy.STAT_EVENT,M=>{M.stat===jd.PROXY?j(_t,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===jd.NOPROXY&&j(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function zy(){return typeof document<"u"?document:null}function Sh(t){return new Cv(t,!0)}var ah=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ch=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ah(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return v(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return v(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return v(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new H(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>v(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},e_=class extends ch{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=iB(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Un(s.readTime):se.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Sv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=pv(u)?{documents:aB(o,u)}:{query:cB(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=UA(o,s.resumeToken);let l=Dv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=rh(o,s.snapshotVersion.toTimestamp());let l=Dv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=lB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Sv(this.serializer),n.removeTarget=e,this.a_(n)}},t_=class extends ch{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=sB(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Sv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>oB(this.serializer,r))};this.a_(n)}};var n_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Tv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(N.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Tv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},r_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gr(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var i_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>v(this,null,function*(){to(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=ie(u);l.L_.add(4),yield Vc(l),l.q_.set("Unknown"),l.L_.delete(4),yield xh(l)})}(this))}))}),this.q_=new r_(r,i)}};function xh(t){return v(this,null,function*(){if(to(t))for(let e of t.B_)yield e(!0)})}function Vc(t){return v(this,null,function*(){for(let e of t.B_)yield e(!1)})}function KA(t,e){let n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),O_(n)?N_(n):Ps(n).r_()&&P_(n,e))}function M_(t,e){let n=ie(t),r=Ps(n);n.N_.delete(e),r.r_()&&QA(n,e),n.N_.size===0&&(r.r_()?r.o_():to(n)&&n.q_.set("Unknown"))}function P_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ps(t).A_(e)}function QA(t,e){t.Q_.xe(e),Ps(t).R_(e)}function N_(t){t.Q_=new bv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ps(t).start(),t.q_.v_()}function O_(t){return to(t)&&!Ps(t).n_()&&t.N_.size>0}function to(t){return ie(t).L_.size===0}function YA(t){t.Q_=void 0}function CB(t){return v(this,null,function*(){t.q_.set("Online")})}function DB(t){return v(this,null,function*(){t.N_.forEach((e,n)=>{P_(t,e)})})}function TB(t,e){return v(this,null,function*(){YA(t),O_(t)?(t.q_.M_(e),N_(t)):t.q_.set("Unknown")})}function AB(t,e,n){return v(this,null,function*(){if(t.q_.set("Online"),e instanceof th&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uh(t,r)}else if(e instanceof gs?t.Q_.Ke(e):e instanceof eh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(se.min()))try{let r=yield WA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),QA(o,u);let p=new xc(h.target,u,l,h.sequenceNumber);P_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield uh(t,r)}})}function uh(t,e,n){return v(this,null,function*(){if(!Lc(e))throw e;t.L_.add(1),yield Vc(t),t.q_.set("Offline"),n||(n=()=>WA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield xh(t)}))})}function JA(t,e){return e().catch(n=>uh(t,n,e))}function Rh(t){return v(this,null,function*(){let e=ie(t),n=ni(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;SB(e);)try{let i=yield wB(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,xB(e,i)}catch(i){yield uh(e,i)}ZA(e)&&XA(e)})}function SB(t){return to(t)&&t.O_.length<10}function xB(t,e){t.O_.push(e);let n=ni(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ZA(t){return to(t)&&!ni(t).n_()&&t.O_.length>0}function XA(t){ni(t).start()}function RB(t){return v(this,null,function*(){ni(t).p_()})}function MB(t){return v(this,null,function*(){let e=ni(t);for(let n of t.O_)e.m_(n.mutations)})}function PB(t,e,n){return v(this,null,function*(){let r=t.O_.shift(),i=_v.from(r,e,n);yield JA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Rh(t)})}function NB(t,e){return v(this,null,function*(){e&&ni(t).V_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return Yj(s)&&s!==N.ABORTED}(i.code)){let o=r.O_.shift();ni(r).s_(),yield JA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Rh(r)}})}(t,e)),ZA(t)&&XA(t)})}function sA(t,e){return v(this,null,function*(){let n=ie(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=to(n);n.L_.add(3),yield Vc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield xh(n)})}function OB(t,e){return v(this,null,function*(){let n=ie(t);e?(n.L_.delete(2),yield xh(n)):e||(n.L_.add(2),yield Vc(n),n.q_.set("Unknown"))})}function Ps(t){return t.K_||(t.K_=function(n,r,i){let o=ie(n);return o.w_(),new e_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:CB.bind(null,t),Ro:DB.bind(null,t),mo:TB.bind(null,t),d_:AB.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.K_.s_(),O_(t)?N_(t):t.q_.set("Unknown")):(yield t.K_.stop(),YA(t))}))),t.K_}function ni(t){return t.U_||(t.U_=function(n,r,i){let o=ie(n);return o.w_(),new t_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:RB.bind(null,t),mo:NB.bind(null,t),f_:MB.bind(null,t),g_:PB.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.U_.s_(),yield Rh(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var o_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function F_(t,e){if(gr("AsyncQueue",`${e}: ${t}`),Lc(t))return new H(N.UNAVAILABLE,`${e}: ${t}`);throw t}var lh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=wc(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var dh=class{constructor(){this.W_=new We(Y.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ss=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,lh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var s_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},a_=class{constructor(){this.queries=aA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ie(n),o=i.queries;i.queries=aA(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new H(N.ABORTED,"Firestore shutting down"))}};function aA(){return new ti(t=>TA(t),Th)}function eS(t,e){return v(this,null,function*(){let n=ie(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new s_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=F_(s,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&k_(n)})}function tS(t,e){return v(this,null,function*(){let n=ie(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function FB(t,e){let n=ie(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&k_(n)}function kB(t,e,n){let r=ie(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function k_(t){t.Y_.forEach(e=>{e.next()})}var c_,cA;(cA=c_||(c_={})).ea="default",cA.Cache="cache";var hh=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ss(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==c_.Cache}};var fh=class{constructor(e){this.key=e}},ph=class{constructor(e){this.key=e}},u_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=AA(e),this.Ra=new lh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new dh,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),_=Ah(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),P=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),M=!1;m&&_?m.data.isEqual(_.data)?A!==P&&(r.track({type:3,doc:_}),M=!0):this.ga(m,_)||(r.track({type:2,doc:_}),M=!0,(u&&this.Aa(_,u)>0||l&&this.Aa(_,l)<0)&&(a=!0)):!m&&_?(r.track({type:0,doc:_}),M=!0):m&&!_&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(_?(s=s.add(_),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(_,A){let P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return P(_)-P(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ss(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ph(r))}),this.da.forEach(r=>{e.has(r)||n.push(new fh(r))}),n}ba(e){this.Ta=e.Ts,this.da=ve();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ss.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},l_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},d_=class{constructor(e){this.key=e,this.va=!1}},h_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ti(a=>TA(a),Th),this.Ma=new Map,this.xa=new Set,this.Oa=new We(Y.comparator),this.Na=new Map,this.La=new Mc,this.Ba={},this.ka=new Map,this.qa=Rc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function LB(t,e,n=!0){return v(this,null,function*(){let r=aS(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield nS(r,e,n,!0),i})}function VB(t,e){return v(this,null,function*(){let n=aS(t);yield nS(n,e,!0,!1)})}function nS(t,e,n,r){return v(this,null,function*(){let i=yield EB(t.localStore,Vn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield UB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&KA(t.remoteStore,i),a})}function UB(t,e,n,r,i){return v(this,null,function*(){t.Ka=(p,m,_)=>function(P,M,k,G){return v(this,null,function*(){let $=M.view.ma(k);$.ns&&($=yield oA(P.localStore,M.query,!1).then(({documents:b})=>M.view.ma(b,$)));let Q=G&&G.targetChanges.get(M.targetId),Me=G&&G.targetMismatches.get(M.targetId)!=null,te=M.view.applyChanges($,P.isPrimaryClient,Q,Me);return lA(P,M.targetId,te.wa),te.snapshot})}(t,p,m,_);let o=yield oA(t.localStore,e,!0),s=new u_(e,o.Ts),a=s.ma(o.documents),u=Sc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);lA(t,n,l.wa);let h=new l_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function jB(t,e,n){return v(this,null,function*(){let r=ie(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Th(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Qv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&M_(r.remoteStore,i.targetId),f_(r,i.targetId)}).catch(kc))):(f_(r,i.targetId),yield Qv(r.localStore,i.targetId,!0))})}function BB(t,e){return v(this,null,function*(){let n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M_(n.remoteStore,r.targetId))})}function $B(t,e,n){return v(this,null,function*(){let r=QB(t);try{let i=yield function(s,a){let u=ie(s),l=ht.now(),h=a.reduce((_,A)=>_.add(A.key),ve()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let A=yr(),P=ve();return u.cs.getEntries(_,h).next(M=>{A=M,A.forEach((k,G)=>{G.isValidDocument()||(P=P.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,A)).next(M=>{p=M;let k=[];for(let G of a){let $=Qj(G,p.get(G.key).overlayedDocument);$!=null&&k.push(new $n(G.key,$,wA($.value.mapValue),Zr.exists(!0)))}return u.mutationQueue.addMutationBatch(_,l,k,a)}).next(M=>{m=M;let k=M.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(_,M.batchId,k)})}).then(()=>({batchId:m.batchId,changes:xA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new We(Ce)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Uc(r,i.changes),yield Rh(r.remoteStore)}catch(i){let o=F_(i,"Failed to persist write");n.reject(o)}})}function rS(t,e){return v(this,null,function*(){let n=ie(t);try{let r=yield vB(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xe(s.va):i.removedDocuments.size>0&&(xe(s.va),s.va=!1))}),yield Uc(n,r,e)}catch(r){yield kc(r)}})}function uA(t,e,n){let r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ie(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&k_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HB(t,e,n){return v(this,null,function*(){let r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new We(Y.comparator);s=s.insert(o,yn.newNoDocument(o,se.min()));let a=ve().add(o),u=new Xd(se.min(),new Map,new We(Ce),s,a);yield rS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),L_(r)}else yield Qv(r.localStore,e,!1).then(()=>f_(r,e,n)).catch(kc)})}function qB(t,e){return v(this,null,function*(){let n=ie(t),r=e.batch.batchId;try{let i=yield yB(n.localStore,e);oS(n,r,null),iS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Uc(n,i)}catch(i){yield kc(i)}})}function zB(t,e,n){return v(this,null,function*(){let r=ie(t);try{let i=yield function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(xe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);oS(r,e,n),iS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Uc(r,i)}catch(i){yield kc(i)}})}function iS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function oS(t,e,n){let r=ie(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function f_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||sS(t,r)})}function sS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(M_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),L_(t))}function lA(t,e,n){for(let r of n)r instanceof fh?(t.La.addReference(r.key,e),GB(t,r)):r instanceof ph?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||sS(t,r.key)):Z()}function GB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),L_(t))}function L_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Y(Ge.fromString(e)),r=t.qa.next();t.Na.set(r,new d_(n)),t.Oa=t.Oa.insert(n,r),KA(t.remoteStore,new xc(Vn(S_(n.path)),r,"TargetPurposeLimboResolution",mA.oe))}}function Uc(t,e,n){return v(this,null,function*(){let r=ie(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=zv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return v(this,null,function*(){let h=ie(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.$i,_=>h.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>O.forEach(m.Ui,_=>h.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!Lc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let _=h.os.get(m),A=_.snapshotVersion,P=_.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(m,P)}}})}(r.localStore,o))})}function WB(t,e){return v(this,null,function*(){let n=ie(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield GA(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new H(N.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Uc(n,r.hs)}})}function KB(t,e){let n=ie(t),r=n.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function aS(t){let e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HB.bind(null,e),e.Ca.d_=FB.bind(null,e.eventManager),e.Ca.$a=kB.bind(null,e.eventManager),e}function QB(t){let e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zB.bind(null,e),e}var dA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=Sh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return mB(this.persistence,new Wv,n.initialUser,this.serializer)}Ga(n){return new $v(qv.Zr,this.serializer)}Wa(n){return new Yv}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var YB=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WB.bind(null,this.syncEngine),yield OB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new a_}()}createDatastore(n){let r=Sh(n.databaseInfo.databaseId),i=function(s){return new Xv(s)}(n.databaseInfo);return function(s,a,u,l){return new n_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new i_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>uA(this.syncEngine,r,0),function(){return sh.D()?new sh:new Jv}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new h_(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=ie(o);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Vc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var gh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var p_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=st.UNAUTHENTICATED,this.clientId=Gd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){j("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=F_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Gy(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield GA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function hA(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield JB(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sA(e.remoteStore,i)),t._onlineComponents=e})}function JB(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ys("Error using user provided cache. Falling back to memory cache: "+n),yield Gy(t,new dA)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield Gy(t,new dA);return t._offlineComponents})}function cS(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield hA(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield hA(t,new YB))),t._onlineComponents})}function ZB(t){return cS(t).then(e=>e.syncEngine)}function uS(t){return v(this,null,function*(){let e=yield cS(t),n=e.eventManager;return n.onListen=LB.bind(null,e.syncEngine),n.onUnlisten=jB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BB.bind(null,e.syncEngine),n})}function XB(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new gh({next:m=>{h.Za(),s.enqueueAndForget(()=>tS(o,p));let _=m.docs.has(a);!_&&m.fromCache?l.reject(new H(N.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?l.reject(new H(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new hh(S_(a.path),h,{includeMetadataChanges:!0,_a:!0});return eS(o,p)}(yield uS(t),t.asyncQueue,e,n,r)})),r.promise}function e3(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new gh({next:m=>{h.Za(),s.enqueueAndForget(()=>tS(o,p)),m.fromCache&&u.source==="server"?l.reject(new H(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new hh(a,h,{includeMetadataChanges:!0,_a:!0});return eS(o,p)}(yield uS(t),t.asyncQueue,e,n,r)})),r.promise}function lS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var fA=new Map;function dS(t,e,n){if(!n)throw new H(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t3(t,e,n,r){if(e===!0&&r===!0)throw new H(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pA(t){if(!Y.isDocumentKey(t))throw new H(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gA(t){if(Y.isDocumentKey(t))throw new H(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function V_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=V_(t);throw new H(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var mh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},xs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Wy;switch(r.type){case"firstParty":return new Jy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=fA.get(n);r&&(j("ComponentProvider","Removing Datastore"),fA.delete(n),r.terminate())}(this),Promise.resolve()}};function hS(t,e,n,r={}){var i;let o=(t=vr(t,xs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=st.MOCK_USER;else{a=fd(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new H(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new st(l)}t._authCredentials=new Ky(new zd(a,u))}}var yh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Xr=class t extends yh{constructor(e,n,r){super(e,n,S_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Y(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function jc(t,e,...n){if(t=Le(t),dS("collection","path",e),t instanceof xs){let r=Ge.fromString(e,...n);return gA(r),new Xr(t,null,r)}{if(!(t instanceof Lt||t instanceof Xr))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ge.fromString(e,...n));return gA(r),new Xr(t.firestore,null,r)}}function Gt(t,e,...n){if(t=Le(t),arguments.length===1&&(e=Gd.newId()),dS("doc","path",e),t instanceof xs){let r=Ge.fromString(e,...n);return pA(r),new Lt(t,null,new Y(r))}{if(!(t instanceof Lt||t instanceof Xr))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ge.fromString(e,...n));return pA(r),new Lt(t.firestore,t instanceof Xr?t.converter:null,new Y(r))}}var vh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ah(this,"async_queue_retry"),this.Vu=()=>{let r=zy();r&&j("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=zy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=zy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new mn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return v(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Lc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw gr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=o_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}wu(){return v(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Xi=class extends xs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new vh(e),this._firestoreClient=void 0,yield e}})}};function Wt(t,e){let n=typeof t=="object"?t:Kr(),r=typeof t=="string"?t:e||"(default)",i=Vi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hd("firestore");o&&hS(i,...o)}return i}function U_(t){if(t._terminated)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n3(t),t._firestoreClient}function n3(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new nv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new p_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Pc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Et.fromBase64String(e))}catch(n){throw new H(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Rs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Nc=class{constructor(e){this._methodName=e}};var Oc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}};var Fc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var r3=/^__.*__$/,g_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $n(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zi(e,this.data,n,this.fieldTransforms)}},_h=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $n(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function fS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var m_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Eh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(fS(this.Cu)&&r3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},y_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sh(e)}Qu(e,n,r,i=!1){return new m_({Cu:e,methodName:n,qu:r,path:zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pS(t){let e=t._freezeSettings(),n=Sh(t._databaseId);return new y_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i3(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);j_("Data must be an object, but it was:",s,r);let a=gS(r,s),u,l;if(o.merge)u=new nn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=v_(e,p,n);if(!s.contains(m))throw new H(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);yS(h,m)||h.push(m)}u=new nn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new g_(new qt(a),u,l)}var wh=class t extends Nc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function o3(t,e,n,r){let i=t.Qu(1,e,n);j_("Data must be an object, but it was:",i,r);let o=[],s=qt.empty();eo(r,(u,l)=>{let h=B_(e,u,n);l=Le(l);let p=i.Nu(h);if(l instanceof wh)o.push(h);else{let m=Mh(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new nn(o);return new _h(s,a,i.fieldTransforms)}function s3(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[v_(e,r,n)],u=[i];if(o.length%2!=0)throw new H(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(v_(e,o[m])),u.push(o[m+1]);let l=[],h=qt.empty();for(let m=a.length-1;m>=0;--m)if(!yS(l,a[m])){let _=a[m],A=u[m];A=Le(A);let P=s.Nu(_);if(A instanceof wh)l.push(_);else{let M=Mh(A,P);M!=null&&(l.push(_),h.set(_,M))}}let p=new nn(l);return new _h(h,p,s.fieldTransforms)}function Mh(t,e){if(mS(t=Le(t)))return j_("Unsupported field value:",e,t),gS(t,e);if(t instanceof Nc)return function(r,i){if(!fS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Mh(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ht.fromDate(r);return{timestampValue:rh(i.serializer,o)}}if(r instanceof ht){let o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(i.serializer,o)}}if(r instanceof Oc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pc)return{bytesValue:UA(i.serializer,r._byteString)};if(r instanceof Lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:R_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return x_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${V_(r)}`)}(t,e)}function gS(t,e){let n={};return yA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,(r,i)=>{let o=Mh(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function mS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Oc||t instanceof Pc||t instanceof Lt||t instanceof Nc||t instanceof Fc)}function j_(t,e,n){if(!mS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=V_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function v_(t,e,n){if((e=Le(e))instanceof Rs)return e._internalPath;if(typeof e=="string")return B_(t,e);throw Eh("Field path arguments must be of type string or ",t,!1,void 0,n)}var a3=new RegExp("[~\\*/\\[\\]]");function B_(t,e,n){if(e.search(a3)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rs(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(N.INVALID_ARGUMENT,a+t+u)}function yS(t,e){return t.some(n=>n.isEqual(e))}var Ih=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new __(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(vS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},__=class extends Ih{data(){return super.data()}};function vS(t,e){return typeof e=="string"?B_(t,e):e instanceof Rs?e._internalPath:e._delegate._internalPath}function c3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var w_=class{convertValue(e,n="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return eo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>je(s.doubleValue));return new Fc(o)}convertGeoPoint(e){return new Oc(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=C_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){let n=mr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ge.fromString(e);xe(zA(r));let i=new Yd(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(n)||gr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function u3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Gi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},bh=class extends Ih{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ms(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(vS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ms=class extends bh{data(e={}){return super.data(e)}},E_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ms(this._firestore,this._userDataWriter,r.key,r,new Gi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:l3(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function l3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function _r(t){t=vr(t,Lt);let e=vr(t.firestore,Xi);return XB(U_(e),t._key).then(n=>d3(e,t,n))}var Ch=class extends w_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}};function Bc(t){t=vr(t,yh);let e=vr(t.firestore,Xi),n=U_(e),r=new Ch(e);return c3(t._query),e3(n,t._query).then(i=>new E_(e,r,t,i))}function $c(t,e,n){t=vr(t,Lt);let r=vr(t.firestore,Xi),i=u3(t.converter,e,n);return _S(r,[i3(pS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Zr.none())])}function $_(t,e,n,...r){t=vr(t,Lt);let i=vr(t.firestore,Xi),o=pS(i),s;return s=typeof(e=Le(e))=="string"||e instanceof Rs?s3(o,"updateDoc",t._key,e,n,r):o3(o,"updateDoc",t._key,e),_S(i,[s.toMutation(t._key,Zr.exists(!0))])}function _S(t,e){return function(r,i){let o=new mn;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return $B(yield ZB(r),i,o)})),o.promise}(U_(t),e)}function d3(t,e,n){let r=n.docs.get(e._key),i=new Ch(t);return new bh(t,i,e._key,r,new Gi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ms=i})(Mn),Rn(new Ft("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Xi(new Qy(r.getProvider("auth-internal")),new Xy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ze(UT,"4.7.3",e),ze(UT,"4.7.3","esm2017")})();var H_={apiKey:"AIzaSyAN3xGlyc729QZpxcNoITDpE5Oweb-85tQ",authDomain:"tpclinica-bartel.firebaseapp.com",projectId:"tpclinica-bartel",storageBucket:"tpclinica-bartel.appspot.com",messagingSenderId:"775881613005",appId:"1:775881613005:web:3b1c96b34693b512a59384"},GW=Ui(H_);function h3(t,e){if(t&1&&(x(0,"div",24),L(1),R()),t&2){let n=z();U(),it(n.errorMessage)}}var wS=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new He,this.username="",this.password="",this.errorMessage="",this.app=Ui(H_),this.auth=kt(this.app),this.db=Wt(this.app)}fillPaciente1(){this.username="manuelPaciente1@gmail.com",this.password="paciente123"}fillPaciente2(){this.username="juanPaciente2@gmail.com",this.password="paciente123"}fillPaciente3(){this.username="carlosPaciente3@gmail.com",this.password="paciente123"}fillEspecialista1(){this.username="matiasbartel12@gmail.com",this.password="clinico123"}fillEspecialista2(){this.username="especialistaJuan@gmail.com",this.password="juan123"}fillAdmin(){this.username="admin@correo.com",this.password="admin123"}onSubmit(){return v(this,null,function*(){try{let i=(yield Fd(this.auth,this.username,this.password)).user,o=Gt(this.db,"especialistas",i.uid),s=Gt(this.db,"pacientes",i.uid),a=Gt(this.db,"administradores",i.uid),[u,l,h]=yield Promise.all([_r(o),_r(s),_r(a)]);if(u.exists())u.data().aprobado?(this.router.navigate(["/misTurnos"]),this.loginStatusChange.emit(!0)):(this.errorMessage="Tu cuenta de especialista a\xFAn no fue habilitada por un administrador.",this.loginStatusChange.emit(!1));else if(l.exists()){let p=l.data();this.router.navigate(["/misTurnos"]),this.loginStatusChange.emit(!0)}else if(h.exists()){let p=h.data();this.router.navigate(["/usuarios"]),this.loginStatusChange.emit(!0)}else this.errorMessage="No se encontr\xF3 el usuario en la base de datos.",this.loginStatusChange.emit(!1)}catch(r){switch(r.code){case"auth/user-not-found":case"auth/wrong-password":this.errorMessage="Correo o contrase\xF1a incorrecta.";break;case"auth/invalid-email":this.errorMessage="Formato de correo inv\xE1lido.";break;case"auth/invalid-credential":this.errorMessage="Usuario inexistente";break;default:this.errorMessage="Error al iniciar sesi\xF3n. Intenta nuevamente."}console.error("Error en login:",r),this.loginStatusChange.emit(!1)}})}};e.\u0275fac=function(i){return new(i||e)(q(Ot))},e.\u0275cmp=Pt({type:e,selectors:[["app-login"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[Nt],decls:34,vars:3,consts:[[1,"login-container"],[1,"titulo"],[3,"submit"],[1,"input-container"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Login%2FCorreo.png?alt=media&token=19f459bf-e240-4ffb-9768-9364b4a948ec","alt","user-icon",1,"input-icon"],["type","text","name","usuario","placeholder","Correo electr\xF3nico","required","",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Login%2FCandadoW.png?alt=media&token=2f6f1f2f-4fb8-4c41-91d5-60a9ff3fa99f","alt","password-icon",1,"input-icon"],["type","password","name","correo","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"buttons-container"],["type","submit"],[1,"acceso-rapido"],["for","acceso-rapido",1,"acceso-rapido-label"],[1,"acceso-rapido-row"],[1,"acceso-rapido-btn","paciente",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente 1",1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente 2",1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente 3",1,"logo"],[1,"acceso-rapido-btn","especialista",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Especialista 1",1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Especialista 2",1,"logo"],[1,"acceso-rapido-btn","admin",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Admin",1,"logo"],["href","/registro",1,"register-link"],[1,"error-message"]],template:function(i,o){i&1&&(x(0,"body")(1,"div",0)(2,"h2",1),L(3,"INICIAR SESION"),R(),x(4,"form",2),me("submit",function(){return o.onSubmit()}),x(5,"div",3),ee(6,"img",4),x(7,"input",5),Fe("ngModelChange",function(a){return ke(o.username,a)||(o.username=a),a}),R()(),x(8,"div",3),ee(9,"img",6),x(10,"input",7),Fe("ngModelChange",function(a){return ke(o.password,a)||(o.password=a),a}),R()(),qe(11,h3,2,1,"div",8),x(12,"div",9)(13,"button",10),L(14,"Iniciar Sesi\xF3n"),R()()(),x(15,"div",11)(16,"label",12),L(17,"Accesos R\xE1pidos"),R(),x(18,"div",13)(19,"button",14),me("click",function(){return o.fillPaciente1()}),ee(20,"img",15),R(),x(21,"button",14),me("click",function(){return o.fillPaciente2()}),ee(22,"img",16),R(),x(23,"button",14),me("click",function(){return o.fillPaciente3()}),ee(24,"img",17),R()(),x(25,"div",13)(26,"button",18),me("click",function(){return o.fillEspecialista1()}),ee(27,"img",19),R(),x(28,"button",18),me("click",function(){return o.fillEspecialista2()}),ee(29,"img",20),R(),x(30,"button",21),me("click",function(){return o.fillAdmin()}),ee(31,"img",22),R()()(),x(32,"a",23),L(33,"Quiero registrarme"),R()()()),i&2&&(U(7),Oe("ngModel",o.username),U(3),Oe("ngModel",o.password),U(),Te("ngIf",o.errorMessage))},dependencies:[ns,ts,zr,Xo,es,Fi,Oi,Ni,ar,Br],styles:['@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;width:100%;overflow-y:hidden}body[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/General%2FHospital%20Bartel.jpeg?alt=media&token=3f838801-78f3-4374-86e0-db83ab37e701);background-size:cover;background-position:center;background-attachment:fixed;display:flex;justify-content:center;align-items:center;height:100vh;width:100vw;overflow-y:hidden}.login-container[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:40px;background-color:#16243e;border-radius:10px;box-shadow:0 8px 20px #0000004d;text-align:center;font-family:Roboto;overflow-y:hidden}.titulo[_ngcontent-%COMP%]{font-size:26px;font-weight:700;color:#fff;margin-bottom:30px;font-family:Roboto}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:25px;border-bottom:2px solid #00bccd;padding-bottom:8px}.input-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:12px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{flex:1;padding:10px;border:none;font-size:16px;background-color:transparent;color:#fff;font-family:Roboto,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{outline:none}.error-message[_ngcontent-%COMP%]{color:#ff4d4d;font-size:14px;margin-bottom:15px;font-family:Roboto,sans-serif}.buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-bottom:20px}button[_ngcontent-%COMP%]{background-color:#1bb3c1;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;width:100%;font-family:Roboto,sans-serif;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#006aff}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.quick-access[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15px}.quick-access[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48%;background-color:#6e6e6e;font-family:Roboto,sans-serif}.quick-access[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#454545}.register-link[_ngcontent-%COMP%]{color:#00bccd;text-decoration:none;font-size:16px;font-weight:700;display:block;margin-top:20px;transition:color .3s;font-family:Roboto,sans-serif}.register-link[_ngcontent-%COMP%]:hover{color:#007bff}.acceso-rapido[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;align-items:center}.acceso-rapido-label[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;margin-bottom:10px;color:#fff}.acceso-rapido-row[_ngcontent-%COMP%]{display:flex;gap:20px}.acceso-rapido-btn[_ngcontent-%COMP%]{width:60px;height:60px;background-color:transparent;border:2px solid #fff;border-radius:10px;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:transform .3s ease-in-out,background-color .3s ease;box-shadow:0 4px 8px #0003}.acceso-rapido-btn[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;transition:transform .3s ease-in-out}.paciente[_ngcontent-%COMP%]{background-color:red}.paciente[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#8b0000}.paciente[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.especialista[_ngcontent-%COMP%]{background-color:green}.especialista[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#006400}.especialista[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.admin[_ngcontent-%COMP%]{background-color:gray}.admin[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a9a9a9}.admin[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}']});let t=e;return t})();var AS="firebasestorage.googleapis.com",SS="storageBucket",f3=2*60*1e3,p3=10*60*1e3;var Ke=class t extends Rt{constructor(e,n,r=0){super(q_(e),`Firebase Storage: ${n} (${q_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return q_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ye=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ye||{});function q_(t){return"storage/"+t}function Y_(){let t="An unknown error occurred, please check the error payload for server response.";return new Ke(Ye.UNKNOWN,t)}function g3(t){return new Ke(Ye.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function m3(t){return new Ke(Ye.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function y3(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ke(Ye.UNAUTHENTICATED,t)}function v3(){return new Ke(Ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _3(t){return new Ke(Ye.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function w3(){return new Ke(Ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E3(){return new Ke(Ye.CANCELED,"User canceled the upload/download.")}function I3(t){return new Ke(Ye.INVALID_URL,"Invalid URL '"+t+"'.")}function b3(t){return new Ke(Ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function C3(){return new Ke(Ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SS+"' property when initializing the app?")}function D3(){return new Ke(Ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function T3(){return new Ke(Ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function A3(t){return new Ke(Ye.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function z_(t){return new Ke(Ye.INVALID_ARGUMENT,t)}function xS(){return new Ke(Ye.APP_DELETED,"The Firebase app was deleted.")}function S3(t){return new Ke(Ye.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qc(t,e){return new Ke(Ye.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Hc(t){throw new Ke(Ye.INTERNAL_ERROR,"Internal error: "+t)}var vn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw b3(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(Q){Q.path_=decodeURIComponent(Q.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${h}/b/${i}/o${m}`,"i"),A={bucket:1,path:3},P=n===AS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",k=new RegExp(`^https?://${P}/${i}/${M}`,"i"),$=[{regex:a,indices:u,postModify:o},{regex:_,indices:A,postModify:l},{regex:k,indices:{bucket:1,path:2},postModify:l}];for(let Q=0;Q<$.length;Q++){let Me=$[Q],te=Me.regex.exec(e);if(te){let b=te[Me.indices.bucket],y=te[Me.indices.path];y||(y=""),r=new t(b,y),Me.postModify(r);break}}if(r==null)throw I3(e);return r}},G_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function x3(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function h(...M){l||(l=!0,e.apply(null,M))}function p(M){i=setTimeout(()=>{i=null,t(_,u())},M)}function m(){o&&clearTimeout(o)}function _(M,...k){if(l){m();return}if(M){m(),h.call(null,M,...k);return}if(u()||s){m(),h.call(null,M,...k);return}r<64&&(r*=2);let $;a===1?(a=2,$=0):$=(r+Math.random())*1e3,p($)}let A=!1;function P(M){A||(A=!0,m(),!l&&(i!==null?(M||(a=2),clearTimeout(i),p(0)):M||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,P(!0)},n),P}function R3(t){t(!1)}function M3(t){return t!==void 0}function P3(t){return typeof t=="object"&&!Array.isArray(t)}function J_(t){return typeof t=="string"||t instanceof String}function ES(t){return Z_()&&t instanceof Blob}function Z_(){return typeof Blob<"u"}function IS(t,e,n,r){if(r<e)throw z_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw z_(`Invalid value for '${t}'. Expected ${n} or less.`)}function X_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function RS(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Os=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Os||{});function N3(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var W_=class{constructor(e,n,r,i,o,s,a,u,l,h,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,A)=>{this.resolve_=_,this.reject_=A,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Ns(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Os.NO_ERROR,u=o.getStatus();if(!a||N3(u,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===Os.ABORT;r(!1,new Ns(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new Ns(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());M3(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=Y_();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?xS():E3();s(u)}else{let u=w3();s(u)}};this.canceled_?n(!1,new Ns(!1,null,!0)):this.backoffId_=x3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&R3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ns=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function O3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function F3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function k3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function L3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function V3(t,e,n,r,i,o,s=!0){let a=RS(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return k3(l,e),O3(l,n),F3(l,o),L3(l,r),new W_(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function U3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function j3(...t){let e=U3();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Z_())return new Blob(t);throw new Ke(Ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function B3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function $3(t){if(typeof atob>"u")throw A3("base-64");return atob(t)}var Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},zc=class{constructor(e,n){this.data=e,this.contentType=n||null}};function H3(t,e){switch(t){case Hn.RAW:return new zc(MS(e));case Hn.BASE64:case Hn.BASE64URL:return new zc(PS(t,e));case Hn.DATA_URL:return new zc(z3(e),G3(e))}throw Y_()}function MS(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function q3(t){let e;try{e=decodeURIComponent(t)}catch{throw qc(Hn.DATA_URL,"Malformed data URL.")}return MS(e)}function PS(t,e){switch(t){case Hn.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw qc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Hn.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw qc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$3(e)}catch(i){throw i.message.includes("polyfill")?i:qc(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Nh=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw qc(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=W3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function z3(t){let e=new Nh(t);return e.base64?PS(Hn.BASE64,e.rest):q3(e.rest)}function G3(t){return new Nh(t).contentType}function W3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Oh=class t{constructor(e,n){let r=0,i="";ES(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ES(this.data_)){let r=this.data_,i=B3(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(Z_()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(j3.apply(null,n))}else{let n=e.map(s=>J_(s)?H3(Hn.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function NS(t){let e;try{e=JSON.parse(t)}catch{return null}return P3(e)?e:null}function K3(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Q3(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function OS(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Y3(t,e){return e}var ft=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Y3}},Ph=null;function J3(t){return!J_(t)||t.length<2?t:OS(t)}function FS(){if(Ph)return Ph;let t=[];t.push(new ft("bucket")),t.push(new ft("generation")),t.push(new ft("metageneration")),t.push(new ft("name","fullPath",!0));function e(o,s){return J3(s)}let n=new ft("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new ft("size");return i.xform=r,t.push(i),t.push(new ft("timeCreated")),t.push(new ft("updated")),t.push(new ft("md5Hash",null,!0)),t.push(new ft("cacheControl",null,!0)),t.push(new ft("contentDisposition",null,!0)),t.push(new ft("contentEncoding",null,!0)),t.push(new ft("contentLanguage",null,!0)),t.push(new ft("contentType",null,!0)),t.push(new ft("metadata","customMetadata",!0)),Ph=t,Ph}function Z3(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new vn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function X3(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return Z3(r,t),r}function kS(t,e,n){let r=NS(e);return r===null?null:X3(t,r,n)}function e4(t,e,n,r){let i=NS(e);if(i===null||!J_(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let h=t.bucket,p=t.fullPath,m="/b/"+s(h)+"/o/"+s(p),_=X_(m,n,r),A=RS({alt:"media",token:l});return _+A})[0]}function t4(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Fh=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function LS(t){if(!t)throw Y_()}function n4(t,e){function n(r,i){let o=kS(t,i,e);return LS(o!==null),o}return n}function r4(t,e){function n(r,i){let o=kS(t,i,e);return LS(o!==null),e4(o,i,t.host,t._protocol)}return n}function VS(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=v3():i=y3():n.getStatus()===402?i=m3(t.bucket):n.getStatus()===403?i=_3(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function i4(t){let e=VS(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=g3(t.path)),o.serverResponse=i.serverResponse,o}return n}function o4(t,e,n){let r=e.fullServerUrl(),i=X_(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Fh(i,o,r4(t,n),s);return a.errorHandler=i4(e),a}function s4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function a4(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=s4(null,e)),r}function c4(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let $="";for(let Q=0;Q<2;Q++)$=$+Math.random().toString().slice(2);return $}let u=a();s["Content-Type"]="multipart/related; boundary="+u;let l=a4(e,r,i),h=t4(l,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,m=`\r
--`+u+"--",_=Oh.getBlob(p,r,m);if(_===null)throw D3();let A={name:l.fullPath},P=X_(o,t.host,t._protocol),M="POST",k=t.maxUploadRetryTime,G=new Fh(P,M,n4(t,n),k);return G.urlParams=A,G.headers=s,G.body=_.uploadData(),G.errorHandler=VS(e),G}var c7=256*1024;var bS=null,K_=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Os.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Os.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Os.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Hc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Q_=class extends K_{initXhr(){this.xhr_.responseType="text"}};function US(){return bS?bS():new Q_}var Fs=class t{constructor(e,n){this._service=e,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OS(this._location.path)}get storage(){return this._service}get parent(){let e=K3(this._location.path);if(e===null)return null;let n=new vn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw S3(e)}};function u4(t,e,n){t._throwIfRoot("uploadBytes");let r=c4(t.storage,t._location,FS(),new Oh(e,!0),n);return t.storage.makeRequestWithTokens(r,US).then(i=>({metadata:i,ref:t}))}function l4(t){t._throwIfRoot("getDownloadURL");let e=o4(t.storage,t._location,FS());return t.storage.makeRequestWithTokens(e,US).then(n=>{if(n===null)throw T3();return n})}function d4(t,e){let n=Q3(t._location.path,e),r=new vn(t._location.bucket,n);return new Fs(t.storage,r)}function h4(t){return/^[A-Za-z]+:\/\//.test(t)}function f4(t,e){return new Fs(t,e)}function jS(t,e){if(t instanceof Gc){let n=t;if(n._bucket==null)throw C3();let r=new Fs(n,n._bucket);return e!=null?jS(r,e):r}else return e!==void 0?d4(t,e):t}function p4(t,e){if(e&&h4(e)){if(t instanceof Gc)return f4(t,e);throw z_("To use ref(service, url), the first argument must be a Storage instance.")}else return jS(t,e)}function CS(t,e){let n=e?.[SS];return n==null?null:vn.makeFromBucketSpec(n,t)}function g4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:fd(i,t.app.options.projectId))}var Gc=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=AS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=f3,this._maxUploadRetryTime=p3,this._requests=new Set,i!=null?this._bucket=vn.makeFromBucketSpec(i,this._host):this._bucket=CS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=CS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fs(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new G_(xS());{let s=V3(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return v(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},DS="@firebase/storage",TS="0.13.2";var BS="storage";function ks(t,e,n){return t=Le(t),u4(t,e,n)}function Ls(t){return t=Le(t),l4(t)}function Vs(t,e){return t=Le(t),p4(t,e)}function kh(t=Kr(),e){t=Le(t);let r=Vi(t,BS).getImmediate({identifier:e}),i=hd("storage");return i&&m4(r,...i),r}function m4(t,e,n,r={}){g4(t,e,n,r)}function y4(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Gc(n,r,i,e,Mn)}function v4(){Rn(new Ft(BS,y4,"PUBLIC").setMultipleInstances(!0)),ze(DS,TS,""),ze(DS,TS,"esm2017")}v4();function _4(t,e){if(t&1){let n=or();x(0,"div",3)(1,"button",4),me("click",function(){de(n);let i=z();return he(i.seleccionarTipo("paciente"))}),ee(2,"img",5),L(3," Paciente "),R(),x(4,"button",4),me("click",function(){de(n);let i=z();return he(i.seleccionarTipo("especialista"))}),ee(5,"img",6),L(6," Especialista "),R(),x(7,"div",7)(8,"button",8),me("click",function(){de(n);let i=z();return he(i.volverLogin())}),L(9," \u{1F814} "),R()()()}}function w4(t,e){if(t&1&&ee(0,"img",42),t&2){let n=z(2);Te("src",n.imagenesPerfilPreview.paciente.fotoPerfil,Sa)}}function E4(t,e){if(t&1&&ee(0,"img",42),t&2){let n=z(2);Te("src",n.imagenesPerfilPreview.paciente.fotoPerfil2,Sa)}}function I4(t,e){if(t&1&&(x(0,"div",43),L(1),R()),t&2){let n=z(2);U(),it(n.errorMessage)}}function b4(t,e){if(t&1){let n=or();x(0,"form",9,0),me("ngSubmit",function(){de(n);let i=z();return he(i.onSubmit())}),x(2,"div",10),L(3," REGISTRATE COMO PACIENTE "),R(),x(4,"div",11)(5,"label",12),ee(6,"img",13),R(),x(7,"input",14),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.nombre,i)||(o.nombre=i),he(i)}),R()(),x(8,"div",11)(9,"label",15),ee(10,"img",16),R(),x(11,"input",17),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.apellido,i)||(o.apellido=i),he(i)}),R()(),x(12,"div",11)(13,"label",18),ee(14,"img",19),R(),x(15,"input",20),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.edad,i)||(o.edad=i),he(i)}),R()(),x(16,"div",11)(17,"label",21),ee(18,"img",22),R(),x(19,"input",23),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.dni,i)||(o.dni=i),he(i)}),R()(),x(20,"div",11)(21,"label",24),ee(22,"img",25),R(),x(23,"input",26),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.obraSocial,i)||(o.obraSocial=i),he(i)}),R()(),x(24,"div",11)(25,"label",27),ee(26,"img",28),R(),x(27,"input",29),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.correo,i)||(o.correo=i),he(i)}),R()(),x(28,"div",11)(29,"label",30),ee(30,"img",31),R(),x(31,"input",32),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.contrasena,i)||(o.contrasena=i),he(i)}),R()(),x(32,"div",11)(33,"label",33),ee(34,"img",34),x(35,"span"),L(36,"Seleccione una foto de su rostro"),R(),x(37,"input",35),me("change",function(i){de(n);let o=z();return he(o.onImageSelected(i,"paciente","fotoPerfil"))}),R()(),qe(38,w4,1,1,"img",36),R(),x(39,"div",11)(40,"label",37),ee(41,"img",38),x(42,"span"),L(43,"Seleccione una foto de su dni"),R(),x(44,"input",39),me("change",function(i){de(n);let o=z();return he(o.onImageSelected(i,"paciente","fotoPerfil2"))}),R()(),qe(45,E4,1,1,"img",36),R(),x(46,"button",8),me("click",function(){de(n);let i=z();return he(i.volverSeleccionTipo())}),L(47," \u{1F814} "),R(),x(48,"button",40),L(49,"Registrar"),R(),qe(50,I4,2,1,"div",41),R()}if(t&2){let n=z();U(7),Oe("ngModel",n.nombre),U(4),Oe("ngModel",n.apellido),U(4),Oe("ngModel",n.edad),U(4),Oe("ngModel",n.dni),U(4),Oe("ngModel",n.obraSocial),U(4),Oe("ngModel",n.correo),U(4),Oe("ngModel",n.contrasena),U(7),Te("ngIf",n.imagenesPerfilPreview.paciente.fotoPerfil),U(7),Te("ngIf",n.imagenesPerfilPreview.paciente.fotoPerfil2),U(5),Te("ngIf",n.errorMessage)}}function C4(t,e){if(t&1&&(x(0,"option",60),L(1),R()),t&2){let n=e.$implicit;Te("value",n),U(),it(n)}}function D4(t,e){if(t&1){let n=or();x(0,"div",11),ee(1,"img",61),x(2,"input",62),Fe("ngModelChange",function(i){de(n);let o=z(2);return ke(o.nuevaEspecialidad,i)||(o.nuevaEspecialidad=i),he(i)}),R(),x(3,"button",63),me("click",function(){de(n);let i=z(2);return i.agregarEspecialidad(),he(i.especialidadSeleccionada=i.nuevaEspecialidad)}),L(4,"Agregar"),R()()}if(t&2){let n=z(2);U(2),Oe("ngModel",n.nuevaEspecialidad)}}function T4(t,e){if(t&1&&ee(0,"img",42),t&2){let n=z(2);Te("src",n.imagenesPerfilPreview.especialista.fotoPerfil,Sa)}}function A4(t,e){if(t&1&&(x(0,"div",43),L(1),R()),t&2){let n=z(2);U(),it(n.errorMessage)}}function S4(t,e){if(t&1){let n=or();x(0,"form",9,0),me("ngSubmit",function(){de(n);let i=z();return he(i.onSubmit())}),x(2,"div",10),L(3," REGISTRATE COMO ESPECIALISTA "),R(),x(4,"div",11),ee(5,"img",13),x(6,"input",44),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.nombre,i)||(o.nombre=i),he(i)}),R()(),x(7,"div",11),ee(8,"img",16),x(9,"input",45),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.apellido,i)||(o.apellido=i),he(i)}),R()(),x(10,"div",11),ee(11,"img",22),x(12,"input",46),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.dni,i)||(o.dni=i),he(i)}),R()(),x(13,"div",11),ee(14,"img",19),x(15,"input",47),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.edad,i)||(o.edad=i),he(i)}),R()(),x(16,"div",11),ee(17,"img",48),x(18,"select",49),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.especialidadSeleccionada,i)||(o.especialidadSeleccionada=i),he(i)}),x(19,"option",50),L(20,"Seleccione una especialidad"),R(),qe(21,C4,2,2,"option",51),x(22,"option",52),L(23,"Otra..."),R()()(),qe(24,D4,5,1,"div",53),x(25,"div",11),ee(26,"img",28),x(27,"input",54),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.correo,i)||(o.correo=i),he(i)}),R()(),x(28,"div",11),ee(29,"img",31),x(30,"input",55),Fe("ngModelChange",function(i){de(n);let o=z();return ke(o.contrasena,i)||(o.contrasena=i),he(i)}),R()(),x(31,"div",11)(32,"label",56),ee(33,"img",57),x(34,"span"),L(35,"Selecciona tu imagen de perfil"),R(),x(36,"input",58),me("change",function(i){de(n);let o=z();return he(o.onImageSelected(i,"especialista","fotoPerfil"))}),R()(),qe(37,T4,1,1,"img",36),R(),x(38,"button",8),me("click",function(){de(n);let i=z();return he(i.volverSeleccionTipo())}),L(39," \u{1F814} "),R(),x(40,"button",59),L(41,"Registrar"),R(),qe(42,A4,2,1,"div",41),R()}if(t&2){let n=z();U(6),Oe("ngModel",n.nombre),U(3),Oe("ngModel",n.apellido),U(3),Oe("ngModel",n.dni),U(3),Oe("ngModel",n.edad),U(3),Oe("ngModel",n.especialidadSeleccionada),U(3),Te("ngForOf",n.especialidades),U(3),Te("ngIf",n.especialidadSeleccionada==="otra"),U(3),Oe("ngModel",n.correo),U(3),Oe("ngModel",n.contrasena),U(7),Te("ngIf",n.imagenesPerfilPreview.especialista.fotoPerfil),U(5),Te("ngIf",n.errorMessage)}}var $S=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new He,this.correo="",this.contrasena="",this.tipoSeleccionado=null,this.nombre="",this.apellido="",this.dni="",this.edad="",this.especialidadSeleccionada="",this.obraSocial="",this.nuevaEspecialidad="",this.errorMessage="",this.mostrarFormularioRegistro=!1,this.imagenesPerfil={paciente:{fotoPerfil:null,fotoPerfil2:null},especialista:{fotoPerfil:null}},this.imagenesPerfilPreview={paciente:{fotoPerfil:null,fotoPerfil2:null},especialista:{fotoPerfil:null}},this.especialidades=["Odontologo","Pediatra","Kinesiologo","Cardiologo"]}seleccionarTipo(r){this.tipoSeleccionado=r}agregarEspecialidad(){this.nuevaEspecialidad.trim()!==""&&(this.especialidades.push(this.nuevaEspecialidad.trim()),this.nuevaEspecialidad="")}onImageSelected(r,i,o){let s=r.target;if(!s.files||s.files.length===0)return;let a=s.files[0];i==="paciente"?this.imagenesPerfil.paciente[o]=a:i==="especialista"&&(this.imagenesPerfil.especialista[o]=a);let u=new FileReader;u.onload=()=>{i==="paciente"?this.imagenesPerfilPreview.paciente[o]=u.result:i==="especialista"&&(this.imagenesPerfilPreview.especialista[o]=u.result)},u.readAsDataURL(a)}verificarCorreoExistente(r){return v(this,null,function*(){try{let i=kt();return(yield kd(i,r)).length>0}catch(i){throw console.error("Error al verificar correo existente:",i),new Error("Error al verificar correo existente.")}})}onSubmit(){return v(this,null,function*(){let r=kt(),i=Wt(),o=kh();if(!this.nombre||!this.apellido||!this.dni||!this.edad){this.errorMessage="Todos los campos son obligatorios.";return}if(!this.correo||!this.contrasena){this.errorMessage="Correo y contrase\xF1a son obligatorios.";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.correo)){this.errorMessage="El formato del correo es inv\xE1lido.";return}try{if(yield this.verificarCorreoExistente(this.correo)){this.errorMessage="El correo ya est\xE1 registrado. Por favor, utiliza otro.";return}}catch{this.errorMessage="Error al verificar el correo. Intenta nuevamente.";return}if(this.tipoSeleccionado==="paciente"){if(!this.imagenesPerfil.paciente.fotoPerfil||!this.imagenesPerfil.paciente.fotoPerfil2){this.errorMessage="Por favor, carga ambas im\xE1genes del perfil del paciente.";return}}else if(this.tipoSeleccionado==="especialista"){if(!this.imagenesPerfil.especialista.fotoPerfil){this.errorMessage="Por favor, carga la imagen del perfil del especialista.";return}}else{this.errorMessage="Por favor, selecciona un tipo de usuario.";return}try{let u=(yield as(r,this.correo,this.contrasena)).user;yield cs(u);let l={contentType:"image/jpeg"},h="",p="";if(this.tipoSeleccionado==="paciente"){let P=Vs(o,`imagenes/Pacientes/${u.uid}_${Date.now()}_1.jpg`);yield ks(P,this.imagenesPerfil.paciente.fotoPerfil,l),h=yield Ls(P);let M=Vs(o,`imagenes/Pacientes/${u.uid}_${Date.now()}_2.jpg`);yield ks(M,this.imagenesPerfil.paciente.fotoPerfil2,l),p=yield Ls(M)}else if(this.tipoSeleccionado==="especialista"){let P=Vs(o,`imagenes/Especialistas/${u.uid}_${Date.now()}_1.jpg`);yield ks(P,this.imagenesPerfil.especialista.fotoPerfil,l),h=yield Ls(P)}let m=this.tipoSeleccionado==="paciente"?"pacientes":"especialistas",_=Gt(i,m,u.uid),A={nombre:this.nombre,apellido:this.apellido,edad:Number(this.edad),dni:this.dni,correo:this.correo,imagenPerfil:this.tipoSeleccionado==="paciente"?[h,p]:[h]};this.tipoSeleccionado==="paciente"?A.obraSocial=this.obraSocial:this.tipoSeleccionado==="especialista"&&(A.especialidad=this.especialidadSeleccionada,A.aprobado=!1),yield $c(_,A),this.router.navigate(["/login"])}catch(a){a.code==="auth/invalid-email"?this.errorMessage="El formato del correo es inv\xE1lido.":a.code==="auth/email-already-in-use"?this.errorMessage="El correo ya est\xE1 registrado. Por favor, utiliza otro.":a.code==="auth/weak-password"?this.errorMessage="La contrase\xF1a es demasiado d\xE9bil. Debe tener al menos 6 caracteres.":this.errorMessage="Hubo un error al registrar el usuario. Intenta nuevamente.",console.error(a)}})}volverLogin(){this.router.navigate(["/login"])}volverSeleccionTipo(){this.tipoSeleccionado=null}};e.\u0275fac=function(i){return new(i||e)(q(Ot))},e.\u0275cmp=Pt({type:e,selectors:[["app-registro"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[Nt],decls:4,vars:3,consts:[["registroForm","ngForm"],["class","tipo-seleccion",4,"ngIf"],["class","formulario",3,"ngSubmit",4,"ngIf"],[1,"tipo-seleccion"],[1,"boton-tipo",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Especialista"],[1,"btn-login"],[1,"btn-atras",3,"click"],[1,"formulario",3,"ngSubmit"],[1,"titulo-form"],[1,"input-container"],["for","nombre"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2FUsuarioW.png?alt=media&token=335845c9-ccf3-466f-a709-8dc973648919","alt","Nombre",1,"input-icon"],["type","text","id","nombre","name","nombre","required","","placeholder","Nombre del paciente",3,"ngModelChange","ngModel"],["for","apellido"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fapellido.png?alt=media&token=12696ffd-50fb-4e7c-b079-90d1436f4813","alt","Apellido",1,"input-icon"],["type","text","id","apellido","name","apellido","required","","placeholder","Apellido del paciente",3,"ngModelChange","ngModel"],["for","edad"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fedad.png?alt=media&token=c7d04542-0fc4-4a19-8bce-de28475ce8ab","alt","Edad",1,"input-icon"],["type","number","id","edad","name","edad","required","","placeholder","Edad del paciente",3,"ngModelChange","ngModel"],["for","dni"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fdni.png?alt=media&token=a3641431-2780-4aeb-9e29-d1b51a6b9897","alt","DNI",1,"input-icon"],["type","text","id","dni","name","dni","required","","placeholder","DNI del paciente",3,"ngModelChange","ngModel"],["for","obraSocial"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fdni.png?alt=media&token=a3641431-2780-4aeb-9e29-d1b51a6b9897","alt","Obra Social",1,"input-icon"],["type","text","id","obraSocial","name","obraSocial","required","","placeholder","Obra social del paciente",3,"ngModelChange","ngModel"],["for","correo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2FCorreo.png?alt=media&token=893fb86d-e897-405c-9135-b92773f98cec","alt","Correo",1,"input-icon"],["type","email","id","correo","name","correo","required","","placeholder","Correo electr\xF3nico",3,"ngModelChange","ngModel"],["for","contrasena"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2FCandadoW.png?alt=media&token=53af1ff2-1654-4f90-8585-92c8b31fd92e","alt","Contrase\xF1a",1,"input-icon"],["type","password","id","contrasena","name","contrasena","required","","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["for","paciente-foto-perfil",1,"file-label"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Frostro.png?alt=media&token=2cbc023d-44b2-4c27-a525-32986057c50b","alt","Foto de Perfil",1,"input-icon"],["type","file","id","paciente-foto-perfil","accept","image/*","required","",3,"change"],["alt","Vista previa","class","preview-image",3,"src",4,"ngIf"],["for","paciente-foto-identificacion",1,"file-label"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fdni2.png?alt=media&token=80b6649a-af88-4d5e-bde2-8412d5b93726","alt","Foto de Identificaci\xF3n",1,"input-icon"],["type","file","id","paciente-foto-identificacion","accept","image/*","required","",3,"change"],["type","submit",1,"btn","btn-primary"],["class","error-message",4,"ngIf"],["alt","Vista previa",1,"preview-image",3,"src"],[1,"error-message"],["id","nombre","name","nombre","required","","type","text","placeholder","Nombre del especialista",3,"ngModelChange","ngModel"],["id","apellido","name","apellido","required","","type","text","placeholder","Apellido del especialista",3,"ngModelChange","ngModel"],["id","dni","name","dni","required","","type","text","placeholder","DNI del especialista",3,"ngModelChange","ngModel"],["id","edad","name","edad","required","","type","number","placeholder","Edad del especialista",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fespecialidad2.png?alt=media&token=fd641cdb-94ca-4067-a897-33552cfd4db4","alt","Especialidad",1,"input-icon"],["id","especialidad","name","especialidad","required","",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","otra"],["class","input-container",4,"ngIf"],["id","correo","name","correo","required","","type","email","placeholder","Correo electr\xF3nico",3,"ngModelChange","ngModel"],["id","contrasena","name","contrasena","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["for","especialista-foto-perfil",1,"file-label"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fimage%20(29).png?alt=media&token=7c140d4d-335f-48ef-bc99-40df2a1ed5be","alt","Especialista",1,"input-icon"],["type","file","id","especialista-foto-perfil","accept","image/*","required","",3,"change"],["type","submit",1,"submit-btn"],[3,"value"],["src","https://cdn-icons-png.flaticon.com/512/1828/1828817.png","alt","Nueva especialidad",1,"input-icon"],["type","text","name","nuevaEspecialidad","placeholder","Escribe otra especialidad",3,"ngModelChange","ngModel"],["type","button",3,"click"]],template:function(i,o){i&1&&(x(0,"body"),qe(1,_4,10,0,"div",1)(2,b4,51,10,"form",2)(3,S4,43,11,"form",2),R()),i&2&&(U(),Te("ngIf",!o.tipoSeleccionado),U(),Te("ngIf",o.tipoSeleccionado==="paciente"),U(),Te("ngIf",o.tipoSeleccionado==="especialista"))},dependencies:[ns,ts,fD,gD,zr,oc,ud,Xo,es,Fi,Oi,Ni,ar,Fl,Br],styles:["body[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/General%2FHospital%20Bartel.jpeg?alt=media&token=3f838801-78f3-4374-86e0-db83ab37e701);background-size:cover;background-position:center;background-attachment:fixed;height:100vh;width:100vw;overflow:hidden}.tipo-seleccion[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:40px;margin-bottom:40px;max-width:500px;margin-left:auto;margin-right:auto;height:100%}.boton-tipo[_ngcontent-%COMP%]{background-color:#16243e;border:none;border-radius:15px;padding:20px 30px;cursor:pointer;transition:transform .3s,background-color .3s;text-align:center;font-weight:700;font-size:16px;color:#fff;display:flex;flex-direction:column;align-items:center;width:250px}.boton-tipo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:20%;margin-bottom:10px;transition:transform .3s}.boton-tipo[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#1bb3c1}.boton-tipo[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.btn-atras[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:12px;border:none;border-radius:8px;font-size:18px;cursor:pointer;width:100px;margin:0 auto 20px;display:block;text-align:center}.btn-atras[_ngcontent-%COMP%]:hover{background-color:#b8b8b8}.formulario[_ngcontent-%COMP%]{background-color:#1a1a2e;padding:30px;border-radius:12px;box-shadow:0 8px 15px #0003;width:500px;margin:30px auto auto;color:#fff}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:25px;background-color:#2a2a3c;padding:10px;border-radius:10px;font-family:Roboto,sans-serif}.input-icon[_ngcontent-%COMP%]{width:35px;height:35px;margin-right:15px;transition:transform .3s}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #444;border-radius:8px;background-color:transparent;color:#fff;font-size:16px;transition:border-color .3s}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1bb3c1;outline:none}button[_ngcontent-%COMP%]{background-color:#1bb3c1;color:#fff;padding:12px;border:none;border-radius:8px;font-size:18px;cursor:pointer;transition:background-color .3s,transform .3s;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#1aabcb;transform:scale(1.05)}.error-message[_ngcontent-%COMP%]{color:red;font-size:24px;text-align:center;margin-top:15px}.titulo-form[_ngcontent-%COMP%]{color:#fff;font-size:25px;text-align:center;margin-bottom:20px;font-family:Roboto,sans-serif}select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #444;border-radius:8px;background-color:#1a1a2e;color:#fff;font-size:16px;appearance:none;transition:border-color .3s}select[_ngcontent-%COMP%]:focus{border-color:#1bb3c1;outline:none}input[type=file][_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;z-index:2}.file-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#4caf50;color:#fff;padding:12px;border-radius:8px;cursor:pointer;font-weight:700;width:100%;text-align:center;position:relative;z-index:1;transition:background-color .3s,transform .3s}.file-label[_ngcontent-%COMP%]:hover{background-color:#45a049;transform:scale(1.05)}.preview-image[_ngcontent-%COMP%]{margin-top:15px;width:60px;height:60px;object-fit:cover;border-radius:8px;box-shadow:0 4px 8px #0000004d;margin-bottom:20px;margin-left:20px}"]});let t=e;return t})();function x4(t,e){t&1&&(x(0,"th"),L(1,"Estado"),R())}function R4(t,e){if(t&1&&(x(0,"td"),L(1),R()),t&2){let n=z().$implicit;U(),Bo(" ",n.aprobado?"Habilitado":"Inhabilitado"," ")}}function M4(t,e){if(t&1){let n=or();x(0,"button",6),me("click",function(){de(n);let i=z().$implicit,o=z(2);return he(o.cambiarEstadoEspecialista(i))}),L(1),R()}if(t&2){let n=z().$implicit;U(),Bo(" ",n.aprobado?"Inhabilitar":"Habilitar"," ")}}function P4(t,e){if(t&1&&(x(0,"tr")(1,"td"),L(2),R(),x(3,"td"),L(4),R(),x(5,"td"),L(6),R(),x(7,"td"),L(8),R(),x(9,"td"),L(10),R(),x(11,"td"),L(12),R(),qe(13,R4,2,1,"td",3),x(14,"td"),qe(15,M4,2,1,"button",8),R()()),t&2){let n=e.$implicit;U(2),it(n.tipo),U(2),it(n.nombre),U(2),it(n.apellido),U(2),it(n.correo),U(2),it(n.dni),U(2),it(n.edad),U(),Te("ngIf",n.tipo==="especialista"),U(2),Te("ngIf",n.tipo==="especialista")}}function N4(t,e){if(t&1&&(x(0,"div",21),L(1),R()),t&2){let n=z(3);U(),it(n.adminError)}}function O4(t,e){if(t&1&&(x(0,"div",22),L(1),R()),t&2){let n=z(3);U(),it(n.adminSuccess)}}function F4(t,e){if(t&1){let n=or();x(0,"form",9,1),me("ngSubmit",function(){de(n);let i=z(2);return he(i.registrarAdmin())}),x(2,"h3"),L(3,"Registrar Administrador"),R(),x(4,"div",10)(5,"input",11),Fe("ngModelChange",function(i){de(n);let o=z(2);return ke(o.adminNombre,i)||(o.adminNombre=i),he(i)}),R()(),x(6,"div",10)(7,"input",12),Fe("ngModelChange",function(i){de(n);let o=z(2);return ke(o.adminApellido,i)||(o.adminApellido=i),he(i)}),R()(),x(8,"div",10)(9,"input",13),Fe("ngModelChange",function(i){de(n);let o=z(2);return ke(o.adminEdad,i)||(o.adminEdad=i),he(i)}),R()(),x(10,"div",10)(11,"input",14),Fe("ngModelChange",function(i){de(n);let o=z(2);return ke(o.adminDni,i)||(o.adminDni=i),he(i)}),R()(),x(12,"div",10)(13,"input",15),Fe("ngModelChange",function(i){de(n);let o=z(2);return ke(o.adminMail,i)||(o.adminMail=i),he(i)}),R()(),x(14,"div",10)(15,"input",16),Fe("ngModelChange",function(i){de(n);let o=z(2);return ke(o.adminPassword,i)||(o.adminPassword=i),he(i)}),R()(),x(16,"div",10)(17,"input",17),me("change",function(i){de(n);let o=z(2);return he(o.onAdminImageSelected(i))}),R()(),x(18,"button",18),L(19,"Registrar Administrador"),R(),qe(20,N4,2,1,"div",19)(21,O4,2,1,"div",20),R()}if(t&2){let n=z(2);U(5),Oe("ngModel",n.adminNombre),U(2),Oe("ngModel",n.adminApellido),U(2),Oe("ngModel",n.adminEdad),U(2),Oe("ngModel",n.adminDni),U(2),Oe("ngModel",n.adminMail),U(2),Oe("ngModel",n.adminPassword),U(5),Te("ngIf",n.adminError),U(),Te("ngIf",n.adminSuccess)}}function k4(t,e){if(t&1){let n=or();x(0,"div")(1,"h2"),L(2,"Gesti\xF3n de Usuarios"),R(),x(3,"table")(4,"thead")(5,"tr")(6,"th"),L(7,"Tipo"),R(),x(8,"th"),L(9,"Nombre"),R(),x(10,"th"),L(11,"Apellido"),R(),x(12,"th"),L(13,"Mail"),R(),x(14,"th"),L(15,"DNI"),R(),x(16,"th"),L(17,"Edad"),R(),qe(18,x4,2,0,"th",3),x(19,"th"),L(20,"Acciones"),R()()(),x(21,"tbody"),qe(22,P4,16,8,"tr",4),R()(),x(23,"div",5)(24,"button",6),me("click",function(){de(n);let i=z();return he(i.mostrarFormularioAdmin=!i.mostrarFormularioAdmin)}),L(25),R()(),qe(26,F4,22,8,"form",7),R()}if(t&2){let n=z();U(18),Te("ngIf",n.tieneEspecialistas()),U(4),Te("ngForOf",n.usuarios),U(3),Bo(" ",n.mostrarFormularioAdmin?"Ocultar registro de administrador":"Registrar un usuario Administrador"," "),U(),Te("ngIf",n.mostrarFormularioAdmin)}}function L4(t,e){t&1&&(x(0,"p"),L(1,"No tiene acceso a esta secci\xF3n."),R())}var HS=(()=>{let e=class e{constructor(r){this.router=r,this.usuarios=[],this.usuarioActual=null,this.mostrarFormularioAdmin=!1,this.adminNombre="",this.adminApellido="",this.adminEdad="",this.adminDni="",this.adminMail="",this.adminPassword="",this.adminImagen=null,this.adminOriginalMail="",this.adminOriginalPassword="",this.adminError="",this.adminSuccess=""}ngOnInit(){return v(this,null,function*(){let r=kt(),i=Wt();us(r,o=>v(this,null,function*(){if(!o){this.router.navigate(["/login"]);return}let s=0,a=null;for(;s<10&&(a=yield _r(Gt(i,"administradores",o.uid)),!a.exists());)yield new Promise(u=>setTimeout(u,200)),s++;if(!a||!a.exists()){this.usuarioActual=null;return}this.usuarioActual={tipo:"administrador",uid:o.uid},yield this.cargarUsuarios()}))})}cargarUsuarios(){return v(this,null,function*(){let r=Wt();this.usuarios=[],(yield Bc(jc(r,"pacientes"))).forEach(a=>{this.usuarios.push(be(V({},a.data()),{tipo:"paciente",uid:a.id}))}),(yield Bc(jc(r,"especialistas"))).forEach(a=>{this.usuarios.push(be(V({},a.data()),{tipo:"especialista",uid:a.id}))}),(yield Bc(jc(r,"administradores"))).forEach(a=>{this.usuarios.push(be(V({},a.data()),{tipo:"administrador",uid:a.id}))})})}tieneEspecialistas(){return this.usuarios.some(r=>r.tipo==="especialista")}cambiarEstadoEspecialista(r){return v(this,null,function*(){let i=Wt(),o=Gt(i,"especialistas",r.uid);yield $_(o,{aprobado:!r.aprobado}),yield this.cargarUsuarios()})}registrarAdmin(){return v(this,null,function*(){if(this.adminError="",this.adminSuccess="",!this.adminNombre||!this.adminApellido||!this.adminEdad||!this.adminDni||!this.adminMail||!this.adminPassword||!this.adminImagen){this.adminError="Todos los campos son obligatorios.";return}let r=kt(),i=Wt(),o=kh();try{let a=(yield as(r,this.adminMail,this.adminPassword)).user;yield cs(a);let u=Vs(o,`imagenes/Administradores/${a.uid}_${Date.now()}.jpg`);yield ks(u,this.adminImagen);let l=yield Ls(u),h={nombre:this.adminNombre,apellido:this.adminApellido,edad:Number(this.adminEdad),dni:this.adminDni,correo:this.adminMail,imagenPerfil:[l]},p=Gt(i,"administradores",a.uid);yield $c(p,h),this.adminSuccess="Administrador registrado correctamente.",this.adminNombre="",this.adminApellido="",this.adminEdad="",this.adminDni="",this.adminMail="",this.adminPassword="",this.adminImagen=null,yield this.cargarUsuarios()}catch(s){this.adminError=s.message||"Error al crear administrador"}})}onAdminImageSelected(r){let i=r.target;i.files&&i.files.length>0&&(this.adminImagen=i.files[0])}};e.\u0275fac=function(i){return new(i||e)(q(Ot))},e.\u0275cmp=Pt({type:e,selectors:[["app-usuarios"]],standalone:!0,features:[Nt],decls:3,vars:2,consts:[["noAcceso",""],["adminForm","ngForm"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"boton-centrado"],[3,"click"],["class","form-admin",3,"ngSubmit",4,"ngIf"],[3,"click",4,"ngIf"],[1,"form-admin",3,"ngSubmit"],[1,"input-container"],["type","text","name","adminNombre","placeholder","Nombre","required","",3,"ngModelChange","ngModel"],["type","text","name","adminApellido","placeholder","Apellido","required","",3,"ngModelChange","ngModel"],["type","number","name","adminEdad","placeholder","Edad","required","",3,"ngModelChange","ngModel"],["type","text","name","adminDni","placeholder","DNI","required","",3,"ngModelChange","ngModel"],["type","email","name","adminMail","placeholder","Mail","required","",3,"ngModelChange","ngModel"],["type","password","name","adminPassword","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","file","accept","image/*","required","",3,"change"],["type","submit"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[1,"error"],[1,"success"]],template:function(i,o){if(i&1&&qe(0,k4,27,4,"div",2)(1,L4,2,0,"ng-template",null,0,Pb),i&2){let s=xb(2);Te("ngIf",(o.usuarioActual==null?null:o.usuarioActual.tipo)==="administrador")("ngIfElse",s)}},dependencies:[ns,ts,zr,oc,Xo,es,Fi,Oi,Ni,ar,Fl,Br],styles:["[_nghost-%COMP%]{display:block;padding:2rem;background:#f4f8fb;min-height:100vh}h3[_ngcontent-%COMP%]{color:#1976d2;margin-top:2rem;margin-bottom:1rem;font-size:1.35rem;font-weight:700;text-align:center;letter-spacing:.5px}.form-admin[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;width:100%;margin-bottom:1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;margin-bottom:2.5rem;background:#fff;box-shadow:0 4px 16px #2c3e501a;border-radius:12px;overflow:hidden}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem 1.2rem;text-align:left}th[_ngcontent-%COMP%]{background:#e3eafc;color:#1976d2;font-weight:700;border-bottom:2px solid #d1d9e6;font-size:1.08rem}tr[_ngcontent-%COMP%]{border-bottom:1px solid #f1f1f1;transition:background .2s}tr[_ngcontent-%COMP%]:hover{background:#f0f7ff}td[_ngcontent-%COMP%]{vertical-align:middle;font-size:1.02rem}button[_ngcontent-%COMP%]{padding:.45rem 1.1rem;border:none;border-radius:5px;background:#1976d2;color:#fff;cursor:pointer;font-weight:500;font-size:1rem;transition:background .2s,box-shadow .2s;box-shadow:0 2px 6px #1976d214}button[_ngcontent-%COMP%]:hover{background:#125ea7;box-shadow:0 4px 12px #1976d221}form[_ngcontent-%COMP%]{background:#fff;padding:2.2rem 2.5rem 1.5rem;border-radius:14px;box-shadow:0 6px 24px #2c3e5021;display:flex;flex-wrap:wrap;gap:1.1rem;align-items:flex-end;margin-bottom:2rem;border:1.5px solid #e3e8ee;position:relative}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:.7rem 1rem;border:1.5px solid #bfc9d1;border-radius:6px;font-size:1.05rem;outline:none;background:#f8fafb;transition:border .2s,box-shadow .2s}select[_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#1976d2;background:#f0f7ff;box-shadow:0 2px 8px #1976d214}input[type=file][_ngcontent-%COMP%]{margin-top:.5rem;font-size:1rem;background:#f8fafb;border-radius:6px;border:1.5px solid #bfc9d1;padding:.5rem}button[type=submit][_ngcontent-%COMP%]{padding:.8rem 1.5rem;background:#43a047;color:#fff;border:none;border-radius:6px;font-weight:700;cursor:pointer;transition:background .2s,box-shadow .2s;margin-top:.7rem;font-size:1.08rem;box-shadow:0 2px 8px #43a04717}.form-admin[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{display:block;margin:1rem auto 0}button[type=submit][_ngcontent-%COMP%]:hover{background:#357a38;box-shadow:0 4px 16px #43a04721}p[_ngcontent-%COMP%]{color:#c62828;font-weight:500;margin-top:1rem;text-align:center;font-size:1rem}.error[_ngcontent-%COMP%]{color:#c62828;font-weight:500;margin-top:.5rem;text-align:center;font-size:1rem}.success[_ngcontent-%COMP%]{color:#388e3c;font-weight:500;margin-top:.5rem;text-align:center;font-size:1rem}@media (max-width: 700px){.form-admin[_ngcontent-%COMP%]{padding:1rem;max-width:100%}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:.97rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.6rem .5rem}}.form-admin[_ngcontent-%COMP%]{background:#fff;padding:2.2rem 2.5rem 1.5rem;border-radius:14px;box-shadow:0 6px 24px #2c3e5021;display:flex;flex-direction:column;gap:1.1rem;max-width:430px;margin:2.5rem auto 0;border:1.5px solid #e3e8ee;position:relative}.input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:.3rem}h2[_ngcontent-%COMP%]{color:#1976d2;margin-bottom:2rem;font-size:2.2rem;font-weight:700;text-align:center;letter-spacing:1px}.boton-centrado[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1rem}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;box-sizing:border-box}"]});let t=e;return t})();var qS=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:HC},{path:"login",component:wS},{path:"registro",component:$S},{path:"usuarios",component:HS},{path:"**",component:qC}];var ro=new er("ANGULARFIRE2_VERSION");function Vh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Wc=(t,e)=>{let n=e?[e]:md(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},js=class{constructor(){return Wc(V4)}},V4="app-check";function Us(){}var Lh=class{zone;delegate;constructor(e,n=Sf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},e0=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Us,{},Us,Us)),n.pipe(tt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Bs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Lh(Zone.current)),this.insideAngular=n.run(()=>new Lh(Zone.current,Af)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ge(Re))};static \u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Uh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function U4(t){return Uh().ngZone.runOutsideAngular(()=>t())}function no(t){return Uh().ngZone.run(()=>t())}function j4(t){return B4(Uh())(t)}function B4(t){return function(n){return n=n.lift(new e0(t.ngZone)),n.pipe(Sr(t.outsideAngular),Ar(t.insideAngular))}}var $4=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),no(()=>t.apply(void 0,r))},$s=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=no(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Us,{},Us,Us))),r[o]=$4(r[o],n));let i=U4(()=>t.apply(this,r));if(!e)if(i instanceof _e){let o=Uh();return i.pipe(Sr(o.outsideAngular),Ar(o.insideAngular))}else return no(()=>i);return i instanceof _e?i.pipe(j4):i instanceof Promise?no(()=>new Promise((o,s)=>i.then(a=>no(()=>o(a)),a=>no(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:no(()=>i)};var wr=class{constructor(e){return e}},io=class{constructor(){return md()}};function H4(t){return t&&t.length===1?t[0]:new wr(Kr())}var t0=new X("angularfire2._apps"),q4={provide:wr,useFactory:H4,deps:[[new Tt,t0]]},z4={provide:io,deps:[[new Tt,t0]]};function G4(t){return(e,n)=>{let r=n.get(kr);ze("angularfire",ro.full,"core"),ze("angularfire",ro.full,"app"),ze("angular",Nb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new wr(i)}}function zS(t,...e){return Tn([q4,z4,{provide:t0,useFactory:G4(t),multi:!0,deps:[Re,Zt,Bs,...e]}])}var GS=$s(Ui,!0);var WS="auth",Kc=class{constructor(e){return e}},Qc=class{constructor(){return Wc(WS)}};var n0=new X("angularfire2.auth-instances");function W4(t,e){let n=Vh(WS,t,e);return n&&new Kc(n)}function K4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Kc(r)}}var Q4={provide:Qc,deps:[[new Tt,n0]]},Y4={provide:Kc,useFactory:W4,deps:[[new Tt,n0],wr]};function KS(t,...e){return ze("angularfire",ro.full,"auth"),Tn([Y4,Q4,{provide:n0,useFactory:K4(t),multi:!0,deps:[Re,Zt,Bs,io,[new Tt,js],...e]}])}var QS=$s(kt,!0);var Yc=class{constructor(e){return e}},YS="firestore",r0=class{constructor(){return Wc(YS)}};var i0=new X("angularfire2.firestore-instances");function J4(t,e){let n=Vh(YS,t,e);return n&&new Yc(n)}function Z4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Yc(r)}}var X4={provide:r0,deps:[[new Tt,i0]]},e$={provide:Yc,useFactory:J4,deps:[[new Tt,i0],wr]};function JS(t,...e){return ze("angularfire",ro.full,"fst"),Tn([e$,X4,{provide:i0,useFactory:Z4(t),multi:!0,deps:[Re,Zt,Bs,io,[new Tt,Qc],[new Tt,js],...e]}])}var ZS=$s(Wt,!0);var XS={providers:[$C(qS),zS(()=>GS({apiKey:"AIzaSyAYjraUOfAcEzoouAFEsc1yyFqF4fqx7-c",authDomain:"pp-labo-iv----bartel.firebaseapp.com",projectId:"pp-labo-iv----bartel",storageBucket:"pp-labo-iv----bartel.appspot.com",messagingSenderId:"483106802513",appId:"1:483106802513:web:3b6f0b00ea7e3ffa6ea170"})),KS(()=>QS()),JS(()=>ZS())]};var t$=t=>({"no-scroll":t});function n$(t,e){t&1&&(x(0,"button",10),L(1,"USUARIOS"),R())}var ex=(()=>{let e=class e{constructor(r){this.router=r,this.title="rutas",this.isLoggedIn=!1,this.esAdmin=!1}ngOnInit(){let r=kt(),i=Wt();us(r,o=>v(this,null,function*(){if(this.isLoggedIn=!!o,o){let s=yield _r(Gt(i,"administradores",o.uid));this.esAdmin=s.exists()}else this.esAdmin=!1}))}setLoginStatus(r){this.isLoggedIn=r}logout(){let r=kt();Ld(r).then(()=>{this.isLoggedIn=!1,this.router.navigate(["/login"])}).catch(i=>{console.error("Error al cerrar sesi\xF3n: ",i)})}updateLoginStatus(r){this.isLoggedIn=r}get isLoginOrRegister(){return this.router.url==="/login"||this.router.url==="/registro"}redirigirALogin(){this.isLoggedIn?this.logout():this.router.navigate(["/login"])}};e.\u0275fac=function(i){return new(i||e)(q(Ot))},e.\u0275cmp=Pt({type:e,selectors:[["app-root"]],standalone:!0,features:[Nt],decls:15,vars:5,consts:[[3,"ngClass"],[1,"nav"],[1,"button-group"],["routerLink","home","routerLinkActive","active-route"],["routerLink","usuarios","routerLinkActive","active-route",4,"ngIf"],[1,"menu-icon-container"],[1,"menu-icon-button",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FLogin.png?alt=media&token=67d89f2f-0da4-4f56-92e0-1e8137b2d9d9","alt","Login Icono",1,"menu-icon-image"],[1,"login-text"],[1,"form-container1"],["routerLink","usuarios","routerLinkActive","active-route"]],template:function(i,o){i&1&&(x(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),L(5,"INICIO"),R(),qe(6,n$,2,0,"button",4),R(),x(7,"div",5)(8,"button",6),me("click",function(){return o.redirigirALogin()}),ee(9,"img",7),x(10,"span",8),L(11),R()()()(),x(12,"div",9),ee(13,"router-outlet"),R(),ee(14,"router-outlet"),R()()),i&2&&(U(),Te("ngClass",Mb(3,t$,o.isLoginOrRegister)),U(5),Te("ngIf",o.esAdmin),U(5),it(o.isLoggedIn?"Salir":"Login"))},dependencies:[Im,Zl,BC,ar,Jb,Br],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:100vh;overflow-x:hidden}.form-container[_ngcontent-%COMP%], .form-container1[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:50px}.login-button-container[_ngcontent-%COMP%], .logout-button-container[_ngcontent-%COMP%], .register-button-container[_ngcontent-%COMP%]{position:absolute;top:10px}.button-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;position:relative;top:0;left:0}button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;background-color:#fff;margin:0 10px;color:#000;font-size:20px}button[_ngcontent-%COMP%]:hover{color:#00618a}.nav[_ngcontent-%COMP%]{width:100%;background-color:#fff;min-height:75px;box-shadow:0 4px 6px #0000001a;position:fixed;top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:space-between;font-family:Roboto,sans-serif;padding:0}.menu-icon-container[_ngcontent-%COMP%]{display:flex;align-items:center}.menu-icon[_ngcontent-%COMP%]{cursor:pointer;width:80px}.menu-icon-button[_ngcontent-%COMP%]{background-color:#fff;border:none;cursor:pointer;padding:12px 28px;border-radius:25px;display:flex;align-items:center;font-size:20px;font-weight:600;transition:background-color .3s,transform .3s;gap:10px}.menu-icon-button[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff;transform:scale(1.05)}.menu-icon-image[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain;transition:transform .3s}.menu-icon-button[_ngcontent-%COMP%]:hover   .menu-icon-image[_ngcontent-%COMP%]{transform:rotate(15deg)}.login-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;margin-left:8px}"]});let t=e;return t})();sC(ex,XS).catch(t=>console.error(t));
