var aM=Object.defineProperty,cM=Object.defineProperties;var uM=Object.getOwnPropertyDescriptors;var TI=Object.getOwnPropertySymbols,lM=Object.getPrototypeOf,dM=Object.prototype.hasOwnProperty,hM=Object.prototype.propertyIsEnumerable,fM=Reflect.get;var AI=(t,e,n)=>e in t?aM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})dM.call(e,n)&&AI(t,n,e[n]);if(TI)for(var n of TI(e))hM.call(e,n)&&AI(t,n,e[n]);return t},Ae=(t,e)=>cM(t,uM(e));var Ar=(t,e,n)=>fM(lM(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var SI=null;var Sf=1,Rf=Symbol("SIGNAL");function De(t){let e=SI;return SI=t,e}var RI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pM(t){if(!(Nf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Sf)){if(!t.producerMustRecompute(t)&&!Mf(t)){t.dirty=!1,t.lastCleanEpoch=Sf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Sf}}function MI(t){return t&&(t.nextProducerIndex=0),De(t)}function xI(t,e){if(De(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Nf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)xf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Mf(t){_u(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(pM(n),r!==n.version))return!0}return!1}function NI(t){if(_u(t),Nf(t))for(let e=0;e<t.producerNode.length;e++)xf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xf(t,e){if(gM(t),_u(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)xf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_u(i),i.producerIndexOfThis[r]=e}}function Nf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _u(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function gM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function mM(){throw new Error}var yM=mM;function PI(t){yM=t}function oe(t){return typeof t=="function"}function _o(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wu=_o(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function bi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof wu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{OI(o)}catch(s){e=e??[],s instanceof wu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)OI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&bi(n,e)}remove(e){let{_finalizers:n}=this;n&&bi(n,e),e instanceof t&&e._removeParent(this)}};ze.EMPTY=(()=>{let t=new ze;return t.closed=!0,t})();var Pf=ze.EMPTY;function Iu(t){return t instanceof ze||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function OI(t){oe(t)?t():t.unsubscribe()}var on={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wo={setTimeout(t,e,...n){let{delegate:r}=wo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=wo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Eu(t){wo.setTimeout(()=>{let{onUnhandledError:e}=on;if(e)e(t);else throw t})}function ua(){}var kI=Of("C",void 0,void 0);function FI(t){return Of("E",void 0,t)}function LI(t){return Of("N",t,void 0)}function Of(t,e,n){return{kind:t,value:e,error:n}}var Di=null;function Io(t){if(on.useDeprecatedSynchronousErrorHandling){let e=!Di;if(e&&(Di={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Di;if(Di=null,n)throw r}}else t()}function VI(t){on.useDeprecatedSynchronousErrorHandling&&Di&&(Di.errorThrown=!0,Di.error=t)}var Ci=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Iu(e)&&e.add(this)):this.destination=wM}static create(e,n,r){return new Eo(e,n,r)}next(e){this.isStopped?Ff(LI(e),this):this._next(e)}error(e){this.isStopped?Ff(FI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ff(kI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vM=Function.prototype.bind;function kf(t,e){return vM.call(t,e)}var Lf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){bu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){bu(r)}else bu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){bu(n)}}},Eo=class extends Ci{constructor(e,n,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&on.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&kf(e.next,o),error:e.error&&kf(e.error,o),complete:e.complete&&kf(e.complete,o)}):i=e}this.destination=new Lf(i)}};function bu(t){on.useDeprecatedSynchronousErrorHandling?VI(t):Eu(t)}function _M(t){throw t}function Ff(t,e){let{onStoppedNotification:n}=on;n&&wo.setTimeout(()=>n(t,e))}var wM={closed:!0,next:ua,error:_M,complete:ua};var bo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jt(t){return t}function Vf(...t){return jf(t)}function jf(t){return t.length===0?jt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var he=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=EM(n)?n:new Eo(n,r,i);return Io(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=jI(r),new r((i,o)=>{let s=new Eo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[bo](){return this}pipe(...n){return jf(n)(this)}toPromise(n){return n=jI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function jI(t){var e;return(e=t??on.Promise)!==null&&e!==void 0?e:Promise}function IM(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}function EM(t){return t&&t instanceof Ci||IM(t)&&Iu(t)}function Uf(t){return oe(t?.lift)}function ye(t){return e=>{if(Uf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e,n,r,i){return new Bf(t,e,n,r,i)}var Bf=class extends Ci{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Do(){return ye((t,e)=>{let n=null;t._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Co=class extends he{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Uf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let n=this.getSubject();e.add(this.source.subscribe(fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return Do()(this)}};var UI=_o(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _t=(()=>{class t extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Du(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new UI}next(n){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Pf:(this.currentObservers=null,o.push(n),new ze(()=>{this.currentObservers=null,bi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new he;return n.source=this,n}}return t.create=(e,n)=>new Du(e,n),t})(),Du=class extends _t{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Pf}};var ut=class extends _t{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $f={now(){return($f.delegate||Date).now()},delegate:void 0};var Cu=class extends ze{constructor(e,n){super()}schedule(e,n=0){return this}};var la={setInterval(t,e,...n){let{delegate:r}=la;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=la;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var To=class extends Cu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return la.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&la.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,bi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ao=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ao.now=$f.now;var So=class extends Ao{constructor(e,n=Ao.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var qf=new So(To);var Tu=class extends To{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Au=class extends So{};var zf=new Au(Tu);var Ut=new he(t=>t.complete());function BI(t){return t&&oe(t.schedule)}function $I(t){return t[t.length-1]}function Su(t){return oe($I(t))?t.pop():void 0}function Sr(t){return BI($I(t))?t.pop():void 0}function Hf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function qI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ti(t){return this instanceof Ti?(this.v=t,this):new Ti(t)}function HI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){r[m]&&(i[m]=function(I){return new Promise(function(S,P){o.push([m,I,S,P])>1||a(m,I)})})}function a(m,I){try{u(r[m](I))}catch(S){p(o[0][3],S)}}function u(m){m.value instanceof Ti?Promise.resolve(m.value.v).then(l,h):p(o[0][2],m)}function l(m){a("next",m)}function h(m){a("throw",m)}function p(m,I){m(I),o.shift(),o.length&&a(o[0][0],o[0][1])}}function GI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qI=="function"?qI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ru=t=>t&&typeof t.length=="number"&&typeof t!="function";function Mu(t){return oe(t?.then)}function xu(t){return oe(t[bo])}function Nu(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function Pu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ou=bM();function ku(t){return oe(t?.[Ou])}function Fu(t){return HI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ti(n.read());if(i)return yield Ti(void 0);yield yield Ti(r)}}finally{n.releaseLock()}})}function Lu(t){return oe(t?.getReader)}function He(t){if(t instanceof he)return t;if(t!=null){if(xu(t))return DM(t);if(Ru(t))return CM(t);if(Mu(t))return TM(t);if(Nu(t))return WI(t);if(ku(t))return AM(t);if(Lu(t))return SM(t)}throw Pu(t)}function DM(t){return new he(e=>{let n=t[bo]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CM(t){return new he(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function TM(t){return new he(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Eu)})}function AM(t){return new he(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function WI(t){return new he(e=>{RM(t,e).catch(n=>e.error(n))})}function SM(t){return WI(Fu(t))}function RM(t,e){var n,r,i,o;return zI(this,void 0,void 0,function*(){try{for(n=GI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Pt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Rr(t,e=0){return ye((n,r)=>{n.subscribe(fe(r,i=>Pt(r,t,()=>r.next(i),e),()=>Pt(r,t,()=>r.complete(),e),i=>Pt(r,t,()=>r.error(i),e)))})}function Mr(t,e=0){return ye((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function KI(t,e){return He(t).pipe(Mr(e),Rr(e))}function QI(t,e){return He(t).pipe(Mr(e),Rr(e))}function YI(t,e){return new he(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function JI(t,e){return new he(n=>{let r;return Pt(n,e,()=>{r=t[Ou](),Pt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Vu(t,e){if(!t)throw new Error("Iterable cannot be null");return new he(n=>{Pt(n,e,()=>{let r=t[Symbol.asyncIterator]();Pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ZI(t,e){return Vu(Fu(t),e)}function XI(t,e){if(t!=null){if(xu(t))return KI(t,e);if(Ru(t))return YI(t,e);if(Mu(t))return QI(t,e);if(Nu(t))return Vu(t,e);if(ku(t))return JI(t,e);if(Lu(t))return ZI(t,e)}throw Pu(t)}function Pe(t,e){return e?XI(t,e):He(t)}function Y(...t){let e=Sr(t);return Pe(t,e)}function Ro(t,e){let n=oe(t)?t:()=>t,r=i=>i.error(n());return new he(e?i=>e.schedule(r,0,i):r)}function Gf(t){return!!t&&(t instanceof he||oe(t.lift)&&oe(t.subscribe))}var Qn=_o(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ae(t,e){return ye((n,r)=>{let i=0;n.subscribe(fe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:MM}=Array;function xM(t,e){return MM(e)?t(...e):t(e)}function ju(t){return ae(e=>xM(t,e))}var{isArray:NM}=Array,{getPrototypeOf:PM,prototype:OM,keys:kM}=Object;function Uu(t){if(t.length===1){let e=t[0];if(NM(e))return{args:e,keys:null};if(FM(e)){let n=kM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function FM(t){return t&&typeof t=="object"&&PM(t)===OM}function Bu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function da(...t){let e=Sr(t),n=Su(t),{args:r,keys:i}=Uu(t);if(r.length===0)return Pe([],e);let o=new he(LM(r,e,i?s=>Bu(i,s):jt));return n?o.pipe(ju(n)):o}function LM(t,e,n=jt){return r=>{eE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)eE(e,()=>{let l=Pe(t[u],e),h=!1;l.subscribe(fe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function eE(t,e,n){t?Pt(n,t,e):e()}function tE(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},I=P=>l<r?S(P):u.push(P),S=P=>{o&&e.next(P),l++;let R=!1;He(n(P,h++)).subscribe(fe(e,O=>{i?.(O),o?I(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?Pt(e,s,()=>S(O)):S(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(fe(e,I,()=>{p=!0,m()})),()=>{a?.()}}function Ge(t,e,n=1/0){return oe(e)?Ge((r,i)=>ae((o,s)=>e(r,o,i,s))(He(t(r,i))),n):(typeof e=="number"&&(n=e),ye((r,i)=>tE(r,i,t,n)))}function xr(t=1/0){return Ge(jt,t)}function nE(){return xr(1)}function Mo(...t){return nE()(Pe(t,Sr(t)))}function $u(t){return new he(e=>{He(t()).subscribe(e)})}function Wf(...t){let e=Su(t),{args:n,keys:r}=Uu(t),i=new he(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;He(n[h]).subscribe(fe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Bu(r,a):a),o.complete())}))}});return e?i.pipe(ju(e)):i}function Ot(t,e){return ye((n,r)=>{let i=0;n.subscribe(fe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Nr(t){return ye((e,n)=>{let r=null,i=!1,o;r=e.subscribe(fe(n,void 0,void 0,s=>{o=He(t(s,Nr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function rE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(fe(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Yn(t,e){return oe(e)?Ge(t,e,1):Ge(t,1)}function Pr(t){return ye((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Jn(t){return t<=0?()=>Ut:ye((e,n)=>{let r=0;e.subscribe(fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Kf(t){return ae(()=>t)}function qu(t=VM){return ye((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function VM(){return new Qn}function Or(t){return ye((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function En(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ot((i,o)=>t(i,o,r)):jt,Jn(1),n?Pr(e):qu(()=>new Qn))}function xo(t){return t<=0?()=>Ut:ye((e,n)=>{let r=[];e.subscribe(fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Qf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ot((i,o)=>t(i,o,r)):jt,xo(1),n?Pr(e):qu(()=>new Qn))}function Yf(t,e){return ye(rE(t,e,arguments.length>=2,!0))}function Jf(...t){let e=Sr(t);return ye((n,r)=>{(e?Mo(t,n,e):Mo(t,n)).subscribe(r)})}function kt(t,e){return ye((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=o++;He(t(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zf(t){return ye((e,n)=>{He(t).subscribe(fe(n,()=>n.complete(),ua)),!n.closed&&e.subscribe(n)})}function We(t,e,n){let r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):jt}var $E="https://g.co/ng/security#xss",z=class extends Error{constructor(e,n){super(El(e,n)),this.code=e}};function El(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ba(t){return{toString:t}.toString()}var zu="__parameters__";function jM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function qE(t,e,n){return ba(()=>{let r=jM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(zu)?u[zu]:Object.defineProperty(u,zu,{value:[]})[zu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Zn=globalThis;function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function UM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Rt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Rt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function iE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var BM=Me({__forward_ref__:Me});function Vi(t){return t.__forward_ref__=Vi,t.toString=function(){return Rt(this())},t}function St(t){return zE(t)?t():t}function zE(t){return typeof t=="function"&&t.hasOwnProperty(BM)&&t.__forward_ref__===Vi}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function bl(t){return oE(t,GE)||oE(t,WE)}function HE(t){return bl(t)!==null}function oE(t,e){return t.hasOwnProperty(e)?t[e]:null}function $M(t){let e=t&&(t[GE]||t[WE]);return e||null}function sE(t){return t&&(t.hasOwnProperty(aE)||t.hasOwnProperty(qM))?t[aE]:null}var GE=Me({\u0275prov:Me}),aE=Me({\u0275inj:Me}),WE=Me({ngInjectableDef:Me}),qM=Me({ngInjectorDef:Me}),q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function KE(t){return t&&!!t.\u0275providers}var zM=Me({\u0275cmp:Me}),HM=Me({\u0275dir:Me}),GM=Me({\u0275pipe:Me}),WM=Me({\u0275mod:Me}),tl=Me({\u0275fac:Me}),ha=Me({__NG_ELEMENT_ID__:Me}),cE=Me({__NG_ENV_ID__:Me});function Vo(t){return typeof t=="string"?t:t==null?"":String(t)}function KM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Vo(t)}function QM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,t)}function ag(t,e){throw new z(-201,!1)}var de=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(de||{}),pp;function QE(){return pp}function Qt(t){let e=pp;return pp=t,e}function YE(t,e,n){let r=bl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&de.Optional)return null;if(e!==void 0)return e;ag(t,"Injector")}var YM={},fa=YM,gp="__NG_DI_FLAG__",nl="ngTempTokenPath",JM="ngTokenPath",ZM=/\n/gm,XM="\u0275",uE="__source",Fo;function ex(){return Fo}function kr(t){let e=Fo;return Fo=t,e}function tx(t,e=de.Default){if(Fo===void 0)throw new z(-203,!1);return Fo===null?YE(t,void 0,e):Fo.get(t,e&de.Optional?null:void 0,e)}function K(t,e=de.Default){return(QE()||tx)(St(t),e)}function k(t,e=de.Default){return K(t,Dl(e))}function Dl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mp(t){let e=[];for(let n=0;n<t.length;n++){let r=St(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=de.Default;for(let s=0;s<r.length;s++){let a=r[s],u=nx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function JE(t,e){return t[gp]=e,t.prototype[gp]=e,t}function nx(t){return t[gp]}function rx(t,e,n,r){let i=t[nl];throw e[uE]&&i.unshift(e[uE]),t.message=ix(`
`+t.message,i,n,r),t[JM]=i,t[nl]=null,t}function ix(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==XM?t.slice(2):t;let i=Rt(e);if(Array.isArray(e))i=e.map(Rt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Rt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ZM,`
  `)}`}var wt=JE(qE("Optional"),8);var cg=JE(qE("SkipSelf"),4);function jo(t,e){let n=t.hasOwnProperty(tl);return n?t[tl]:null}function ox(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function sx(t){return t.flat(Number.POSITIVE_INFINITY)}function ug(t,e){t.forEach(n=>Array.isArray(n)?ug(n,e):e(n))}function ZE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function rl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ax(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function cx(t,e,n){let r=Da(t,e);return r>=0?t[r|1]=n:(r=~r,ax(t,r,e,n)),r}function Xf(t,e){let n=Da(t,e);if(n>=0)return t[n|1]}function Da(t,e){return ux(t,e,1)}function ux(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Uo={},Yt=[],Bo=new q(""),XE=new q("",-1),e0=new q(""),il=class{get(e,n=fa){if(n===fa){let r=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw r.name="NullInjectorError",r}return n}},t0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(t0||{}),Cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Cn||{}),lt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(lt||{});function lx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function yp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];dx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function n0(t){return t===3||t===4||t===6}function dx(t){return t.charCodeAt(0)===64}function pa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?lE(t,n,i,null,e[++r]):lE(t,n,i,null,null))}}return t}function lE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var r0="ng-template";function hx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&lx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(lg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function lg(t){return t.type===4&&t.value!==r0}function fx(t,e,n){let r=t.type===4&&!n?r0:t.value;return e===r}function px(t,e,n){let r=4,i=t.attrs,o=i!==null?yx(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!sn(r)&&!sn(u))return!1;if(s&&sn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!fx(t,u,n)||u===""&&e.length===1){if(sn(r))return!1;s=!0}}else if(r&8){if(i===null||!hx(t,i,u,n)){if(sn(r))return!1;s=!0}}else{let l=e[++a],h=gx(u,i,lg(t),n);if(h===-1){if(sn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(sn(r))return!1;s=!0}}}}return sn(r)||s}function sn(t){return(t&1)===0}function gx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return vx(e,t)}function mx(t,e,n=!1){for(let r=0;r<e.length;r++)if(px(t,e[r],n))return!0;return!1}function yx(t){for(let e=0;e<t.length;e++){let n=t[e];if(n0(n))return e}return t.length}function vx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function dE(t,e){return t?":not("+e.trim()+")":e}function _x(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!sn(s)&&(e+=dE(o,i),i=""),r=s,o=o||!sn(r);n++}return i!==""&&(e+=dE(o,i)),e}function wx(t){return t.map(_x).join(",")}function Ix(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!sn(i))break;i=o}r++}return{attrs:e,classes:n}}function Be(t){return ba(()=>{let e=c0(t),n=Ae(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===t0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Cn.Emulated,styles:t.styles||Yt,_:null,schemas:t.schemas||null,tView:null,id:""});u0(n);let r=t.dependencies;return n.directiveDefs=fE(r,!1),n.pipeDefs=fE(r,!0),n.id=Dx(n),n})}function Ex(t){return Lr(t)||i0(t)}function bx(t){return t!==null}function Mn(t){return ba(()=>({type:t.type,bootstrap:t.bootstrap||Yt,declarations:t.declarations||Yt,imports:t.imports||Yt,exports:t.exports||Yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hE(t,e){if(t==null)return Uo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=lt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==lt.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Xe(t){return ba(()=>{let e=c0(t);return u0(e),e})}function Lr(t){return t[zM]||null}function i0(t){return t[HM]||null}function o0(t){return t[GM]||null}function s0(t){let e=Lr(t)||i0(t)||o0(t);return e!==null?e.standalone:!1}function a0(t,e){let n=t[WM]||null;if(!n&&e===!0)throw new Error(`Type ${Rt(t)} does not have '\u0275mod' property.`);return n}function c0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Uo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hE(t.inputs,e),outputs:hE(t.outputs),debugInfo:null}}function u0(t){t.features?.forEach(e=>e(t))}function fE(t,e){if(!t)return null;let n=e?o0:Ex;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(bx)}function Dx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Jt(t){return{\u0275providers:t}}function Cx(...t){return{\u0275providers:l0(!0,t),\u0275fromNgModule:!0}}function l0(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ug(e,s=>{let a=s;vp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&d0(i,o),n}function d0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];dg(i,o=>{e(o,r)})}}function vp(t,e,n,r){if(t=St(t),!t)return!1;let i=null,o=sE(t),s=!o&&Lr(t);if(!o&&!s){let u=t.ngModule;if(o=sE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)vp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ug(o.imports,h=>{vp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&d0(l,e)}if(!a){let l=jo(i)||(()=>new i);e({provide:i,useFactory:l,deps:Yt},i),e({provide:e0,useValue:i,multi:!0},i),e({provide:Bo,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;dg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function dg(t,e){for(let n of t)KE(n)&&(n=n.\u0275providers),Array.isArray(n)?dg(n,e):e(n)}var Tx=Me({provide:String,useValue:Me});function h0(t){return t!==null&&typeof t=="object"&&Tx in t}function Ax(t){return!!(t&&t.useExisting)}function Sx(t){return!!(t&&t.useFactory)}function $o(t){return typeof t=="function"}function Rx(t){return!!t.useClass}var Cl=new q(""),Qu={},Mx={},ep;function hg(){return ep===void 0&&(ep=new il),ep}var Mt=class{},ga=class extends Mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wp(e,s=>this.processProvider(s)),this.records.set(XE,No(void 0,this)),i.has("environment")&&this.records.set(Mt,No(void 0,this));let o=this.records.get(Cl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(e0,Yt,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=De(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),De(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=kr(this),r=Qt(void 0),i;try{return e()}finally{kr(n),Qt(r)}}get(e,n=fa,r=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cE))return e[cE](this);r=Dl(r);let i,o=kr(this),s=Qt(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=kx(e)&&bl(e);l&&this.injectableDefInScope(l)?u=No(_p(e),Qu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&de.Self?hg():this.parent;return n=r&de.Optional&&n===fa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[nl]=a[nl]||[]).unshift(Rt(e)),o)throw a;return rx(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(s),kr(o)}}resolveInjectorInitializers(){let e=De(null),n=kr(this),r=Qt(void 0),i;try{let o=this.get(Bo,Yt,de.Self);for(let s of o)s()}finally{kr(n),Qt(r),De(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=St(e);let n=$o(e)?e:St(e&&e.provide),r=Nx(e);if(!$o(e)&&e.multi===!0){let i=this.records.get(n);i||(i=No(void 0,Qu,!0),i.factory=()=>mp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=De(null);try{return n.value===Qu&&(n.value=Mx,n.value=n.factory()),typeof n.value=="object"&&n.value&&Ox(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{De(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=St(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _p(t){let e=bl(t),n=e!==null?e.factory:jo(t);if(n!==null)return n;if(t instanceof q)throw new z(204,!1);if(t instanceof Function)return xx(t);throw new z(204,!1)}function xx(t){if(t.length>0)throw new z(204,!1);let n=$M(t);return n!==null?()=>n.factory(t):()=>new t}function Nx(t){if(h0(t))return No(void 0,t.useValue);{let e=f0(t);return No(e,Qu)}}function f0(t,e,n){let r;if($o(t)){let i=St(t);return jo(i)||_p(i)}else if(h0(t))r=()=>St(t.useValue);else if(Sx(t))r=()=>t.useFactory(...mp(t.deps||[]));else if(Ax(t))r=()=>K(St(t.useExisting));else{let i=St(t&&(t.useClass||t.provide));if(Px(t))r=()=>new i(...mp(t.deps));else return jo(i)||_p(i)}return r}function No(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Px(t){return!!t.deps}function Ox(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function kx(t){return typeof t=="function"||typeof t=="object"&&t instanceof q}function wp(t,e){for(let n of t)Array.isArray(n)?wp(n,e):n&&KE(n)?wp(n.\u0275providers,e):e(n)}function ln(t,e){t instanceof ga&&t.assertNotDestroyed();let n,r=kr(t),i=Qt(void 0);try{return e()}finally{kr(r),Qt(i)}}function p0(){return QE()!==void 0||ex()!=null}function Fx(t){if(!p0())throw new z(-203,!1)}function Lx(t){return typeof t=="function"}var nr=0,ue=1,X=2,dt=3,an=4,dn=5,ol=6,ma=7,cn=8,qo=9,un=10,Ke=11,ya=12,pE=13,Wo=14,Tn=15,Ca=16,Po=17,Xn=18,Tl=19,g0=20,Fr=21,tp=22,Ri=23,Vr=25,m0=1;var Mi=7,sl=8,zo=9,Bt=10,fg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(fg||{});function Ai(t){return Array.isArray(t)&&typeof t[m0]=="object"}function rr(t){return Array.isArray(t)&&t[m0]===!0}function y0(t){return(t.flags&4)!==0}function Al(t){return t.componentOffset>-1}function pg(t){return(t.flags&1)===1}function jr(t){return!!t.template}function Vx(t){return(t[X]&512)!==0}var Ip=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function v0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ir(){return _0}function _0(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ux),jx}ir.ngInherit=!0;function jx(){let t=I0(this),e=t?.current;if(e){let n=t.previous;if(n===Uo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ux(t,e,n,r,i){let o=this.declaredInputs[r],s=I0(t)||Bx(t,{previous:Uo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ip(l&&l.currentValue,n,u===Uo),v0(t,e,i,n)}var w0="__ngSimpleChanges__";function I0(t){return t[w0]||null}function Bx(t,e){return t[w0]=e}var gE=null;var bn=function(t,e,n){gE?.(t,e,n)},$x="svg",qx="math",zx=!1;function Hx(){return zx}function An(t){for(;Array.isArray(t);)t=t[nr];return t}function E0(t,e){return An(e[t])}function Zt(t,e){return An(e[t.index])}function b0(t,e){return t.data[e]}function $r(t,e){let n=e[t];return Ai(n)?n:n[nr]}function Gx(t){return(t[X]&4)===4}function gg(t){return(t[X]&128)===128}function Wx(t){return rr(t[dt])}function al(t,e){return e==null?null:t[e]}function D0(t){t[Po]=0}function Kx(t){t[X]&1024||(t[X]|=1024,gg(t)&&va(t))}function Qx(t,e){for(;t>0;)e=e[Wo],t--;return e}function mg(t){return!!(t[X]&9216||t[Ri]?.dirty)}function Ep(t){t[un].changeDetectionScheduler?.notify(1),mg(t)?va(t):t[X]&64&&(Hx()?(t[X]|=1024,va(t)):t[un].changeDetectionScheduler?.notify())}function va(t){t[un].changeDetectionScheduler?.notify();let e=_a(t);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!gg(e)));)e=_a(e)}function C0(t,e){if((t[X]&256)===256)throw new z(911,!1);t[Fr]===null&&(t[Fr]=[]),t[Fr].push(e)}function Yx(t,e){if(t[Fr]===null)return;let n=t[Fr].indexOf(e);n!==-1&&t[Fr].splice(n,1)}function _a(t){let e=t[dt];return rr(e)?e[dt]:e}var le={lFrame:P0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Jx(){return le.lFrame.elementDepthCount}function Zx(){le.lFrame.elementDepthCount++}function Xx(){le.lFrame.elementDepthCount--}function T0(){return le.bindingsEnabled}function eN(){return le.skipHydrationRootTNode!==null}function tN(t){return le.skipHydrationRootTNode===t}function nN(){le.skipHydrationRootTNode=null}function Ee(){return le.lFrame.lView}function ht(){return le.lFrame.tView}function Oe(t){return le.lFrame.contextLView=t,t[cn]}function ke(t){return le.lFrame.contextLView=null,t}function xt(){let t=A0();for(;t!==null&&t.type===64;)t=t.parent;return t}function A0(){return le.lFrame.currentTNode}function rN(){let t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ta(t,e){let n=le.lFrame;n.currentTNode=t,n.isParent=e}function S0(){return le.lFrame.isParent}function iN(){le.lFrame.isParent=!1}function oN(){let t=le.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function sN(){return le.lFrame.bindingIndex}function aN(t){return le.lFrame.bindingIndex=t}function Sl(){return le.lFrame.bindingIndex++}function R0(t){let e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cN(){return le.lFrame.inI18n}function uN(t,e){let n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,bp(e)}function lN(){return le.lFrame.currentDirectiveIndex}function bp(t){le.lFrame.currentDirectiveIndex=t}function dN(t){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function M0(){return le.lFrame.currentQueryIndex}function yg(t){le.lFrame.currentQueryIndex=t}function hN(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[dn]:null}function x0(t,e,n){if(n&de.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&de.Host);)if(i=hN(o),i===null||(o=o[Wo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=le.lFrame=N0();return r.currentTNode=e,r.lView=t,!0}function vg(t){let e=N0(),n=t[ue];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function N0(){let t=le.lFrame,e=t===null?null:t.child;return e===null?P0(t):e}function P0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function O0(){let t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var k0=O0;function _g(){let t=O0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fN(t){return(le.lFrame.contextLView=Qx(t,le.lFrame.contextLView))[cn]}function ji(){return le.lFrame.selectedIndex}function xi(t){le.lFrame.selectedIndex=t}function Rl(){let t=le.lFrame;return b0(t.tView,t.selectedIndex)}function pN(){return le.lFrame.currentNamespace}var F0=!0;function wg(){return F0}function Ig(t){F0=t}function gN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=_0(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Eg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Yu(t,e,n){L0(t,e,3,n)}function Ju(t,e,n,r){(t[X]&3)===n&&L0(t,e,n,r)}function np(t,e){let n=t[X];(n&3)===e&&(n&=16383,n+=1,t[X]=n)}function L0(t,e,n,r){let i=r!==void 0?t[Po]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Po]+=65536),(a<o||o==-1)&&(mN(t,n,e,u),t[Po]=(t[Po]&4294901760)+u+2),u++}function mE(t,e){bn(4,t,e);let n=De(null);try{e.call(t)}finally{De(n),bn(5,t,e)}}function mN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[X]>>14<t[Po]>>16&&(t[X]&3)===e&&(t[X]+=16384,mE(a,o)):mE(a,o)}var Lo=-1,Ni=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function yN(t){return t instanceof Ni}function vN(t){return(t.flags&8)!==0}function _N(t){return(t.flags&16)!==0}function V0(t){return t!==Lo}function cl(t){return t&32767}function wN(t){return t>>16}function ul(t,e){let n=wN(t),r=e;for(;n>0;)r=r[Wo],n--;return r}var Dp=!0;function yE(t){let e=Dp;return Dp=t,e}var IN=256,j0=IN-1,U0=5,EN=0,Dn={};function bN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ha)&&(r=n[ha]),r==null&&(r=n[ha]=EN++);let i=r&j0,o=1<<i;e.data[t+(i>>U0)]|=o}function ll(t,e){let n=B0(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,rp(r.data,t),rp(e,null),rp(r.blueprint,null));let i=bg(t,e),o=t.injectorIndex;if(V0(i)){let s=cl(i),a=ul(i,e),u=a[ue].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function rp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function B0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function bg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=G0(i),r===null)return Lo;if(n++,i=i[Wo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Lo}function Cp(t,e,n){bN(t,e,n)}function DN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(n0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function $0(t,e,n){if(n&de.Optional||t!==void 0)return t;ag(e,"NodeInjector")}function q0(t,e,n,r){if(n&de.Optional&&r===void 0&&(r=null),!(n&(de.Self|de.Host))){let i=t[qo],o=Qt(void 0);try{return i?i.get(e,r,n&de.Optional):YE(e,r,n&de.Optional)}finally{Qt(o)}}return $0(r,e,n)}function z0(t,e,n,r=de.Default,i){if(t!==null){if(e[X]&2048&&!(r&de.Self)){let s=SN(t,e,n,r,Dn);if(s!==Dn)return s}let o=H0(t,e,n,r,Dn);if(o!==Dn)return o}return q0(e,n,r,i)}function H0(t,e,n,r,i){let o=TN(n);if(typeof o=="function"){if(!x0(e,t,r))return r&de.Host?$0(i,n,r):q0(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&de.Optional))ag(n);else return s}finally{k0()}}else if(typeof o=="number"){let s=null,a=B0(t,e),u=Lo,l=r&de.Host?e[Tn][dn]:null;for((a===-1||r&de.SkipSelf)&&(u=a===-1?bg(t,e):e[a+8],u===Lo||!_E(r,!1)?a=-1:(s=e[ue],a=cl(u),e=ul(u,e)));a!==-1;){let h=e[ue];if(vE(o,a,h.data)){let p=CN(a,e,n,s,r,l);if(p!==Dn)return p}u=e[a+8],u!==Lo&&_E(r,e[ue].data[a+8]===l)&&vE(o,a,e)?(s=h,a=cl(u),e=ul(u,e)):a=-1}}return i}function CN(t,e,n,r,i,o){let s=e[ue],a=s.data[t+8],u=r==null?Al(a)&&Dp:r!=s&&(a.type&3)!==0,l=i&de.Host&&o===a,h=Zu(a,s,n,u,l);return h!==null?Pi(e,s,h,a):Dn}function Zu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let I=p;I<m;I++){let S=s[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=s[u];if(I&&jr(I)&&I.type===n)return u}return null}function Pi(t,e,n,r){let i=t[n],o=e.data;if(yN(i)){let s=i;s.resolving&&QM(KM(o[n]));let a=yE(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Qt(s.injectImpl):null,h=x0(t,r,de.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&gN(n,o[n],e)}finally{l!==null&&Qt(l),yE(a),s.resolving=!1,k0()}}return i}function TN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ha)?t[ha]:void 0;return typeof e=="number"?e>=0?e&j0:AN:e}function vE(t,e,n){let r=1<<t;return!!(n[e+(t>>U0)]&r)}function _E(t,e){return!(t&de.Self)&&!(t&de.Host&&e)}var Si=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return z0(this._tNode,this._lView,e,Dl(r),n)}};function AN(){return new Si(xt(),Ee())}function Ko(t){return ba(()=>{let e=t.prototype.constructor,n=e[tl]||Tp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[tl]||Tp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Tp(t){return zE(t)?()=>{let e=Tp(St(t));return e&&e()}:jo(t)}function SN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[X]&2048&&!(s[X]&512);){let a=H0(o,s,n,r|de.Self,Dn);if(a!==Dn)return a;let u=o.parent;if(!u){let l=s[g0];if(l){let h=l.get(n,Dn,r);if(h!==Dn)return h}u=G0(s),s=s[Wo]}o=u}return i}function G0(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[dn]:null}function Dg(t){return DN(xt(),t)}function wE(t,e=null,n=null,r){let i=W0(t,e,n,r);return i.resolveInjectorInitializers(),i}function W0(t,e=null,n=null,r,i=new Set){let o=[n||Yt,Cx(t)];return r=r||(typeof t=="object"?void 0:Rt(t)),new ga(o,e||hg(),r||null,i)}var Nt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return wE({name:""},i,r,"");{let o=r.name??"";return wE({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=fa,e.NULL=new il,e.\u0275prov=H({token:e,providedIn:"any",factory:()=>K(XE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var RN="ngOriginalError";function ip(t){return t[RN]}var Sn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ip(e);for(;n&&ip(n);)n=ip(n);return n||null}},K0=new q("",{providedIn:"root",factory:()=>k(Sn).handleError.bind(void 0)}),Cg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=MN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ap=class extends Cg{constructor(e){super(),this._lView=e}onDestroy(e){return C0(this._lView,e),()=>Yx(this._lView,e)}};function MN(){return new Ap(Ee())}function xN(){return Qo(xt(),Ee())}function Qo(t,e){return new $t(Zt(t,e))}var $t=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=xN;let t=e;return t})();function NN(t){return t instanceof $t?t.nativeElement:t}var Sp=class extends _t{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,p0()&&(this.destroyRef=k(Cg,{optional:!0})??void 0)}emit(e){let n=De(null);try{super.next(e)}finally{De(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=op(o),i&&(i=op(i)),s&&(s=op(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ze&&e.add(a),a}};function op(t){return e=>{setTimeout(t,void 0,e)}}var Ue=Sp;function PN(){return this._results[Symbol.iterator]()}var Rp=class t{get changes(){return this._changes??=new Ue}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=PN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=sx(e);(this._changesDetected=!ox(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Q0(t){return(t.flags&128)===128}var Y0=new Map,ON=0;function kN(){return ON++}function FN(t){Y0.set(t[Tl],t)}function LN(t){Y0.delete(t[Tl])}var IE="__ngContext__";function Oi(t,e){Ai(e)?(t[IE]=e[Tl],FN(e)):t[IE]=e}function J0(t){return X0(t[ya])}function Z0(t){return X0(t[an])}function X0(t){for(;t!==null&&!rr(t);)t=t[an];return t}var Mp;function eb(t){Mp=t}function VN(){if(Mp!==void 0)return Mp;if(typeof document<"u")return document;throw new z(210,!1)}var Tg=new q("",{providedIn:"root",factory:()=>jN}),jN="ng",Ag=new q(""),Xt=new q("",{providedIn:"platform",factory:()=>"unknown"});var Sg=new q("",{providedIn:"root",factory:()=>VN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var UN="h",BN="b";var $N=()=>null;function Rg(t,e,n=!1){return $N(t,e,n)}var tb=!1,qN=new q("",{providedIn:"root",factory:()=>tb});var Hu;function zN(){if(Hu===void 0&&(Hu=null,Zn.trustedTypes))try{Hu=Zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hu}function HN(t){return zN()?.createScriptURL(t)||t}var Gu;function GN(){if(Gu===void 0&&(Gu=null,Zn.trustedTypes))try{Gu=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gu}function EE(t){return GN()?.createScriptURL(t)||t}var dl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$E})`}};function Aa(t){return t instanceof dl?t.changingThisBreaksApplicationSecurity:t}function Mg(t,e){let n=WN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$E})`)}return n===e}function WN(t){return t instanceof dl&&t.getTypeName()||null}var KN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nb(t){return t=String(t),t.match(KN)?t:"unsafe:"+t}var Ml=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ml||{});function Sa(t){let e=ib();return e?e.sanitize(Ml.URL,t)||"":Mg(t,"URL")?Aa(t):nb(Vo(t))}function QN(t){let e=ib();if(e)return EE(e.sanitize(Ml.RESOURCE_URL,t)||"");if(Mg(t,"ResourceURL"))return EE(Aa(t));throw new z(904,!1)}function xl(t){return HN(t[0])}function YN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?QN:Sa}function rb(t,e,n){return YN(e,n)(t)}function ib(){let t=Ee();return t&&t[un].sanitizer}function ob(t){return t instanceof Function?t():t}function JN(t){return(t??k(Nt)).get(Xt)==="browser"}var er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(er||{}),ZN;function xg(t,e){return ZN(t,e)}function Oo(t,e,n,r,i){if(r!=null){let o,s=!1;rr(r)?o=r:Ai(r)&&(s=!0,r=r[nr]);let a=An(r);t===0&&n!==null?i==null?lb(e,n,a):hl(e,n,a,i||null,!0):t===1&&n!==null?hl(e,n,a,i||null,!0):t===2?gP(e,a,s):t===3&&e.destroyNode(a),o!=null&&yP(e,t,o,n,i)}}function XN(t,e){return t.createText(e)}function eP(t,e,n){t.setValue(e,n)}function sb(t,e,n){return t.createElement(e,n)}function tP(t,e){ab(t,e),e[nr]=null,e[dn]=null}function nP(t,e,n,r,i,o){r[nr]=i,r[dn]=e,Nl(t,r,n,1,i,o)}function ab(t,e){e[un].changeDetectionScheduler?.notify(1),Nl(t,e,e[Ke],2,null,null)}function rP(t){let e=t[ya];if(!e)return sp(t[ue],t);for(;e;){let n=null;if(Ai(e))n=e[ya];else{let r=e[Bt];r&&(n=r)}if(!n){for(;e&&!e[an]&&e!==t;)Ai(e)&&sp(e[ue],e),e=e[dt];e===null&&(e=t),Ai(e)&&sp(e[ue],e),n=e&&e[an]}e=n}}function iP(t,e,n,r){let i=Bt+r,o=n.length;r>0&&(n[i-1][an]=e),r<o-Bt?(e[an]=n[i],ZE(n,Bt+r,e)):(n.push(e),e[an]=null),e[dt]=n;let s=e[Ca];s!==null&&n!==s&&oP(s,e);let a=e[Xn];a!==null&&a.insertView(t),Ep(e),e[X]|=128}function oP(t,e){let n=t[zo],i=e[dt][dt][Tn];e[Tn]!==i&&(t[X]|=fg.HasTransplantedViews),n===null?t[zo]=[e]:n.push(e)}function cb(t,e){let n=t[zo],r=n.indexOf(e);n.splice(r,1)}function xp(t,e){if(t.length<=Bt)return;let n=Bt+e,r=t[n];if(r){let i=r[Ca];i!==null&&i!==t&&cb(i,r),e>0&&(t[n-1][an]=r[an]);let o=rl(t,Bt+e);tP(r[ue],r);let s=o[Xn];s!==null&&s.detachView(o[ue]),r[dt]=null,r[an]=null,r[X]&=-129}return r}function ub(t,e){if(!(e[X]&256)){let n=e[Ke];n.destroyNode&&Nl(t,e,n,3,null,null),rP(e)}}function sp(t,e){if(e[X]&256)return;let n=De(null);try{e[X]&=-129,e[X]|=256,e[Ri]&&NI(e[Ri]),aP(t,e),sP(t,e),e[ue].type===1&&e[Ke].destroy();let r=e[Ca];if(r!==null&&rr(e[dt])){r!==e[dt]&&cb(r,e);let i=e[Xn];i!==null&&i.detachView(t)}LN(e)}finally{De(n)}}function sP(t,e){let n=t.cleanup,r=e[ma];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ma]=null);let i=e[Fr];if(i!==null){e[Fr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function aP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ni)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];bn(4,a,u);try{u.call(a)}finally{bn(5,a,u)}}else{bn(4,i,o);try{o.call(i)}finally{bn(5,i,o)}}}}}function cP(t,e,n){return uP(t,e.parent,n)}function uP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[nr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Cn.None||o===Cn.Emulated)return null}return Zt(r,n)}}function hl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function lb(t,e,n){t.appendChild(e,n)}function bE(t,e,n,r,i){r!==null?hl(t,e,n,r,i):lb(t,e,n)}function lP(t,e,n,r){t.removeChild(e,n,r)}function Ng(t,e){return t.parentNode(e)}function dP(t,e){return t.nextSibling(e)}function hP(t,e,n){return pP(t,e,n)}function fP(t,e,n){return t.type&40?Zt(t,n):null}var pP=fP,DE;function Pg(t,e,n,r){let i=cP(t,r,e),o=e[Ke],s=r.parent||e[dn],a=hP(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)bE(o,i,n[u],a,!1);else bE(o,i,n,a,!1);DE!==void 0&&DE(o,r,e,n,i)}function Xu(t,e){if(e!==null){let n=e.type;if(n&3)return Zt(e,t);if(n&4)return Np(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Xu(t,r);{let i=t[e.index];return rr(i)?Np(-1,i):An(i)}}else{if(n&32)return xg(e,t)()||An(t[e.index]);{let r=db(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_a(t[Tn]);return Xu(i,r)}else return Xu(t,e.next)}}}return null}function db(t,e){if(e!==null){let r=t[Tn][dn],i=e.projection;return r.projection[i]}return null}function Np(t,e){let n=Bt+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Xu(r,i)}return e[Mi]}function gP(t,e,n){let r=Ng(t,e);r&&lP(t,r,e,n)}function Og(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Oi(An(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Og(t,e,n.child,r,i,o,!1),Oo(e,t,i,a,o);else if(u&32){let l=xg(n,r),h;for(;h=l();)Oo(e,t,i,h,o);Oo(e,t,i,a,o)}else u&16?mP(t,e,r,n,i,o):Oo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Nl(t,e,n,r,i,o){Og(n,r,t.firstChild,e,i,o,!1)}function mP(t,e,n,r,i,o){let s=n[Tn],u=s[dn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Oo(e,t,i,h,o)}else{let l=u,h=s[dt];Q0(r)&&(l.flags|=128),Og(t,e,l,h,i,o,!0)}}function yP(t,e,n,r,i){let o=n[Mi],s=An(n);o!==s&&Oo(e,t,r,o,i);for(let a=Bt;a<n.length;a++){let u=n[a];Nl(u[ue],u,t,e,r,o)}}function vP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:er.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=er.Important),t.setStyle(n,r,i,o))}}function _P(t,e,n){t.setAttribute(e,"style",n)}function hb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function fb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&yp(t,e,r),i!==null&&hb(t,e,i),o!==null&&_P(t,e,o)}var xn={};function j(t=1){pb(ht(),Ee(),ji()+t,!1)}function pb(t,e,n,r){if(!r)if((e[X]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Yu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ju(e,o,0,n)}xi(n)}function J(t,e=de.Default){let n=Ee();if(n===null)return K(t,e);let r=xt();return z0(r,n,St(t),e)}function gb(){let t="invalid";throw new Error(t)}function mb(t,e,n,r,i,o){let s=De(null);try{let a=null;i&lt.SignalBased&&(a=e[r][Rf]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&lt.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):v0(e,a,r,o)}finally{De(s)}}function wP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xi(~i);else{let o=i,s=n[++r],a=n[++r];uN(s,o);let u=e[o];a(2,u)}}}finally{xi(-1)}}function Pl(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[nr]=i,p[X]=r|4|128|8|64,(l!==null||t&&t[X]&2048)&&(p[X]|=2048),D0(p),p[dt]=p[Wo]=t,p[cn]=n,p[un]=s||t&&t[un],p[Ke]=a||t&&t[Ke],p[qo]=u||t&&t[qo]||null,p[dn]=o,p[Tl]=kN(),p[ol]=h,p[g0]=l,p[Tn]=e.type==2?t[Tn]:p,p}function Ol(t,e,n,r,i){let o=t.data[e];if(o===null)o=IP(t,e,n,r,i),cN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=rN();o.injectorIndex=s===null?-1:s.injectorIndex}return Ta(o,!0),o}function IP(t,e,n,r,i){let o=A0(),s=S0(),a=s?o:o&&o.parent,u=t.data[e]=AP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function yb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vb(t,e,n,r,i){let o=ji(),s=r&2;try{xi(-1),s&&e.length>Vr&&pb(t,e,Vr,!1),bn(s?2:0,i),n(r,i)}finally{xi(o),bn(s?3:1,i)}}function _b(t,e,n){if(y0(e)){let r=De(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{De(r)}}}function wb(t,e,n){T0()&&(PP(t,e,n,Zt(n,e)),(n.flags&64)===64&&Cb(t,e,n))}function Ib(t,e,n=Zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Eb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=kg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function kg(t,e,n,r,i,o,s,a,u,l,h){let p=Vr+r,m=p+i,I=EP(p,m),S=typeof l=="function"?l():l;return I[ue]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function EP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:xn);return n}function bP(t,e,n,r){let o=r.get(qN,tb)||n===Cn.ShadowDom,s=t.selectRootElement(e,o);return DP(s),s}function DP(t){CP(t)}var CP=()=>null;function TP(t,e,n,r){let i=Sb(e);i.push(n),t.firstCreatePass&&Rb(t).push(r,i.length-1)}function AP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return eN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function CE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=lt.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?TE(r,n,l,a,u):TE(r,n,l,a)}return r}function TE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function SP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,I=m?m.inputs:null,S=m?m.outputs:null;u=CE(0,p.inputs,h,u,I),l=CE(1,p.outputs,h,l,S);let P=u!==null&&s!==null&&!lg(e)?zP(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function RP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Fg(t,e,n,r,i,o,s,a){let u=Zt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Lg(t,n,h,r,i),Al(e)&&MP(n,e.index)):e.type&3?(r=RP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function MP(t,e){let n=$r(e,t);n[X]&16||(n[X]|=64)}function bb(t,e,n,r){if(T0()){let i=r===null?null:{"":-1},o=kP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Db(t,e,n,s,i,a),i&&FP(n,r,i)}n.mergedAttrs=pa(n.mergedAttrs,n.attrs)}function Db(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Cp(ll(n,e),t,r[l].type);VP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=yb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=pa(n.mergedAttrs,h.hostAttrs),jP(t,n,e,u,h),LP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}SP(t,n,o)}function xP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;NP(s)!=a&&s.push(a),s.push(n,r,o)}}function NP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function PP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Al(n)&&UP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ll(n,e),Oi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=Pi(e,t,a,n);if(Oi(l,e),s!==null&&qP(e,a-i,l,u,n,s),jr(u)){let h=$r(n.index,e);h[cn]=Pi(e,t,a,n)}}}function Cb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=lN();try{xi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];bp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&OP(u,l)}}finally{xi(-1),bp(s)}}function OP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function kP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(mx(e,s.selectors,!1))if(r||(r=[]),jr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Pp(t,e,u)}else r.unshift(s),Pp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Pp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function FP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}}function LP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;jr(e)&&(n[""]=t)}}function VP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function jP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=jo(i.type,!0)),s=new Ni(o,jr(i),J);t.blueprint[r]=s,n[r]=s,xP(t,e,r,yb(t,n,i.hostVars,xn),i)}function UP(t,e,n){let r=Zt(e,t),i=Eb(n),o=t[un].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=kl(t,Pl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function BP(t,e,n,r,i,o){let s=Zt(t,e);$P(e[Ke],s,o,t.value,n,r,i)}function $P(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Vo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function qP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];mb(r,n,u,l,h,p)}}function zP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Tb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Ab(t,e){let n=t.contentQueries;if(n!==null){let r=De(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];yg(o),a.contentQueries(2,e[s],s)}}}finally{De(r)}}}function kl(t,e){return t[ya]?t[pE][an]=e:t[ya]=e,t[pE]=e,e}function Op(t,e,n){yg(0);let r=De(null);try{e(t,n)}finally{De(r)}}function Sb(t){return t[ma]||(t[ma]=[])}function Rb(t){return t.cleanup||(t.cleanup=[])}function Mb(t,e){let n=t[qo],r=n?n.get(Sn,null):null;r&&r.handleError(e)}function Lg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];mb(h,l,r,a,u,i)}}function xb(t,e,n){let r=E0(e,t);eP(t[Ke],r,n)}function HP(t,e){let n=$r(e,t),r=n[ue];GP(r,n);let i=n[nr];i!==null&&n[ol]===null&&(n[ol]=Rg(i,n[qo])),Vg(r,n,n[cn])}function GP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Vg(t,e,n){vg(e);try{let r=t.viewQuery;r!==null&&Op(1,r,n);let i=t.template;i!==null&&vb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Xn]?.finishViewCreation(t),t.staticContentQueries&&Ab(t,e),t.staticViewQueries&&Op(2,t.viewQuery,n);let o=t.components;o!==null&&WP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,_g()}}function WP(t,e){for(let n=0;n<e.length;n++)HP(t,e[n])}function KP(t,e,n,r){let i=De(null);try{let o=e.tView,a=t[X]&4096?4096:16,u=Pl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Ca]=l;let h=t[Xn];return h!==null&&(u[Xn]=h.createEmbeddedView(o)),Vg(o,u,n),u}finally{De(i)}}function AE(t,e){return!e||e.firstChild===null||Q0(t)}function QP(t,e,n,r=!0){let i=e[ue];if(iP(i,e,t,n),r){let s=Np(n,t),a=e[Ke],u=Ng(a,t[Mi]);u!==null&&nP(i,t[dn],a,e,u,s)}let o=e[ol];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function fl(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(An(o)),rr(o)&&YP(o,r);let s=n.type;if(s&8)fl(t,e,n.child,r);else if(s&32){let a=xg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=db(e,n);if(Array.isArray(a))r.push(...a);else{let u=_a(e[Tn]);fl(u[ue],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function YP(t,e){for(let n=Bt;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&fl(r[ue],r,i,e)}t[Mi]!==t[nr]&&e.push(t[Mi])}var Nb=[];function JP(t){return t[Ri]??ZP(t)}function ZP(t){let e=Nb.pop()??Object.create(eO);return e.lView=t,e}function XP(t){t.lView[Ri]!==t&&(t.lView=null,Nb.push(t))}var eO=Ae(U({},RI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{va(t.lView)},consumerOnSignalRead(){this.lView[Ri]=this}}),Pb=100;function Ob(t,e=!0,n=0){let r=t[un],i=r.rendererFactory,o=!1;o||i.begin?.();try{tO(t,n)}catch(s){throw e&&Mb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function tO(t,e){kp(t,e);let n=0;for(;mg(t);){if(n===Pb)throw new z(103,!1);n++,kp(t,1)}}function nO(t,e,n,r){let i=e[X];if((i&256)===256)return;let o=!1;!o&&e[un].inlineEffectRunner?.flush(),vg(e);let s=null,a=null;!o&&rO(t)&&(a=JP(e),s=MI(a));try{D0(e),aN(t.bindingStartIndex),n!==null&&vb(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Yu(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Ju(e,p,0,null),np(e,0)}if(iO(e),kb(e,0),t.contentQueries!==null&&Ab(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Yu(e,p)}else{let p=t.contentHooks;p!==null&&Ju(e,p,1),np(e,1)}wP(t,e);let l=t.components;l!==null&&Lb(e,l,0);let h=t.viewQuery;if(h!==null&&Op(2,h,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Yu(e,p)}else{let p=t.viewHooks;p!==null&&Ju(e,p,2),np(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[tp]){for(let p of e[tp])p();e[tp]=null}o||(e[X]&=-73)}catch(u){throw va(e),u}finally{a!==null&&(xI(a,s),XP(a)),_g()}}function rO(t){return t.type!==2}function kb(t,e){for(let n=J0(t);n!==null;n=Z0(n))for(let r=Bt;r<n.length;r++){let i=n[r];Fb(i,e)}}function iO(t){for(let e=J0(t);e!==null;e=Z0(e)){if(!(e[X]&fg.HasTransplantedViews))continue;let n=e[zo];for(let r=0;r<n.length;r++){let i=n[r],o=i[dt];Kx(i)}}}function oO(t,e,n){let r=$r(e,t);Fb(r,n)}function Fb(t,e){gg(t)&&kp(t,e)}function kp(t,e){let r=t[ue],i=t[X],o=t[Ri],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Mf(o)),o&&(o.dirty=!1),t[X]&=-9217,s)nO(r,t,r.template,t[cn]);else if(i&8192){kb(t,1);let a=r.components;a!==null&&Lb(t,a,1)}}function Lb(t,e,n){for(let r=0;r<e.length;r++)oO(t,e[r],n)}function jg(t){for(t[un].changeDetectionScheduler?.notify();t;){t[X]|=64;let e=_a(t);if(Vx(t)&&!e)return t;t=e}return null}var ki=class{get rootNodes(){let e=this._lView,n=e[ue];return fl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[cn]}set context(e){this._lView[cn]=e}get destroyed(){return(this._lView[X]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[dt];if(rr(e)){let n=e[sl],r=n?n.indexOf(this):-1;r>-1&&(xp(e,r),rl(n,r))}this._attachedToViewContainer=!1}ub(this._lView[ue],this._lView)}onDestroy(e){C0(this._lView,e)}markForCheck(){jg(this._cdRefInjectingView||this._lView)}detach(){this._lView[X]&=-129}reattach(){Ep(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,Ob(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ab(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e,Ep(this._lView)}},Fi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cO;let t=e;return t})(),sO=Fi,aO=class extends sO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=KP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ki(i)}};function cO(){return Ug(xt(),Ee())}function Ug(t,e){return t.type&4?new aO(e,t,Qo(t,e)):null}var A9=new RegExp(`^(\\d+)*(${BN}|${UN})*(.*)`);var uO=()=>null;function SE(t,e){return uO(t,e)}var pl=class{},Fp=class{},gl=class{};function lO(t){let e=Error(`No component factory found for ${Rt(t)}.`);return e[dO]=t,e}var dO="ngComponent";var Lp=class{resolveComponentFactory(e){throw lO(e)}},Fl=(()=>{let e=class e{};e.NULL=new Lp;let t=e;return t})(),wa=class{},or=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>hO();let t=e;return t})();function hO(){let t=Ee(),e=xt(),n=$r(e.index,t);return(Ai(n)?n:t)[Ke]}var fO=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),ap={};var RE=new Set;function Ll(t){RE.has(t)||(RE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ME(...t){}function pO(){let t=typeof Zn.requestAnimationFrame=="function",e=Zn[t?"requestAnimationFrame":"setTimeout"],n=Zn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=pO().nativeRequestAnimationFrame,yO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,gO,ME,ME);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},gO={};function Bg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mO(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Zn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vp(t),t.isCheckStableRunning=!0,Bg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vp(t))}function yO(t){let e=()=>{mO(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(vO(a))return n.invokeTask(i,o,s,a);try{return xE(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),NE(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return xE(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),NE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Vp(t),Bg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Vp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function xE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function NE(t){t._nesting--,Bg(t)}function vO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ko=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ko||{}),_O={destroy(){}};function $g(t,e){!e&&Fx($g);let n=e?.injector??k(Nt);if(!JN(n))return _O;Ll("NgAfterNextRender");let r=n.get(qg),i=r.handler??=new Up,o=e?.phase??ko.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(Cg).onDestroy(s),u=ln(n,()=>new jp(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var jp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(Ie),this.errorHandler=k(Sn,{optional:!0}),k(pl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Up=class{constructor(){this.executingCallbacks=!1,this.buckets={[ko.EarlyRead]:new Set,[ko.Write]:new Set,[ko.MixedReadWrite]:new Set,[ko.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},qg=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Bp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=iE(i,a);else if(o==2){let u=a,l=e[++s];r=iE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ml=class extends Fl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Lr(e);return new Ho(n,this.ngModule)}};function PE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function wO(t){let e=t.toLowerCase();return e==="svg"?$x:e==="math"?qx:null}var $p=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Dl(r);let i=this.injector.get(e,ap,r);return i!==ap||n===ap?i:this.parentInjector.get(e,n,r)}},Ho=class extends gl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=PE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return PE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=wx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=De(null);try{i=i||this.ngModule;let s=i instanceof Mt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new $p(e,s):e,u=a.get(wa,null);if(u===null)throw new z(407,!1);let l=a.get(fO,null),h=a.get(qg,null),p=a.get(pl,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},I=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",P=r?bP(I,r,this.componentDef.encapsulation,a):sb(I,S,wO(S)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let O=null;P!==null&&(O=Rg(P,a,!0));let G=kg(0,null,null,1,0,null,null,null,null,null,null),W=Pl(null,G,null,R,null,null,m,I,a,null,O);vg(W);let Z,Ne;try{let ie=this.componentDef,b,y=null;ie.findHostDirectiveDefs?(b=[],y=new Map,ie.findHostDirectiveDefs(ie,b,y),b.push(ie)):b=[ie];let _=IO(W,P),E=EO(_,P,ie,b,W,m,I);Ne=b0(G,Vr),P&&CO(I,ie,P,r),n!==void 0&&TO(Ne,this.ngContentSelectors,n),Z=DO(E,ie,b,y,W,[AO]),Vg(G,W,null)}finally{_g()}return new qp(this.componentType,Z,Qo(Ne,W),W,Ne)}finally{De(o)}}},qp=class extends Fp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ki(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Lg(o[ue],o,i,e,n),this.previousInputValues.set(e,n);let s=$r(this._tNode.index,o);jg(s)}}get injector(){return new Si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function IO(t,e){let n=t[ue],r=Vr;return t[r]=e,Ol(n,r,2,"#host",null)}function EO(t,e,n,r,i,o,s){let a=i[ue];bO(r,t,e,s);let u=null;e!==null&&(u=Rg(e,i[qo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Pl(i,Eb(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Pp(a,t,r.length-1),kl(i,p),i[t.index]=p}function bO(t,e,n,r){for(let i of t)e.mergedAttrs=pa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Bp(e,e.mergedAttrs,!0),n!==null&&fb(r,n,e))}function DO(t,e,n,r,i,o){let s=xt(),a=i[ue],u=Zt(s,i);Db(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=Pi(i,a,p,s);Oi(m,i)}Cb(a,i,s),u&&Oi(u,i);let l=Pi(i,a,s.directiveStart+s.componentOffset,s);if(t[cn]=i[cn]=l,o!==null)for(let h of o)h(l,e);return _b(a,s,i),l}function CO(t,e,n,r){if(r)yp(t,n,["ng-version","17.3.4"]);else{let{attrs:i,classes:o}=Ix(e.selectors[0]);i&&yp(t,n,i),o&&o.length>0&&hb(t,n,o.join(" "))}}function TO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function AO(){let t=xt();Eg(Ee()[ue],t)}var qr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=SO;let t=e;return t})();function SO(){let t=xt();return jb(t,Ee())}var RO=qr,Vb=class extends RO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qo(this._hostTNode,this._hostLView)}get injector(){return new Si(this._hostTNode,this._hostLView)}get parentInjector(){let e=bg(this._hostTNode,this._hostLView);if(V0(e)){let n=ul(e,this._hostLView),r=cl(e),i=n[ue].data[r+8];return new Si(i,n)}else return new Si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=OE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=SE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,AE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Lx(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Ho(Lr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Mt,null);P&&(o=P)}let h=Lr(u.componentType??{}),p=SE(this._lContainer,h?.id??null),m=p?.firstChild??null,I=u.create(l,i,m,o);return this.insertImpl(I.hostView,a,AE(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Wx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[dt],l=new Vb(u,u[dn],u[dt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return QP(s,i,o,r),e.attachToViewContainerRef(),ZE(cp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=OE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=xp(this._lContainer,n);r&&(rl(cp(this._lContainer),n),ub(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=xp(this._lContainer,n);return r&&rl(cp(this._lContainer),n)!=null?new ki(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function OE(t){return t[sl]}function cp(t){return t[sl]||(t[sl]=[])}function jb(t,e){let n,r=e[t.index];return rr(r)?n=r:(n=Tb(r,e,null,t),e[t.index]=n,kl(e,n)),xO(n,e,t,r),new Vb(n,t,e)}function MO(t,e){let n=t[Ke],r=n.createComment(""),i=Zt(e,t),o=Ng(n,i);return hl(n,o,r,dP(n,i),!1),r}var xO=OO,NO=()=>!1;function PO(t,e,n){return NO(t,e,n)}function OO(t,e,n,r){if(t[Mi])return;let i;n.type&8?i=An(r):i=MO(e,n),t[Mi]=i}var zp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Hp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)zg(e,n).matches!==null&&this.queries[n].setDirty()}},yl=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=$O(e):this.predicate=e}},Gp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Wp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,kO(n,o)),this.matchTNodeWithReadOption(e,n,Zu(n,e,o,!1,!1))}else r===Fi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Zu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===$t||i===qr||i===Fi&&n.type&4)this.addMatch(n.index,-2);else{let o=Zu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function kO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function FO(t,e){return t.type&11?Qo(t,e):t.type&4?Ug(t,e):null}function LO(t,e,n,r){return n===-1?FO(e,t):n===-2?VO(t,e,r):Pi(t,t[ue],n,e)}function VO(t,e,n){if(n===$t)return Qo(e,t);if(n===Fi)return Ug(e,t);if(n===qr)return jb(e,t)}function Ub(t,e,n,r){let i=e[Xn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(LO(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Kp(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Ub(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Bt;p<h.length;p++){let m=h[p];m[Ca]===m[dt]&&Kp(m[ue],m,l,r)}if(h[zo]!==null){let p=h[zo];for(let m=0;m<p.length;m++){let I=p[m];Kp(I[ue],I,l,r)}}}}}return r}function jO(t,e){return t[Xn].queries[e].queryList}function Bb(t,e,n){let r=new Rp((n&4)===4);return TP(t,e,r,r.destroy),(e[Xn]??=new Hp).queries.push(new zp(r))-1}function UO(t,e,n){let r=ht();return r.firstCreatePass&&($b(r,new yl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Bb(r,Ee(),e)}function BO(t,e,n,r){let i=ht();if(i.firstCreatePass){let o=xt();$b(i,new yl(e,n,r),o.index),qO(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Bb(i,Ee(),n)}function $O(t){return t.split(",").map(e=>e.trim())}function $b(t,e,n){t.queries===null&&(t.queries=new Gp),t.queries.track(new Wp(e,n))}function qO(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function zg(t,e){return t.queries.getByIndex(e)}function zO(t,e){let n=t[ue],r=zg(n,e);return r.crossesNgTemplate?Kp(n,t,e,[]):Ub(n,t,r,e)}function HO(t){return typeof t=="function"&&t[Rf]!==void 0}function qb(t){return HO(t)&&typeof t.set=="function"}function GO(t){return Object.getPrototypeOf(t.prototype).constructor}function sr(t){let e=GO(t.type),n=!0,r=[t];for(;e;){let i;if(jr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Wu(t.inputs),s.inputTransforms=Wu(t.inputTransforms),s.declaredInputs=Wu(t.declaredInputs),s.outputs=Wu(t.outputs);let a=i.hostBindings;a&&JO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&QO(t,u),l&&YO(t,l),WO(t,i),UM(t.outputs,i.outputs),jr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===sr&&(n=!1)}}e=Object.getPrototypeOf(e)}KO(r)}function WO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function KO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=pa(i.hostAttrs,n=pa(n,i.hostAttrs))}}function Wu(t){return t===Uo?{}:t===Yt?[]:t}function QO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function YO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function JO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Hg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ur=class{},Ia=class{};var Qp=class extends Ur{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ml(this);let i=a0(e);this._bootstrapComponents=ob(i.bootstrap),this._r3Injector=W0(e,n,[{provide:Ur,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver},...r],Rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yp=class extends Ia{constructor(e){super(),this.moduleType=e}create(e){return new Qp(this.moduleType,e,[])}};var vl=class extends Ur{constructor(e){super(),this.componentFactoryResolver=new ml(this),this.instance=null;let n=new ga([...e.providers,{provide:Ur,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver}],e.parent||hg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vl(t,e,n=null){return new vl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ui=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zb(t){return XO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ZO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function XO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function e1(t,e,n){return t[e]=n}function Br(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function t1(t,e,n,r){let i=Br(t,e,n);return Br(t,e+1,r)||i}function n1(t){return(t.flags&32)===32}function r1(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Ol(e,t,4,s||null,al(l,a));bb(e,n,h,al(l,u)),Eg(e,h);let p=h.tView=kg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Se(t,e,n,r,i,o,s,a){let u=Ee(),l=ht(),h=t+Vr,p=l.firstCreatePass?r1(h,l,u,e,n,r,i,o,s):l.data[h];Ta(p,!1);let m=i1(l,u,p,t);wg()&&Pg(l,u,m,p),Oi(m,u);let I=Tb(m,u,m,p);return u[h]=I,kl(u,I),PO(I,p,u),pg(p)&&wb(l,u,p),s!=null&&Ib(u,p,a),Se}var i1=o1;function o1(t,e,n,r){return Ig(!0),e[Ke].createComment("")}function Ra(t,e,n,r){let i=Ee(),o=Sl();if(Br(i,o,e)){let s=ht(),a=Rl();BP(a,i,t,e,n,r)}return Ra}function Hb(t,e,n,r){return Br(t,Sl(),n)?e+Vo(n)+r:xn}function s1(t,e,n,r,i,o){let s=sN(),a=t1(t,s,n,i);return R0(2),a?e+Vo(n)+r+Vo(i)+o:xn}function Ku(t,e){return t<<17|e<<2}function Li(t){return t>>17&32767}function a1(t){return(t&2)==2}function c1(t,e){return t&131071|e<<17}function Jp(t){return t|2}function Go(t){return(t&131068)>>2}function up(t,e){return t&-131069|e<<2}function u1(t){return(t&1)===1}function Zp(t){return t|1}function l1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Li(s),u=Go(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Da(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Li(t[a+1]);t[r+1]=Ku(m,a),m!==0&&(t[m+1]=up(t[m+1],r)),t[a+1]=c1(t[a+1],r)}else t[r+1]=Ku(a,0),a!==0&&(t[a+1]=up(t[a+1],r)),a=r;else t[r+1]=Ku(u,0),a===0?a=r:t[u+1]=up(t[u+1],r),u=r;l&&(t[r+1]=Jp(t[r+1])),kE(t,h,r,!0),kE(t,h,r,!1),d1(e,h,t,r,o),s=Ku(a,u),o?e.classBindings=s:e.styleBindings=s}function d1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Da(o,e)>=0&&(n[r+1]=Zp(n[r+1]))}function kE(t,e,n,r){let i=t[n+1],o=e===null,s=r?Li(i):Go(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];h1(u,e)&&(a=!0,t[s+1]=r?Zp(l):Jp(l)),s=r?Li(l):Go(l)}a&&(t[n+1]=r?Jp(i):Zp(i))}function h1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Da(t,e)>=0:!1}function ne(t,e,n){let r=Ee(),i=Sl();if(Br(r,i,e)){let o=ht(),s=Rl();Fg(o,s,r,t,e,r[Ke],n,!1)}return ne}function FE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Lg(t,n,o[s],s,r)}function Yo(t,e){return f1(t,e,null,!0),Yo}function f1(t,e,n,r){let i=Ee(),o=ht(),s=R0(2);if(o.firstUpdatePass&&g1(o,t,s,r),e!==xn&&Br(i,s,e)){let a=o.data[ji()];w1(o,a,i,i[Ke],t,i[s+1]=I1(e,n),r,s)}}function p1(t,e){return e>=t.expandoStartIndex}function g1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ji()],s=p1(t,n);E1(o,r)&&e===null&&!s&&(e=!1),e=m1(i,o,e,r),l1(i,o,e,n,s,r)}}function m1(t,e,n,r){let i=dN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=lp(null,t,e,n,r),n=Ea(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=lp(i,t,e,n,r),o===null){let u=y1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=lp(null,t,e,u[1],r),u=Ea(u,e.attrs,r),v1(t,e,r,u))}else o=_1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function y1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Go(r)!==0)return t[Li(r)]}function v1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Li(i)]=r}function _1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ea(r,s,n)}return Ea(r,e.attrs,n)}function lp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ea(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ea(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),cx(t,s,n?!0:e[++o]))}return t===void 0?null:t}function w1(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=u1(l)?LE(u,e,n,i,Go(l),s):void 0;if(!_l(h)){_l(o)||a1(l)&&(o=LE(u,null,n,i,a,s));let p=E0(ji(),n);vP(r,s,p,i,o)}}function LE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===xn&&(m=p?Yt:void 0);let I=p?Xf(m,r):h===r?m:void 0;if(l&&!_l(I)&&(I=Xf(u,r)),_l(I)&&(a=I,s))return a;let S=t[i+1];i=s?Li(S):Go(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Xf(u,r))}return a}function _l(t){return t!==void 0}function I1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Rt(Aa(t)))),t}function E1(t,e){return(t.flags&(e?8:16))!==0}function b1(t,e,n,r,i,o){let s=e.consts,a=al(s,i),u=Ol(e,t,2,r,a);return bb(e,n,u,al(s,o)),u.attrs!==null&&Bp(u,u.attrs,!1),u.mergedAttrs!==null&&Bp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function M(t,e,n,r){let i=Ee(),o=ht(),s=Vr+t,a=i[Ke],u=o.firstCreatePass?b1(s,o,i,e,n,r):o.data[s],l=D1(o,i,u,a,e,t);i[s]=l;let h=pg(u);return Ta(u,!0),fb(a,l,u),!n1(u)&&wg()&&Pg(o,i,l,u),Jx()===0&&Oi(l,i),Zx(),h&&(wb(o,i,u),_b(o,u,i)),r!==null&&Ib(i,u),M}function N(){let t=xt();S0()?iN():(t=t.parent,Ta(t,!1));let e=t;tN(e)&&nN(),Xx();let n=ht();return n.firstCreatePass&&(Eg(n,t),y0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&vN(e)&&FE(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&_N(e)&&FE(n,e,Ee(),e.stylesWithoutHost,!1),N}function me(t,e,n,r){return M(t,e,n,r),N(),me}var D1=(t,e,n,r,i,o)=>(Ig(!0),sb(r,i,pN()));function nt(){return Ee()}var wl="en-US";var C1=wl;function T1(t){typeof t=="string"&&(C1=t.toLowerCase().replace(/_/g,"-"))}function _e(t,e,n,r){let i=Ee(),o=ht(),s=xt();return Gb(o,i,i[Ke],s,t,e,r),_e}function A1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ma],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Gb(t,e,n,r,i,o,s){let a=pg(r),l=t.firstCreatePass&&Rb(t),h=e[cn],p=Sb(e),m=!0;if(r.type&3||s){let P=Zt(r,e),R=s?s(P):P,O=p.length,G=s?Z=>s(An(Z[r.index])):r.index,W=null;if(!s&&a&&(W=A1(t,e,i,r.index)),W!==null){let Z=W.__ngLastListenerFn__||W;Z.__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,m=!1}else{o=jE(r,e,h,o,!1);let Z=n.listen(R,i,o);p.push(o,Z),l&&l.push(i,G,O,O+1)}}else o=jE(r,e,h,o,!1);let I=r.outputs,S;if(m&&I!==null&&(S=I[i])){let P=S.length;if(P)for(let R=0;R<P;R+=2){let O=S[R],G=S[R+1],Ne=e[O][G].subscribe(o),ie=p.length;p.push(o,Ne),l&&l.push(i,r.index,ie,-(ie+1))}}}function VE(t,e,n,r){let i=De(null);try{return bn(6,e,n),n(r)!==!1}catch(o){return Mb(t,o),!1}finally{bn(7,e,n),De(i)}}function jE(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?$r(t.index,e):e;jg(a);let u=VE(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=VE(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function xe(t=1){return fN(t)}function Gg(t,e,n,r,i){let o=Ee(),s=Hb(o,e,n,r);if(s!==xn){let a=ht(),u=Rl();Fg(a,u,o,t,s,o[Ke],i,!1)}return Gg}function Wb(t,e,n,r){BO(t,e,n,r)}function Kb(t,e,n){UO(t,e,n)}function jl(t){let e=Ee(),n=ht(),r=M0();yg(r+1);let i=zg(n,r);if(t.dirty&&Gx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=zO(e,r);t.reset(o,NN),t.notifyOnChanges()}return!0}return!1}function Ul(){return jO(Ee(),M0())}function V(t,e=""){let n=Ee(),r=ht(),i=t+Vr,o=r.firstCreatePass?Ol(r,i,1,e,null):r.data[i],s=S1(r,n,o,e,t);n[i]=s,wg()&&Pg(r,n,s,o),Ta(o,!1)}var S1=(t,e,n,r,i)=>(Ig(!0),XN(e[Ke],r));function qt(t){return et("",t,""),qt}function et(t,e,n){let r=Ee(),i=Hb(r,t,e,n);return i!==xn&&xb(r,ji(),i),et}function hn(t,e,n,r,i){let o=Ee(),s=s1(o,t,e,n,r,i);return s!==xn&&xb(o,ji(),s),hn}function fn(t,e,n){qb(e)&&(e=e());let r=Ee(),i=Sl();if(Br(r,i,e)){let o=ht(),s=Rl();Fg(o,s,r,t,e,r[Ke],n,!1)}return fn}function Nn(t,e){let n=qb(t);return n&&t.set(e),n}function pn(t,e){let n=Ee(),r=ht(),i=xt();return Gb(r,n,n[Ke],i,t,e),pn}function R1(t,e,n){let r=ht();if(r.firstCreatePass){let i=jr(t);Xp(n,r.data,r.blueprint,i,!0),Xp(e,r.data,r.blueprint,i,!1)}}function Xp(t,e,n,r,i){if(t=St(t),Array.isArray(t))for(let o=0;o<t.length;o++)Xp(t[o],e,n,r,i);else{let o=ht(),s=Ee(),a=xt(),u=$o(t)?t:St(t.provide),l=f0(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if($o(t)||!t.multi){let I=new Ni(l,i,J),S=hp(u,e,i?h:h+m,p);S===-1?(Cp(ll(a,s),o,u),dp(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)):(n[S]=I,s[S]=I)}else{let I=hp(u,e,h+m,p),S=hp(u,e,h,h+m),P=I>=0&&n[I],R=S>=0&&n[S];if(i&&!R||!i&&!P){Cp(ll(a,s),o,u);let O=N1(i?x1:M1,n.length,i,r,l);!i&&R&&(n[S].providerFactory=O),dp(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=Qb(n[i?S:I],l,!i&&r);dp(o,t,I>-1?I:S,O)}!i&&r&&R&&n[S].componentProviders++}}}function dp(t,e,n,r){let i=$o(e),o=Rx(e);if(i||o){let u=(o?St(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Qb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function M1(t,e,n,r){return eg(this.multi,[])}function x1(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Pi(n,n[ue],this.providerFactory.index,r);o=a.slice(0,s),eg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],eg(i,o);return o}function eg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function N1(t,e,n,r,i){let o=new Ni(t,n,J);return o.multi=[],o.index=e,o.componentProviders=0,Qb(o,i,r&&!n),o}function Ma(t,e=[]){return n=>{n.providersResolver=(r,i)=>R1(r,i?i(t):t,e)}}var P1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=l0(!1,r.type),o=i.length>0?Vl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(K(Mt))});let t=e;return t})();function $e(t){Ll("NgStandalone"),t.getStandaloneInjector=e=>e.get(P1).getOrCreateStandaloneInjector(t)}function xa(t,e,n,r){return k1(Ee(),oN(),t,e,n,r)}function O1(t,e){let n=t[e];return n===xn?void 0:n}function k1(t,e,n,r,i,o){let s=e+n;return Br(t,s,i)?e1(t,s+1,o?r.call(o,i):r(i)):O1(t,s+1)}var tr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Yb=new tr("17.3.4"),Bl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Jb=new q("");function Bi(t){return!!t&&typeof t.then=="function"}function Zb(t){return!!t&&typeof t.subscribe=="function"}var $l=new q(""),Xb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k($l,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Bi(s))r.push(s);else if(Zb(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Na=new q("");function F1(){PI(()=>{throw new z(600,!1)})}function L1(t){return t.isBoundToModule}function V1(t,e,n){try{let r=n();return Bi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Jo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(K0),this.afterRenderEffectManager=k(qg),this.externalTestViews=new Set,this.beforeRender=new _t,this.afterTick=new _t,this.componentTypes=[],this.components=[],this.isStable=k(Ui).hasPendingTasks.pipe(ae(r=>!r)),this._injector=k(Mt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof gl;if(!this._injector.get(Xb).done){let I=!o&&s0(r),S=!1;throw new z(405,S)}let a;o?a=r:a=this._injector.get(Fl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=L1(a)?void 0:this._injector.get(Ur),l=i||a.selector,h=a.create(Nt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(Jb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),fp(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new z(101,!1);let i=De(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,De(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===Pb)throw new z(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)j1(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>tg(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>tg(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;fp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Na,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>fp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new z(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function j1(t,e,n){!e&&!tg(t)||U1(t,n,e)}function tg(t){return mg(t)}function U1(t,e,n){let r;n?(r=0,t[X]|=1024):t[X]&64?r=0:r=1,Ob(t,e,r)}var ng=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ql=(()=>{let e=class e{compileModuleSync(r){return new Yp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=a0(r),s=ob(o.declarations).reduce((a,u)=>{let l=Lr(u);return l&&a.push(new Ho(l)),a},[]);return new ng(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var B1=(()=>{let e=class e{constructor(){this.zone=k(Ie),this.applicationRef=k(Jo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $1(t){return[{provide:Ie,useFactory:t},{provide:Bo,multi:!0,useFactory:()=>{let e=k(B1,{optional:!0});return()=>e.initialize()}},{provide:Bo,multi:!0,useFactory:()=>{let e=k(G1);return()=>{e.initialize()}}},{provide:K0,useFactory:q1}]}function q1(){let t=k(Ie),e=k(Sn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function z1(t){let e=$1(()=>new Ie(H1(t)));return Jt([[],e])}function H1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var G1=(()=>{let e=class e{constructor(){this.subscription=new ze,this.initialized=!1,this.zone=k(Ie),this.pendingTasks=k(Ui)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function W1(){return typeof $localize<"u"&&$localize.locale||wl}var Wg=new q("",{providedIn:"root",factory:()=>k(Wg,de.Optional|de.SkipSelf)||W1()});var eD=new q("");var el=null;function K1(t=[],e){return Nt.create({name:e,providers:[{provide:Cl,useValue:"platform"},{provide:eD,useValue:new Set([()=>el=null])},...t]})}function Q1(t=[]){if(el)return el;let e=K1(t);return el=e,F1(),Y1(e),e}function Y1(t){t.get(Ag,null)?.forEach(n=>n())}var zr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=J1;let t=e;return t})();function J1(t){return Z1(xt(),Ee(),(t&16)===16)}function Z1(t,e,n){if(Al(t)&&!n){let r=$r(t.index,e);return new ki(r,r)}else if(t.type&47){let r=e[Tn];return new ki(r,e)}return null}var rg=class{constructor(){}supports(e){return zb(e)}create(e){return new ig(e)}},X1=(t,e)=>e,ig=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||X1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<UE(r,i,o)?n:r,a=UE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let I=m<o.length?o[m]:o[m]=0,S=I+m;h<=S&&S<l&&(o[m]=I+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!zb(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,ZO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new og(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Il),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Il),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},og=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},sg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Il=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new sg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function UE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function BE(){return new Kg([new rg])}var Kg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||BE()),deps:[[e,new cg,new wt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new z(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:BE});let t=e;return t})();function tD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Q1(r),o=[z1(),...n||[]],a=new vl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ie);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Sn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:I=>{l.handleError(I)}})});let p=()=>a.destroy(),m=i.get(eD);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),V1(l,u,()=>{let I=a.get(Xb);return I.runInitializers(),I.donePromise.then(()=>{let S=a.get(Wg,wl);T1(S||wl);let P=a.get(Jo);return e!==void 0&&P.bootstrap(e),P})})})}catch(e){return Promise.reject(e)}}function Hr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function nD(t){let e=Lr(t);if(!e)return null;let n=new Ho(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var cD=null;function cr(){return cD}function uD(t){cD??=t}var zl=class{};var Et=new q(""),em=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(ek),providedIn:"platform"});let t=e;return t})(),lD=new q(""),ek=(()=>{let e=class e extends em{constructor(){super(),this._doc=k(Et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cr().getBaseHref(this._doc)}onPopState(r){let i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function tm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function rD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ar(t){return t&&t[0]!=="?"?"?"+t:t}var ur=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(nm),providedIn:"root"});let t=e;return t})(),dD=new q(""),nm=(()=>{let e=class e extends ur{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return tm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ar(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ar(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ar(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(K(em),K(dD,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hD=(()=>{let e=class e extends ur{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=tm(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ar(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ar(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(K(em),K(dD,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Xo=(()=>{let e=class e{constructor(r){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=rk(rD(iD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ar(i))}normalize(r){return e.stripTrailingSlash(nk(this._basePath,iD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ar(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ar(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=ar,e.joinWithSlash=tm,e.stripTrailingSlash=rD,e.\u0275fac=function(i){return new(i||e)(K(ur))},e.\u0275prov=H({token:e,factory:()=>tk(),providedIn:"root"});let t=e;return t})();function tk(){return new Xo(K(ur))}function nk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function iD(t){return t.replace(/\/index.html$/,"")}function rk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Hl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Qg=/\s+/,oD=[],fD=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=oD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Qg):oD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Qg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Qg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(J($t),J(or))},e.\u0275dir=Xe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[lt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Yg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Yg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),sD(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);sD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(J(qr),J(Fi),J(Kg))},e.\u0275dir=Xe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function sD(t,e){t.context.$implicit=e.item}var Ft=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Jg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){aD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){aD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(J(qr),J(Fi))},e.\u0275dir=Xe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Jg=class{constructor(){this.$implicit=null,this.ngIf=null}};function aD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Rt(e)}'.`)}var ft=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=Rn({});let t=e;return t})(),rm="browser",ik="server";function ok(t){return t===rm}function Gl(t){return t===ik}var pD=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>ok(k(Xt))?new Zg(k(Et),window):new Xg});let t=e;return t})(),Zg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=sk(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function sk(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Xg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Zo=class{};var Oa=class{},Kl=class{},$i=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var om=class{encodeKey(e){return gD(e)}encodeValue(e){return gD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function uk(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var lk=/%(\d[a-f0-9])/gi,dk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gD(t){return encodeURIComponent(t).replace(lk,(e,n)=>dk[n]??e)}function Wl(t){return`${t}`}var Gr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new om,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=uk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Wl):[Wl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Wl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Wl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var sm=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function hk(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function mD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function yD(t){return typeof Blob<"u"&&t instanceof Blob}function vD(t){return typeof FormData<"u"&&t instanceof FormData}function fk(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Pa=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(hk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new $i,this.context??=new sm,!this.params)this.params=new Gr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||mD(this.body)||yD(this.body)||vD(this.body)||fk(this.body)?this.body:this.body instanceof Gr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||vD(this.body)?null:yD(this.body)?this.body.type||null:mD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Gr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,I)=>m.set(I,e.setHeaders[I]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,I)=>m.set(I,e.setParams[I]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},es=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(es||{}),ka=class{constructor(e,n=Jl.Ok,r="OK"){this.headers=e.headers||new $i,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},am=class t extends ka{constructor(e={}){super(e),this.type=es.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ql=class t extends ka{constructor(e={}){super(e),this.type=es.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Yl=class extends ka{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Jl=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Jl||{});function im(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Fa=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Pa)s=r;else{let l;o.headers instanceof $i?l=o.headers:l=new $i(o.headers);let h;o.params&&(o.params instanceof Gr?h=o.params:h=new Gr({fromObject:o.params})),s=new Pa(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Y(s).pipe(Yn(l=>this.handler.handle(l)));if(r instanceof Pa||o.observe==="events")return a;let u=a.pipe(Ot(l=>l instanceof Ql));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(ae(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(ae(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(ae(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(ae(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Gr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,im(o,i))}post(r,i,o={}){return this.request("POST",r,im(o,i))}put(r,i,o={}){return this.request("PUT",r,im(o,i))}};e.\u0275fac=function(i){return new(i||e)(K(Oa))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function ED(t,e){return e(t)}function pk(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function gk(t,e,n){return(r,i)=>ln(n,()=>e(r,o=>t(o,i)))}var mk=new q(""),cm=new q(""),yk=new q(""),vk=new q("");function _k(){let t=null;return(e,n)=>{t===null&&(t=(k(mk,{optional:!0})??[]).reduceRight(pk,ED));let r=k(Ui),i=r.add();return t(e,n).pipe(Or(()=>r.remove(i)))}}var _D=(()=>{let e=class e extends Oa{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=k(Ui);let o=k(vk,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(cm),...this.injector.get(yk,[])]));this.chain=o.reduceRight((s,a)=>gk(s,a,this.injector),ED)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Or(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(K(Kl),K(Mt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();var wk=/^\)\]\}',?\n/;function Ik(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var wD=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new z(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Pe(i.\u0275loadImpl()):Y(null)).pipe(kt(()=>new he(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((R,O)=>a.setRequestHeader(R,O.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let R=r.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(r.responseType){let R=r.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let R=a.statusText||"OK",O=new $i(a.getAllResponseHeaders()),G=Ik(a)||r.url;return l=new am({headers:O,status:a.status,statusText:R,url:G}),l},p=()=>{let{headers:R,status:O,statusText:G,url:W}=h(),Z=null;O!==Jl.NoContent&&(Z=typeof a.response>"u"?a.responseText:a.response),O===0&&(O=Z?Jl.Ok:0);let Ne=O>=200&&O<300;if(r.responseType==="json"&&typeof Z=="string"){let ie=Z;Z=Z.replace(wk,"");try{Z=Z!==""?JSON.parse(Z):null}catch(b){Z=ie,Ne&&(Ne=!1,Z={error:b,text:Z})}}Ne?(s.next(new Ql({body:Z,headers:R,status:O,statusText:G,url:W||void 0})),s.complete()):s.error(new Yl({error:Z,headers:R,status:O,statusText:G,url:W||void 0}))},m=R=>{let{url:O}=h(),G=new Yl({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:O||void 0});s.error(G)},I=!1,S=R=>{I||(s.next(h()),I=!0);let O={type:es.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(O.total=R.total),r.responseType==="text"&&a.responseText&&(O.partialText=a.responseText),s.next(O)},P=R=>{let O={type:es.UploadProgress,loaded:R.loaded};R.lengthComputable&&(O.total=R.total),s.next(O)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",S),u!==null&&a.upload&&a.upload.addEventListener("progress",P)),a.send(u),s.next({type:es.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",S),u!==null&&a.upload&&a.upload.removeEventListener("progress",P)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(K(Zo))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),bD=new q(""),Ek="XSRF-TOKEN",bk=new q("",{providedIn:"root",factory:()=>Ek}),Dk="X-XSRF-TOKEN",Ck=new q("",{providedIn:"root",factory:()=>Dk}),Zl=class{},Tk=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(K(Et),K(Xt),K(bk))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function Ak(t,e){let n=t.url.toLowerCase();if(!k(bD)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=k(Zl).getToken(),i=k(Ck);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var DD=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(DD||{});function Sk(t,e){return{\u0275kind:t,\u0275providers:e}}function Rk(...t){let e=[Fa,wD,_D,{provide:Oa,useExisting:_D},{provide:Kl,useExisting:wD},{provide:cm,useValue:Ak,multi:!0},{provide:bD,useValue:!0},{provide:Zl,useClass:Tk}];for(let n of t)e.push(...n.\u0275providers);return Jt(e)}var ID=new q("");function Mk(){return Sk(DD.LegacyInterceptors,[{provide:ID,useFactory:_k},{provide:cm,useExisting:ID,multi:!0}])}var Xl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=Rn({providers:[Rk(Mk())]});let t=e;return t})();var dm=class extends zl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},hm=class t extends dm{static makeCurrent(){uD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=xk();return n==null?null:Nk(n)}resetBaseElement(){La=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hl(document.cookie,e)}},La=null;function xk(){return La=La||document.querySelector("base"),La?La.getAttribute("href"):null}function Nk(t){return new URL(t,document.baseURI).pathname}var Pk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),fm=new q(""),RD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(K(fm),K(Ie))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),ed=class{constructor(e){this._doc=e}},um="ng-app-id",MD=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gl(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${um}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(um),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(um,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(K(Et),K(Tg),K(Sg,8),K(Xt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),lm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gm=/%COMP%/g,xD="%COMP%",Ok=`_nghost-${xD}`,kk=`_ngcontent-${xD}`,Fk=!0,Lk=new q("",{providedIn:"root",factory:()=>Fk});function Vk(t){return kk.replace(gm,t)}function jk(t){return Ok.replace(gm,t)}function ND(t,e){return e.map(n=>n.replace(gm,t))}var TD=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Gl(u),this.defaultRenderer=new Va(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Cn.ShadowDom&&(i=Ae(U({},i),{encapsulation:Cn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof td?o.applyToHost(r):o instanceof ja&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Cn.Emulated:s=new td(l,h,i,this.appId,p,a,u,m);break;case Cn.ShadowDom:return new pm(l,h,r,i,a,u,this.nonce,m);default:s=new ja(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(K(RD),K(MD),K(Tg),K(Lk),K(Et),K(Xt),K(Ie),K(Sg))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Va=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(lm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(AD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(AD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=lm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=lm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(er.DashCase|er.Important)?e.style.setProperty(n,r,i&er.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&er.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=cr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function AD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var pm=class extends Va{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ND(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ja=class extends Va{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?ND(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},td=class extends ja{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=Vk(l),this.hostAttr=jk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Uk=(()=>{let e=class e extends ed{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(K(Et))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),SD=["alt","control","meta","shift"],Bk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$k={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},qk=(()=>{let e=class e extends ed{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),SD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=Bk[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),SD.forEach(a=>{if(a!==o){let u=$k[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(K(Et))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function PD(t,e){return tD(U({rootComponent:t},zk(e)))}function zk(t){return{appProviders:[...Qk,...t?.providers??[]],platformProviders:Kk}}function Hk(){hm.makeCurrent()}function Gk(){return new Sn}function Wk(){return eb(document),document}var Kk=[{provide:Xt,useValue:rm},{provide:Ag,useValue:Hk,multi:!0},{provide:Et,useFactory:Wk,deps:[]}];var Qk=[{provide:Cl,useValue:"root"},{provide:Sn,useFactory:Gk,deps:[]},{provide:fm,useClass:Uk,multi:!0,deps:[Et,Ie,Xt]},{provide:fm,useClass:qk,multi:!0,deps:[Et]},TD,MD,RD,{provide:wa,useExisting:TD},{provide:Zo,useClass:Pk,deps:[]},[]];var OD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(K(Et))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ce="primary",tc=Symbol("RouteTitle"),wm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function os(t){return new wm(t)}function Jk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Zk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kn(t[n],e[n]))return!1;return!0}function kn(t,e){let n=t?Im(t):void 0,r=e?Im(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!qD(t[i],e[i]))return!1;return!0}function Im(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function qD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function zD(t){return t.length>0?t[t.length-1]:null}function Jr(t){return Gf(t)?t:Bi(t)?Pe(Promise.resolve(t)):Y(t)}var Xk={exact:GD,subset:WD},HD={exact:eF,subset:tF,ignored:()=>!0};function kD(t,e,n){return Xk[n.paths](t.root,e.root,n.matrixParams)&&HD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function eF(t,e){return kn(t,e)}function GD(t,e,n){if(!zi(t.segments,e.segments)||!id(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!GD(t.children[r],e.children[r],n))return!1;return!0}function tF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>qD(t[n],e[n]))}function WD(t,e,n){return KD(t,e,e.segments,n)}function KD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!zi(i,n)||e.hasChildren()||!id(i,n,r))}else if(t.segments.length===n.length){if(!zi(t.segments,n)||!id(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!WD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!zi(t.segments,i)||!id(t.segments,i,r)||!t.children[ce]?!1:KD(t.children[ce],e,o,r)}}function id(t,e,n){return e.every((r,i)=>HD[n](t[i].parameters,r.parameters))}var Wr=class{constructor(e=new Ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=os(this.queryParams),this._queryParamMap}toString(){return iF.serialize(this)}},Ce=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return od(this)}},qi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=os(this.parameters),this._parameterMap}toString(){return YD(this)}};function nF(t,e){return zi(t,e)&&t.every((n,r)=>kn(n.parameters,e[r].parameters))}function zi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function rF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var nc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new Ga,providedIn:"root"});let t=e;return t})(),Ga=class{parse(e){let n=new bm(e);return new Wr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ua(e.root,!0)}`,r=aF(e.queryParams),i=typeof e.fragment=="string"?`#${oF(e.fragment)}`:"";return`${n}${r}${i}`}},iF=new Ga;function od(t){return t.segments.map(e=>YD(e)).join("/")}function Ua(t,e){if(!t.hasChildren())return od(t);if(e){let n=t.children[ce]?Ua(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${Ua(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=rF(t,(r,i)=>i===ce?[Ua(t.children[ce],!1)]:[`${i}:${Ua(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${od(t)}/${n[0]}`:`${od(t)}/(${n.join("//")})`}}function QD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nd(t){return QD(t).replace(/%3B/gi,";")}function oF(t){return encodeURI(t)}function Em(t){return QD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sd(t){return decodeURIComponent(t)}function FD(t){return sd(t.replace(/\+/g,"%20"))}function YD(t){return`${Em(t.path)}${sF(t.parameters)}`}function sF(t){return Object.entries(t).map(([e,n])=>`;${Em(e)}=${Em(n)}`).join("")}function aF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${nd(n)}=${nd(i)}`).join("&"):`${nd(n)}=${nd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var cF=/^[^\/()?;#]+/;function mm(t){let e=t.match(cF);return e?e[0]:""}var uF=/^[^\/()?;=#]+/;function lF(t){let e=t.match(uF);return e?e[0]:""}var dF=/^[^=?&#]+/;function hF(t){let e=t.match(dF);return e?e[0]:""}var fF=/^[^&#]+/;function pF(t){let e=t.match(fF);return e?e[0]:""}var bm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Ce(e,n)),r}parseSegment(){let e=mm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new qi(sd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=lF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=mm(this.remaining);i&&(r=i,this.capture(r))}e[sd(n)]=sd(r)}parseQueryParam(e){let n=hF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=pF(this.remaining);s&&(r=s,this.capture(r))}let i=FD(n),o=FD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ce]:new Ce([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function JD(t){return t.segments.length>0?new Ce([],{[ce]:t}):t}function ZD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=ZD(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ce(t.segments,e);return gF(n)}function gF(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new Ce(t.segments.concat(e.segments),e.children)}return t}function ss(t){return t instanceof Wr}function mF(t,e,n=null,r=null){let i=XD(t);return eC(i,e,n,r)}function XD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ce(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=JD(r);return e??i}function eC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ym(i,i,i,n,r);let o=yF(e);if(o.toRoot())return ym(i,i,new Ce([],{}),n,r);let s=vF(o,i,t),a=s.processChildren?qa(s.segmentGroup,s.index,o.commands):nC(s.segmentGroup,s.index,o.commands);return ym(i,s.segmentGroup,a,n,r)}function ad(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Wa(t){return typeof t=="object"&&t!=null&&t.outlets}function ym(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=tC(t,e,n);let a=JD(ZD(s));return new Wr(a,o,i)}function tC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=tC(o,e,n)}),new Ce(t.segments,r)}var cd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ad(r[0]))throw new z(4003,!1);let i=r.find(Wa);if(i&&i!==zD(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function yF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new cd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new cd(n,e,r)}var rs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function vF(t,e,n){if(t.isAbsolute)return new rs(e,!0,0);if(!n)return new rs(e,!1,NaN);if(n.parent===null)return new rs(n,!0,0);let r=ad(t.commands[0])?0:1,i=n.segments.length-1+r;return _F(n,i,t.numberOfDoubleDots)}function _F(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new rs(r,!1,i-o)}function wF(t){return Wa(t[0])?t[0].outlets:{[ce]:t}}function nC(t,e,n){if(t??=new Ce([],{}),t.segments.length===0&&t.hasChildren())return qa(t,e,n);let r=IF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ce(t.segments.slice(0,r.pathIndex),{});return o.children[ce]=new Ce(t.segments.slice(r.pathIndex),t.children),qa(o,0,i)}else return r.match&&i.length===0?new Ce(t.segments,{}):r.match&&!t.hasChildren()?Dm(t,e,n):r.match?qa(t,0,i):Dm(t,e,n)}function qa(t,e,n){if(n.length===0)return new Ce(t.segments,{});{let r=wF(n),i={};if(Object.keys(r).some(o=>o!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let o=qa(t.children[ce],e,n);return new Ce(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ce(t.segments,i)}}function IF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Wa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!VD(u,l,s))return o;r+=2}else{if(!VD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Dm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Wa(o)){let u=EF(o.outlets);return new Ce(r,u)}if(i===0&&ad(n[0])){let u=t.segments[e];r.push(new qi(u.path,LD(n[0]))),i++;continue}let s=Wa(o)?o.outlets[ce]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ad(a)?(r.push(new qi(s,LD(a))),i+=2):(r.push(new qi(s,{})),i++)}return new Ce(r,{})}function EF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Dm(new Ce([],{}),0,r))}),e}function LD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function VD(t,e,n){return t==n.path&&kn(e,n.parameters)}var za="imperative",it=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(it||{}),en=class{constructor(e,n){this.id=e,this.url=n}},as=class extends en{constructor(e,n,r="imperative",i=null){super(e,n),this.type=it.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},gn=class extends en{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=it.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ht||{}),ud=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ud||{}),Kr=class extends en{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qr=class extends en{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationSkipped}},Ka=class extends en{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=it.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ld=class extends en{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cm=class extends en{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tm=class extends en{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=it.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Am=class extends en{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sm=class extends en{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rm=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mm=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xm=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nm=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pm=class{constructor(e){this.snapshot=e,this.type=it.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Om=class{constructor(e){this.snapshot=e,this.type=it.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=it.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Qa=class{},Ya=class{constructor(e){this.url=e}};var km=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new rc,this.attachRef=null}},rc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new km,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Fm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Fm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Lm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Lm(e,this._root).map(n=>n.value)}};function Fm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Fm(t,n);if(r)return r}return null}function Lm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Lm(t,n);if(r.length)return r.unshift(e),r}return[]}var zt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ns(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var fd=class extends hd{constructor(e,n){super(e),this.snapshot=n,Wm(this,e)}toString(){return this.snapshot.toString()}};function rC(t){let e=bF(t),n=new ut([new qi("",{})]),r=new ut({}),i=new ut({}),o=new ut({}),s=new ut(""),a=new Yr(n,r,o,s,i,ce,t,e.root);return a.snapshot=e.root,new fd(new zt(a,[]),e)}function bF(t){let e={},n={},r={},i="",o=new Ja([],e,r,i,n,ce,t,null,{});return new pd("",new zt(o,[]))}var Yr=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ae(l=>l[tc]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>os(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>os(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&oC(i)&&(r.resolve[tc]=i.title),r}var Ja=class{get title(){return this.data?.[tc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=os(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=os(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},pd=class extends hd{constructor(e,n){super(n),this.url=e,Wm(this,n)}toString(){return iC(this._root)}};function Wm(t,e){e.value._routerState=t,e.children.forEach(n=>Wm(t,n))}function iC(t){let e=t.children.length>0?` { ${t.children.map(iC).join(", ")} } `:"";return`${t.value}${e}`}function vm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),kn(e.params,n.params)||t.paramsSubject.next(n.params),Zk(e.url,n.url)||t.urlSubject.next(n.url),kn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vm(t,e){let n=kn(t.params,e.params)&&nF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Vm(t.parent,e.parent))}function oC(t){return typeof t.title=="string"||t.title===null}var Km=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=k(rc),this.location=k(qr),this.changeDetector=k(zr),this.environmentInjector=k(Mt),this.inputBinder=k(_d,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new jm(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Xe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ir]});let t=e;return t})(),jm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Yr?this.route:e===rc?this.childContexts:this.parent.get(e,n)}},_d=new q(""),jD=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=da([i.queryParams,i.params,i.data]).pipe(kt(([s,a,u],l)=>(u=U(U(U({},s),a),u),l===0?Y(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=nD(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function DF(t,e,n){let r=Za(t,e._root,n?n._root:void 0);return new fd(r,e)}function Za(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=CF(t,e,n);return new zt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Za(t,a)),s}}let r=TF(e.value),i=e.children.map(o=>Za(t,o));return new zt(r,i)}}function CF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Za(t,r,i);return Za(t,r)})}function TF(t){return new Yr(new ut(t.url),new ut(t.params),new ut(t.queryParams),new ut(t.fragment),new ut(t.data),t.outlet,t.component,t)}var sC="ngNavigationCancelingError";function aC(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ss(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cC(!1,Ht.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function cC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[sC]=!0,n.cancellationCode=e,n}function AF(t){return uC(t)&&ss(t.url)}function uC(t){return!!t&&t[sC]}var SF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["ng-component"]],standalone:!0,features:[$e],decls:1,vars:0,template:function(i,o){i&1&&me(0,"router-outlet")},dependencies:[Km],encapsulation:2});let t=e;return t})();function RF(t,e){return t.providers&&!t._injector&&(t._injector=Vl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Qm(t){let e=t.children&&t.children.map(Qm),n=e?Ae(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=SF),n}function Fn(t){return t.outlet||ce}function MF(t,e){let n=t.filter(r=>Fn(r)===e);return n.push(...t.filter(r=>Fn(r)!==e)),n}function ic(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var xF=(t,e,n,r)=>ae(i=>(new Um(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Um=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),vm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ns(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ns(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ns(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ns(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Om(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Nm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(vm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vm(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=ic(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},gd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},is=class{constructor(e,n){this.component=e,this.route=n}};function NF(t,e,n){let r=t._root,i=e?e._root:null;return Ba(r,i,n,[r.value])}function PF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function us(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!HE(t)?t:e.get(t):r}function Ba(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ns(e);return t.children.forEach(s=>{OF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ha(a,n.getContext(s),i)),i}function OF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=kF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ba(t,e,a?a.children:null,r,i):Ba(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new is(a.outlet.component,s))}else s&&Ha(e,a,i),i.canActivateChecks.push(new gd(r)),o.component?Ba(t,null,a?a.children:null,r,i):Ba(t,null,n,r,i);return i}function kF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!zi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!zi(t.url,e.url)||!kn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vm(t,e)||!kn(t.queryParams,e.queryParams);case"paramsChange":default:return!Vm(t,e)}}function Ha(t,e,n){let r=ns(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ha(s,e.children.getContext(o),n):Ha(s,null,n):Ha(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new is(e.outlet.component,i)):n.canDeactivateChecks.push(new is(null,i)):n.canDeactivateChecks.push(new is(null,i))}function oc(t){return typeof t=="function"}function FF(t){return typeof t=="boolean"}function LF(t){return t&&oc(t.canLoad)}function VF(t){return t&&oc(t.canActivate)}function jF(t){return t&&oc(t.canActivateChild)}function UF(t){return t&&oc(t.canDeactivate)}function BF(t){return t&&oc(t.canMatch)}function lC(t){return t instanceof Qn||t?.name==="EmptyError"}var rd=Symbol("INITIAL_VALUE");function cs(){return kt(t=>da(t.map(e=>e.pipe(Jn(1),Jf(rd)))).pipe(ae(e=>{for(let n of e)if(n!==!0){if(n===rd)return rd;if(n===!1||n instanceof Wr)return n}return!0}),Ot(e=>e!==rd),Jn(1)))}function $F(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Y(Ae(U({},n),{guardsResult:!0})):qF(s,r,i,t).pipe(Ge(a=>a&&FF(a)?zF(r,o,t,e):Y(a)),ae(a=>Ae(U({},n),{guardsResult:a})))})}function qF(t,e,n,r){return Pe(t).pipe(Ge(i=>QF(i.component,i.route,n,e,r)),En(i=>i!==!0,!0))}function zF(t,e,n,r){return Pe(e).pipe(Yn(i=>Mo(GF(i.route.parent,r),HF(i.route,r),KF(t,i.path,n),WF(t,i.route,n))),En(i=>i!==!0,!0))}function HF(t,e){return t!==null&&e&&e(new Pm(t)),Y(!0)}function GF(t,e){return t!==null&&e&&e(new xm(t)),Y(!0)}function WF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>$u(()=>{let s=ic(e)??n,a=us(o,s),u=VF(a)?a.canActivate(e,t):ln(s,()=>a(e,t));return Jr(u).pipe(En())}));return Y(i).pipe(cs())}function KF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>PF(s)).filter(s=>s!==null).map(s=>$u(()=>{let a=s.guards.map(u=>{let l=ic(s.node)??n,h=us(u,l),p=jF(h)?h.canActivateChild(r,t):ln(l,()=>h(r,t));return Jr(p).pipe(En())});return Y(a).pipe(cs())}));return Y(o).pipe(cs())}function QF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let u=ic(e)??i,l=us(a,u),h=UF(l)?l.canDeactivate(t,e,n,r):ln(u,()=>l(t,e,n,r));return Jr(h).pipe(En())});return Y(s).pipe(cs())}function YF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let a=us(s,t),u=LF(a)?a.canLoad(e,n):ln(t,()=>a(e,n));return Jr(u)});return Y(o).pipe(cs(),dC(r))}function dC(t){return Vf(We(e=>{if(ss(e))throw aC(t,e)}),ae(e=>e===!0))}function JF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let a=us(s,t),u=BF(a)?a.canMatch(e,n):ln(t,()=>a(e,n));return Jr(u)});return Y(o).pipe(cs(),dC(r))}var Xa=class{constructor(e){this.segmentGroup=e||null}},md=class extends Error{constructor(e){super(),this.urlTree=e}};function ts(t){return Ro(new Xa(t))}function ZF(t){return Ro(new z(4e3,!1))}function XF(t){return Ro(cC(!1,Ht.GuardRejected))}var Bm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[ce])return ZF(e.redirectTo);i=i.children[ce]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new md(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Wr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ce(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},$m={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eL(t,e,n,r,i){let o=Ym(t,e,n);return o.matched?(r=RF(e,r),JF(r,e,n,i).pipe(ae(s=>s===!0?o:U({},$m)))):Y(o)}function Ym(t,e,n){if(e.path==="**")return tL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},$m):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Jk)(n,t,e);if(!i)return U({},$m);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function tL(t){return{matched:!0,parameters:t.length>0?zD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function UD(t,e,n,r){return n.length>0&&iL(t,n,r)?{segmentGroup:new Ce(e,rL(r,new Ce(n,t.children))),slicedSegments:[]}:n.length===0&&oL(t,n,r)?{segmentGroup:new Ce(t.segments,nL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ce(t.segments,t.children),slicedSegments:n}}function nL(t,e,n,r){let i={};for(let o of n)if(wd(t,e,o)&&!r[Fn(o)]){let s=new Ce([],{});i[Fn(o)]=s}return U(U({},r),i)}function rL(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&Fn(r)!==ce){let i=new Ce([],{});n[Fn(r)]=i}return n}function iL(t,e,n){return n.some(r=>wd(t,e,r)&&Fn(r)!==ce)}function oL(t,e,n){return n.some(r=>wd(t,e,r))}function wd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function sL(t,e,n,r){return Fn(t)!==r&&(r===ce||!wd(e,n,t))?!1:Ym(e,t,n).matched}function aL(t,e,n){return e.length===0&&!t.children[n]}var qm=class{};function cL(t,e,n,r,i,o,s="emptyOnly"){return new zm(t,e,n,r,i,s,o).recognize()}var uL=31,zm=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Bm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=UD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(n=>{let r=new Ja([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),i=new zt(r,n),o=new pd("",i),s=mF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(Nr(r=>{if(r instanceof md)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Gm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ae(o=>o instanceof zt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Pe(i).pipe(Yn(o=>{let s=r.children[o],a=MF(n,o);return this.processSegmentGroup(e,a,s,o)}),Yf((o,s)=>(o.push(...s),o)),Pr(null),Qf(),Ge(o=>{if(o===null)return ts(r);let s=hC(o);return lL(s),Y(s)}))}processSegment(e,n,r,i,o,s){return Pe(n).pipe(Yn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Nr(u=>{if(u instanceof Xa)return Y(null);throw u}))),En(a=>!!a),Nr(a=>{if(lC(a))return aL(r,i,o)?Y(new qm):ts(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return sL(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):ts(i):ts(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=Ym(n,i,o);if(!a)return ts(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uL&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ge(m=>this.processSegment(e,r,n,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=eL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(kt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(kt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,I=new Ja(h,m,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,hL(r),Fn(r),r.component??r._loadedComponent??null,r,fL(r)),{segmentGroup:S,slicedSegments:P}=UD(n,h,p,u);if(P.length===0&&S.hasChildren())return this.processChildren(l,u,S).pipe(ae(O=>O===null?null:new zt(I,O)));if(u.length===0&&P.length===0)return Y(new zt(I,[]));let R=Fn(r)===o;return this.processSegment(l,u,S,P,R?ce:o,!0).pipe(ae(O=>new zt(I,O instanceof zt?[O]:[])))}))):ts(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):YF(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(We(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):XF(n))):Y({routes:[],injector:e})}};function lL(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function dL(t){let e=t.value.routeConfig;return e&&e.path===""}function hC(t){let e=[],n=new Set;for(let r of t){if(!dL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=hC(r.children);e.push(new zt(r.value,i))}return e.filter(r=>!n.has(r))}function hL(t){return t.data||{}}function fL(t){return t.resolve||{}}function pL(t,e,n,r,i,o){return Ge(s=>cL(t,e,n,r,s.extractedUrl,i,o).pipe(ae(({state:a,tree:u})=>Ae(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function gL(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of fC(u))s.add(l);let a=0;return Pe(s).pipe(Yn(u=>o.has(u)?mL(u,r,t,e):(u.data=Gm(u,u.parent,t).resolve,Y(void 0))),We(()=>a++),xo(1),Ge(u=>a===s.size?Y(n):Ut))})}function fC(t){let e=t.children.map(n=>fC(n)).flat();return[t,...e]}function mL(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!oC(i)&&(o[tc]=i.title),yL(o,t,e,r).pipe(ae(s=>(t._resolvedData=s,t.data=Gm(t,t.parent,n).resolve,null)))}function yL(t,e,n,r){let i=Im(t);if(i.length===0)return Y({});let o={};return Pe(i).pipe(Ge(s=>vL(t[s],e,n,r).pipe(En(),We(a=>{o[s]=a}))),xo(1),Kf(o),Nr(s=>lC(s)?Ut:Ro(s)))}function vL(t,e,n,r){let i=ic(e)??r,o=us(t,i),s=o.resolve?o.resolve(e,n):ln(i,()=>o(e,n));return Jr(s)}function _m(t){return kt(e=>{let n=t(e);return n?Pe(n).pipe(ae(()=>e)):Y(e)})}var pC=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[tc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(_L),providedIn:"root"});let t=e;return t})(),_L=(()=>{let e=class e extends pC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(K(OD))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sc=new q("",{providedIn:"root",factory:()=>({})}),ec=new q(""),Jm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(ql)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Y(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Jr(r.loadComponent()).pipe(ae(gC),We(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Or(()=>{this.componentLoaders.delete(r)})),o=new Co(i,()=>new _t).pipe(Do());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=wL(i,this.compiler,r,this.onLoadEndListener).pipe(Or(()=>{this.childrenLoaders.delete(i)})),a=new Co(s,()=>new _t).pipe(Do());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wL(t,e,n,r){return Jr(t.loadChildren()).pipe(ae(gC),Ge(i=>i instanceof Ia||Array.isArray(i)?Y(i):Pe(e.compileModuleAsync(i))),ae(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ec,[],{optional:!0,self:!0}).flat()),{routes:s.map(Qm),injector:o}}))}function IL(t){return t&&typeof t=="object"&&"default"in t}function gC(t){return IL(t)?t.default:t}var Zm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(EL),providedIn:"root"});let t=e;return t})(),EL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mC=new q(""),yC=new q("");function bL(t,e,n){let r=t.get(yC),i=t.get(Et);return t.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),DL(t))),{onViewTransitionCreated:u}=r;return u&&ln(t,()=>u({transition:a,from:e,to:n})),s})}function DL(t){return new Promise(e=>{$g(e,{injector:t})})}var Xm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _t,this.transitionAbortSubject=new _t,this.configLoader=k(Jm),this.environmentInjector=k(Mt),this.urlSerializer=k(nc),this.rootContexts=k(rc),this.location=k(Xo),this.inputBindingEnabled=k(_d,{optional:!0})!==null,this.titleStrategy=k(pC),this.options=k(sc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Zm),this.createViewTransition=k(mC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Rm(o)),i=o=>this.events.next(new Mm(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ae(U(U({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ut({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:za,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ot(s=>s.id!==0),ae(s=>Ae(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),kt(s=>{let a=!1,u=!1;return Y(s).pipe(kt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ht.SupersededByNewNavigation),Ut;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Qr(l.id,this.urlSerializer.serialize(l.rawUrl),m,ud.IgnoredSameUrlNavigation)),l.resolve(null),Ut}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Y(l).pipe(kt(m=>{let I=this.transitions?.getValue();return this.events.next(new as(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),I!==this.transitions?.getValue()?Ut:Promise.resolve(m)}),pL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),We(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ae(U({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let I=new ld(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(I)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:I,source:S,restoredState:P,extras:R}=l,O=new as(m,this.urlSerializer.serialize(I),S,P);this.events.next(O);let G=rC(this.rootComponentType).snapshot;return this.currentTransition=s=Ae(U({},l),{targetSnapshot:G,urlAfterRedirects:I,extras:Ae(U({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,Y(s)}else{let m="";return this.events.next(new Qr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,ud.IgnoredByUrlHandlingStrategy)),l.resolve(null),Ut}}),We(l=>{let h=new Cm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ae(l=>(this.currentTransition=s=Ae(U({},l),{guards:NF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),$F(this.environmentInjector,l=>this.events.next(l)),We(l=>{if(s.guardsResult=l.guardsResult,ss(l.guardsResult))throw aC(this.urlSerializer,l.guardsResult);let h=new Tm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Ot(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ht.GuardRejected),!1)),_m(l=>{if(l.guards.canActivateChecks.length)return Y(l).pipe(We(h=>{let p=new Am(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),kt(h=>{let p=!1;return Y(h).pipe(gL(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Ht.NoDataFromResolver)}}))}),We(h=>{let p=new Sm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),_m(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(We(I=>{p.component=I}),ae(()=>{})));for(let I of p.children)m.push(...h(I));return m};return da(h(l.targetSnapshot.root)).pipe(Pr(null),Jn(1))}),_m(()=>this.afterPreactivation()),kt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Pe(p).pipe(ae(()=>s)):Y(s)}),ae(l=>{let h=DF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ae(U({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),We(()=>{this.events.next(new Qa)}),xF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Jn(1),We({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Zf(this.transitionAbortSubject.pipe(We(l=>{throw l}))),Or(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nr(l=>{if(u=!0,uC(l))this.events.next(new Kr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),AF(l)?this.events.next(new Ya(l.url)):s.resolve(!1);else{this.events.next(new Ka(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Ut}))}))}cancelNavigationTransition(r,i,o){let s=new Kr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CL(t){return t!==za}var TL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(AL),providedIn:"root"});let t=e;return t})(),Hm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},AL=(()=>{let e=class e extends Hm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ko(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(SL),providedIn:"root"});let t=e;return t})(),SL=(()=>{let e=class e extends vC{constructor(){super(...arguments),this.location=k(Xo),this.urlSerializer=k(nc),this.options=k(sc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Zm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof as)this.stateMemento=this.createStateMemento();else if(r instanceof Qr)this.rawUrlTree=i.initialUrl;else if(r instanceof ld){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Qa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Kr&&(r.code===Ht.GuardRejected||r.code===Ht.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ka?this.restoreHistory(i,!0):r instanceof gn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=U(U({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ko(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$a=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}($a||{});function _C(t,e){t.events.pipe(Ot(n=>n instanceof gn||n instanceof Kr||n instanceof Ka||n instanceof Qr),ae(n=>n instanceof gn||n instanceof Qr?$a.COMPLETE:(n instanceof Kr?n.code===Ht.Redirect||n.code===Ht.SupersededByNewNavigation:!1)?$a.REDIRECTING:$a.FAILED),Ot(n=>n!==$a.REDIRECTING),Jn(1)).subscribe(()=>{e()})}function RL(t){throw t}var ML={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Bl),this.stateManager=k(vC),this.options=k(sc,{optional:!0})||{},this.pendingTasks=k(Ui),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Xm),this.urlSerializer=k(nc),this.location=k(Xo),this.urlHandlingStrategy=k(Zm),this._events=new _t,this.errorHandler=this.options.errorHandler||RL,this.navigated=!1,this.routeReuseStrategy=k(TL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(ec,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(_d,{optional:!0}),this.eventsSubscription=new ze,this.isNgZoneEnabled=k(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Kr&&i.code!==Ht.Redirect&&i.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof gn)this.navigated=!0;else if(i instanceof Ya){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||CL(o.source)};this.scheduleNavigation(a,za,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}PL(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),za,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=U({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Qm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let I=o?o.snapshot:this.routerState.snapshot.root;m=XD(I)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return eC(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ss(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,za,null,i)}navigate(r,i={skipLocationChange:!1}){return NL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=U({},ML):i===!1?o=U({},xL):o=i,ss(r))return kD(this.currentUrlTree,r,o);let s=this.parseUrl(r);return kD(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,I)=>{u=m,l=I});let p=this.pendingTasks.add();return _C(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function PL(t){return!(t instanceof Qa)&&!(t instanceof Ya)}var yd=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new _t,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof gn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:rb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(J(rt),J(Yr),Dg("tabindex"),J(or),J($t),J(ur))},e.\u0275dir=Xe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&_e("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ra("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[lt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Hr],skipLocationChange:[lt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Hr],replaceUrl:[lt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Hr],routerLink:"routerLink"},standalone:!0,features:[Hg,ir]});let t=e;return t})(),wC=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ue,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof gn&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(xr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Pe(r).pipe(xr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=OL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(J(rt),J($t),J(or),J(zr),J(yd,8))},e.\u0275dir=Xe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&Wb(s,yd,5),i&2){let a;jl(a=Ul())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ir]});let t=e;return t})();function OL(t){return!!t.paths}var vd=class{};var kL=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ot(r=>r instanceof gn),Yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Vl(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return Pe(o).pipe(xr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=Y(null);let s=o.pipe(Ge(a=>a===null?Y(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Pe([s,a]).pipe(xr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(K(rt),K(ql),K(Mt),K(vd),K(Jm))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IC=new q(""),FL=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof as?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof gn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Qr&&r.code===ud.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof dd&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dd(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){gb()},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function EC(t,...e){return Jt([{provide:ec,multi:!0,useValue:t},[],{provide:Yr,useFactory:bC,deps:[rt]},{provide:Na,multi:!0,useFactory:DC},e.map(n=>n.\u0275providers)])}function bC(t){return t.routerState.root}function ac(t,e){return{\u0275kind:t,\u0275providers:e}}function DC(){let t=k(Nt);return e=>{let n=t.get(Jo);if(e!==n.components[0])return;let r=t.get(rt),i=t.get(CC);t.get(ey)===1&&r.initialNavigation(),t.get(TC,null,de.Optional)?.setUpPreloading(),t.get(IC,null,de.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var CC=new q("",{factory:()=>new _t}),ey=new q("",{providedIn:"root",factory:()=>1});function LL(){return ac(2,[{provide:ey,useValue:0},{provide:$l,multi:!0,deps:[Nt],useFactory:e=>{let n=e.get(lD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(rt),o=e.get(CC);_C(i,()=>{r(!0)}),e.get(Xm).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))}}])}function VL(){return ac(3,[{provide:$l,multi:!0,useFactory:()=>{let e=k(rt);return()=>{e.setUpLocationChangeListener()}}},{provide:ey,useValue:2}])}var TC=new q("");function jL(t){return ac(0,[{provide:TC,useExisting:kL},{provide:vd,useExisting:t}])}function UL(){return ac(8,[jD,{provide:_d,useExisting:jD}])}function BL(t){let e=[{provide:mC,useValue:bL},{provide:yC,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return ac(9,e)}var BD=new q("ROUTER_FORROOT_GUARD"),$L=[Xo,{provide:nc,useClass:Ga},rt,rc,{provide:Yr,useFactory:bC,deps:[rt]},Jm,[]],AC=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[$L,[],{provide:ec,multi:!0,useValue:r},{provide:BD,useFactory:GL,deps:[[rt,new wt,new cg]]},{provide:sc,useValue:i||{}},i?.useHash?zL():HL(),qL(),i?.preloadingStrategy?jL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?WL(i):[],i?.bindToComponentInputs?UL().\u0275providers:[],i?.enableViewTransitions?BL().\u0275providers:[],KL()]}}static forChild(r){return{ngModule:e,providers:[{provide:ec,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(K(BD,8))},e.\u0275mod=Mn({type:e}),e.\u0275inj=Rn({});let t=e;return t})();function qL(){return{provide:IC,useFactory:()=>{let t=k(pD),e=k(Ie),n=k(sc),r=k(Xm),i=k(nc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new FL(i,r,t,e,n)}}}function zL(){return{provide:ur,useClass:hD}}function HL(){return{provide:ur,useClass:nm}}function GL(t){return"guarded"}function WL(t){return[t.initialNavigation==="disabled"?VL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?LL().\u0275providers:[]]}var $D=new q("");function KL(){return[{provide:$D,useFactory:DC},{provide:Na,multi:!0,useExisting:$D}]}var SC=(()=>{let e=class e{ngAfterViewInit(){console.log("about")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["app-about"]],standalone:!0,features:[$e],decls:27,vars:0,consts:[[1,"about"],[1,"datos-personales"],[1,"imagen-alumno"],[1,"imagen-cuadrada"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/Matias.jpg?alt=media&token=e1a98f33-30c0-447c-89e0-cd04d6d9fe92","alt","Imagen del Alumno",1,"alumno-img"],[1,"texto-alumno"],[1,"titulo-centro"],[1,"explicacion-juego"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/WordGameExp.png?alt=media&token=f0e55f52-557b-4c2b-9b31-91d6c34bff09","alt","Imagen del Juego",1,"juego-img"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"h2"),V(2,"\xBFQui\xE9n Soy?"),N(),M(3,"div",1)(4,"div",2)(5,"div",3),me(6,"img",4),N()(),M(7,"div",5)(8,"h3")(9,"span",6),V(10,"Datos Personales"),N()(),M(11,"p"),V(12,"Nombre: Matias Bartel"),N(),M(13,"p"),V(14,"Edad: 19"),N(),M(15,"p"),V(16,"Email: "),M(17,"span"),V(18,"matiasbartelavgmail.com"),N()(),M(19,"p"),V(20,"Descripci\xF3n: Soy Estudiante de la TUP en la UTN."),N()()(),M(21,"div",7)(22,"h3"),V(23,"Explicaci\xF3n del Juego Propio"),N(),M(24,"p"),V(25,"Word Game - Ser\xE1 un juego donde el participante ver\xE1 una palabra desordenada y debe reorganizar las letras para formar la palabra correcta, tendr\xE1 un tiempo l\xEDmite; si no logra reorganizar las letras, pierde una vida."),N(),me(26,"img",8),N()())},styles:["body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.about[_ngcontent-%COMP%]{max-width:600px;max-height:850px;margin:70px;padding:20px;background-color:#f0f0f0;border-radius:8px}h2[_ngcontent-%COMP%]{text-align:center;color:#005900}h3[_ngcontent-%COMP%]{margin-top:20px;color:#000}.texto-centro[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}p[_ngcontent-%COMP%]{line-height:1.5;font-family:Arial,sans-serif;color:#000}.datos-personales[_ngcontent-%COMP%]{display:flex;align-items:stretch;margin:20px 0}.imagen-alumno[_ngcontent-%COMP%]{margin-right:20px;margin-top:70px}.imagen-cuadrada[_ngcontent-%COMP%]{width:200px;height:auto;overflow:hidden;border-radius:10px}.alumno-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.texto-alumno[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.explicacion-juego[_ngcontent-%COMP%]{text-align:center}.juego-img[_ngcontent-%COMP%]{max-width:90%;height:auto;border-radius:5px}"]});let t=e;return t})();var LC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(J(or),J($t))},e.\u0275dir=Xe({type:e});let t=e;return t})(),QL=(()=>{let e=class e extends LC{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ko(e)))(o||e)}})(),e.\u0275dir=Xe({type:e,features:[sr]});let t=e;return t})(),VC=new q("");var YL={provide:VC,useExisting:Vi(()=>Zr),multi:!0};function JL(){let t=cr()?cr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ZL=new q(""),Zr=(()=>{let e=class e extends LC{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!JL())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(J(or),J($t),J(ZL,8))},e.\u0275dir=Xe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&_e("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ma([YL]),sr]});let t=e;return t})();function XL(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var ny=new q(""),jC=new q("");function eV(t){return XL(t.value)?{required:!0}:null}function RC(t){return null}function UC(t){return t!=null}function BC(t){return Bi(t)?Pe(t):t}function $C(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function qC(t,e){return e.map(n=>n(t))}function tV(t){return!t.validate}function zC(t){return t.map(e=>tV(e)?e:n=>e.validate(n))}function nV(t){if(!t)return null;let e=t.filter(UC);return e.length==0?null:function(n){return $C(qC(n,e))}}function ry(t){return t!=null?nV(zC(t)):null}function rV(t){if(!t)return null;let e=t.filter(UC);return e.length==0?null:function(n){let r=qC(n,e).map(BC);return Wf(r).pipe(ae($C))}}function iy(t){return t!=null?rV(zC(t)):null}function MC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function iV(t){return t._rawValidators}function oV(t){return t._rawAsyncValidators}function ty(t){return t?Array.isArray(t)?t:[t]:[]}function bd(t,e){return Array.isArray(t)?t.includes(e):t===e}function xC(t,e){let n=ty(e);return ty(t).forEach(i=>{bd(n,i)||n.push(i)}),n}function NC(t,e){return ty(e).filter(n=>!bd(t,n))}var Dd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ry(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ds=class extends Dd{get formDirective(){return null}get path(){return null}},dc=class extends Dd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Cd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},sV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},pW=Ae(U({},sV),{"[class.ng-submitted]":"isSubmitted"}),hs=(()=>{let e=class e extends Cd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(J(dc,2))},e.\u0275dir=Xe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Yo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[sr]});let t=e;return t})(),Sd=(()=>{let e=class e extends Cd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(J(ds,10))},e.\u0275dir=Xe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Yo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[sr]});let t=e;return t})();var cc="VALID",Ed="INVALID",ls="PENDING",uc="DISABLED";function HC(t){return(Rd(t)?t.validators:t)||null}function aV(t){return Array.isArray(t)?ry(t):t||null}function GC(t,e){return(Rd(e)?e.asyncValidators:t)||null}function cV(t){return Array.isArray(t)?iy(t):t||null}function Rd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function uV(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[n])throw new z(1001,"")}function lV(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new z(1002,"")})}var Td=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cc}get invalid(){return this.status===Ed}get pending(){return this.status==ls}get disabled(){return this.status===uc}get enabled(){return this.status!==uc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NC(e,this._rawAsyncValidators))}hasValidator(e){return bd(this._rawValidators,e)}hasAsyncValidator(e){return bd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ls,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uc,this.errors=null,this._forEachChild(r=>{r.disable(Ae(U({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ae(U({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cc,this._forEachChild(r=>{r.enable(Ae(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ae(U({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cc||this.status===ls)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uc:cc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ls,this._hasOwnPendingAsyncValidator=!0;let n=BC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?uc:this.errors?Ed:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ls)?ls:this._anyControlsHaveStatus(Ed)?Ed:cc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=aV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cV(this._rawAsyncValidators)}},Ad=class extends Td{constructor(e,n,r){super(HC(n),GC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){lV(this,!0,e),Object.keys(e).forEach(r=>{uV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var oy=new q("CallSetDisabledState",{providedIn:"root",factory:()=>sy}),sy="always";function dV(t,e){return[...e.path,t]}function WC(t,e,n=sy){KC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),fV(t,e),gV(t,e),pV(t,e),hV(t,e)}function PC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function hV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function KC(t,e){let n=iV(t);e.validator!==null?t.setValidators(MC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=oV(t);e.asyncValidator!==null?t.setAsyncValidators(MC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();PC(e._rawValidators,i),PC(e._rawAsyncValidators,i)}function fV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&QC(t,e)})}function pV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&QC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function QC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function gV(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function mV(t,e){t==null,KC(t,e)}function yV(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function vV(t){return Object.getPrototypeOf(t.constructor)===QL}function _V(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function wV(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Zr?n=o:vV(o)?r=o:i=o}),i||r||n||null}var IV={provide:ds,useExisting:Vi(()=>hc)},lc=Promise.resolve(),hc=(()=>{let e=class e extends ds{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ue,this.form=new Ad({},ry(r),iy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){lc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),WC(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){lc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){lc.then(()=>{let i=this._findContainer(r.path),o=new Ad({});mV(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){lc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){lc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,_V(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(J(ny,10),J(jC,10),J(oy,8))},e.\u0275dir=Xe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&_e("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[lt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ma([IV]),sr]});let t=e;return t})();function OC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var EV=class extends Td{constructor(e=null,n,r){super(HC(n),GC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(kC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var bV={provide:dc,useExisting:Vi(()=>Hi)},FC=Promise.resolve(),Hi=(()=>{let e=class e extends dc{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new EV,this._registered=!1,this.name="",this.update=new Ue,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=wV(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),yV(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){WC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){FC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Hr(i);FC.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?dV(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(J(ds,9),J(ny,10),J(jC,10),J(VC,10),J(zr,8),J(oy,8))},e.\u0275dir=Xe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[lt.None,"disabled","isDisabled"],model:[lt.None,"ngModel","model"],options:[lt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ma([bV]),sr,ir]});let t=e;return t})(),Md=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Xe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var DV=(()=>{let e=class e{constructor(){this._validator=RC}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):RC,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Xe({type:e,features:[ir]});let t=e;return t})();var CV={provide:ny,useExisting:Vi(()=>fc),multi:!0};var fc=(()=>{let e=class e extends DV{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Hr,this.createValidator=r=>eV}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ko(e)))(o||e)}})(),e.\u0275dir=Xe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Ra("required",o._enabled?"":null)},inputs:{required:"required"},features:[Ma([CV]),sr]});let t=e;return t})();var TV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=Rn({});let t=e;return t})();var fs=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:oy,useValue:r.callSetDisabledState??sy}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=Rn({imports:[TV]});let t=e;return t})();var JC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ZC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,I=l&63;u||(I=64,s||(m=64)),r.push(n[h],n[p],n[m],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new uy;let m=o<<2|a>>4;if(r.push(m),l!==64){let I=a<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},uy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SV=function(t){let e=JC(t);return ZC.encodeByteArray(e,!0)},pc=function(t){return SV(t).replace(/\./g,"")},dy=function(t){try{return ZC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var MV=()=>RV().__FIREBASE_DEFAULTS__,xV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&dy(t[1]);return e&&JSON.parse(e)},Nd=()=>{try{return MV()||xV()||NV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hy=t=>{var e,n;return(n=(e=Nd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XC=t=>{let e=hy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fy=()=>{var t;return(t=Nd())===null||t===void 0?void 0:t.config},py=t=>{var e;return(e=Nd())===null||e===void 0?void 0:e[`_${t}`]};var xd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function eT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pc(JSON.stringify(n)),pc(JSON.stringify(s)),""].join(".")}function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function PV(){var t;let e=(t=Nd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oT(){let t=ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sT(){return!PV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gy(){try{return typeof indexedDB=="object"}catch{return!1}}function aT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var OV="FirebaseError",Gt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lr.prototype.create)}},lr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?kV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gt(i,a,r)}};function kV(t,e){return t.replace(FV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var FV=/\{\$([^}]+)}/g;function cT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(YC(o)&&YC(s)){if(!Gi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function YC(t){return t!==null&&typeof t=="object"}function gc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ps(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function gs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uT(t,e){let n=new ly(t,e);return n.subscribe.bind(n)}var ly=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cy),i.error===void 0&&(i.error=cy),i.complete===void 0&&(i.complete=cy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function LV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cy(){}var yW=4*60*60*1e3;function st(t){return t&&t._delegate?t._delegate:t}var tn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Wi="[DEFAULT]";var my=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new xd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jV(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VV(t){return t===Wi?void 0:t}function jV(t){return t.instantiationMode==="EAGER"}var Pd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new my(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var UV=[],pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pe||{}),BV={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},$V=pe.INFO,qV={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},zV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=qV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xr=class{constructor(e){this.name=e,this._logLevel=$V,this._logHandler=zV,this._userLogHandler=null,UV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var HV=(t,e)=>e.some(n=>t instanceof n),lT,dT;function GV(){return lT||(lT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WV(){return dT||(dT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hT=new WeakMap,vy=new WeakMap,fT=new WeakMap,yy=new WeakMap,wy=new WeakMap;function KV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ln(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&hT.set(n,t)}).catch(()=>{}),wy.set(e,t),e}function QV(t){if(vy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});vy.set(t,e)}var _y={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ln(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pT(t){_y=t(_y)}function YV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Od(this),e,...n);return fT.set(r,e.sort?e.sort():[e]),Ln(r)}:WV().includes(t)?function(...e){return t.apply(Od(this),e),Ln(hT.get(this))}:function(...e){return Ln(t.apply(Od(this),e))}}function JV(t){return typeof t=="function"?YV(t):(t instanceof IDBTransaction&&QV(t),HV(t,GV())?new Proxy(t,_y):t)}function Ln(t){if(t instanceof IDBRequest)return KV(t);if(yy.has(t))return yy.get(t);let e=JV(t);return e!==t&&(yy.set(t,e),wy.set(e,t)),e}var Od=t=>wy.get(t);function mT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Ln(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ln(s.result),u.oldVersion,u.newVersion,Ln(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var ZV=["get","getKey","getAll","getAllKeys","count"],XV=["put","add","delete","clear"],Iy=new Map;function gT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iy.get(e))return Iy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=XV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZV.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Iy.set(e,o),o}pT(t=>Ae(U({},t),{get:(e,n,r)=>gT(e,n)||t.get(e,n,r),has:(e,n)=>!!gT(e,n)||t.has(e,n)}));var by=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function e2(t){let e=t.getComponent();return e?.type==="VERSION"}var Dy="@firebase/app",yT="0.10.13";var dr=new Xr("@firebase/app"),t2="@firebase/app-compat",n2="@firebase/analytics-compat",r2="@firebase/analytics",i2="@firebase/app-check-compat",o2="@firebase/app-check",s2="@firebase/auth",a2="@firebase/auth-compat",c2="@firebase/database",u2="@firebase/data-connect",l2="@firebase/database-compat",d2="@firebase/functions",h2="@firebase/functions-compat",f2="@firebase/installations",p2="@firebase/installations-compat",g2="@firebase/messaging",m2="@firebase/messaging-compat",y2="@firebase/performance",v2="@firebase/performance-compat",_2="@firebase/remote-config",w2="@firebase/remote-config-compat",I2="@firebase/storage",E2="@firebase/storage-compat",b2="@firebase/firestore",D2="@firebase/vertexai-preview",C2="@firebase/firestore-compat",T2="firebase",A2="10.14.1";var Cy="[DEFAULT]",S2={[Dy]:"fire-core",[t2]:"fire-core-compat",[r2]:"fire-analytics",[n2]:"fire-analytics-compat",[o2]:"fire-app-check",[i2]:"fire-app-check-compat",[s2]:"fire-auth",[a2]:"fire-auth-compat",[c2]:"fire-rtdb",[u2]:"fire-data-connect",[l2]:"fire-rtdb-compat",[d2]:"fire-fn",[h2]:"fire-fn-compat",[f2]:"fire-iid",[p2]:"fire-iid-compat",[g2]:"fire-fcm",[m2]:"fire-fcm-compat",[y2]:"fire-perf",[v2]:"fire-perf-compat",[_2]:"fire-rc",[w2]:"fire-rc-compat",[I2]:"fire-gcs",[E2]:"fire-gcs-compat",[b2]:"fire-fst",[C2]:"fire-fst-compat",[D2]:"fire-vertex","fire-js":"fire-js",[T2]:"fire-js-all"};var mc=new Map,R2=new Map,Ty=new Map;function vT(t,e){try{t.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ti(t){let e=t.name;if(Ty.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Ty.set(e,t);for(let n of mc.values())vT(n,t);for(let n of R2.values())vT(n,t);return!0}function vc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t.settings!==void 0}var M2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new lr("app","Firebase",M2);var Ay=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}};var ni=A2;function hr(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Cy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=fy()),!n)throw ei.create("no-options");let o=mc.get(i);if(o){if(Gi(n,o.options)&&Gi(r,o.config))return o;throw ei.create("duplicate-app",{appName:i})}let s=new Pd(i);for(let u of Ty.values())s.addComponent(u);let a=new Ay(n,r,s);return mc.set(i,a),a}function ms(t=Cy){let e=mc.get(t);if(!e&&t===Cy&&fy())return hr();if(!e)throw ei.create("no-app",{appName:t});return e}function kd(){return Array.from(mc.values())}function tt(t,e,n){var r;let i=(r=S2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(a.join(" "));return}ti(new tn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var x2="firebase-heartbeat-database",N2=1,yc="firebase-heartbeat-store",Ey=null;function ET(){return Ey||(Ey=mT(x2,N2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ei.create("idb-open",{originalErrorMessage:t.message})})),Ey}function P2(t){return v(this,null,function*(){try{let n=(yield ET()).transaction(yc),r=yield n.objectStore(yc).get(bT(t));return yield n.done,r}catch(e){if(e instanceof Gt)dr.warn(e.message);else{let n=ei.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}})}function _T(t,e){return v(this,null,function*(){try{let r=(yield ET()).transaction(yc,"readwrite");yield r.objectStore(yc).put(e,bT(t)),yield r.done}catch(n){if(n instanceof Gt)dr.warn(n.message);else{let r=ei.create("idb-set",{originalErrorMessage:n?.message});dr.warn(r.message)}}})}function bT(t){return`${t.name}!${t.options.appId}`}var O2=1024,k2=30*24*60*60*1e3,Sy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ry(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=k2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){dr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=wT(),{heartbeatsToSend:r,unsentEntries:i}=F2(this._heartbeatsCache.heartbeats),o=pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return dr.warn(n),""}})}};function wT(){return new Date().toISOString().substring(0,10)}function F2(t,e=O2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),IT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ry=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return gy()?aT().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield P2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _T(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _T(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function IT(t){return pc(JSON.stringify({version:2,heartbeats:t})).length}function L2(t){ti(new tn("platform-logger",e=>new by(e),"PRIVATE")),ti(new tn("heartbeat",e=>new Sy(e),"PRIVATE")),tt(Dy,yT,t),tt(Dy,yT,"esm2017"),tt("fire-js","")}L2("");function UT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BT=UT,$T=new lr("auth","Firebase",UT());var Bd=new Xr("@firebase/auth");function V2(t,...e){Bd.logLevel<=pe.WARN&&Bd.warn(`Auth (${ni}): ${t}`,...e)}function Ld(t,...e){Bd.logLevel<=pe.ERROR&&Bd.error(`Auth (${ni}): ${t}`,...e)}function jn(t,...e){throw Zy(t,...e)}function Ki(t,...e){return Zy(t,...e)}function qT(t,e,n){let r=Object.assign(Object.assign({},BT()),{[e]:n});return new lr("auth","Firebase",r).create(e,{appName:t.name})}function gr(t){return qT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $T.create(t,...e)}function ee(t,e,...n){if(!t)throw Zy(e,...n)}function fr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ld(e),new Error(e)}function ii(t,e){t||fr(e)}function Py(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function j2(){return DT()==="http:"||DT()==="https:"}function DT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function U2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j2()||rT()||"connection"in navigator)?navigator.onLine:!0}function B2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Qi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=tT()||iT()}get(){return U2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Xy(t,e){ii(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var $d=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var q2=new Qi(3e4,6e4);function oi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function si(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return zT(t,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=gc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:m},l);return nT()||(I.referrerPolicy="no-referrer"),$d.fetch()(HT(t,t.config.apiHost,n,p),I)}))})}function zT(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},$2),e);try{let i=new Oy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Fd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Fd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Fd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw qT(t,h,l);jn(t,h)}}catch(i){if(i instanceof Gt)throw i;jn(t,"network-request-failed",{message:String(i)})}})}function Tc(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield si(t,e,n,r,i);return"mfaPendingCredential"in l&&jn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function HT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Xy(t.config,i):`${t.config.apiScheme}://${i}`}function z2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Oy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ki(this.auth,"network-request-failed")),q2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Fd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ki(t,e,r);return i.customData._tokenResponse=n,i}function CT(t){return t!==void 0&&t.enterprise!==void 0}var ky=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function H2(t,e){return v(this,null,function*(){return si(t,"GET","/v2/recaptchaConfig",oi(t,e))})}function G2(t,e){return v(this,null,function*(){return si(t,"POST","/v1/accounts:delete",e)})}function GT(t,e){return v(this,null,function*(){return si(t,"POST","/v1/accounts:lookup",e)})}function _c(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ev(t,e=!1){return v(this,null,function*(){let n=st(t),r=yield n.getIdToken(e),i=tv(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:_c(My(i.auth_time)),issuedAtTime:_c(My(i.iat)),expirationTime:_c(My(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function My(t){return Number(t)*1e3}function tv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ld("JWT malformed, contained fewer than 3 sections"),null;try{let i=dy(n);return i?JSON.parse(i):(Ld("Failed to decode base64 JWT payload"),null)}catch(i){return Ld("Caught error parsing JWT payload as JSON",i?.toString()),null}}function TT(t){let e=tv(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ic(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Gt&&W2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function W2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Fy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ec=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qd(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ic(t,GT(n,{idToken:r}));ee(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?WT(o.providerUserInfo):[],a=K2(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ec(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function nv(t){return v(this,null,function*(){let e=st(t);yield qd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function K2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WT(t){return t.map(e=>{var{providerId:n}=e,r=Hf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Q2(t,e){return v(this,null,function*(){let n=yield zT(t,{},()=>v(this,null,function*(){let r=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=HT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$d.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Y2(t,e){return v(this,null,function*(){return si(t,"POST","/v2/accounts:revokeToken",oi(t,e))})}var wc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");let n=TT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Q2(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return fr("not implemented")}};function ri(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ys=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Hf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ec(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Ic(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ev(this,e)}reload(){return nv(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield qd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(mn(this.auth.app))return Promise.reject(gr(this.auth));let e=yield this.getIdToken();return yield Ic(this,G2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,G=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:Z,isAnonymous:Ne,providerData:ie,stsTokenManager:b}=n;ee(W&&b,e,"internal-error");let y=wc.fromJSON(this.name,b);ee(typeof W=="string",e,"internal-error"),ri(p,e.name),ri(m,e.name),ee(typeof Z=="boolean",e,"internal-error"),ee(typeof Ne=="boolean",e,"internal-error"),ri(I,e.name),ri(S,e.name),ri(P,e.name),ri(R,e.name),ri(O,e.name),ri(G,e.name);let _=new t({uid:W,auth:e,email:m,emailVerified:Z,displayName:p,isAnonymous:Ne,photoURL:S,phoneNumber:I,tenantId:P,stsTokenManager:y,createdAt:O,lastLoginAt:G});return ie&&Array.isArray(ie)&&(_.providerData=ie.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new wc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?WT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new wc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ec(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var AT=new Map;function pr(t){ii(t instanceof Function,"Expected a class definition");let e=AT.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AT.set(t,e),e)}var J2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ly=J2;function Vd(t,e,n){return`firebase:${t}:${e}:${n}`}var zd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Vd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Vd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ys._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(pr(Ly),e,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||pr(Ly),s=Vd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=ys._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function ST(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XT(e))return"Blackberry";if(eA(e))return"Webos";if(QT(e))return"Safari";if((e.includes("chrome/")||YT(e))&&!e.includes("edge/"))return"Chrome";if(ZT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function KT(t=ot()){return/firefox\//i.test(t)}function QT(t=ot()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YT(t=ot()){return/crios\//i.test(t)}function JT(t=ot()){return/iemobile/i.test(t)}function ZT(t=ot()){return/android/i.test(t)}function XT(t=ot()){return/blackberry/i.test(t)}function eA(t=ot()){return/webos/i.test(t)}function rv(t=ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Z2(t=ot()){var e;return rv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X2(){return oT()&&document.documentMode===10}function tA(t=ot()){return rv(t)||ZT(t)||eA(t)||XT(t)||/windows phone/i.test(t)||JT(t)}function nA(t,e=[]){let n;switch(t){case"Browser":n=ST(ot());break;case"Worker":n=`${ST(ot())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ni}/${r}`}var Vy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function ej(n){return v(this,arguments,function*(t,e={}){return si(t,"GET","/v2/passwordPolicy",oi(t,e))})}var tj=6,jy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:tj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Uy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hd(this),this.idTokenSubscription=new Hd(this),this.beforeStateQueue=new Vy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pr(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield zd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield GT(this,{idToken:e}),r=yield ys._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(mn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield qd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=B2()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(mn(this.app))return Promise.reject(gr(this));let n=e?st(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return mn(this.app)?Promise.reject(gr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return mn(this.app)?Promise.reject(gr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(pr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield ej(this),n=new jy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Y2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&pr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=yield zd.create(this,[pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&V2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ji(t){return st(t)}var Hd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uT(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Zd={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nj(t){Zd=t}function rA(t){return Zd.loadJS(t)}function rj(){return Zd.recaptchaEnterpriseScript}function ij(){return Zd.gapiScript}function iA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var oj="recaptcha-enterprise",sj="NO_RECAPTCHA",By=class{constructor(e){this.type=oj,this.auth=Ji(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){H2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new ky(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;CT(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(sj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&CT(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=rj();u.length!==0&&(u+=a),rA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function RT(t,e,n,r=!1){return v(this,null,function*(){let i=new By(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function $y(t,e,n,r){return v(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield RT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>v(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield RT(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function iv(t,e){let n=vc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Gi(o,e??{}))return i;jn(i,"already-initialized")}return n.initialize({options:e})}function aj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ov(t,e,n){let r=Ji(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=oA(e),{host:s,port:a}=cj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||uj()}function oA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cj(t){let e=oA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:MT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:MT(s)}}}function MT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function uj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var bc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}};function lj(t,e){return v(this,null,function*(){return si(t,"POST","/v1/accounts:signUp",e)})}function dj(t,e){return v(this,null,function*(){return Tc(t,"POST","/v1/accounts:signInWithPassword",oi(t,e))})}function hj(t,e){return v(this,null,function*(){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))})}function fj(t,e){return v(this,null,function*(){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))})}var Dc=class t extends bc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $y(e,n,"signInWithPassword",dj);case"emailLink":return hj(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $y(e,r,"signUpPassword",lj);case"emailLink":return fj(e,{idToken:n,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function xy(t,e){return v(this,null,function*(){return Tc(t,"POST","/v1/accounts:signInWithIdp",oi(t,e))})}function pj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gj(t){let e=ps(gs(t)).link,n=e?ps(gs(e)).deep_link_id:null,r=ps(gs(t)).deep_link_id;return(r?ps(gs(r)).link:null)||r||n||e||t}var Gd=class t{constructor(e){var n,r,i,o,s,a;let u=ps(gs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=pj((i=u.mode)!==null&&i!==void 0?i:null);ee(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=gj(e);try{return new t(n)}catch{return null}}};var sA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Dc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Gd.parseLink(r);return ee(i,"argument-error"),Dc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Wd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var qy=class extends Wd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function mj(t,e){return v(this,null,function*(){return Tc(t,"POST","/v1/accounts:signUp",oi(t,e))})}var vs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield ys._fromIdTokenResponse(e,r,i),s=xT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=xT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function xT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var zy=class t extends Gt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function aA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zy._fromErrorAndOperation(t,o,e,r):o})}function yj(t,e,n=!1){return v(this,null,function*(){let r=yield Ic(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return vs._forOperation(t,"link",r)})}function vj(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(mn(r.app))return Promise.reject(gr(r));let i="reauthenticate";try{let o=yield Ic(t,aA(r,i,e,t),n);ee(o.idToken,r,"internal-error");let s=tv(o.idToken);ee(s,r,"internal-error");let{sub:a}=s;return ee(t.uid===a,r,"user-mismatch"),vs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&jn(r,"user-mismatch"),o}})}function cA(t,e,n=!1){return v(this,null,function*(){if(mn(t.app))return Promise.reject(gr(t));let r="signIn",i=yield aA(t,r,e),o=yield vs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function sv(t,e){return v(this,null,function*(){return cA(Ji(t),e)})}function uA(t){return v(this,null,function*(){let e=Ji(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Xd(t,e,n){return v(this,null,function*(){if(mn(t.app))return Promise.reject(gr(t));let r=Ji(t),s=yield $y(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&uA(t),u}),a=yield vs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function eh(t,e,n){return mn(t.app)?Promise.reject(gr(t)):sv(st(t),sA.credential(e,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&uA(t),r}))}function av(t,e,n,r){return st(t).onIdTokenChanged(e,n,r)}function cv(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function th(t,e,n,r){return st(t).onAuthStateChanged(e,n,r)}function nh(t){return st(t).signOut()}var Kd="__sak";var Qd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kd,"1"),this.storage.removeItem(Kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var _j=1e3,wj=10,Ij=(()=>{class t extends Qd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);X2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,wj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},_j)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield Ar(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield Ar(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield Ar(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),lA=Ij;var Ej=(()=>{class t extends Qd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),uv=Ej;function bj(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Dj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield bj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function dA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Hy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=dA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Vn(){return window}function Cj(t){Vn().location.href=t}function hA(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}function Tj(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Aj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Sj(){return hA()?self:null}var fA="firebaseLocalStorageDb",Rj=1,Yd="firebaseLocalStorage",pA="fbase_key",Yi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function rh(t,e){return t.transaction([Yd],e?"readwrite":"readonly").objectStore(Yd)}function Mj(){let t=indexedDB.deleteDatabase(fA);return new Yi(t).toPromise()}function Gy(){let t=indexedDB.open(fA,Rj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Yd,{keyPath:pA})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Yd)?e(r):(r.close(),yield Mj(),e(yield Gy()))}))})}function NT(t,e,n){return v(this,null,function*(){let r=rh(t,!0).put({[pA]:e,value:n});return new Yi(r).toPromise()})}function xj(t,e){return v(this,null,function*(){let n=rh(t,!1).get(e),r=yield new Yi(n).toPromise();return r===void 0?null:r.value})}function PT(t,e){let n=rh(t,!0).delete(e);return new Yi(n).toPromise()}var Nj=800,Pj=3,Oj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Gy(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Pj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return hA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=Dj._getInstance(Sj()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Tj(),!this.activeServiceWorker)return;this.sender=new Hy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Aj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Gy();return yield NT(n,Kd,"1"),yield PT(n,Kd),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>NT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>xj(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>PT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=rh(o,!1).getAll();return new Yi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),Nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),gA=Oj;var zW=iA("rcb"),HW=new Qi(3e4,6e4);function kj(t,e){return e?pr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Cc=class extends bc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Fj(t){return cA(t.auth,new Cc(t),t.bypassAuthState)}function Lj(t){let{auth:e,user:n}=t;return ee(n,e,"internal-error"),vj(n,new Cc(t),t.bypassAuthState)}function Vj(t){return v(this,null,function*(){let{auth:e,user:n}=t;return ee(n,e,"internal-error"),yj(n,new Cc(t),t.bypassAuthState)})}var Wy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fj;case"linkViaPopup":case"linkViaRedirect":return Vj;case"reauthViaPopup":case"reauthViaRedirect":return Lj;default:jn(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var GW=new Qi(2e3,1e4);var jj="pendingRedirect",jd=new Map,Ky=class t extends Wy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=jd.get(this.auth._key());if(!e){try{let r=(yield Uj(this.resolver,this.auth))?yield Ar(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Ar(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ar(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function Uj(t,e){return v(this,null,function*(){let n=qj(e),r=$j(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Bj(t,e){jd.set(t._key(),e)}function $j(t){return pr(t._redirectPersistence)}function qj(t){return Vd(jj,t.config.apiKey,t.name)}function zj(t,e,n=!1){return v(this,null,function*(){if(mn(t.app))return Promise.reject(gr(t));let r=Ji(t),i=kj(r,e),s=yield new Ky(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Hj=10*60*1e3,Qy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ki(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hj&&this.cachedEventUids.clear(),this.cachedEventUids.has(OT(e))}saveEventToCache(e){this.cachedEventUids.add(OT(e)),this.lastProcessedEventTime=Date.now()}};function OT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Gj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mA(t);default:return!1}}function Wj(n){return v(this,arguments,function*(t,e={}){return si(t,"GET","/v1/projects",e)})}var Kj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qj=/^https?/;function Yj(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Wj(t);for(let n of e)try{if(Jj(n))return}catch{}jn(t,"unauthorized-domain")})}function Jj(t){let e=Py(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Qj.test(n))return!1;if(Kj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Zj=new Qi(3e4,6e4);function kT(){let t=Vn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Xj(t){return new Promise((e,n)=>{var r,i,o;function s(){kT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kT(),n(Ki(t,"network-request-failed"))},timeout:Zj.get()})}if(!((i=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Vn().gapi)===null||o===void 0)&&o.load)s();else{let a=iA("iframefcb");return Vn()[a]=()=>{gapi.load?s():n(Ki(t,"network-request-failed"))},rA(`${ij()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Ud=null,e})}var Ud=null;function eU(t){return Ud=Ud||Xj(t),Ud}var tU=new Qi(5e3,15e3),nU="__/auth/iframe",rU="emulator/auth/iframe",iU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sU(t){let e=t.config;ee(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Xy(e,rU):`https://${t.config.authDomain}/${nU}`,r={apiKey:e.apiKey,appName:t.name,v:ni},i=oU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gc(r).slice(1)}`}function aU(t){return v(this,null,function*(){let e=yield eU(t),n=Vn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:sU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iU,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ki(t,"network-request-failed"),a=Vn().setTimeout(()=>{o(s)},tU.get());function u(){Vn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var cU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uU=500,lU=600,dU="_blank",hU="http://localhost",Jd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function fU(t,e,n,r=uU,i=lU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},cU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ot().toLowerCase();n&&(a=YT(l)?dU:n),KT(l)&&(e=e||hU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[I,S])=>`${m}${I}=${S},`,"");if(Z2(l)&&a!=="_self")return pU(e||"",a),new Jd(null);let p=window.open(e||"",a,h);ee(p,t,"popup-blocked");try{p.focus()}catch{}return new Jd(p)}function pU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var gU="__/auth/handler",mU="emulator/auth/handler",yU=encodeURIComponent("fac");function FT(t,e,n,r,i,o){return v(this,null,function*(){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ni,eventId:i};if(e instanceof Wd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",cT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof qy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${yU}=${encodeURIComponent(u)}`:"";return`${vU(t)}?${gc(a).slice(1)}${l}`})}function vU({config:t}){return t.emulator?Xy(t,mU):`https://${t.authDomain}/${gU}`}var Ny="webStorageSupport",Yy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uv,this._completeRedirectFn=zj,this._overrideRedirectResult=Bj}_openPopup(e,n,r,i){return v(this,null,function*(){var o;ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield FT(e,n,r,Py(),i);return fU(e,s,dA())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield FT(e,n,r,Py(),i);return Cj(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ii(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield aU(e),r=new Qy(e);return n.register("authEvent",i=>(ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ny,{type:Ny},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ny];s!==void 0&&n(!!s),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tA()||QT()||rv()}},yA=Yy;var LT="@firebase/auth",VT="1.7.9";var Jy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _U(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wU(t){ti(new tn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nA(t)},l=new Uy(r,i,o,u);return aj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ti(new tn("auth-internal",e=>{let n=Ji(e.getProvider("auth").getImmediate());return(r=>new Jy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(LT,VT,_U(t)),tt(LT,VT,"esm2017")}var IU=5*60,EU=py("authIdTokenMaxAge")||IU,jT=null,bU=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EU)return;let i=n?.token;jT!==i&&(jT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Qe(t=ms()){let e=vc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=iv(t,{popupRedirectResolver:yA,persistence:[gA,lA,uv]}),r=py("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=bU(o.toString());cv(n,s,()=>s(n.currentUser)),av(n,a=>s(a))}}let i=hy("auth");return i&&ov(n,`http://${i}`),n}function DU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ki("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",DU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wU("Browser");var fB="firebase",pB="10.14.1";tt(fB,pB,"app");var Ac={apiKey:"AIzaSyDwWtnrBJsAhV_bpBgDDtJOH4ApwmFHfVw",authDomain:"salajuegos-bartel.firebaseapp.com",projectId:"salajuegos-bartel",storageBucket:"salajuegos-bartel.appspot.com",messagingSenderId:"500772714952",appId:"1:500772714952:web:203ffc93567f0feb75e8fd"},A8=hr(Ac);var vA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_A={};var ai,lv;(function(){var t;function e(b,y){function _(){}_.prototype=y.prototype,b.D=y.prototype,b.prototype=new _,b.prototype.constructor=b,b.C=function(E,D,T){for(var w=Array(arguments.length-2),Gn=2;Gn<arguments.length;Gn++)w[Gn-2]=arguments[Gn];return y.prototype[D].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)E[D]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(D=0;16>D;++D)E[D]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=b.g[0],_=b.g[1],D=b.g[2];var T=b.g[3],w=y+(T^_&(D^T))+E[0]+3614090360&4294967295;y=_+(w<<7&4294967295|w>>>25),w=T+(D^y&(_^D))+E[1]+3905402710&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(_^T&(y^_))+E[2]+606105819&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(y^D&(T^y))+E[3]+3250441966&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(T^_&(D^T))+E[4]+4118548399&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(D^y&(_^D))+E[5]+1200080426&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(_^T&(y^_))+E[6]+2821735955&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(y^D&(T^y))+E[7]+4249261313&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(T^_&(D^T))+E[8]+1770035416&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(D^y&(_^D))+E[9]+2336552879&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(_^T&(y^_))+E[10]+4294925233&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(y^D&(T^y))+E[11]+2304563134&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(T^_&(D^T))+E[12]+1804603682&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(D^y&(_^D))+E[13]+4254626195&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(_^T&(y^_))+E[14]+2792965006&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(y^D&(T^y))+E[15]+1236535329&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(D^T&(_^D))+E[1]+4129170786&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(y^_))+E[6]+3225465664&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(T^y))+E[11]+643717713&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(D^T))+E[0]+3921069994&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^T&(_^D))+E[5]+3593408605&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(y^_))+E[10]+38016083&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(T^y))+E[15]+3634488961&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(D^T))+E[4]+3889429448&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^T&(_^D))+E[9]+568446438&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(y^_))+E[14]+3275163606&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(T^y))+E[3]+4107603335&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(D^T))+E[8]+1163531501&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^T&(_^D))+E[13]+2850285829&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(y^_))+E[2]+4243563512&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(T^y))+E[7]+1735328473&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(D^T))+E[12]+2368359562&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(_^D^T)+E[5]+4294588738&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^D)+E[8]+2272392833&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^_)+E[11]+1839030562&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^y)+E[14]+4259657740&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^T)+E[1]+2763975236&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^D)+E[4]+1272893353&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^_)+E[7]+4139469664&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^y)+E[10]+3200236656&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^T)+E[13]+681279174&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^D)+E[0]+3936430074&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^_)+E[3]+3572445317&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^y)+E[6]+76029189&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^T)+E[9]+3654602809&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^D)+E[12]+3873151461&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^_)+E[15]+530742520&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^y)+E[2]+3299628645&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(D^(_|~T))+E[0]+4096336452&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~D))+E[7]+1126891415&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~_))+E[14]+2878612391&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~y))+E[5]+4237533241&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~T))+E[12]+1700485571&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~D))+E[3]+2399980690&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~_))+E[10]+4293915773&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~y))+E[1]+2240044497&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~T))+E[8]+1873313359&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~D))+E[15]+4264355552&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~_))+E[6]+2734768916&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~y))+E[13]+1309151649&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~T))+E[4]+4149444226&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~D))+E[11]+3174756917&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~_))+E[2]+718787259&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~y))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+T&4294967295}r.prototype.u=function(b,y){y===void 0&&(y=b.length);for(var _=y-this.blockSize,E=this.B,D=this.h,T=0;T<y;){if(D==0)for(;T<=_;)i(this,b,T),T+=this.blockSize;if(typeof b=="string"){for(;T<y;)if(E[D++]=b.charCodeAt(T++),D==this.blockSize){i(this,E),D=0;break}}else for(;T<y;)if(E[D++]=b[T++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;var _=8*this.o;for(y=b.length-8;y<b.length;++y)b[y]=_&255,_/=256;for(this.u(b),b=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)b[_++]=this.g[y]>>>E&255;return b};function o(b,y){var _=a;return Object.prototype.hasOwnProperty.call(_,b)?_[b]:_[b]=y(b)}function s(b,y){this.h=y;for(var _=[],E=!0,D=b.length-1;0<=D;D--){var T=b[D]|0;E&&T==y||(_[D]=T,E=!1)}this.g=_}var a={};function u(b){return-128<=b&&128>b?o(b,function(y){return new s([y|0],0>y?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return R(l(-b));for(var y=[],_=1,E=0;b>=_;E++)y[E]=b/_|0,_*=4294967296;return new s(y,0)}function h(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return R(h(b.substring(1),y));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,D=0;D<b.length;D+=8){var T=Math.min(8,b.length-D),w=parseInt(b.substring(D,D+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(w))):(E=E.j(_),E=E.add(l(w)))}return E}var p=u(0),m=u(1),I=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-R(this).m();for(var b=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);b+=(0<=E?E:4294967296+E)*y,y*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(P(this))return"-"+R(this).toString(b);for(var y=l(Math.pow(b,6)),_=this,E="";;){var D=Z(_,y).g;_=O(_,D.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(b);if(_=D,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function P(b){return b.h==-1}t.l=function(b){return b=O(this,b),P(b)?-1:S(b)?0:1};function R(b){for(var y=b.g.length,_=[],E=0;E<y;E++)_[E]=~b.g[E];return new s(_,~b.h).add(m)}t.abs=function(){return P(this)?R(this):this},t.add=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0,D=0;D<=y;D++){var T=E+(this.i(D)&65535)+(b.i(D)&65535),w=(T>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);E=w>>>16,T&=65535,w&=65535,_[D]=w<<16|T}return new s(_,_[_.length-1]&-2147483648?-1:0)};function O(b,y){return b.add(R(y))}t.j=function(b){if(S(this)||S(b))return p;if(P(this))return P(b)?R(this).j(R(b)):R(R(this).j(b));if(P(b))return R(this.j(R(b)));if(0>this.l(I)&&0>b.l(I))return l(this.m()*b.m());for(var y=this.g.length+b.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<b.g.length;D++){var T=this.i(E)>>>16,w=this.i(E)&65535,Gn=b.i(D)>>>16,zs=b.i(D)&65535;_[2*E+2*D]+=w*zs,G(_,2*E+2*D),_[2*E+2*D+1]+=T*zs,G(_,2*E+2*D+1),_[2*E+2*D+1]+=w*Gn,G(_,2*E+2*D+1),_[2*E+2*D+2]+=T*Gn,G(_,2*E+2*D+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new s(_,0)};function G(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function W(b,y){this.g=b,this.h=y}function Z(b,y){if(S(y))throw Error("division by zero");if(S(b))return new W(p,p);if(P(b))return y=Z(R(b),y),new W(R(y.g),R(y.h));if(P(y))return y=Z(b,R(y)),new W(R(y.g),y.h);if(30<b.g.length){if(P(b)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(b);)_=Ne(_),E=Ne(E);var D=ie(_,1),T=ie(E,1);for(E=ie(E,2),_=ie(_,2);!S(E);){var w=T.add(E);0>=w.l(b)&&(D=D.add(_),T=w),E=ie(E,1),_=ie(_,1)}return y=O(b,D.j(y)),new W(D,y)}for(D=p;0<=b.l(y);){for(_=Math.max(1,Math.floor(b.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),w=T.j(y);P(w)||0<w.l(b);)_-=E,T=l(_),w=T.j(y);S(T)&&(T=m),D=D.add(T),b=O(b,w)}return new W(D,b)}t.A=function(b){return Z(this,b).h},t.and=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&b.i(E);return new s(_,this.h&b.h)},t.or=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|b.i(E);return new s(_,this.h|b.h)},t.xor=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^b.i(E);return new s(_,this.h^b.h)};function Ne(b){for(var y=b.g.length+1,_=[],E=0;E<y;E++)_[E]=b.i(E)<<1|b.i(E-1)>>>31;return new s(_,b.h)}function ie(b,y){var _=y>>5;y%=32;for(var E=b.g.length-_,D=[],T=0;T<E;T++)D[T]=0<y?b.i(T+_)>>>y|b.i(T+_+1)<<32-y:b.i(T+_);return new s(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lv=_A.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ai=_A.Integer=s}).apply(typeof vA<"u"?vA:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mr={};var dv,gB,_s,hv,Sc,oh,fv,pv,gv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function I(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var L=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)L[Re-2]=arguments[Re];return d.prototype[C].apply(g,L)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let L=0;L<A;L++)c[C+L]=g[L]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var Ne=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ie(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function w(){var c=nf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Gn{constructor(){this.h=this.g=null}add(d,f){let g=zs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var zs=new O(()=>new AR,c=>c.reset());class AR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Hs,Gs=!1,nf=new Gn,Cw=()=>{let c=a.Promise.resolve(void 0);Hs=()=>{c.then(SR)}};var SR=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){T(f)}var d=zs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Gs=!1};function br(){this.s=this.s,this.C=this.C}br.prototype.s=!1,br.prototype.ma=function(){this.s||(this.s=!0,this.N())},br.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var RR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ws(c,d){if(gt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{Z(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:MR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ws.aa.h.call(this)}}S(Ws,gt);var MR={2:"touch",3:"pen",4:"mouse"};Ws.prototype.h=function(){Ws.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ks="closure_listenable_"+(1e6*Math.random()|0),xR=0;function NR(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++xR,this.da=this.fa=!1}function nu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ru(c){this.src=c,this.g={},this.h=0}ru.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var L=of(c,d,g,C);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new NR(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function rf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(nu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function of(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var sf="closure_lm_"+(1e6*Math.random()|0),af={};function Tw(c,d,f,g,C){if(g&&g.once)return Sw(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Tw(c,d[A],f,g,C);return null}return f=df(f),c&&c[Ks]?c.K(d,f,l(g)?!!g.capture:!!g,C):Aw(c,d,f,!1,g,C)}function Aw(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var L=l(C)?!!C.capture:!!C,Re=uf(c);if(Re||(c[sf]=Re=new ru(c)),f=Re.add(d,f,g,L,A),f.proxy)return f;if(g=PR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)RR||(C=L),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(Mw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function PR(){function c(f){return d.call(c.src,c.listener,f)}let d=OR;return c}function Sw(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Sw(c,d[A],f,g,C);return null}return f=df(f),c&&c[Ks]?c.L(d,f,l(g)?!!g.capture:!!g,C):Aw(c,d,f,!0,g,C)}function Rw(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)Rw(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=df(f),c&&c[Ks]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=of(A,f,g,C),-1<f&&(nu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=uf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=of(d,f,g,C)),(f=-1<c?d[c]:null)&&cf(f))}function cf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ks])rf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Mw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=uf(d))?(rf(f,c),f.h==0&&(f.src=null,d[sf]=null)):nu(c)}}}function Mw(c){return c in af?af[c]:af[c]="on"+c}function OR(c,d){if(c.da)c=!0;else{d=new Ws(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&cf(c),c=f.call(g,d)}return c}function uf(c){return c=c[sf],c instanceof ru?c:null}var lf="__closure_events_fn_"+(1e9*Math.random()>>>0);function df(c){return typeof c=="function"?c:(c[lf]||(c[lf]=function(d){return c.handleEvent(d)}),c[lf])}function mt(){br.call(this),this.i=new ru(this),this.M=this,this.F=null}S(mt,br),mt.prototype[Ks]=!0,mt.prototype.removeEventListener=function(c,d,f,g){Rw(this,c,d,f,g)};function Tt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new gt(d,c);else if(d instanceof gt)d.target=d.target||c;else{var C=d;d=new gt(g,c),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var L=d.g=f[A];C=iu(L,g,!0,d)&&C}if(L=d.g=c,C=iu(L,g,!0,d)&&C,C=iu(L,g,!1,d)&&C,f)for(A=0;A<f.length;A++)L=d.g=f[A],C=iu(L,g,!1,d)&&C}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)nu(f[g]);delete c.g[d],c.h--}}this.F=null},mt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},mt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function iu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var L=d[A];if(L&&!L.da&&L.capture==f){var Re=L.listener,ct=L.ha||L.src;L.fa&&rf(c.i,L),C=Re.call(ct,g)!==!1&&C}}return C&&!g.defaultPrevented}function xw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Nw(c){c.g=xw(()=>{c.g=null,c.i&&(c.i=!1,Nw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class kR extends br{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Nw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(c){br.call(this),this.h=c,this.g={}}S(Qs,br);var Pw=[];function Ow(c){ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&cf(d)},c),c.g={}}Qs.prototype.N=function(){Qs.aa.N.call(this),Ow(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hf=a.JSON.stringify,FR=a.JSON.parse,LR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ff(){}ff.prototype.h=null;function kw(c){return c.h||(c.h=c.i())}function Fw(){}var Ys={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pf(){gt.call(this,"d")}S(pf,gt);function gf(){gt.call(this,"c")}S(gf,gt);var _i={},Lw=null;function ou(){return Lw=Lw||new mt}_i.La="serverreachability";function Vw(c){gt.call(this,_i.La,c)}S(Vw,gt);function Js(c){let d=ou();Tt(d,new Vw(d))}_i.STAT_EVENT="statevent";function jw(c,d){gt.call(this,_i.STAT_EVENT,c),this.stat=d}S(jw,gt);function At(c){let d=ou();Tt(d,new jw(d,c))}_i.Ma="timingevent";function Uw(c,d){gt.call(this,_i.Ma,c),this.size=d}S(Uw,gt);function Zs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Xs(){this.g=!0}Xs.prototype.xa=function(){this.g=!1};function VR(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var L="",Re=A.split("&"),ct=0;ct<Re.length;ct++){var we=Re[ct].split("=");if(1<we.length){var yt=we[0];we=we[1];var vt=yt.split("_");L=2<=vt.length&&vt[1]=="type"?L+(yt+"="+we+"&"):L+(yt+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+L})}function jR(c,d,f,g,C,A,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+L})}function go(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+BR(c,f)+(g?" "+g:"")})}function UR(c,d){c.info(function(){return"TIMEOUT: "+d})}Xs.prototype.info=function(){};function BR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<C.length;L++)C[L]=""}}}}return hf(f)}catch{return d}}var su={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mf;function au(){}S(au,ff),au.prototype.g=function(){return new XMLHttpRequest},au.prototype.i=function(){return{}},mf=new au;function Dr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $w}function $w(){this.i=null,this.g="",this.h=!1}var qw={},yf={};function vf(c,d,f){c.L=1,c.v=du(Wn(d)),c.m=f,c.P=!0,zw(c,null)}function zw(c,d){c.F=Date.now(),cu(c),c.A=Wn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),iI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new $w,c.g=EI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new kR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(Pw[0]=C.toString()),C=Pw);for(var A=0;A<C.length;A++){var L=Tw(f,C[A],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Js(),VR(c.i,c.u,c.A,c.l,c.R,c.m)}Dr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Kn(c)==3?d.j():this.Y(c)},Dr.prototype.Y=function(c){try{if(c==this.g)e:{let vt=Kn(this.g);var d=this.g.Ba();let vo=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||dI(this.g)))){this.J||vt!=4||d==7||(d==8||0>=vo?Js(3):Js(2)),_f(this);var f=this.g.Z();this.X=f;t:if(Hw(this)){var g=dI(this.g);c="";var C=g.length,A=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),ea(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,jR(this.i,this.u,this.A,this.l,this.R,vt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ct=this.g;if((Re=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Re)){var we=Re;break t}}we=null}if(f=we)go(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wf(this,f);else{this.o=!1,this.s=3,At(12),wi(this),ea(this);break e}}if(this.P){f=!0;let rn;for(;!this.J&&this.C<L.length;)if(rn=$R(this,L),rn==yf){vt==4&&(this.s=4,At(14),f=!1),go(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==qw){this.s=4,At(15),go(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else go(this.i,this.l,rn,null),wf(this,rn);if(Hw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||L.length!=0||this.h.h||(this.s=1,At(16),f=!1),this.o=this.o&&f,!f)go(this.i,this.l,L,"[Invalid Chunked Response]"),wi(this),ea(this);else if(0<L.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Tf(yt),yt.M=!0,At(11))}}else go(this.i,this.l,L,null),wf(this,L);vt==4&&wi(this),this.o&&!this.J&&(vt==4?vI(this.j,this):(this.o=!1,cu(this)))}else oM(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),wi(this),ea(this)}}}catch{}finally{}};function Hw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $R(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?yf:(f=Number(d.substring(f,g)),isNaN(f)?qw:(g+=1,g+f>d.length?yf:(d=d.slice(g,g+f),c.C=g+f,d)))}Dr.prototype.cancel=function(){this.J=!0,wi(this)};function cu(c){c.S=Date.now()+c.I,Gw(c,c.I)}function Gw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Zs(m(c.ba,c),d)}function _f(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Dr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(UR(this.i,this.A),this.L!=2&&(Js(),At(17)),wi(this),this.s=2,ea(this)):Gw(this,this.S-c)};function ea(c){c.j.G==0||c.J||vI(c.j,c)}function wi(c){_f(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Ow(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function wf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||If(f.h,c))){if(!c.K&&If(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)mu(f),pu(f);else break e;Cf(f),At(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Zs(m(f.Za,f),6e3));if(1>=Qw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ei(f,11)}else if((c.K||f.g==c)&&mu(f),!G(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let we=C[d];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];let yt=we[3];yt!=null&&(f.la=yt,f.j.info("VER="+f.la));let vt=we[4];vt!=null&&(f.Aa=vt,f.j.info("SVER="+f.Aa));let vo=we[5];vo!=null&&typeof vo=="number"&&0<vo&&(g=1.5*vo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let rn=c.g;if(rn){let vu=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vu){var A=g.h;A.g||vu.indexOf("spdy")==-1&&vu.indexOf("quic")==-1&&vu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Ef(A,A.h),A.h=null))}if(g.D){let Af=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Af&&(g.ya=Af,Fe(g.I,g.D,Af))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=II(g,g.J?g.ia:null,g.W),L.K){Yw(g.h,L);var Re=L,ct=g.L;ct&&(Re.I=ct),Re.B&&(_f(Re),cu(Re)),g.g=L}else mI(g);0<f.i.length&&gu(f)}else we[0]!="stop"&&we[0]!="close"||Ei(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Ei(f,7):Df(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}Js(4)}catch{}}var qR=class{constructor(c,d){this.g=c,this.map=d}};function Ww(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Qw(c){return c.h?1:c.g?c.g.size:0}function If(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ef(c,d){c.g?c.g.add(d):c.h=d}function Yw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Ww.prototype.cancel=function(){if(this.i=Jw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Jw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function zR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function HR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Zw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=HR(c),g=zR(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var Xw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Ii(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ii){this.h=c.h,uu(this,c.j),this.o=c.o,this.g=c.g,lu(this,c.s),this.l=c.l;var d=c.i,f=new ra;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),eI(this,f),this.m=c.m}else c&&(d=String(c).match(Xw))?(this.h=!1,uu(this,d[1]||"",!0),this.o=ta(d[2]||""),this.g=ta(d[3]||"",!0),lu(this,d[4]),this.l=ta(d[5]||"",!0),eI(this,d[6]||"",!0),this.m=ta(d[7]||"")):(this.h=!1,this.i=new ra(null,this.h))}Ii.prototype.toString=function(){var c=[],d=this.j;d&&c.push(na(d,tI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(na(d,tI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(na(f,f.charAt(0)=="/"?QR:KR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",na(f,JR)),c.join("")};function Wn(c){return new Ii(c)}function uu(c,d,f){c.j=f?ta(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function lu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function eI(c,d,f){d instanceof ra?(c.i=d,ZR(c.i,c.h)):(f||(d=na(d,YR)),c.i=new ra(d,c.h))}function Fe(c,d,f){c.i.set(d,f)}function du(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ta(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function na(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,WR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function WR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tI=/[#\/\?@]/g,KR=/[#\?:]/g,QR=/[#\?]/g,YR=/[#\?@]/g,JR=/#/g;function ra(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Cr(c){c.g||(c.g=new Map,c.h=0,c.i&&GR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ra.prototype,t.add=function(c,d){Cr(this),this.i=null,c=mo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function nI(c,d){Cr(c),d=mo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function rI(c,d){return Cr(c),d=mo(c,d),c.g.has(d)}t.forEach=function(c,d){Cr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){Cr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){Cr(this);let d=[];if(typeof c=="string")rI(this,c)&&(d=d.concat(this.g.get(mo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Cr(this),this.i=null,c=mo(this,c),rI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function iI(c,d,f){nI(c,d),0<f.length&&(c.i=null,c.g.set(mo(c,d),P(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var C=A;L[g]!==""&&(C+="="+encodeURIComponent(String(L[g]))),c.push(C)}}return this.i=c.join("&")};function mo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function ZR(c,d){d&&!c.j&&(Cr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(nI(this,g),iI(this,C,f))},c)),c.j=d}function XR(c,d){let f=new Xs;if(a.Image){let g=new Image;g.onload=I(Tr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=I(Tr,f,"TestLoadImage: error",!1,d,g),g.onabort=I(Tr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(Tr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function eM(c,d){let f=new Xs,g=new AbortController,C=setTimeout(()=>{g.abort(),Tr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Tr(f,"TestPingServer: ok",!0,d):Tr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Tr(f,"TestPingServer: error",!1,d)})}function Tr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function tM(){this.g=new LR}function nM(c,d,f){let g=f||"";try{Zw(c,function(C,A){let L=C;l(C)&&(L=hf(C)),d.push(g+A+"="+encodeURIComponent(L))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function ia(c){this.l=c.Ub||null,this.j=c.eb||!1}S(ia,ff),ia.prototype.g=function(){return new hu(this.l,this.j)},ia.prototype.i=function(c){return function(){return c}}({});function hu(c,d){mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(hu,mt),t=hu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,sa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function oI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?oa(this):sa(this),this.readyState==3&&oI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,oa(this))},t.Qa=function(c){this.g&&(this.response=c,oa(this))},t.ga=function(){this.g&&oa(this)};function oa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,sa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function sa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sI(c){let d="";return ie(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function bf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=sI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Fe(c,d,f))}function je(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(je,mt);var rM=/^https?$/i,iM=["POST","PUT"];t=je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mf.g(),this.v=this.o?kw(this.o):kw(mf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){aI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iM,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of f)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){aI(this,A)}};function aI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,cI(c),fu(c)}function cI(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),fu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fu(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uI(this):this.bb())},t.bb=function(){uI(this)};function uI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Kn(c)!=4||c.Z()!=2)){if(c.u&&Kn(c)==4)xw(c.Ea,0,c);else if(Tt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var C=String(c.D).match(Xw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!rM.test(C?C.toLowerCase():"")}f=g}if(f)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var A=2<Kn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",cI(c)}}finally{fu(c)}}}}function fu(c,d){if(c.g){lI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Tt(c,"ready");try{f.onreadystatechange=g}catch{}}}function lI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),FR(d)}};function dI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function oM(c){let d={};c=(c.g&&2<=Kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(G(c[g]))continue;var f=D(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function hI(c){this.Aa=0,this.i=[],this.j=new Xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,c),this.cb=aa("retryDelaySeedMs",1e4,c),this.Wa=aa("forwardChannelMaxRetries",2,c),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ww(c&&c.concurrentRequestLimit),this.Da=new tM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){At(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=II(this,null,this.W),gu(this)};function Df(c){if(fI(c),c.G==3){var d=c.U++,f=Wn(c.I);if(Fe(f,"SID",c.K),Fe(f,"RID",d),Fe(f,"TYPE","terminate"),ca(c,f),d=new Dr(c,c.j,d),d.L=2,d.v=du(Wn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=EI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),cu(d)}wI(c)}function pu(c){c.g&&(Tf(c),c.g.cancel(),c.g=null)}function fI(c){pu(c),c.u&&(a.clearTimeout(c.u),c.u=null),mu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function gu(c){if(!Kw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Hs||Cw(),Gs||(Hs(),Gs=!0),nf.add(d,c),c.B=0}}function sM(c,d){return Qw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Zs(m(c.Ga,c,d),_I(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Dr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=gI(this,C,d),f=Wn(this.I),Fe(f,"RID",c),Fe(f,"CVER",22),this.D&&Fe(f,"X-HTTP-Session-Id",this.D),ca(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(sI(A)))+"&"+d:this.m&&bf(f,this.m,A)),Ef(this.h,C),this.Ua&&Fe(f,"TYPE","init"),this.P?(Fe(f,"$req",d),Fe(f,"SID","null"),C.T=!0,vf(C,f,null)):vf(C,f,d),this.G=2}}else this.G==3&&(c?pI(this,c):this.i.length==0||Kw(this.h)||pI(this))};function pI(c,d){var f;d?f=d.l:f=c.U++;let g=Wn(c.I);Fe(g,"SID",c.K),Fe(g,"RID",f),Fe(g,"AID",c.T),ca(c,g),c.m&&c.o&&bf(g,c.m,c.o),f=new Dr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=gI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ef(c.h,f),vf(f,g,d)}function ca(c,d){c.H&&ie(c.H,function(f,g){Fe(d,g,f)}),c.l&&Zw({},function(f,g){Fe(d,g,f)})}function gI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let L=["count="+f];A==-1?0<f?(A=C[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let Re=!0;for(let ct=0;ct<f;ct++){let we=C[ct].g,yt=C[ct].map;if(we-=A,0>we)A=Math.max(0,C[ct].g-100),Re=!1;else try{nM(yt,L,"req"+we+"_")}catch{g&&g(yt)}}if(Re){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function mI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Hs||Cw(),Gs||(Hs(),Gs=!0),nf.add(d,c),c.v=0}}function Cf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Zs(m(c.Fa,c),_I(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,yI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Zs(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),pu(this),yI(this))};function Tf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function yI(c){c.g=new Dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Wn(c.qa);Fe(d,"RID","rpc"),Fe(d,"SID",c.K),Fe(d,"AID",c.T),Fe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(d,"TO",c.ja),Fe(d,"TYPE","xmlhttp"),ca(c,d),c.m&&c.o&&bf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=du(Wn(d)),f.m=null,f.P=!0,zw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,pu(this),Cf(this),At(19))};function mu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function vI(c,d){var f=null;if(c.g==d){mu(c),Tf(c),c.g=null;var g=2}else if(If(c.h,d))f=d.D,Yw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=ou(),Tt(g,new Uw(g,f)),gu(c)}else mI(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&sM(c,d)||g==2&&Cf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function _I(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ei(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Ii(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uu(g,"https"),du(g),C?XR(g.toString(),f):eM(g.toString(),f)}else At(2);c.G=0,c.l&&c.l.sa(d),wI(c),fI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function wI(c){if(c.G=0,c.ka=[],c.l){let d=Jw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function II(c,d,f){var g=f instanceof Ii?Wn(f):new Ii(f);if(g.g!="")d&&(g.g=d+"."+g.g),lu(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Ii(null);g&&uu(A,g),d&&(A.g=d),C&&lu(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Fe(g,f,d),Fe(g,"VER",c.la),ca(c,g),g}function EI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new je(new ia({eb:f})):new je(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bI(){}t=bI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yu(){}yu.prototype.g=function(c,d){return new Vt(c,d)};function Vt(c,d){mt.call(this),this.g=new hI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new yo(this)}S(Vt,mt),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Df(this.g)},Vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=hf(c),c=f);d.i.push(new qR(d.Ya++,c)),d.G==3&&gu(d)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Df(this.g),delete this.g,Vt.aa.N.call(this)};function DI(c){pf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(DI,pf);function CI(){gf.call(this),this.status=1}S(CI,gf);function yo(c){this.g=c}S(yo,bI),yo.prototype.ua=function(){Tt(this.g,"a")},yo.prototype.ta=function(c){Tt(this.g,new DI(c))},yo.prototype.sa=function(c){Tt(this.g,new CI)},yo.prototype.ra=function(){Tt(this.g,"b")},yu.prototype.createWebChannel=yu.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,gv=mr.createWebChannelTransport=function(){return new yu},pv=mr.getStatEventTarget=function(){return ou()},fv=mr.Event=_i,oh=mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},su.NO_ERROR=0,su.TIMEOUT=8,su.HTTP_ERROR=6,Sc=mr.ErrorCode=su,Bw.COMPLETE="complete",hv=mr.EventType=Bw,Fw.EventType=Ys,Ys.OPEN="a",Ys.CLOSE="b",Ys.ERROR="c",Ys.MESSAGE="d",mt.prototype.listen=mt.prototype.K,_s=mr.WebChannel=Fw,gB=mr.FetchXmlHttpFactory=ia,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,dv=mr.XhrIo=je}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});var wA="@firebase/firestore";var at=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");var Ls="10.14.0";var no=new Xr("@firebase/firestore");function Rc(){return no.logLevel}function $(t,...e){if(no.logLevel<=pe.DEBUG){let n=e.map(ew);no.debug(`Firestore (${Ls}): ${t}`,...n)}}function vr(t,...e){if(no.logLevel<=pe.ERROR){let n=e.map(ew);no.error(`Firestore (${Ls}): ${t}`,...n)}}function Ts(t,...e){if(no.logLevel<=pe.WARN){let n=e.map(ew);no.warn(`Firestore (${Ls}): ${t}`,...n)}}function ew(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function te(t="Unexpected state"){let e=`FIRESTORE (${Ls}) INTERNAL ASSERTION FAILED: `+t;throw vr(e),new Error(e)}function Te(t,e){t||te()}function re(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Gt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var yr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var lh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},wv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(at.UNAUTHENTICATED))}shutdown(){}},Iv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ev=class{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new lh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new at(e)}},bv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Dv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Cv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Tv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Te(this.o===void 0);let r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new Cv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function mB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var dh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=mB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function be(t,e){return t<e?-1:t>e?1:0}function As(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var pt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new pt(0,0))}static max(){return new t(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var hh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ve=class t extends hh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},yB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wt=class t extends hh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return yB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new B(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ve.fromString(e))}static fromName(e){return new t(Ve.fromString(e).popFirst(5))}static empty(){return new t(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ve(e.slice()))}};var Av=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Av.UNKNOWN_ID=-1;function vB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new ro(i,Q.empty(),e)}function _B(t){return new ro(t.readTime,t.key,-1)}var ro=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(se.min(),Q.empty(),-1)}static max(){return new t(se.max(),Q.empty(),-1)}};function wB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}var IB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Kc(t){return v(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==IB)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function EB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qc(t){return t.name==="IndexedDbTransactionError"}var nS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Bh(t){return t==null}function kc(t){return t===0&&1/t==-1/0}function bB(t){return typeof t=="number"&&Number.isInteger(t)&&!kc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var DB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],U8=[...DB,"documentOverlays"],CB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TB=CB,AB=[...TB,"indexConfiguration","indexState","indexEntries"];var B8=[...AB,"globals"];function IA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qe=class t{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bs(this.root,e,this.comparator,!0)}},bs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$n=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new $n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Dt=class t{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fh(this.data.getIterator())}getIteratorFrom(e){return new fh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},fh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Bn=class t{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Dt(Wt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ph=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ph("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ct.EMPTY_BYTE_STRING=new Ct("");var SB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(t){if(Te(!!t),typeof t=="string"){let e=0,n=SB.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function li(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}function tw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nw(t){let e=t.mapValue.fields.__previous_value__;return tw(e)?nw(e):e}function Fc(t){let e=_r(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}var Rv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},gh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var sh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tw(t)?4:oS(t)?9007199254740991:iS(t)?10:11:te()}function Hn(t,e){if(t===e)return!0;let n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fc(t).isEqual(Fc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=_r(i.timestampValue),a=_r(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return li(i.bytesValue).isEqual(li(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Le(i.geoPointValue.latitude)===Le(o.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Le(i.integerValue)===Le(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Le(i.doubleValue),a=Le(o.doubleValue);return s===a?kc(s)===kc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return As(t.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(IA(s)!==IA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Hn(s[u],a[u])))return!1;return!0}(t,e);default:return te()}}function Lc(t,e){return(t.values||[]).find(n=>Hn(n,e))!==void 0}function Ss(t,e){if(t===e)return 0;let n=io(t),r=io(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Le(o.integerValue||o.doubleValue),u=Le(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return EA(t.timestampValue,e.timestampValue);case 4:return EA(Fc(t),Fc(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(o,s){let a=li(o),u=li(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=be(a[l],u[l]);if(h!==0)return h}return be(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=be(Le(o.latitude),Le(s.latitude));return a!==0?a:be(Le(o.longitude),Le(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},I=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=be(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:bA(I,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===sh.mapValue&&s===sh.mapValue)return 0;if(o===sh.mapValue)return 1;if(s===sh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=be(u[p],h[p]);if(m!==0)return m;let I=Ss(a[u[p]],l[h[p]]);if(I!==0)return I}return be(u.length,h.length)}(t.mapValue,e.mapValue);default:throw te()}}function EA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);let n=_r(t),r=_r(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function bA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ss(n[i],r[i]);if(o)return o}return be(n.length,r.length)}function Rs(t){return Mv(t)}function Mv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=_r(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Mv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Mv(n.fields[s])}`;return i+"}"}(t.mapValue):te()}function DA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xv(t){return!!t&&"integerValue"in t}function rw(t){return!!t&&"arrayValue"in t}function CA(t){return!!t&&"nullValue"in t}function TA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ch(t){return!!t&&"mapValue"in t}function iS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var yn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=xc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ch(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(xc(this.value))}};function sS(t){let e=[];return Vs(t.fields,(n,r)=>{let i=new Wt([n]);if(ch(r)){let o=sS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Bn(e)}var vn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,se.min(),se.min(),se.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,se.min(),se.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,se.min(),se.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ms=class{constructor(e,n){this.position=e,this.inclusive=n}};function AA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),n.key):r=Ss(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function SA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hn(t.position[n],e.position[n]))return!1;return!0}var oo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function RB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var mh=class{},Ze=class t extends mh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Pv(e,n,r):n==="array-contains"?new Fv(e,r):n==="in"?new Lv(e,r):n==="not-in"?new Vv(e,r):n==="array-contains-any"?new jv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ov(e,r):new kv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ss(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(Ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_n=class t extends mh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return aS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function aS(t){return t.op==="and"}function cS(t){return MB(t)&&aS(t)}function MB(t){for(let e of t.filters)if(e instanceof _n)return!1;return!0}function Nv(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+Rs(t.value);if(cS(t))return t.filters.map(e=>Nv(e)).join(",");{let e=t.filters.map(n=>Nv(n)).join(",");return`${t.op}(${e})`}}function uS(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&Hn(r.value,i.value)}(t,e):t instanceof _n?function(r,i){return i instanceof _n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&uS(s,i.filters[a]),!0):!1}(t,e):void te()}function lS(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Rs(n.value)}`}(t):t instanceof _n?function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"}(t):"Filter"}var Pv=class extends Ze{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){let n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}},Ov=class extends Ze{constructor(e,n){super(e,"in",n),this.keys=dS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},kv=class extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=dS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function dS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}var Fv=class extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return rw(n)&&Lc(n.arrayValue,this.value)}},Lv=class extends Ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Lc(this.value.arrayValue,n)}},Vv=class extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Lc(this.value.arrayValue,n)}},jv=class extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!rw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lc(this.value.arrayValue,r))}};var Uv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function RA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Uv(t,e,n,r,i,o,s)}function iw(t){let e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rs(r)).join(",")),e.ue=n}return e.ue}function ow(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SA(t.startAt,e.startAt)&&SA(t.endAt,e.endAt)}function Bv(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var di=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function xB(t,e,n,r,i,o,s,a){return new di(t,e,n,r,i,o,s,a)}function sw(t){return new di(t)}function MA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hS(t){return t.collectionGroup!==null}function Nc(t){let e=re(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Dt(Wt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new oo(o,r))}),n.has(Wt.keyField().canonicalString())||e.ce.push(new oo(Wt.keyField(),r))}return e.ce}function qn(t){let e=re(t);return e.le||(e.le=NB(e,Nc(t))),e.le}function NB(t,e){if(t.limitType==="F")return RA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new oo(i.field,o)});let n=t.endAt?new Ms(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ms(t.startAt.position,t.startAt.inclusive):null;return RA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $v(t,e){let n=t.filters.concat([e]);return new di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yh(t,e,n){return new di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $h(t,e){return ow(qn(t),qn(e))&&t.limitType===e.limitType}function fS(t){return`${iw(qn(t))}|lt:${t.limitType}`}function ws(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lS(i)).join(", ")}]`),Bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rs(i)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function qh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Nc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=AA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Nc(r),i)||r.endAt&&!function(s,a,u){let l=AA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Nc(r),i))}(t,e)}function PB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pS(t){return(e,n)=>{let r=!1;for(let i of Nc(t)){let o=OB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function OB(t,e,n){let r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ss(u,l):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}var hi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return rS(this.inner)}size(){return this.innerSize}};var kB=new qe(Q.comparator);function wr(){return kB}var gS=new qe(Q.comparator);function Mc(...t){let e=gS;for(let n of t)e=e.insert(n.key,n);return e}function mS(t){let e=gS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zi(){return Pc()}function yS(){return Pc()}function Pc(){return new hi(t=>t.toString(),(t,e)=>t.isEqual(e))}var FB=new qe(Q.comparator),LB=new Dt(Q.comparator);function ge(...t){let e=LB;for(let n of t)e=e.add(n);return e}var VB=new Dt(be);function jB(){return VB}function aw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(e)?"-0":e}}function vS(t){return{integerValue:""+t}}function UB(t,e){return bB(e)?vS(e):aw(t,e)}var xs=class{constructor(){this._=void 0}};function BB(t,e,n){return t instanceof Ns?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&tw(o)&&(o=nw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof so?wS(t,e):t instanceof ao?IS(t,e):function(i,o){let s=_S(i,o),a=xA(s)+xA(i.Pe);return xv(s)&&xv(i.Pe)?vS(a):aw(i.serializer,a)}(t,e)}function $B(t,e,n){return t instanceof so?wS(t,e):t instanceof ao?IS(t,e):n}function _S(t,e){return t instanceof Ps?function(r){return xv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ns=class extends xs{},so=class extends xs{constructor(e){super(),this.elements=e}};function wS(t,e){let n=ES(e);for(let r of t.elements)n.some(i=>Hn(i,r))||n.push(r);return{arrayValue:{values:n}}}var ao=class extends xs{constructor(e){super(),this.elements=e}};function IS(t,e){let n=ES(e);for(let r of t.elements)n=n.filter(i=>!Hn(i,r));return{arrayValue:{values:n}}}var Ps=class extends xs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function xA(t){return Le(t.integerValue||t.doubleValue)}function ES(t){return rw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof so&&i instanceof so||r instanceof ao&&i instanceof ao?As(r.elements,i.elements,Hn):r instanceof Ps&&i instanceof Ps?Hn(r.Pe,i.Pe):r instanceof Ns&&i instanceof Ns}(t.transform,e.transform)}var qv=class{constructor(e,n){this.version=e,this.transformResults=n}},ci=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Os=class{};function bS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vh(t.key,ci.none()):new co(t.key,t.data,ci.none());{let n=t.data,r=yn.empty(),i=new Dt(Wt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ir(t.key,r,new Bn(i.toArray()),ci.none())}}function zB(t,e,n){t instanceof co?function(i,o,s){let a=i.value.clone(),u=PA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ir?function(i,o,s){if(!uh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=PA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(DS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Oc(t,e,n,r){return t instanceof co?function(o,s,a,u){if(!uh(o.precondition,s))return a;let l=o.value.clone(),h=OA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ir?function(o,s,a,u){if(!uh(o.precondition,s))return a;let l=OA(o.fieldTransforms,u,s),h=s.data;return h.setAll(DS(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return uh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function HB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=_S(r.transform,i||null);o!=null&&(n===null&&(n=yn.empty()),n.set(r.field,o))}return n||null}function NA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&As(r,i,(o,s)=>qB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var co=class extends Os{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ir=class extends Os{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function DS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function PA(t,e,n){let r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$B(s,a,n[i]))}return r}function OA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,BB(o,s,e))}return r}var vh=class extends Os{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},zv=class extends Os{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Hv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&zB(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=yS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=bS(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(n,r)=>NA(n,r))&&As(this.baseMutations,e.baseMutations,(n,r)=>NA(n,r))}},Gv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return FB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Wv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Kv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ye,ve;function GB(t){switch(t){default:return te();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function CS(t){if(t===void 0)return vr("GRPC error has no .code"),x.UNKNOWN;switch(t){case Ye.OK:return x.OK;case Ye.CANCELLED:return x.CANCELLED;case Ye.UNKNOWN:return x.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return x.INTERNAL;case Ye.UNAVAILABLE:return x.UNAVAILABLE;case Ye.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ye.NOT_FOUND:return x.NOT_FOUND;case Ye.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ye.ABORTED:return x.ABORTED;case Ye.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ye.DATA_LOSS:return x.DATA_LOSS;default:return te()}}(ve=Ye||(Ye={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var kA=null;function WB(){return new TextEncoder}var KB=new ai([4294967295,4294967295],0);function FA(t){let e=WB().encode(t),n=new lv;return n.update(e),new Uint8Array(n.digest())}function LA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ai([n,r],0),new ai([i,o],0)]}var Qv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xi(`Invalid padding: ${n}`);if(r<0)throw new Xi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ai.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ai.fromNumber(r)));return i.compare(KB)===1&&(i=new ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=FA(e),[r,i]=LA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=FA(e),[r,i]=LA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Xi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var _h=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(se.min(),i,new qe(be),wr(),ge())}},Vc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var Ds=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},wh=class{constructor(e,n){this.targetId=e,this.me=n}},Ih=class{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Eh=class{constructor(){this.fe=0,this.ge=jA(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Vc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=jA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Yv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=wr(),this.qe=VA(),this.Qe=new qe(be)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Bv(o))if(r===0){let s=new Q(o.path);this.Ue(n,s,vn.newNoDocument(s,se.min()))}else Te(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}kA?.et(function(h,p,m,I,S){var P,R,O,G,W,Z;let Ne={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ie=p.unchangedNames;return ie&&(Ne.bloomFilter={applied:S===0,hashCount:(P=ie?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(G=(O=(R=ie?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&G!==void 0?G:0,padding:(Z=(W=ie?.bits)===null||W===void 0?void 0:W.padding)!==null&&Z!==void 0?Z:0,mightContain:b=>{var y;return(y=I?.mightContain(b))!==null&&y!==void 0&&y}}),Ne}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=li(r).toUint8Array()}catch(u){if(u instanceof ph)return Ts("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Qv(s,i,o)}catch(u){return Ts(u instanceof Xi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Bv(a.target)){let u=new Q(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,vn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ge();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new _h(e,n,this.Qe,this.ke,r);return this.ke=wr(),this.qe=VA(),this.Qe=new qe(be),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Eh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Dt(be),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Eh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function VA(){return new qe(Q.comparator)}function jA(){return new qe(Q.comparator)}var QB={asc:"ASCENDING",desc:"DESCENDING"},YB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JB={and:"AND",or:"OR"},Jv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Zv(t,e){return t.useProto3Json||Bh(e)?e:{value:e}}function bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZB(t,e){return bh(t,e.toTimestamp())}function zn(t){return Te(!!t),se.fromTimestamp(function(n){let r=_r(n);return new pt(r.seconds,r.nanos)}(t))}function cw(t,e){return Xv(t,e).canonicalString()}function Xv(t,e){let n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AS(t){let e=Ve.fromString(t);return Te(NS(e)),e}function e_(t,e){return cw(t.databaseId,e.path)}function mv(t,e){let n=AS(e);if(n.get(1)!==t.databaseId.projectId)throw new B(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(RS(n))}function SS(t,e){return cw(t.databaseId,e)}function XB(t){let e=AS(t);return e.length===4?Ve.emptyPath():RS(e)}function t_(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RS(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function UA(t,e,n){return{name:e_(t,e),fields:n.value.mapValue.fields}}function e$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string"),Ct.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?x.UNKNOWN:CS(l.code);return new B(h,l.message||"")}(s);n=new Ih(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=mv(t,r.document.name),o=zn(r.document.updateTime),s=r.document.createTime?zn(r.document.createTime):se.min(),a=new yn({mapValue:{fields:r.document.fields}}),u=vn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ds(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=mv(t,r.document),o=r.readTime?zn(r.readTime):se.min(),s=vn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ds([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=mv(t,r.document),o=r.removedTargetIds||[];n=new Ds([],o,i,null)}else{if(!("filter"in e))return te();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Kv(i,o),a=r.targetId;n=new wh(a,s)}}return n}function t$(t,e){let n;if(e instanceof co)n={update:UA(t,e.key,e.value)};else if(e instanceof vh)n={delete:e_(t,e.key)};else if(e instanceof Ir)n={update:UA(t,e.key,e.data),updateMask:l$(e.fieldMask)};else{if(!(e instanceof zv))return te();n={verify:e_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ns)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof so)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ao)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ps)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:ZB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:te()}(t,e.precondition)),n}function n$(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?zn(i.updateTime):zn(o);return s.isEqual(se.min())&&(s=zn(o)),new qv(s,i.transformResults||[])}(n,e))):[]}function r$(t,e){return{documents:[SS(t,e.path)]}}function i$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SS(t,i);let o=function(l){if(l.length!==0)return xS(_n.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Is(m.field),direction:a$(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Zv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function o$(t){let e=XB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=MS(p);return m instanceof _n&&cS(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new oo(Es(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Bh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,I=p.values||[];return new Ms(I,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,I=p.values||[];return new Ms(I,m)}(n.endAt)),xB(e,i,s,o,a,"F",u,l)}function s$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Es(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Es(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Es(n.unaryFilter.field);return Ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Es(n.unaryFilter.field);return Ze.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Es(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _n.create(n.compositeFilter.filters.map(r=>MS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function a$(t){return QB[t]}function c$(t){return YB[t]}function u$(t){return JB[t]}function Is(t){return{fieldPath:t.canonicalString()}}function Es(t){return Wt.fromServerFormat(t.fieldPath)}function xS(t){return t instanceof Ze?function(n){if(n.op==="=="){if(TA(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NAN"}};if(CA(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TA(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NAN"}};if(CA(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(n.field),op:c$(n.op),value:n.value}}}(t):t instanceof _n?function(n){let r=n.getFilters().map(i=>xS(i));return r.length===1?r[0]:{compositeFilter:{op:u$(n.op),filters:r}}}(t):te()}function l$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var jc=class t{constructor(e,n,r,i,o=se.min(),s=se.min(),a=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var n_=class{constructor(e){this.ct=e}};function d$(t){let e=o$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yh(e,e.limit,"L"):e}var Dh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Le(e.integerValue));else if("doubleValue"in e){let r=Le(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),kc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=_r(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(li(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?oS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):iS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):te()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Le(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Dh.vt=new Dh;var r_=class{constructor(){this.un=new i_}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(ro.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},i_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(Ve.comparator)).toArray()}};var q8=new Uint8Array(0);var Un=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(41943040,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);var Uc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var o_=class{constructor(){this.changes=new hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var s_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var a_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Oc(r.mutation,i,Bn.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=Zi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Mc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Zi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=wr(),s=Pc(),a=function(){return Pc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Ir)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Oc(h.mutation,l,h.mutation.getFieldMask(),pt.now())):s.set(l.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new s_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Pc(),i=new qe((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Bn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=yS();h.forEach(m=>{if(!o.has(m)){let I=bS(n.get(m),r.get(m));I!==null&&p.set(m,I),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Zi()),a=-1,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:mS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Mc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Mc();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,m){return new di(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,vn.newInvalidDocument(h)))});let a=Mc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Oc(h.mutation,l,Bn.empty(),pt.now()),qh(n,l)&&(a=a.insert(u,l))}),a})}};var c_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:d$(i.bundledQuery),readTime:zn(i.readTime)}}(n)),F.resolve()}};var u_=class{constructor(){this.overlays=new qe(Q.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Zi();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=Zi(),o=n.length+1,s=new Q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new qe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Zi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Zi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Wv(n,r));let o=this.Ir.get(n);o===void 0&&(o=ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var l_=class{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var Bc=class{constructor(){this.Tr=new Dt(Je.Er),this.dr=new Dt(Je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Q(new Ve([])),r=new Je(n,e),i=new Je(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Q(new Ve([])),r=new Je(n,e),i=new Je(n,e+1),o=ge();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Je=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||Q.comparator(e.key,n.key)}};var d_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Dt(Je.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Hv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Je(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Je(n,0),i=new Je(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(be);return n.forEach(i=>{let o=new Je(i,0),s=new Je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Q.isDocumentKey(o)||(o=o.child(""));let s=new Je(new Q(o),0),a=new Dt(be);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),F.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{let o=new Je(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Je(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var h_=class{constructor(e){this.Mr=e,this.docs=function(){return new qe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let r=wr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=wr(),s=n.path,a=new Q(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||wB(_B(h),r)<=0||(i.has(h.key)||qh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){te()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new f_(this)}getSize(e){return F.resolve(this.size)}},f_=class extends o_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var p_=class{constructor(e){this.persistence=e,this.Nr=new hi(n=>iw(n),ow),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bc,this.targetCount=0,this.kr=Uc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Uc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}};var g_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new nS(0),this.Kr=!1,this.Kr=!0,this.$r=new l_,this.referenceDelegate=e(this),this.Ur=new p_(this),this.indexManager=new r_,this.remoteDocumentCache=function(i){return new h_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new n_(n),this.Gr=new c_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new d_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new m_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},m_=class extends Sv{constructor(e){super(),this.currentSequenceNumber=e}},y_=class t{constructor(e){this.persistence=e,this.Jr=new Bc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=Q.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var v_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ge(),i=ge();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var __=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var w_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sT()?8:EB(ot())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new __;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Rc()<=pe.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Rc()<=pe.DEBUG&&$("QueryEngine","Query:",ws(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Rc()<=pe.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):F.resolve())}Yi(e,n){if(MA(n))return F.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yh(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,yh(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return MA(n)||i.isEqual(se.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?F.resolve(null):(Rc()<=pe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ws(n)),this.rs(e,s,n,vB(i,-1)).next(a=>a))})}ts(e,n){let r=new Dt(pS(e));return n.forEach((i,o)=>{qh(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Rc()<=pe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",ws(n)),this.Ji.getDocumentsMatchingQuery(e,n,ro.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var I_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new qe(be),this._s=new hi(o=>iw(o),ow),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function h$(t,e,n,r){return new I_(t,e,n,r)}function PS(t,e){return v(this,null,function*(){let n=re(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function f$(t,e){let n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),I=F.resolve();return m.forEach(S=>{I=I.next(()=>h.getEntry(u,S)).next(P=>{let R=l.docVersions.get(S);Te(R!==null),P.version.compareTo(R)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function OS(t){let e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function p$(t,e){let n=re(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let I=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(Ct.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(h.resumeToken,r)),i=i.insert(p,I),function(P,R,O){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,I,h)&&a.push(n.Ur.updateTargetData(o,I))});let u=wr(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(g$(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(se.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function g$(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=wr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function m$(t,e){let n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function y$(t,e){let n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new jc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function E_(t,e,n){return v(this,null,function*(){let r=re(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Qc(s))throw s;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function BA(t,e,n){let r=re(t),i=se.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=re(u),m=p._s.get(h);return m!==void 0?F.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:ge())).next(a=>(v$(r,PB(e),a),{documents:a,Ts:o})))}function v$(t,e,n){let r=t.us.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Ch=class{constructor(){this.activeTargetIds=jB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var b_=class{constructor(){this.so=new Ch,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ch,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var D_=class{_o(e){}shutdown(){}};var Th=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ah=null;function yv(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}var _$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var C_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var bt="WebChannelConnection",T_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=yv(),u=this.xo(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>($("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ts("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ls}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=_$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=yv();return new Promise((s,a)=>{let u=new dv;u.setWithCredentials(!0),u.listenOnce(hv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Sc.NO_ERROR:let h=u.getResponseJson();$(bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Sc.TIMEOUT:$(bt,`RPC '${e}' ${o} timed out`),a(new B(x.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:let p=u.getStatus();if($(bt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let I=m?.error;if(I&&I.status&&I.message){let S=function(R){let O=R.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(O)>=0?O:x.UNKNOWN}(I.status);a(new B(S,I.message))}else a(new B(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new B(x.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{$(bt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);$(bt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=yv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gv(),a=pv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");$(bt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,I=!1,S=new C_({Io:R=>{I?$(bt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||($(bt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),$(bt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),P=(R,O,G)=>{R.listen(O,W=>{try{G(W)}catch(Z){setTimeout(()=>{throw Z},0)}})};return P(p,_s.EventType.OPEN,()=>{I||($(bt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),P(p,_s.EventType.CLOSE,()=>{I||(I=!0,$(bt,`RPC '${e}' stream ${i} transport closed`),S.So())}),P(p,_s.EventType.ERROR,R=>{I||(I=!0,Ts(bt,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new B(x.UNAVAILABLE,"The operation could not be completed")))}),P(p,_s.EventType.MESSAGE,R=>{var O;if(!I){let G=R.data[0];Te(!!G);let W=G,Z=W.error||((O=W[0])===null||O===void 0?void 0:O.error);if(Z){$(bt,`RPC '${e}' stream ${i} received error:`,Z);let Ne=Z.status,ie=function(_){let E=Ye[_];if(E!==void 0)return CS(E)}(Ne),b=Z.message;ie===void 0&&(ie=x.INTERNAL,b="Unknown error status: "+Ne+" with message "+Z.message),I=!0,S.So(new B(ie,b)),p.close()}else $(bt,`RPC '${e}' stream ${i} received:`,G),S.bo(G)}}),P(a,fv.STAT_EVENT,R=>{R.stat===oh.PROXY?$(bt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===oh.NOPROXY&&$(bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function vv(){return typeof document<"u"?document:null}function zh(t){return new Jv(t,!0)}var Ah=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Sh=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ah(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return v(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return v(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return v(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new B(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>v(this,null,function*(){this.state=0,this.start()}))}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},A_=class extends Sh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=e$(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?zn(s.readTime):se.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=t_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Bv(u)?{documents:r$(o,u)}:{query:i$(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=TS(o,s.resumeToken);let l=Zv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=bh(o,s.snapshotVersion.toTimestamp());let l=Zv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=s$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=t_(this.serializer),n.removeTarget=e,this.a_(n)}},S_=class extends Sh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=n$(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=t_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>t$(this.serializer,r))};this.a_(n)}};var R_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new B(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Xv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(x.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Xv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(x.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},M_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vr(n),this.D_=!1):$("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var x_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>v(this,null,function*(){lo(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=re(u);l.L_.add(4),yield Yc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Hh(l)})}(this))}))}),this.q_=new M_(r,i)}};function Hh(t){return v(this,null,function*(){if(lo(t))for(let e of t.B_)yield e(!0)})}function Yc(t){return v(this,null,function*(){for(let e of t.B_)yield e(!1)})}function kS(t,e){let n=re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),hw(n)?dw(n):js(n).r_()&&lw(n,e))}function uw(t,e){let n=re(t),r=js(n);n.N_.delete(e),r.r_()&&FS(n,e),n.N_.size===0&&(r.r_()?r.o_():lo(n)&&n.q_.set("Unknown"))}function lw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}js(t).A_(e)}function FS(t,e){t.Q_.xe(e),js(t).R_(e)}function dw(t){t.Q_=new Yv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),js(t).start(),t.q_.v_()}function hw(t){return lo(t)&&!js(t).n_()&&t.N_.size>0}function lo(t){return re(t).L_.size===0}function LS(t){t.Q_=void 0}function w$(t){return v(this,null,function*(){t.q_.set("Online")})}function I$(t){return v(this,null,function*(){t.N_.forEach((e,n)=>{lw(t,e)})})}function E$(t,e){return v(this,null,function*(){LS(t),hw(t)?(t.q_.M_(e),dw(t)):t.q_.set("Unknown")})}function b$(t,e,n){return v(this,null,function*(){if(t.q_.set("Online"),e instanceof Ih&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rh(t,r)}else if(e instanceof Ds?t.Q_.Ke(e):e instanceof wh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(se.min()))try{let r=yield OS(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Ct.EMPTY_BYTE_STRING,h.snapshotVersion)),FS(o,u);let p=new jc(h.target,u,l,h.sequenceNumber);lw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){$("RemoteStore","Failed to raise snapshot:",r),yield Rh(t,r)}})}function Rh(t,e,n){return v(this,null,function*(){if(!Qc(e))throw e;t.L_.add(1),yield Yc(t),t.q_.set("Offline"),n||(n=()=>OS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Hh(t)}))})}function VS(t,e){return e().catch(n=>Rh(t,n,e))}function Gh(t){return v(this,null,function*(){let e=re(t),n=fi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;D$(e);)try{let i=yield m$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,C$(e,i)}catch(i){yield Rh(e,i)}jS(e)&&US(e)})}function D$(t){return lo(t)&&t.O_.length<10}function C$(t,e){t.O_.push(e);let n=fi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jS(t){return lo(t)&&!fi(t).n_()&&t.O_.length>0}function US(t){fi(t).start()}function T$(t){return v(this,null,function*(){fi(t).p_()})}function A$(t){return v(this,null,function*(){let e=fi(t);for(let n of t.O_)e.m_(n.mutations)})}function S$(t,e,n){return v(this,null,function*(){let r=t.O_.shift(),i=Gv.from(r,e,n);yield VS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Gh(t)})}function R$(t,e){return v(this,null,function*(){e&&fi(t).V_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return GB(s)&&s!==x.ABORTED}(i.code)){let o=r.O_.shift();fi(r).s_(),yield VS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Gh(r)}})}(t,e)),jS(t)&&US(t)})}function $A(t,e){return v(this,null,function*(){let n=re(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let r=lo(n);n.L_.add(3),yield Yc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Hh(n)})}function M$(t,e){return v(this,null,function*(){let n=re(t);e?(n.L_.delete(2),yield Hh(n)):e||(n.L_.add(2),yield Yc(n),n.q_.set("Unknown"))})}function js(t){return t.K_||(t.K_=function(n,r,i){let o=re(n);return o.w_(),new A_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:w$.bind(null,t),Ro:I$.bind(null,t),mo:E$.bind(null,t),d_:b$.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.K_.s_(),hw(t)?dw(t):t.q_.set("Unknown")):(yield t.K_.stop(),LS(t))}))),t.K_}function fi(t){return t.U_||(t.U_=function(n,r,i){let o=re(n);return o.w_(),new S_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:T$.bind(null,t),mo:R$.bind(null,t),f_:A$.bind(null,t),g_:S$.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.U_.s_(),yield Gh(t)):(yield t.U_.stop(),t.O_.length>0&&($("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var N_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function fw(t,e){if(vr("AsyncQueue",`${e}: ${t}`),Qc(t))return new B(x.UNAVAILABLE,`${e}: ${t}`);throw t}var Mh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Mc(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var xh=class{constructor(){this.W_=new qe(Q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ks=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Mh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var P_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},O_=class{constructor(){this.queries=qA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=re(n),o=i.queries;i.queries=qA(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new B(x.ABORTED,"Firestore shutting down"))}};function qA(){return new hi(t=>fS(t),$h)}function x$(t,e){return v(this,null,function*(){let n=re(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new P_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=fw(s,`Initialization of query '${ws(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&pw(n)})}function N$(t,e){return v(this,null,function*(){let n=re(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function P$(t,e){let n=re(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&pw(n)}function O$(t,e,n){let r=re(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function pw(t){t.Y_.forEach(e=>{e.next()})}var k_,zA;(zA=k_||(k_={})).ea="default",zA.Cache="cache";var F_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==k_.Cache}};var Nh=class{constructor(e){this.key=e}},Ph=class{constructor(e){this.key=e}},L_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=pS(e),this.Ra=new Mh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new xh,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),I=qh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;m&&I?m.data.isEqual(I.data)?S!==P&&(r.track({type:3,doc:I}),R=!0):this.ga(m,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(a=!0)):!m&&I?(r.track({type:0,doc:I}),R=!0):m&&!I&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(I?(s=s.add(I),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(I,S){let P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return P(I)-P(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new ks(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new xh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Ph(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Nh(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ks.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},V_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},j_=class{constructor(e){this.key=e,this.va=!1}},U_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new hi(a=>fS(a),$h),this.Ma=new Map,this.xa=new Set,this.Oa=new qe(Q.comparator),this.Na=new Map,this.La=new Bc,this.Ba={},this.ka=new Map,this.qa=Uc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function k$(t,e,n=!0){return v(this,null,function*(){let r=GS(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield BS(r,e,n,!0),i})}function F$(t,e){return v(this,null,function*(){let n=GS(t);yield BS(n,e,!0,!1)})}function BS(t,e,n,r){return v(this,null,function*(){let i=yield y$(t.localStore,qn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield L$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&kS(t.remoteStore,i),a})}function L$(t,e,n,r,i){return v(this,null,function*(){t.Ka=(p,m,I)=>function(P,R,O,G){return v(this,null,function*(){let W=R.view.ma(O);W.ns&&(W=yield BA(P.localStore,R.query,!1).then(({documents:b})=>R.view.ma(b,W)));let Z=G&&G.targetChanges.get(R.targetId),Ne=G&&G.targetMismatches.get(R.targetId)!=null,ie=R.view.applyChanges(W,P.isPrimaryClient,Z,Ne);return GA(P,R.targetId,ie.wa),ie.snapshot})}(t,p,m,I);let o=yield BA(t.localStore,e,!0),s=new L_(e,o.Ts),a=s.ma(o.documents),u=Vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);GA(t,n,l.wa);let h=new V_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function V$(t,e,n){return v(this,null,function*(){let r=re(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!$h(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield E_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uw(r.remoteStore,i.targetId),B_(r,i.targetId)}).catch(Kc))):(B_(r,i.targetId),yield E_(r.localStore,i.targetId,!0))})}function j$(t,e){return v(this,null,function*(){let n=re(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uw(n.remoteStore,r.targetId))})}function U$(t,e,n){return v(this,null,function*(){let r=W$(t);try{let i=yield function(s,a){let u=re(s),l=pt.now(),h=a.reduce((I,S)=>I.add(S.key),ge()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=wr(),P=ge();return u.cs.getEntries(I,h).next(R=>{S=R,S.forEach((O,G)=>{G.isValidDocument()||(P=P.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(R=>{p=R;let O=[];for(let G of a){let W=HB(G,p.get(G.key).overlayedDocument);W!=null&&O.push(new Ir(G.key,W,sS(W.value.mapValue),ci.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,O,a)}).next(R=>{m=R;let O=R.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(I,R.batchId,O)})}).then(()=>({batchId:m.batchId,changes:mS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new qe(be)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Jc(r,i.changes),yield Gh(r.remoteStore)}catch(i){let o=fw(i,"Failed to persist write");n.reject(o)}})}function $S(t,e){return v(this,null,function*(){let n=re(t);try{let r=yield p$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Te(s.va):i.removedDocuments.size>0&&(Te(s.va),s.va=!1))}),yield Jc(n,r,e)}catch(r){yield Kc(r)}})}function HA(t,e,n){let r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=re(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&pw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function B$(t,e,n){return v(this,null,function*(){let r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new qe(Q.comparator);s=s.insert(o,vn.newNoDocument(o,se.min()));let a=ge().add(o),u=new _h(se.min(),new Map,new qe(be),s,a);yield $S(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),gw(r)}else yield E_(r.localStore,e,!1).then(()=>B_(r,e,n)).catch(Kc)})}function $$(t,e){return v(this,null,function*(){let n=re(t),r=e.batch.batchId;try{let i=yield f$(n.localStore,e);zS(n,r,null),qS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Jc(n,i)}catch(i){yield Kc(i)}})}function q$(t,e,n){return v(this,null,function*(){let r=re(t);try{let i=yield function(s,a){let u=re(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);zS(r,e,n),qS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Jc(r,i)}catch(i){yield Kc(i)}})}function qS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function zS(t,e,n){let r=re(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function B_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||HS(t,r)})}function HS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(uw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),gw(t))}function GA(t,e,n){for(let r of n)r instanceof Nh?(t.La.addReference(r.key,e),z$(t,r)):r instanceof Ph?($("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||HS(t,r.key)):te()}function z$(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||($("SyncEngine","New document in limbo: "+n),t.xa.add(r),gw(t))}function gw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Q(Ve.fromString(e)),r=t.qa.next();t.Na.set(r,new j_(n)),t.Oa=t.Oa.insert(n,r),kS(t.remoteStore,new jc(qn(sw(n.path)),r,"TargetPurposeLimboResolution",nS.oe))}}function Jc(t,e,n){return v(this,null,function*(){let r=re(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=v_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return v(this,null,function*(){let h=re(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,m=>F.forEach(m.$i,I=>h.persistence.referenceDelegate.addReference(p,m.targetId,I)).next(()=>F.forEach(m.Ui,I=>h.persistence.referenceDelegate.removeReference(p,m.targetId,I)))))}catch(p){if(!Qc(p))throw p;$("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let I=h.os.get(m),S=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,P)}}})}(r.localStore,o))})}function H$(t,e){return v(this,null,function*(){let n=re(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let r=yield PS(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new B(x.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Jc(n,r.hs)}})}function G$(t,e){let n=re(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function GS(t){let e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B$.bind(null,e),e.Ca.d_=P$.bind(null,e.eventManager),e.Ca.$a=O$.bind(null,e.eventManager),e}function W$(t){let e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q$.bind(null,e),e}var WA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=zh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return h$(this.persistence,new w_,n.initialUser,this.serializer)}Ga(n){return new g_(y_.Zr,this.serializer)}Wa(n){return new b_}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var K$=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>HA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=H$.bind(null,this.syncEngine),yield M$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new O_}()}createDatastore(n){let r=zh(n.databaseInfo.databaseId),i=function(s){return new T_(s)}(n.databaseInfo);return function(s,a,u,l){return new R_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new x_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>HA(this.syncEngine,r,0),function(){return Th.D()?new Th:new D_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new U_(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=re(o);$("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Yc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var $_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var q_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=dh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){$("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>($("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=fw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function _v(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield PS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function KA(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Q$(t);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$A(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$A(e.remoteStore,i)),t._onlineComponents=e})}function Q$(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _v(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ts("Error using user provided cache. Falling back to memory cache: "+n),yield _v(t,new WA)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield _v(t,new WA);return t._offlineComponents})}function WS(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield KA(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield KA(t,new K$))),t._onlineComponents})}function Y$(t){return WS(t).then(e=>e.syncEngine)}function QA(t){return v(this,null,function*(){let e=yield WS(t),n=e.eventManager;return n.onListen=k$.bind(null,e.syncEngine),n.onUnlisten=V$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=F$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=j$.bind(null,e.syncEngine),n})}function KS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var YA=new Map;function QS(t,e,n){if(!n)throw new B(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J$(t,e,n,r){if(e===!0&&r===!0)throw new B(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JA(t){if(!Q.isDocumentKey(t))throw new B(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZA(t){if(Q.isDocumentKey(t))throw new B(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function to(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Wh(t);throw new B(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Z$(t,e){if(e<=0)throw new B(x.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Oh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Fs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wv;switch(r.type){case"firstParty":return new Dv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=YA.get(n);r&&($("ComponentProvider","Removing Datastore"),YA.delete(n),r.terminate())}(this),Promise.resolve()}};function YS(t,e,n,r={}){var i;let o=(t=to(t,Fs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=at.MOCK_USER;else{a=eT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new B(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new at(l)}t._authCredentials=new Iv(new lh(a,u))}}var pi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ui=class t extends pi{constructor(e,n,r){super(e,n,sw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Zc(t,e,...n){if(t=st(t),QS("collection","path",e),t instanceof Fs){let r=Ve.fromString(e,...n);return ZA(r),new ui(t,null,r)}{if(!(t instanceof Lt||t instanceof ui))throw new B(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return ZA(r),new ui(t.firestore,null,r)}}function Kh(t,e,...n){if(t=st(t),arguments.length===1&&(e=dh.newId()),QS("doc","path",e),t instanceof Fs){let r=Ve.fromString(e,...n);return JA(r),new Lt(t,null,new Q(r))}{if(!(t instanceof Lt||t instanceof ui))throw new B(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return JA(r),new Lt(t.firestore,t instanceof ui?t.converter:null,new Q(r))}}var kh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ah(this,"async_queue_retry"),this.Vu=()=>{let r=vv();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=vv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=vv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new yr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return v(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Qc(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=N_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}wu(){return v(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function XA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var uo=class extends Fs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new kh(e),this._firestoreClient=void 0,yield e}})}};function Us(t,e){let n=typeof t=="object"?t:ms(),r=typeof t=="string"?t:e||"(default)",i=vc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=XC("firestore");o&&YS(i,...o)}return i}function JS(t){if(t._terminated)throw new B(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X$(t),t._firestoreClient}function X$(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Rv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,KS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new q_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var $c=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ct.fromBase64String(e))}catch(n){throw new B(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var qc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Fh=class{constructor(e){this._methodName=e}};var zc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}};var Hc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var e4=/^__.*__$/,z_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new co(e,this.data,n,this.fieldTransforms)}};function ZS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var H_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Lh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ZS(this.Cu)&&e4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},G_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zh(e)}Qu(e,n,r,i=!1){return new H_({Cu:e,methodName:n,qu:r,path:Wt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function mw(t){let e=t._freezeSettings(),n=zh(t._databaseId);return new G_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XS(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);nR("Data must be an object, but it was:",s,r);let a=eR(r,s),u,l;if(o.merge)u=new Bn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=n4(e,p,n);if(!s.contains(m))throw new B(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);i4(h,m)||h.push(m)}u=new Bn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new z_(new yn(a),u,l)}function t4(t,e,n,r=!1){return yw(n,t.Qu(r?4:3,e))}function yw(t,e){if(tR(t=st(t)))return nR("Unsupported field value:",e,t),eR(t,e);if(t instanceof Fh)return function(r,i){if(!ZS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=yw(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=pt.fromDate(r);return{timestampValue:bh(i.serializer,o)}}if(r instanceof pt){let o=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(i.serializer,o)}}if(r instanceof zc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $c)return{bytesValue:TS(i.serializer,r._byteString)};if(r instanceof Lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return aw(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Wh(r)}`)}(t,e)}function eR(t,e){let n={};return rS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(t,(r,i)=>{let o=yw(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function tR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof zc||t instanceof $c||t instanceof Lt||t instanceof Fh||t instanceof Hc)}function nR(t,e,n){if(!tR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Wh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function n4(t,e,n){if((e=st(e))instanceof qc)return e._internalPath;if(typeof e=="string")return rR(t,e);throw Lh("Field path arguments must be of type string or ",t,!1,void 0,n)}var r4=new RegExp("[~\\*/\\[\\]]");function rR(t,e,n){if(e.search(r4)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qc(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(x.INVALID_ARGUMENT,a+t+u)}function i4(t,e){return t.some(n=>n.isEqual(e))}var Vh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new W_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(vw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},W_=class extends Vh{data(){return super.data()}};function vw(t,e){return typeof e=="string"?rR(t,e):e instanceof qc?e._internalPath:e._delegate._internalPath}function o4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gc=class{},Wc=class extends Gc{};function Qh(t,e,...n){let r=[];e instanceof Gc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof Q_).length,a=o.filter(u=>u instanceof K_).length;if(s>1||s>0&&a>0)throw new B(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var K_=class t extends Wc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return oR(e._query,n),new pi(e.firestore,e.converter,$v(e._query,n))}_parse(e){let n=mw(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new B(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){tS(p,h);let I=[];for(let S of p)I.push(eS(u,o,S));m={arrayValue:{values:I}}}else m=eS(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||tS(p,h),m=t4(a,s,p,h==="in"||h==="not-in");return Ze.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Q_=class t extends Gc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_n.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)oR(s,u),s=$v(s,u)}(e._query,n),new pi(e.firestore,e.converter,$v(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Y_=class t extends Wc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new B(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oo(o,s)}(e._query,this._field,this._direction);return new pi(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new di(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function Yh(t,e="asc"){let n=e,r=vw("orderBy",t);return Y_._create(r,n)}var J_=class t extends Wc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new pi(e.firestore,e.converter,yh(e._query,this._limit,this._limitType))}};function iR(t){return Z$("limit",t),J_._create("limit",t,"F")}function eS(t,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new B(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hS(e)&&n.indexOf("/")!==-1)throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ve.fromString(n));if(!Q.isDocumentKey(r))throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DA(t,new Q(r))}if(n instanceof Lt)return DA(t,n._key);throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function tS(t,e){if(!Array.isArray(t)||t.length===0)throw new B(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oR(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Z_=class{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Vs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Le(s.doubleValue));return new Hc(o)}convertGeoPoint(e){return new zc(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=nw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){let n=_r(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ve.fromString(e);Te(NS(r));let i=new gh(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(n)||vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function sR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var eo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},jh=class extends Vh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Cs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(vw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Cs=class extends jh{data(e={}){return super.data(e)}},X_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cs(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:s4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function s4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}var Uh=class extends Z_{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}};function _w(t,e,n){t=to(t,Lt);let r=to(t.firestore,uo),i=sR(t.converter,e,n);return aR(r,[XS(mw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ci.none())])}function Jh(t,e){let n=to(t.firestore,uo),r=Kh(t),i=sR(t.converter,e);return aR(n,[XS(mw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then(()=>r)}function wn(t,...e){var n,r,i;t=st(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||XA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(XA(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Lt)l=to(t.firestore,uo),h=sw(t._key.path),u={next:p=>{e[s]&&e[s](a4(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=to(t,pi);l=to(p.firestore,uo),h=p._query;let m=new Uh(l);u={next:I=>{e[s]&&e[s](new X_(l,m,p,I))},error:e[s+1],complete:e[s+2]},o4(t._query)}return function(m,I,S,P){let R=new $_(P),O=new F_(I,R,S);return m.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return x$(yield QA(m),O)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return N$(yield QA(m),O)}))}}(JS(l),h,a,u)}function aR(t,e){return function(r,i){let o=new yr;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return U$(yield Y$(r),i,o)})),o.promise}(JS(t),e)}function a4(t,e,n){let r=n.docs.get(e._key),i=new Uh(t);return new jh(t,i,e._key,r,new eo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ls=i})(ni),ti(new tn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new uo(new Ev(r.getProvider("auth-internal")),new Tv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),tt(wA,"4.7.3",e),tt(wA,"4.7.3","esm2017")})();var c4=["chatContainer"],Zh=t=>({dimmed:t});function u4(t,e){t&1&&(M(0,"div",10)(1,"label"),V(2,"INICI\xC1 SESI\xD3N PARA JUGAR"),N()())}function l4(t,e){if(t&1&&(M(0,"div"),V(1),N()),t&2){let n=e.$implicit;j(),hn("",n.user,": ",n.text,"")}}function d4(t,e){if(t&1){let n=nt();M(0,"div",11)(1,"h3"),V(2,"Chat"),N(),M(3,"div",12,0),Se(5,l4,2,2,"div",13),N(),M(6,"div",14)(7,"input",15),pn("ngModelChange",function(i){Oe(n);let o=xe();return Nn(o.message,i)||(o.message=i),ke(i)}),N(),M(8,"button",16),_e("click",function(){Oe(n);let i=xe();return ke(i.sendMessage())}),V(9,"Enviar"),N()()()}if(t&2){let n=xe();j(5),ne("ngForOf",n.messages),j(2),fn("ngModel",n.message)}}var cR=(()=>{let e=class e{constructor(r){this.router=r,this.message="",this.messages=[],this.username="",this.isLoggedIn=!1,this.app=hr(Ac),this.auth=Qe(this.app),this.db=Us(this.app)}ngOnInit(){this.checkUserStatus(),this.listenToMessages()}checkUserStatus(){let r=this.auth.currentUser;this.isLoggedIn=!!r,r&&r.email?this.username=r.email:this.username=""}sendMessage(){return v(this,null,function*(){if(this.message.trim()&&this.isLoggedIn)try{yield Jh(Zc(this.db,"chats"),{user:this.username,text:this.message,timestamp:new Date}),this.message="",this.scrollToBottom()}catch(r){console.error("Error al agregar mensaje: ",r)}})}listenToMessages(){let r=Qh(Zc(this.db,"chats"),Yh("timestamp"));wn(r,i=>{this.messages=[],i.forEach(o=>{let s=o.data();this.messages.push({user:s.user,text:s.text})}),this.scrollToBottom()})}scrollToBottom(){let r=document.querySelector(".chat-messages");r&&(r.scrollTop=r.scrollHeight)}navegarAGrupo(r){this.isLoggedIn&&this.router.navigate([`/${r}`])}};e.\u0275fac=function(i){return new(i||e)(J(rt))},e.\u0275cmp=Be({type:e,selectors:[["app-home"]],viewQuery:function(i,o){if(i&1&&Kb(c4,5),i&2){let s;jl(s=Ul())&&(o.chatContainer=s.first)}},standalone:!0,features:[$e],decls:20,vars:14,consts:[["chatContainer",""],[1,"home-container"],[1,"games"],[1,"icon",3,"click","ngClass"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/PreguntadosGame.jpg?alt=media&token=c055e0c9-dc91-4240-acd3-2d39adf7dfd6","alt","Icono 1"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/Ahorcado.png?alt=media&token=9aeee8ad-c688-45ce-837b-c87483bb7442","alt","Icono 2"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/MayorMenor.png?alt=media&token=12efdc3d-24bf-4d6d-a0a2-ac1d2459d9ac","alt","Icono 3"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/WordGame.png?alt=media&token=cc643ceb-2f38-4471-b9e7-ea5fb41ff1b2","alt","Icono 4"],["class","mensaje-sesion",4,"ngIf"],["class","chat-container",4,"ngIf"],[1,"mensaje-sesion"],[1,"chat-container"],[1,"chat-messages"],[4,"ngFor","ngForOf"],[1,"input-container"],["type","text","placeholder","Escribe tu mensaje",3,"ngModelChange","ngModel"],[3,"click"]],template:function(i,o){i&1&&(M(0,"div",1)(1,"div",2)(2,"div",3),_e("click",function(){return o.isLoggedIn?o.navegarAGrupo("preguntados"):null}),me(3,"img",4),M(4,"label"),V(5,"Preguntados"),N()(),M(6,"div",3),_e("click",function(){return o.isLoggedIn?o.navegarAGrupo("ahorcado"):null}),me(7,"img",5),M(8,"label"),V(9,"Ahorcado"),N()(),M(10,"div",3),_e("click",function(){return o.isLoggedIn?o.navegarAGrupo("mayor-menor"):null}),me(11,"img",6),M(12,"label"),V(13,"Mayor o Menor"),N()(),M(14,"div",3),_e("click",function(){return o.isLoggedIn?o.navegarAGrupo("word-game"):null}),me(15,"img",7),M(16,"label"),V(17,"Juego de Letras"),N()()(),Se(18,u4,3,0,"div",8)(19,d4,10,2,"div",9),N()),i&2&&(j(2),ne("ngClass",xa(6,Zh,!o.isLoggedIn)),j(4),ne("ngClass",xa(8,Zh,!o.isLoggedIn)),j(4),ne("ngClass",xa(10,Zh,!o.isLoggedIn)),j(4),ne("ngClass",xa(12,Zh,!o.isLoggedIn)),j(4),ne("ngIf",!o.isLoggedIn),j(),ne("ngIf",o.isLoggedIn))},dependencies:[fs,Zr,hs,Hi,ft,fD,Pn,Ft,AC],styles:[".home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:60px;background-color:#fff;border-radius:10px;margin:70px}.games[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:100px;justify-items:center}.icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;transition:transform .3s ease;cursor:pointer}.icon[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:250px;transition:opacity .3s ease;border-radius:10px}.icon[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}label[_ngcontent-%COMP%]{margin-top:15px;text-align:center;color:#000;font-size:20px;font-family:Roboto,sans-serif}.dimmed[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.mensaje-sesion[_ngcontent-%COMP%]{margin-top:10px;font-size:20px;text-align:center;font-family:Roboto,sans-serif}.chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:300px;height:400px;overflow-y:auto;border:1px solid #ccc;border-radius:8px;padding:10px;background-color:#fff;box-shadow:0 4px 10px #0003;z-index:1000;display:flex;flex-direction:column;font-family:Roboto,sans-serif}.chat-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#4caf50}.chat-messages[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;margin-bottom:10px}.chat-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:70%;padding:5px;border:1px solid #ccc;border-radius:5px;margin-right:5px}.chat-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;width:90%}.chat-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer}.chat-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}.chat-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:5px 0;padding:5px;border-radius:5px;background-color:#f1f1f1}"]});let t=e;return t})();var uR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["app-page-not-found"]],standalone:!0,features:[$e],decls:2,vars:0,template:function(i,o){i&1&&(M(0,"h1"),V(1,"Ruta no encontrada"),N())}});let t=e;return t})();var fo=new tr("ANGULARFIRE2_VERSION");function ef(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xc=(t,e)=>{let n=e?[e]:kd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},$s=class{constructor(){return Xc(h4)}},h4="app-check";function Bs(){}var Xh=class{zone;delegate;constructor(e,n=zf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},ww=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs)),n.pipe(We({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},qs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Xh(Zone.current)),this.insideAngular=n.run(()=>new Xh(Zone.current,qf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(K(Ie))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function f4(t){return tf().ngZone.runOutsideAngular(()=>t())}function ho(t){return tf().ngZone.run(()=>t())}function p4(t){return g4(tf())(t)}function g4(t){return function(n){return n=n.lift(new ww(t.ngZone)),n.pipe(Mr(t.outsideAngular),Rr(t.insideAngular))}}var m4=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ho(()=>t.apply(void 0,r))},In=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs))),r[o]=m4(r[o],n));let i=f4(()=>t.apply(this,r));if(!e)if(i instanceof he){let o=tf();return i.pipe(Mr(o.outsideAngular),Rr(o.insideAngular))}else return ho(()=>i);return i instanceof he?i.pipe(p4):i instanceof Promise?ho(()=>new Promise((o,s)=>i.then(a=>ho(()=>o(a)),a=>ho(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ho(()=>i)};var Er=class{constructor(e){return e}},po=class{constructor(){return kd()}};function y4(t){return t&&t.length===1?t[0]:new Er(ms())}var Iw=new q("angularfire2._apps"),v4={provide:Er,useFactory:y4,deps:[[new wt,Iw]]},_4={provide:po,deps:[[new wt,Iw]]};function w4(t){return(e,n)=>{let r=n.get(Xt);tt("angularfire",fo.full,"core"),tt("angularfire",fo.full,"app"),tt("angular",Yb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Er(i)}}function lR(t,...e){return Jt([v4,_4,{provide:Iw,useFactory:w4(t),multi:!0,deps:[Ie,Nt,qs,...e]}])}var dR=In(hr,!0);var hR="auth",eu=class{constructor(e){return e}},tu=class{constructor(){return Xc(hR)}};var Ew=new q("angularfire2.auth-instances");function I4(t,e){let n=ef(hR,t,e);return n&&new eu(n)}function E4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new eu(r)}}var b4={provide:tu,deps:[[new wt,Ew]]},D4={provide:eu,useFactory:I4,deps:[[new wt,Ew],Er]};function fR(t,...e){return tt("angularfire",fo.full,"auth"),Jt([D4,b4,{provide:Ew,useFactory:E4(t),multi:!0,deps:[Ie,Nt,qs,po,[new wt,$s],...e]}])}var pR=In(Qe,!0);var Kt=class{constructor(e){return e}},gR="firestore",bw=class{constructor(){return Xc(gR)}};var Dw=new q("angularfire2.firestore-instances");function C4(t,e){let n=ef(gR,t,e);return n&&new Kt(n)}function T4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Kt(r)}}var A4={provide:bw,deps:[[new wt,Dw]]},S4={provide:Kt,useFactory:C4,deps:[[new wt,Dw],Er]};function mR(t,...e){return tt("angularfire",fo.full,"fst"),Jt([S4,A4,{provide:Dw,useFactory:T4(t),multi:!0,deps:[Ie,Nt,qs,po,[new wt,tu],[new wt,$s],...e]}])}var gi=In(Jh,!0);var nn=In(Zc,!0);var yR=In(Us,!0);var mi=In(iR,!0);var yi=In(Yh,!0);var vi=In(Qh,!0);function R4(t,e){if(t&1){let n=nt();M(0,"button",21),_e("click",function(){let i=Oe(n).$implicit,o=xe();return ke(o.seleccionarLetra(i))}),V(1),N()}if(t&2){let n=e.$implicit;j(),et(" ",n," ")}}function M4(t,e){if(t&1&&(M(0,"div",22)(1,"h4"),V(2,"Letras seleccionadas:"),N(),M(3,"p"),V(4),N()()),t&2){let n=xe();j(4),qt(n.letrasSeleccionadas.join(", "))}}function x4(t,e){if(t&1){let n=nt();M(0,"div",23)(1,"p"),V(2),N(),M(3,"button",24),_e("click",function(){Oe(n);let i=xe();return ke(i.getRandomWord())}),V(4,"VOLVER A JUGAR"),N()()}if(t&2){let n=xe();j(2),qt(n.mensajeResultado)}}function N4(t,e){t&1&&me(0,"img",25)}function P4(t,e){t&1&&me(0,"img",26)}function O4(t,e){t&1&&me(0,"img",27)}function k4(t,e){t&1&&me(0,"img",28)}function F4(t,e){t&1&&me(0,"img",29)}function L4(t,e){t&1&&me(0,"img",30)}function V4(t,e){t&1&&me(0,"img",31)}function j4(t,e){if(t&1&&(M(0,"li"),V(1),N()),t&2){let n=e.$implicit;j(),hn(" ",n.nombre," - ",n.puntos," puntos ")}}var vR=(()=>{let e=class e{constructor(r){this.http=r,this.letrasSeleccionadas=[],this.palabraSecreta=null,this.intentosRestantes=6,this.juegoTerminado=!1,this.palabraCargada=!1,this.mensajeResultado="",this.puntos=0,this.db=k(Kt),this.ranking=[],this.mejoresJugadores=[],this.getRandomWord(),this.obtenerRanking()}obtenerCorreoUsuario(){let i=Qe().currentUser;return i&&i.email?i.email:null}guardarResultado(){let r=this.obtenerCorreoUsuario();r?gi(nn(this.db,"ranking"),{correo:r,score:this.puntos,fecha:new Date}).then(()=>{console.log("Resultado guardado"),this.obtenerRanking()}).catch(i=>{console.error("Error al guardar el resultado: ",i),this.mensajeResultado="Error al guardar el resultado. Intenta nuevamente."}):(console.error("No hay usuario autenticado"),this.mensajeResultado="No se pudo obtener el correo del usuario. Aseg\xFArate de estar logueado.")}obtenerRanking(){let r=vi(nn(this.db,"ranking"),yi("score","desc"),mi(5));wn(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntos:s.score})})},i=>{console.error("Error al obtener ranking: ",i),this.mensajeResultado="Error al obtener el ranking. Intenta nuevamente."})}finalizarJuego(){this.juegoTerminado&&this.guardarResultado()}getRandomWord(){this.palabraCargada=!1,this.http.get("https://clientes.api.greenborn.com.ar/public-random-word").subscribe(r=>{if(Array.isArray(r)&&r.length>0){let i=r[0].toUpperCase();this.contieneLetrasConAcento(i)||this.contieneDiacriticos(i)||this.contieneEspacios(i)?this.getRandomWord():(this.palabraSecreta=i,this.resetGame())}console.log(this.palabraSecreta)},r=>{console.error("Error al obtener la palabra secreta",r)})}contieneLetrasConAcento(r){return/[áéíóúÁÉÍÓÚ]/.test(r)}contieneDiacriticos(r){return/[üñ]/.test(r)}contieneEspacios(r){return r.includes(" ")}resetGame(){this.letrasSeleccionadas=[],this.intentosRestantes=6,this.juegoTerminado=!1,this.palabraCargada=!0,this.mensajeResultado=""}seleccionarLetra(r){!this.letrasSeleccionadas.includes(r)&&!this.juegoTerminado&&this.palabraCargada&&(this.letrasSeleccionadas.push(r),this.palabraSecreta&&!this.palabraSecreta.includes(r)&&(this.intentosRestantes--,this.intentosRestantes===0&&(this.juegoTerminado=!0,this.mensajeResultado="PERDISTE. La palabra era: "+this.palabraSecreta,this.puntos=0)),this.haGanado()&&(this.juegoTerminado=!0,this.mensajeResultado="\xA1EXCELENTE! Sumaste 5 puntos",this.puntos+=5),this.juegoTerminado&&this.finalizarJuego())}obtenerPalabraConGuiones(){return this.palabraSecreta?this.palabraSecreta.split("").map(r=>this.letrasSeleccionadas.includes(r)?r:"_").join(" "):""}haGanado(){return this.palabraSecreta?.split("").every(r=>this.letrasSeleccionadas.includes(r))}};e.\u0275fac=function(i){return new(i||e)(J(Fa))},e.\u0275cmp=Be({type:e,selectors:[["app-ahorcado"]],standalone:!0,features:[$e],decls:36,vars:14,consts:[[1,"ahorcado-container"],[1,"contenido-flex"],[1,"juego"],[1,"palabra"],[1,"letras"],[1,"letras-grid"],[3,"click",4,"ngFor","ngForOf"],["class","letras-seleccionadas",4,"ngIf"],["class","mensaje-final",4,"ngIf"],[1,"intentos"],[1,"puntos"],[1,"image-container"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerda.png?alt=media&token=a0596d0d-48de-4d9e-985d-87247c2d75b2","alt","Cuerda",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cabeza.png?alt=media&token=281c80bd-b62e-499a-8310-00ed663f2de9","alt","Cabeza",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/torso.png?alt=media&token=006bbae4-968f-43b5-a025-615093cdb726","alt","Torso",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo1.png?alt=media&token=80b92b68-258e-4304-8c66-2b17adb75ace","alt","Brazo Izquierdo",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo2.png?alt=media&token=7ff5730d-f173-4783-84fe-246986604381","alt","Brazo Derecho",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/pierna1.png?alt=media&token=1a8bcd76-e339-47cd-9e54-cb29fa68844d","alt","Pierna Izquierda",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerpo.png?alt=media&token=d2e4a842-19c7-4d3e-b6a6-003c0a3e1377","alt","Cuerpo Entero",4,"ngIf"],[1,"ranking-container"],[4,"ngFor","ngForOf"],[3,"click"],[1,"letras-seleccionadas"],[1,"mensaje-final"],[1,"btn-reintentar",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerda.png?alt=media&token=a0596d0d-48de-4d9e-985d-87247c2d75b2","alt","Cuerda"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cabeza.png?alt=media&token=281c80bd-b62e-499a-8310-00ed663f2de9","alt","Cabeza"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/torso.png?alt=media&token=006bbae4-968f-43b5-a025-615093cdb726","alt","Torso"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo1.png?alt=media&token=80b92b68-258e-4304-8c66-2b17adb75ace","alt","Brazo Izquierdo"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo2.png?alt=media&token=7ff5730d-f173-4783-84fe-246986604381","alt","Brazo Derecho"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/pierna1.png?alt=media&token=1a8bcd76-e339-47cd-9e54-cb29fa68844d","alt","Pierna Izquierda"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerpo.png?alt=media&token=d2e4a842-19c7-4d3e-b6a6-003c0a3e1377","alt","Cuerpo Entero"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"h2"),V(2,"JUEGO DEL AHORCADO"),N(),M(3,"div",1)(4,"div",2)(5,"div")(6,"h4"),V(7,"Adivina la palabra:"),N(),M(8,"p",3),V(9),N()(),M(10,"div",4)(11,"h4"),V(12,"Selecciona una letra:"),N(),M(13,"div",5),Se(14,R4,2,1,"button",6),N()(),Se(15,M4,5,1,"div",7)(16,x4,5,1,"div",8),M(17,"div",9)(18,"h4"),V(19),N()(),M(20,"div",10)(21,"h4"),V(22),N()(),M(23,"div",11),Se(24,N4,1,0,"img",12)(25,P4,1,0,"img",13)(26,O4,1,0,"img",14)(27,k4,1,0,"img",15)(28,F4,1,0,"img",16)(29,L4,1,0,"img",17)(30,V4,1,0,"img",18),N()(),M(31,"div",19)(32,"h3"),V(33,"TOP 5:"),N(),M(34,"ul"),Se(35,j4,2,2,"li",20),N()()()()),i&2&&(j(9),qt(o.obtenerPalabraConGuiones()),j(5),ne("ngForOf","ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")),j(),ne("ngIf",o.letrasSeleccionadas.length>0),j(),ne("ngIf",o.juegoTerminado),j(3),et("Intentos restantes: ",o.intentosRestantes,""),j(3),et("Puntos: ",o.puntos,""),j(2),ne("ngIf",o.intentosRestantes===6),j(),ne("ngIf",o.intentosRestantes===5),j(),ne("ngIf",o.intentosRestantes===4),j(),ne("ngIf",o.intentosRestantes===3),j(),ne("ngIf",o.intentosRestantes===2),j(),ne("ngIf",o.intentosRestantes===1),j(),ne("ngIf",o.intentosRestantes===0),j(5),ne("ngForOf",o.mejoresJugadores))},dependencies:[ft,Pn,Ft,Xl],styles:[".ahorcado-container[_ngcontent-%COMP%]{text-align:center;max-width:1200px;margin:80px auto;padding:20px;border:2px solid #4CAF50;border-radius:10px;background-color:#f9f9f9;font-family:Roboto,sans-serif}.contenido-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-top:20px;gap:40px}.juego[_ngcontent-%COMP%]{flex:1}.ranking-container[_ngcontent-%COMP%]{flex-basis:300px;border:2px solid #ccc;padding:20px;background-color:#fafafa;border-radius:10px;text-align:left;box-shadow:0 4px 8px #0000001a}.ranking-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;font-size:20px}.ranking-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.ranking-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;font-size:18px;border-bottom:1px solid #ddd}.palabra[_ngcontent-%COMP%]{font-size:24px;letter-spacing:10px;font-weight:700}.letras-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(13,1fr);gap:10px;margin-top:10px}.letras-seleccionadas[_ngcontent-%COMP%]{margin-top:20px}.mensaje-final[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;color:#d9534f}.btn-reintentar[_ngcontent-%COMP%]{background-color:#5cb85c;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer}.btn-reintentar[_ngcontent-%COMP%]:hover{background-color:#4cae4c}.intentos[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}.image-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:auto}"]});let t=e;return t})();function U4(t,e){if(t&1&&(M(0,"li"),V(1),N()),t&2){let n=e.$implicit;j(),hn(" ",n.nombre," - ",n.puntos," ")}}var _R=(()=>{let e=class e{constructor(){this.puntaje=0,this.mensaje="",this.ranking=[],this.mejoresJugadores=[],this.db=k(Kt),this.cartas=[{valor:1,palo:"Basto",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F1basto.jpg?alt=media&token=69375ad9-f781-4c08-90a5-9a30800bb040"},{valor:2,palo:"Oro",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F2oro.jpg?alt=media&token=78131d5e-4b83-4954-9bc3-d1a0a0667fc2"},{valor:3,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F3espada.jpg?alt=media&token=8b9ed865-7f8d-4677-863d-d07f26acf165"},{valor:4,palo:"Copa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F4copa.jpg?alt=media&token=5e444ece-f667-4d42-a354-31c2e9b80969"},{valor:5,palo:"Basto",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F5basto.jpg?alt=media&token=ecc1aa6d-b9bf-400a-abc7-876c3cbefd03"},{valor:6,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F6espada.jpg?alt=media&token=32911066-9563-423e-920c-66352d1cee4f"},{valor:7,palo:"Oro",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F7oro.jpg?alt=media&token=9b64dc71-f0c8-43f3-8229-e89276ddfd66"},{valor:8,palo:"Copa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F8copa.jpg?alt=media&token=661df783-aafc-4616-ac47-384802ac36ca"},{valor:9,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F9espada.jpg?alt=media&token=88fe1c8a-f790-45c0-8c04-2dca581daf37"},{valor:10,palo:"Basto",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F10basto.jpg?alt=media&token=e18705a0-ad73-40b4-99ee-aafb94b34a76"},{valor:11,palo:"Copa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F11copa.jpg?alt=media&token=f44e71d8-3a4c-4e05-9c8e-654077878c97"},{valor:12,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F12espada.jpg?alt=media&token=3e38ce2e-a622-4841-8323-ba949ae76bd0"}],this.iniciarJuego(),this.obtenerRanking()}iniciarJuego(){this.cartaActual=this.generarCarta(),this.siguienteCarta=this.generarCarta()}generarCarta(){let r;do r=this.cartas[Math.floor(Math.random()*this.cartas.length)];while(r===this.cartaActual);return r}verificarRespuesta(r){r==="mayor"&&this.siguienteCarta.valor>this.cartaActual.valor||r==="menor"&&this.siguienteCarta.valor<this.cartaActual.valor?(this.mensaje="\xA1CORRECTO! SEGUI SUMANDO PUNTOS",this.puntaje++):(this.mensaje=`\xA1NOO! La carta era: ${this.siguienteCarta.valor} de ${this.siguienteCarta.palo}`,this.guardarResultado()),this.cartaActual=this.siguienteCarta,this.siguienteCarta=this.generarCarta()}obtenerCorreoUsuario(){let i=Qe().currentUser;return i&&i.email?i.email:null}guardarResultado(){let r=this.obtenerCorreoUsuario();r?gi(nn(this.db,"ranking_mayor_o_menor"),{correo:r,score:this.puntaje,fecha:new Date}).then(()=>{console.log("Resultado guardado"),this.obtenerRanking()}).catch(i=>{console.error("Error al guardar el resultado: ",i),this.mensaje="Error al guardar el resultado. Intenta nuevamente."}):(console.error("No hay usuario autenticado"),this.mensaje="No se pudo obtener el correo del usuario. Aseg\xFArate de estar logueado.")}obtenerRanking(){let r=vi(nn(this.db,"ranking_mayor_o_menor"),yi("score","desc"),mi(5));wn(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntos:s.score})})},i=>{console.error("Error al obtener ranking: ",i),this.mensaje="Error al obtener el ranking. Intenta nuevamente."})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["app-mayor-o-menor"]],standalone:!0,features:[$e],decls:21,vars:4,consts:[[1,"mayor-o-menor-container"],[1,"contenido-flex"],[1,"juego"],[1,"carta-actual"],["alt","Carta Actual",3,"src"],[1,"puntaje"],[1,"botones"],[1,"mayor",3,"click"],[1,"menor",3,"click"],[1,"mensaje-final"],[1,"ranking-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"h2"),V(2,"MAYOR O MENOR"),N(),M(3,"div",1)(4,"div",2)(5,"div",3),me(6,"img",4),N(),M(7,"div",5),V(8),N(),M(9,"div",6)(10,"button",7),_e("click",function(){return o.verificarRespuesta("mayor")}),V(11,"\u2B06"),N(),M(12,"button",8),_e("click",function(){return o.verificarRespuesta("menor")}),V(13,"\u2B07"),N()(),M(14,"div",9),V(15),N()(),M(16,"div",10)(17,"h3"),V(18,"TOP 5:"),N(),M(19,"ul"),Se(20,U4,2,2,"li",11),N()()()()),i&2&&(j(6),ne("src",o.cartaActual.imagen,Sa),j(2),et(" Puntaje: ",o.puntaje," "),j(7),et(" ",o.mensaje," "),j(5),ne("ngForOf",o.mejoresJugadores))},dependencies:[ft,Pn],styles:[".mayor-o-menor-container[_ngcontent-%COMP%]{text-align:center;max-width:600px;margin:100px auto;padding:20px;border:2px solid #4CAF50;border-radius:10px;background-color:#fff;min-height:400px;min-width:400px;font-family:Roboto,sans-serif;position:relative}.carta-actual[_ngcontent-%COMP%]{margin:20px 0}.carta-actual[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:auto}.botones[_ngcontent-%COMP%]{margin:20px 0}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;margin:0 10px;font-size:30px}.menor[_ngcontent-%COMP%]{background-color:#d71b18}.mayor[_ngcontent-%COMP%]{background-color:#05a305}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0a0000}.puntaje[_ngcontent-%COMP%]{margin-top:20px;font-size:24px;font-weight:700}.mensaje-final[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;color:#d9534f;height:30px;overflow:hidden}"]});let t=e;return t})();function B4(t,e){if(t&1&&(M(0,"div",9),me(1,"img",10),M(2,"h2",11),V(3),N()()),t&2){let n=xe();j(),Gg("alt","Imagen de ",n.nombreCategoria,""),ne("src",n.imagenCategoria,Sa),j(2),qt(n.nombreCategoria)}}function $4(t,e){if(t&1){let n=nt();M(0,"button",12),_e("click",function(){let i=Oe(n).$implicit,o=xe();return ke(o.verificarRespuesta(i))}),V(1),N()}if(t&2){let n=e.$implicit;j(),et(" ",n," ")}}function q4(t,e){if(t&1&&(M(0,"li"),V(1),N()),t&2){let n=e.$implicit;j(),hn(" ",n.nombre," - ",n.puntaje," puntos ")}}var wR=(()=>{let e=class e{constructor(){this.preguntas=[],this.preguntaActual=null,this.respuestas=[],this.puntaje=0,this.mensaje="",this.imagenCategoria="",this.nombreCategoria="",this.apiKey="$2b$12$aOPN7wbnS2sS80QBrb5Jx.HGhQUFe8THWWRyUR6OAmXO7.d0Tk0u6",this.mejoresJugadores=[],this.db=k(Kt),this.preguntasRespondidas=[]}ngOnInit(){this.cargarPreguntas(),this.obtenerRanking()}cargarPreguntas(){return v(this,null,function*(){try{let r=yield fetch("https://api.quiz-contest.xyz/questions?limit=10&page=1&category=sports%26leisure",{method:"GET",headers:{Authorization:`${this.apiKey}`}}),i=yield fetch("https://api.quiz-contest.xyz/questions?limit=10&page=1&category=arts%26literature",{method:"GET",headers:{Authorization:`${this.apiKey}`}}),o=yield fetch("https://api.quiz-contest.xyz/questions?limit=10&page=1&category=geography",{method:"GET",headers:{Authorization:`${this.apiKey}`}});if(!r.ok||!i.ok||!o.ok)throw new Error("Error al cargar preguntas de una o m\xE1s categor\xEDas");let s=yield r.json(),a=yield i.json(),u=yield o.json();this.preguntas=[...s.questions,...a.questions,...u.questions],this.preguntas=this.mezclarPreguntas(this.preguntas),this.cambiarPregunta()}catch(r){this.mensaje=`Error al cargar preguntas: ${r instanceof Error?r.message:"Error desconocido"}`}})}mezclarPreguntas(r){return r.sort(()=>Math.random()-.5)}cambiarPregunta(){let r=this.preguntas.filter(i=>!this.preguntasRespondidas.includes(i.id));if(r.length>0){let i=Math.floor(Math.random()*r.length),o=r[i];this.preguntasRespondidas.push(o.id),this.preguntaActual=o,this.respuestas=[this.preguntaActual.correctAnswers,...this.preguntaActual.incorrectAnswers],this.respuestas=this.mezclarRespuestas(this.respuestas);let s=this.obtenerNombreCategoriaLegible(this.preguntaActual.category);this.nombreCategoria=s.nombre,this.imagenCategoria=s.imagen}else this.mensaje="\xA1No hay m\xE1s preguntas disponibles!"}mezclarRespuestas(r){return r.sort(()=>Math.random()-.5)}obtenerNombreCategoriaLegible(r){return{"sports&leisure":{nombre:"Deportes y Ocio",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fdeportes.jpg?alt=media&token=b382f7e5-8b75-4607-bb8b-3910999523a8"},"arts&literature":{nombre:"Artes y Literatura",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fartylit.jpg?alt=media&token=3608bb12-a4e5-4301-8907-0571d2a575e8"},geography:{nombre:"Geograf\xEDa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fgeo.jpg?alt=media&token=f026fe5b-6e53-48d4-aef8-9240035735b8"}}[r]||{nombre:r,imagen:"URL_IMAGEN_DEFAULT"}}verificarRespuesta(r){r===this.preguntaActual.correctAnswers?(this.puntaje++,this.mensaje="\xA1Correcto! Tu puntaje es: "+this.puntaje):(this.mensaje="Incorrecto. La respuesta correcta era: "+this.preguntaActual.correctAnswers,this.guardarPuntaje(),this.puntaje=0),this.cambiarPregunta()}onImageError(r){let i=r.target;i.src="https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fdefault.jpg?alt=media"}guardarPuntaje(){return v(this,null,function*(){let o=Qe().currentUser?.email||"An\xF3nimo";try{yield gi(nn(this.db,"ranking_preguntados"),{correo:o,puntaje:this.puntaje,fecha:new Date}),this.obtenerRanking()}catch(s){console.error("Error al guardar el puntaje: ",s),this.mensaje="Error al guardar el puntaje. Intenta nuevamente."}})}obtenerRanking(){let r=vi(nn(this.db,"ranking_preguntados"),yi("puntaje","desc"),mi(5));wn(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntaje:s.puntaje})})},i=>{console.error("Error al obtener ranking: ",i),this.mensaje="Error al obtener el ranking. Intenta nuevamente."})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["app-preguntados"]],standalone:!0,features:[$e],decls:15,vars:6,consts:[[1,"preguntados-container"],["class","categoria-info",4,"ngIf"],[1,"pregunta"],[1,"respuestas-container"],["class","respuesta-btn",3,"click",4,"ngFor","ngForOf"],[1,"puntos"],[1,"mensaje"],[1,"ranking-container"],[4,"ngFor","ngForOf"],[1,"categoria-info"],[1,"categoria-imagen",3,"src","alt"],[1,"categoria"],[1,"respuesta-btn",3,"click"]],template:function(i,o){i&1&&(M(0,"div",0),Se(1,B4,4,4,"div",1),M(2,"h2",2),V(3),N(),M(4,"div",3),Se(5,$4,2,1,"button",4),N(),M(6,"p",5),V(7),N(),M(8,"p",6),V(9),N(),M(10,"div",7)(11,"h3"),V(12,"TOP 5:"),N(),M(13,"ul"),Se(14,q4,2,2,"li",8),N()()()),i&2&&(j(),ne("ngIf",o.nombreCategoria&&o.imagenCategoria),j(2),qt(o.preguntaActual==null?null:o.preguntaActual.question),j(2),ne("ngForOf",o.respuestas),j(2),et("Puntaje: ",o.puntaje,""),j(2),qt(o.mensaje),j(5),ne("ngForOf",o.mejoresJugadores))},dependencies:[ft,Pn,Ft],styles:[".preguntados-container[_ngcontent-%COMP%]{text-align:center;max-width:900px;margin:150px auto;padding:20px;border:2px solid #007bff;border-radius:10px;background-color:#f9f9f9;font-family:Roboto,sans-serif}.pregunta[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}.respuestas-container[_ngcontent-%COMP%]{margin-top:20px}.respuesta-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;margin:5px}.respuesta-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.puntos[_ngcontent-%COMP%]{margin-top:20px;font-size:18px;font-weight:700}.mensaje[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;color:#d9534f}.categoria[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:#4caf50}.categoria-imagen[_ngcontent-%COMP%]{width:400px;height:auto}"]});let t=e;return t})();function z4(t,e){if(t&1&&(M(0,"div")(1,"h4"),V(2,"Palabra desordenada:"),N(),M(3,"p",14),V(4),N()()),t&2){let n=xe();j(4),qt(n.palabraMezclada.join(""))}}function H4(t,e){if(t&1){let n=nt();M(0,"button",15),_e("click",function(){let i=Oe(n).$implicit,o=xe();return ke(o.seleccionarLetra(i))}),V(1),N()}if(t&2){let n=e.$implicit,r=xe();Yo("letra-seleccionada",r.letrasOrdenadas.includes(n)||r.letrasBloqueadas.has(n)),j(),et(" ",n," ")}}function G4(t,e){if(t&1){let n=nt();M(0,"div",16)(1,"h4"),V(2,"Letras ordenadas:"),N(),M(3,"p"),V(4),N(),M(5,"button",17),_e("click",function(){Oe(n);let i=xe();return ke(i.borrarUltimaLetra())}),V(6,"Borrar \xFAltima"),N()()}if(t&2){let n=xe();j(4),qt(n.letrasOrdenadas.join(""))}}function W4(t,e){if(t&1&&(M(0,"div",18)(1,"p"),V(2),N()()),t&2){let n=xe();j(2),qt(n.mensajeResultado)}}function K4(t,e){if(t&1&&(M(0,"li"),V(1),N()),t&2){let n=e.$implicit;j(),hn(" ",n.nombre," - ",n.puntos," puntos ")}}var IR=(()=>{let e=class e{constructor(r){this.http=r,this.palabraOriginal=null,this.palabraMezclada=[],this.letrasOrdenadas=[],this.letrasBloqueadas=new Set,this.puntos=0,this.mensajeResultado="",this.mejoresJugadores=[],this.bloqueado=!1,this.botonListoHabilitado=!1,this.db=k(Kt),this.getRandomWord(),this.obtenerRanking()}getRandomWord(){this.botonListoHabilitado=!1,this.http.get("https://clientes.api.greenborn.com.ar/public-random-word").subscribe(r=>{if(Array.isArray(r)&&r.length>0){let i=r[0].toUpperCase();!this.contieneLetrasInvalidas(i)&&!this.comprobarLetrasRepetidas(i)?(this.palabraOriginal=i,this.palabraMezclada=this.mezclarLetras(i).split(""),this.botonListoHabilitado=!0):(console.warn("Palabra de la API con acento o dieresis, buscando otra..."),this.getRandomWord())}},r=>{console.error("Error al obtener la palabra",r),this.mensajeResultado="Error al obtener una nueva palabra. Intenta nuevamente."})}seleccionarLetra(r){this.bloqueado||this.palabraOriginal&&!this.letrasOrdenadas.includes(r)&&(this.letrasOrdenadas.push(r),this.letrasBloqueadas.add(r))}contieneLetrasInvalidas(r){return/[áéíóúÁÉÍÓÚüñ ]/.test(r)}mezclarLetras(r){return r.split("").sort(()=>Math.random()-.5).join("")}borrarUltimaLetra(){let r=this.letrasOrdenadas.pop();r&&this.letrasBloqueadas.delete(r)}verificarOrden(){this.bloqueado||(this.letrasOrdenadas.join("")===this.palabraOriginal?(this.mensajeResultado="\xA1Correcto! Ganaste 5 puntos.",this.puntos+=5,this.guardarResultado()):(this.mensajeResultado=`Incorrecto. La palabra correcta era: ${this.palabraOriginal}`,this.puntos=0),this.reiniciarJuego())}guardarResultado(){let o=Qe().currentUser?.email||"An\xF3nimo";gi(nn(this.db,"ranking_word_game"),{correo:o,score:this.puntos,fecha:new Date}).then(()=>{this.obtenerRanking()}).catch(s=>{console.error("Error al guardar el resultado: ",s),this.mensajeResultado="Error al guardar el resultado. Intenta nuevamente."})}obtenerRanking(){let r=vi(nn(this.db,"ranking_word_game"),yi("score","desc"),mi(5));wn(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntos:s.score})})},i=>{console.error("Error al obtener ranking: ",i),this.mensajeResultado="Error al obtener el ranking. Intenta nuevamente."})}reiniciarJuego(){this.letrasOrdenadas=[],this.letrasBloqueadas.clear(),this.getRandomWord()}comprobarLetrasRepetidas(r){let i=new Set;for(let o of r){if(i.has(o))return!0;i.add(o)}return!1}};e.\u0275fac=function(i){return new(i||e)(J(Fa))},e.\u0275cmp=Be({type:e,selectors:[["app-word-game"]],standalone:!0,features:[$e],decls:24,vars:7,consts:[[1,"word-game-container"],[1,"contenido-flex"],[1,"juego"],[4,"ngIf"],[1,"letras"],[1,"letras-grid"],[3,"letra-seleccionada","click",4,"ngFor","ngForOf"],["class","letras-seleccionadas",4,"ngIf"],[1,"acciones"],[1,"btn-listo",3,"click","disabled"],["class","mensaje-final",4,"ngIf"],[1,"puntos"],[1,"ranking-container"],[4,"ngFor","ngForOf"],[1,"palabra"],[3,"click"],[1,"letras-seleccionadas"],[1,"btn-borrar",3,"click"],[1,"mensaje-final"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"h2"),V(2,"ACOMOD\xC1 LA PALABRA"),N(),M(3,"div",1)(4,"div",2),Se(5,z4,5,1,"div",3),M(6,"div",4)(7,"h4"),V(8,"Selecciona el orden correcto:"),N(),M(9,"div",5),Se(10,H4,2,3,"button",6),N(),Se(11,G4,7,1,"div",7),M(12,"div",8)(13,"button",9),_e("click",function(){return o.verificarOrden()}),V(14," Listo "),N()(),Se(15,W4,3,1,"div",10),M(16,"div",11)(17,"h4"),V(18),N()()()(),M(19,"div",12)(20,"h3"),V(21,"TOP 5:"),N(),M(22,"ul"),Se(23,K4,2,2,"li",13),N()()()()),i&2&&(j(5),ne("ngIf",o.palabraMezclada),j(5),ne("ngForOf",o.palabraMezclada),j(),ne("ngIf",o.letrasOrdenadas.length>0),j(2),ne("disabled",!o.botonListoHabilitado),j(2),ne("ngIf",o.mensajeResultado),j(3),et("Puntos: ",o.puntos,""),j(5),ne("ngForOf",o.mejoresJugadores))},dependencies:[ft,Pn,Ft,Xl],styles:[".word-game-container[_ngcontent-%COMP%]{text-align:center;max-width:1000px;margin:130px auto;padding:40px;border:3px solid #4CAF50;border-radius:20px;background-color:#f9f9f9;font-family:Roboto,sans-serif;box-shadow:0 8px 16px #0003}.contenido-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:40px}.juego[_ngcontent-%COMP%]{flex:1}.ranking-container[_ngcontent-%COMP%]{flex-basis:300px;border:2px solid #ccc;padding:20px;background-color:#fafafa;border-radius:10px;text-align:left;box-shadow:0 4px 8px #0000001a}.ranking-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;font-size:20px}.ranking-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.ranking-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;font-size:18px;border-bottom:1px solid #ddd}.palabra[_ngcontent-%COMP%]{font-size:36px;letter-spacing:15px;font-weight:700;color:#333;margin-bottom:30px}.letras-grid[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px;margin-top:20px}.letras-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:26px;padding:12px;border:2px solid #000000;border-radius:5px;cursor:pointer;background-color:#c4c4c4;transition:background-color .3s ease}.letra-seleccionada[_ngcontent-%COMP%]{background-color:#012d03;color:#fff;opacity:.6;cursor:not-allowed}.btn-listo[_ngcontent-%COMP%]{background-color:#157915;color:#fff;padding:10px 30px;font-size:20px;border:none;border-radius:8px;cursor:pointer;margin:10px;transition:background-color .3s ease}.btn-listo[_ngcontent-%COMP%]:hover{background-color:#050}.btn-borrar[_ngcontent-%COMP%]{background-color:#901717;color:#fff;padding:10px 30px;font-size:20px;border:none;border-radius:8px;cursor:pointer;margin:10px;transition:background-color .3s ease}.btn-borrar[_ngcontent-%COMP%]:hover{background-color:#500}.mensaje-final[_ngcontent-%COMP%]{margin-top:30px;font-size:24px;color:#d9534f}.puntos[_ngcontent-%COMP%]{margin-top:30px;font-size:22px;font-weight:700;color:#000}"]});let t=e;return t})();var ER=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:cR},{path:"about",component:SC},{path:"ahorcado",component:vR},{path:"mayor-menor",component:_R},{path:"preguntados",component:wR},{path:"word-game",component:IR},{path:"**",component:uR}];var bR={providers:[EC(ER),lR(()=>dR({projectId:"salajuegos-bartel",appId:"1:500772714952:web:203ffc93567f0feb75e8fd",storageBucket:"salajuegos-bartel.appspot.com",apiKey:"AIzaSyDwWtnrBJsAhV_bpBgDDtJOH4ApwmFHfVw",authDomain:"salajuegos-bartel.firebaseapp.com",messagingSenderId:"500772714952"})),fR(()=>pR()),mR(()=>yR())]};function Q4(t,e){if(t&1&&(M(0,"div",12),V(1),N()),t&2){let n=xe();j(),et(" ",n.errorMessage," ")}}var DR=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new Ue,this.username="",this.password="",this.errorMessage="",this.app=hr(Ac),this.auth=Qe(this.app)}fillFields(){this.username="prop@prop.com",this.password="123456"}onSubmit(){return v(this,null,function*(){try{let r=yield eh(this.auth,this.username,this.password);this.loginStatusChange.emit(!0),this.router.navigate(["/home"])}catch(r){switch(r.code){case"auth/invalid-credential":this.errorMessage="Correo o contrase\xF1a incorrecta.";break;case"auth/invalid-email":this.errorMessage="Formato de correo inv\xE1lido.";break;default:this.errorMessage="Error al iniciar sesi\xF3n. Intenta nuevamente."}console.error("Error en login:",r),this.loginStatusChange.emit(!1)}})}};e.\u0275fac=function(i){return new(i||e)(J(rt))},e.\u0275cmp=Be({type:e,selectors:[["app-login"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[$e],decls:16,vars:3,consts:[["loginForm","ngForm"],[3,"ngSubmit"],["href",xl`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"titulo"],[1,"input-container"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/UsuarioTP.png?alt=media&token=f606b71b-33eb-434c-8370-4e20b3279a31","alt","Usuario",1,"input-icon"],["id","username","name","username","required","","type","text","placeholder","Correo",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/Candadito.png?alt=media&token=9a332aa8-7242-4b21-a586-f4dc7d69c85a","alt","Candado",1,"input-icon"],["id","password","name","password","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit"],["type","button","alt","Rellenar",1,"rellenar-campos",3,"click"],[1,"error-message"]],template:function(i,o){if(i&1){let s=nt();M(0,"form",1,0),_e("ngSubmit",function(){return Oe(s),ke(o.onSubmit())}),me(2,"link",2),M(3,"div",3),V(4," \xA1COMENZ\xC1 A JUGAR! "),N(),M(5,"div",4),me(6,"img",5),M(7,"input",6),pn("ngModelChange",function(u){return Oe(s),Nn(o.username,u)||(o.username=u),ke(u)}),N()(),M(8,"div",4),me(9,"img",7),M(10,"input",8),pn("ngModelChange",function(u){return Oe(s),Nn(o.password,u)||(o.password=u),ke(u)}),N()(),Se(11,Q4,2,1,"div",9),M(12,"button",10),V(13,"Iniciar sesi\xF3n"),N(),M(14,"button",11),_e("click",function(){return Oe(s),ke(o.fillFields())}),V(15,"Rellenar Campos"),N()()}i&2&&(j(7),fn("ngModel",o.username),j(3),fn("ngModel",o.password),j(),ne("ngIf",o.errorMessage))},dependencies:[fs,Md,Zr,hs,Sd,fc,Hi,hc,ft,Ft],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:130px auto;padding:60px;border:1px solid #ccc;border-radius:10px;box-shadow:0 4px 20px #0003;background-color:#fff;font-family:Roboto}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:35px;font-weight:700;color:#4caf50;margin-bottom:30px;text-transform:uppercase}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.input-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:80%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:16px}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;margin-top:10px;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:-10px;margin-bottom:15px}a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.rellenar-campos[_ngcontent-%COMP%]{width:50%;background-color:#6e6e6e;color:#fff;padding:10px;border:none;border-radius:5px;cursor:pointer;font-size:14px;margin:10px auto;display:block;transition:background-color .3s,transform .2s}.rellenar-campos[_ngcontent-%COMP%]:hover{background-color:#454545;transform:scale(1.05)}"]});let t=e;return t})();function Y4(t,e){if(t&1&&(M(0,"div",15),V(1),N()),t&2){let n=xe();j(),et(" ",n.errorMessage," ")}}var CR=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new Ue,this.username="",this.password="",this.nombre="",this.correo="",this.errorMessage=""}onSubmit(){return v(this,null,function*(){let r=Qe(),i=Us();if(!this.nombre||!this.username||!this.correo||!this.password){this.errorMessage="Todos los campos son obligatorios.";return}if(!this.validateEmail(this.correo)){this.errorMessage="Por favor, ingresa un correo v\xE1lido.";return}if(this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres.";return}try{let s=(yield Xd(r,this.correo,this.password)).user,a=Kh(i,"usuarios",s.uid);yield _w(a,{nombre:this.nombre,username:this.username,correo:this.correo,fechaIngreso:new Date().toISOString()}),console.log("Usuario registrado exitosamente:",s),this.loginStatusChange.emit(!0),this.router.navigate(["/home"])}catch(o){switch(o.code){case"auth/email-already-in-use":this.errorMessage="El correo ya est\xE1 registrado.";break;case"auth/invalid-email":this.errorMessage="El formato del correo es inv\xE1lido.";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a es demasiado d\xE9bil.";break;default:this.errorMessage="Error al registrar el usuario. Intenta nuevamente."}console.error("Error al registrar el usuario:",o),this.loginStatusChange.emit(!1)}})}validateEmail(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}};e.\u0275fac=function(i){return new(i||e)(J(rt))},e.\u0275cmp=Be({type:e,selectors:[["app-registro"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[$e],decls:20,vars:5,consts:[["registroForm","ngForm"],[3,"ngSubmit"],["href",xl`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"titulo"],[1,"input-container"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/nombre.png?alt=media&token=3d928dd8-ea4a-4ad8-ba89-33ff5b85252d","alt","Nombre",1,"input-icon"],["id","nombre","name","nombre","required","","type","text","placeholder","Nombre",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/mail.png?alt=media&token=0327ea44-8376-43b1-9163-fe0fe01b5075","alt","Mail",1,"input-icon"],["id","correo","name","correo","required","","type","email","placeholder","Correo",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/UsuarioTP.png?alt=media&token=f606b71b-33eb-434c-8370-4e20b3279a31","alt","Usuario",1,"input-icon"],["id","username","name","username","required","","type","text","placeholder","Usuario",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/Candadito.png?alt=media&token=9a332aa8-7242-4b21-a586-f4dc7d69c85a","alt","Candado",1,"input-icon"],["id","password","name","password","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit"],[1,"error-message"]],template:function(i,o){if(i&1){let s=nt();M(0,"form",1,0),_e("ngSubmit",function(){return Oe(s),ke(o.onSubmit())}),me(2,"link",2),M(3,"div",3),V(4," \xA1REGISTRATE AHORA! "),N(),M(5,"div",4),me(6,"img",5),M(7,"input",6),pn("ngModelChange",function(u){return Oe(s),Nn(o.nombre,u)||(o.nombre=u),ke(u)}),N()(),M(8,"div",4),me(9,"img",7),M(10,"input",8),pn("ngModelChange",function(u){return Oe(s),Nn(o.correo,u)||(o.correo=u),ke(u)}),N()(),M(11,"div",4),me(12,"img",9),M(13,"input",10),pn("ngModelChange",function(u){return Oe(s),Nn(o.username,u)||(o.username=u),ke(u)}),N()(),M(14,"div",4),me(15,"img",11),M(16,"input",12),pn("ngModelChange",function(u){return Oe(s),Nn(o.password,u)||(o.password=u),ke(u)}),N()(),Se(17,Y4,2,1,"div",13),M(18,"button",14),V(19,"Registrarse"),N()()}i&2&&(j(7),fn("ngModel",o.nombre),j(3),fn("ngModel",o.correo),j(3),fn("ngModel",o.username),j(3),fn("ngModel",o.password),j(),ne("ngIf",o.errorMessage))},dependencies:[fs,Md,Zr,hs,Sd,fc,Hi,hc,ft,Ft],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:130px auto;padding:60px;border:1px solid #ccc;border-radius:10px;box-shadow:0 4px 20px #0003;background-color:#fff;font-family:Roboto}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:35px;font-weight:700;color:#4caf50;margin-bottom:30px;text-transform:uppercase}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.input-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%]{width:80%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:16px}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;margin-top:10px;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:-10px;margin-bottom:15px}a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]});let t=e;return t})();function J4(t,e){t&1&&(M(0,"div",10)(1,"button",11),V(2,"INICIAR SESION"),N()())}function Z4(t,e){t&1&&(M(0,"div",12)(1,"button",13),V(2,"REGISTRARSE"),N()())}function X4(t,e){if(t&1){let n=nt();M(0,"div",14)(1,"button",15),_e("click",function(){Oe(n);let i=xe();return ke(i.logout())}),V(2,"CERRAR SESION"),N()()}}function eq(t,e){if(t&1){let n=nt();M(0,"app-registro",16),_e("loginStatusChange",function(i){Oe(n);let o=xe();return ke(o.setLoginStatus(i))}),N()}}function tq(t,e){if(t&1){let n=nt();M(0,"app-login",16),_e("loginStatusChange",function(i){Oe(n);let o=xe();return ke(o.setLoginStatus(i))}),N()}}var TR=(()=>{let e=class e{constructor(r){this.router=r,this.title="rutas",this.isLoggedIn=!1}ngOnInit(){let r=Qe();th(r,i=>{i?this.isLoggedIn=!0:this.isLoggedIn=!1})}setLoginStatus(r){this.isLoggedIn=r}logout(){let r=Qe();nh(r).then(()=>{this.isLoggedIn=!1,this.router.navigate(["/login"])}).catch(i=>{console.error("Error al cerrar sesi\xF3n: ",i)})}updateLoginStatus(r){this.isLoggedIn=r}};e.\u0275fac=function(i){return new(i||e)(J(rt))},e.\u0275cmp=Be({type:e,selectors:[["app-root"]],standalone:!0,features:[$e],decls:14,vars:5,consts:[[1,"nav"],[1,"button-group"],["routerLink","home","routerLinkActive","active-route"],["routerLink","about","routerLinkActive","active-route"],["class","login-button-container",4,"ngIf"],["class","register-button-container",4,"ngIf"],["class","logout-button-container",4,"ngIf"],[1,"form-container1"],[1,"form-container"],[3,"loginStatusChange",4,"ngIf"],[1,"login-button-container"],["routerLink","login","routerLinkActive","active-route"],[1,"register-button-container"],["routerLink","registro","routerLinkActive","active-route"],[1,"logout-button-container"],[3,"click"],[3,"loginStatusChange"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"div",1)(2,"button",2),V(3,"INICIO"),N(),M(4,"button",3),V(5,"\xBFQUI\xC9N SOY?"),N()(),Se(6,J4,3,0,"div",4)(7,Z4,3,0,"div",5)(8,X4,3,0,"div",6),N(),M(9,"div",7),me(10,"router-outlet"),N(),M(11,"div",8),Se(12,eq,1,0,"app-registro",9)(13,tq,1,0,"app-login",9),N()),i&2&&(j(6),ne("ngIf",!o.isLoggedIn),j(),ne("ngIf",!o.isLoggedIn),j(),ne("ngIf",o.isLoggedIn),j(4),ne("ngIf",o.router.url==="/registro"),j(),ne("ngIf",o.router.url==="/login"))},dependencies:[Km,yd,wC,ft,Ft,DR,CR],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100vh}.form-container[_ngcontent-%COMP%], .form-container1[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:50px}.login-button-container[_ngcontent-%COMP%], .logout-button-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:50px}.register-button-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:250px}.button-group[_ngcontent-%COMP%]{position:relative;top:10px;left:50px}button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;background-color:#fff;margin:0 10px;color:#000;font-size:20px}button[_ngcontent-%COMP%]:hover{color:#008a5c}.nav[_ngcontent-%COMP%]{width:100%;background-color:#fff;min-height:60px;box-shadow:0 4px 6px #0000001a;position:fixed;top:0;left:0;z-index:1000;display:flex;font-family:Roboto,sans-serif}"]});let t=e;return t})();PD(TR,bR).catch(t=>console.error(t));
