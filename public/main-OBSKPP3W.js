var TM=Object.defineProperty,SM=Object.defineProperties;var AM=Object.getOwnPropertyDescriptors;var vE=Object.getOwnPropertySymbols,xM=Object.getPrototypeOf,MM=Object.prototype.hasOwnProperty,RM=Object.prototype.propertyIsEnumerable,PM=Reflect.get;var wE=(t,e,n)=>e in t?TM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$=(t,e)=>{for(var n in e||={})MM.call(e,n)&&wE(t,n,e[n]);if(vE)for(var n of vE(e))RM.call(e,n)&&wE(t,n,e[n]);return t},Te=(t,e)=>SM(t,AM(e));var Jr=(t,e,n)=>PM(xM(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var EE=null;var gp=1,yp=Symbol("SIGNAL");function Pe(t){let e=EE;return EE=t,e}var IE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function NM(t){if(!(wp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===gp)){if(!t.producerMustRecompute(t)&&!_p(t)){t.dirty=!1,t.lastCleanEpoch=gp;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=gp}}function bE(t){return t&&(t.nextProducerIndex=0),Pe(t)}function CE(t,e){if(Pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(wp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)vp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function _p(t){Yu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(NM(n),r!==n.version))return!0}return!1}function DE(t){if(Yu(t),wp(t))for(let e=0;e<t.producerNode.length;e++)vp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vp(t,e){if(OM(t),Yu(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)vp(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Yu(i),i.producerIndexOfThis[r]=e}}function wp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Yu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function OM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function FM(){throw new Error}var kM=FM;function TE(t){kM=t}function le(t){return typeof t=="function"}function $o(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ju=$o(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ki(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof Ju?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{SE(o)}catch(s){e=e??[],s instanceof Ju?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ju(e)}}add(e){var n;if(e&&e!==this)if(this.closed)SE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ki(n,e)}remove(e){let{_finalizers:n}=this;n&&ki(n,e),e instanceof t&&e._removeParent(this)}};Ze.EMPTY=(()=>{let t=new Ze;return t.closed=!0,t})();var Ep=Ze.EMPTY;function Zu(t){return t instanceof Ze||t&&"closed"in t&&le(t.remove)&&le(t.add)&&le(t.unsubscribe)}function SE(t){le(t)?t():t.unsubscribe()}var En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ho={setTimeout(t,e,...n){let{delegate:r}=Ho;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ho;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xu(t){Ho.setTimeout(()=>{let{onUnhandledError:e}=En;if(e)e(t);else throw t})}function ja(){}var AE=Ip("C",void 0,void 0);function xE(t){return Ip("E",void 0,t)}function ME(t){return Ip("N",t,void 0)}function Ip(t,e,n){return{kind:t,value:e,error:n}}var Vi=null;function qo(t){if(En.useDeprecatedSynchronousErrorHandling){let e=!Vi;if(e&&(Vi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vi;if(Vi=null,n)throw r}}else t()}function RE(t){En.useDeprecatedSynchronousErrorHandling&&Vi&&(Vi.errorThrown=!0,Vi.error=t)}var Li=class extends Ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zu(e)&&e.add(this)):this.destination=UM}static create(e,n,r){return new Zr(e,n,r)}next(e){this.isStopped?Cp(ME(e),this):this._next(e)}error(e){this.isStopped?Cp(xE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cp(AE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},VM=Function.prototype.bind;function bp(t,e){return VM.call(t,e)}var Dp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){el(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){el(r)}else el(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){el(n)}}},Zr=class extends Li{constructor(e,n,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&En.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bp(e.next,o),error:e.error&&bp(e.error,o),complete:e.complete&&bp(e.complete,o)}):i=e}this.destination=new Dp(i)}};function el(t){En.useDeprecatedSynchronousErrorHandling?RE(t):Xu(t)}function LM(t){throw t}function Cp(t,e){let{onStoppedNotification:n}=En;n&&Ho.setTimeout(()=>n(t,e))}var UM={closed:!0,next:ja,error:LM,complete:ja};var zo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jt(t){return t}function tl(...t){return Tp(t)}function Tp(t){return t.length===0?Jt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=BM(n)?n:new Zr(n,r,i);return qo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=PE(r),new r((i,o)=>{let s=new Zr({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[zo](){return this}pipe(...n){return Tp(n)(this)}toPromise(n){return n=PE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function PE(t){var e;return(e=t??En.Promise)!==null&&e!==void 0?e:Promise}function jM(t){return t&&le(t.next)&&le(t.error)&&le(t.complete)}function BM(t){return t&&t instanceof Li||jM(t)&&Zu(t)}function Sp(t){return le(t?.lift)}function Ce(t){return e=>{if(Sp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(t,e,n,r,i){return new Ap(t,e,n,r,i)}var Ap=class extends Li{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Go(){return Ce((t,e)=>{let n=null;t._refCount++;let r=we(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Wo=class extends ge{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ze;let n=this.getSubject();e.add(this.source.subscribe(we(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ze.EMPTY)}return e}refCount(){return Go()(this)}};var NE=$o(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ct=(()=>{class t extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new nl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new NE}next(n){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ep:(this.currentObservers=null,o.push(n),new Ze(()=>{this.currentObservers=null,ki(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ge;return n.source=this,n}}return t.create=(e,n)=>new nl(e,n),t})(),nl=class extends Ct{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ep}};var pt=class extends Ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var xp={now(){return(xp.delegate||Date).now()},delegate:void 0};var rl=class extends Ze{constructor(e,n){super()}schedule(e,n=0){return this}};var Ba={setInterval(t,e,...n){let{delegate:r}=Ba;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ba;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ko=class extends rl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ba.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ba.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ki(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Qo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Qo.now=xp.now;var Yo=class extends Qo{constructor(e,n=Qo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Mp=new Yo(Ko);var il=class extends Ko{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ol=class extends Yo{};var Rp=new ol(il);var Zt=new ge(t=>t.complete());function OE(t){return t&&le(t.schedule)}function FE(t){return t[t.length-1]}function sl(t){return le(FE(t))?t.pop():void 0}function Xr(t){return OE(FE(t))?t.pop():void 0}function Pp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function VE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function kE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ui(t){return this instanceof Ui?(this.v=t,this):new Ui(t)}function LE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(E){return new Promise(function(M,O){o.push([g,E,M,O])>1||a(g,E)})})}function a(g,E){try{u(r[g](E))}catch(M){p(o[0][3],M)}}function u(g){g.value instanceof Ui?Promise.resolve(g.value.v).then(l,h):p(o[0][2],g)}function l(g){a("next",g)}function h(g){a("throw",g)}function p(g,E){g(E),o.shift(),o.length&&a(o[0][0],o[0][1])}}function UE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof kE=="function"?kE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var al=t=>t&&typeof t.length=="number"&&typeof t!="function";function cl(t){return le(t?.then)}function ul(t){return le(t[zo])}function ll(t){return Symbol.asyncIterator&&le(t?.[Symbol.asyncIterator])}function dl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $M(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hl=$M();function fl(t){return le(t?.[hl])}function pl(t){return LE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ui(n.read());if(i)return yield Ui(void 0);yield yield Ui(r)}}finally{n.releaseLock()}})}function ml(t){return le(t?.getReader)}function tt(t){if(t instanceof ge)return t;if(t!=null){if(ul(t))return HM(t);if(al(t))return qM(t);if(cl(t))return zM(t);if(ll(t))return jE(t);if(fl(t))return GM(t);if(ml(t))return WM(t)}throw dl(t)}function HM(t){return new ge(e=>{let n=t[zo]();if(le(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qM(t){return new ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function zM(t){return new ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xu)})}function GM(t){return new ge(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function jE(t){return new ge(e=>{KM(t,e).catch(n=>e.error(n))})}function WM(t){return jE(pl(t))}function KM(t,e){var n,r,i,o;return VE(this,void 0,void 0,function*(){try{for(n=UE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Bt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ei(t,e=0){return Ce((n,r)=>{n.subscribe(we(r,i=>Bt(r,t,()=>r.next(i),e),()=>Bt(r,t,()=>r.complete(),e),i=>Bt(r,t,()=>r.error(i),e)))})}function ti(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function BE(t,e){return tt(t).pipe(ti(e),ei(e))}function $E(t,e){return tt(t).pipe(ti(e),ei(e))}function HE(t,e){return new ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function qE(t,e){return new ge(n=>{let r;return Bt(n,e,()=>{r=t[hl](),Bt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function gl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ge(n=>{Bt(n,e,()=>{let r=t[Symbol.asyncIterator]();Bt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zE(t,e){return gl(pl(t),e)}function GE(t,e){if(t!=null){if(ul(t))return BE(t,e);if(al(t))return HE(t,e);if(cl(t))return $E(t,e);if(ll(t))return gl(t,e);if(fl(t))return qE(t,e);if(ml(t))return zE(t,e)}throw dl(t)}function He(t,e){return e?GE(t,e):tt(t)}function ce(...t){let e=Xr(t);return He(t,e)}function Jo(t,e){let n=le(t)?t:()=>t,r=i=>i.error(n());return new ge(e?i=>e.schedule(r,0,i):r)}function Np(t){return!!t&&(t instanceof ge||le(t.lift)&&le(t.subscribe))}var In=$o(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Op(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Zr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new In)}});t.subscribe(o)})}function me(t,e){return Ce((n,r)=>{let i=0;n.subscribe(we(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:QM}=Array;function YM(t,e){return QM(e)?t(...e):t(e)}function yl(t){return me(e=>YM(t,e))}var{isArray:JM}=Array,{getPrototypeOf:ZM,prototype:XM,keys:eR}=Object;function _l(t){if(t.length===1){let e=t[0];if(JM(e))return{args:e,keys:null};if(tR(e)){let n=eR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function tR(t){return t&&typeof t=="object"&&ZM(t)===XM}function vl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function wl(...t){let e=Xr(t),n=sl(t),{args:r,keys:i}=_l(t);if(r.length===0)return He([],e);let o=new ge(nR(r,e,i?s=>vl(i,s):Jt));return n?o.pipe(yl(n)):o}function nR(t,e,n=Jt){return r=>{WE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)WE(e,()=>{let l=He(t[u],e),h=!1;l.subscribe(we(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function WE(t,e,n){t?Bt(n,t,e):e()}function KE(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},E=O=>l<r?M(O):u.push(O),M=O=>{o&&e.next(O),l++;let F=!1;tt(n(O,h++)).subscribe(we(e,j=>{i?.(j),o?E(j):e.next(j)},()=>{F=!0},void 0,()=>{if(F)try{for(l--;u.length&&l<r;){let j=u.shift();s?Bt(e,s,()=>M(j)):M(j)}g()}catch(j){e.error(j)}}))};return t.subscribe(we(e,E,()=>{p=!0,g()})),()=>{a?.()}}function ct(t,e,n=1/0){return le(e)?ct((r,i)=>me((o,s)=>e(r,o,i,s))(tt(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>KE(r,i,t,n)))}function Zo(t=1/0){return ct(Jt,t)}function QE(){return Zo(1)}function Xo(...t){return QE()(He(t,Xr(t)))}function El(t){return new ge(e=>{tt(t()).subscribe(e)})}function Fp(...t){let e=sl(t),{args:n,keys:r}=_l(t),i=new ge(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;tt(n[h]).subscribe(we(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?vl(r,a):a),o.complete())}))}});return e?i.pipe(yl(e)):i}function un(t,e){return Ce((n,r)=>{let i=0;n.subscribe(we(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ni(t){return Ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(we(n,void 0,void 0,s=>{o=tt(t(s,ni(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function YE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(we(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function es(t,e){return le(e)?ct(t,e,1):ct(t,1)}function ri(t){return Ce((e,n)=>{let r=!1;e.subscribe(we(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ir(t){return t<=0?()=>Zt:Ce((e,n)=>{let r=0;e.subscribe(we(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kp(t){return me(()=>t)}function Il(t=rR){return Ce((e,n)=>{let r=!1;e.subscribe(we(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rR(){return new In}function $a(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Bn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?un((i,o)=>t(i,o,r)):Jt,Ir(1),n?ri(e):Il(()=>new In))}function ts(t){return t<=0?()=>Zt:Ce((e,n)=>{let r=[];e.subscribe(we(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?un((i,o)=>t(i,o,r)):Jt,ts(1),n?ri(e):Il(()=>new In))}function bl(t,e){return Ce(YE(t,e,arguments.length>=2,!0))}function Cl(...t){let e=Xr(t);return Ce((n,r)=>{(e?Xo(t,n,e):Xo(t,n)).subscribe(r)})}function bn(t,e){return Ce((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(we(r,u=>{i?.unsubscribe();let l=0,h=o++;tt(t(u,h)).subscribe(i=we(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Lp(t){return Ce((e,n)=>{tt(t).subscribe(we(n,()=>n.complete(),ja)),!n.closed&&e.subscribe(n)})}function ut(t,e,n){let r=le(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(we(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Jt}var PI="https://g.co/ng/security#xss",X=class extends Error{constructor(e,n){super(Km(e,n)),this.code=e}};function Km(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function tc(t){return{toString:t}.toString()}var Dl="__parameters__";function iR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function NI(t,e,n){return tc(()=>{let r=iR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Dl)?u[Dl]:Object.defineProperty(u,Dl,{value:[]})[Dl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var br=globalThis;function Be(t){for(let e in t)if(t[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function oR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ft).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function em(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sR=Be({__forward_ref__:Be});function hn(t){return t.__forward_ref__=hn,t.toString=function(){return Ft(this())},t}function Ot(t){return OI(t)?t():t}function OI(t){return typeof t=="function"&&t.hasOwnProperty(sR)&&t.__forward_ref__===hn}function se(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ui(t){return{providers:t.providers||[],imports:t.imports||[]}}function nd(t){return JE(t,kI)||JE(t,VI)}function FI(t){return nd(t)!==null}function JE(t,e){return t.hasOwnProperty(e)?t[e]:null}function aR(t){let e=t&&(t[kI]||t[VI]);return e||null}function ZE(t){return t&&(t.hasOwnProperty(XE)||t.hasOwnProperty(cR))?t[XE]:null}var kI=Be({\u0275prov:Be}),XE=Be({\u0275inj:Be}),VI=Be({ngInjectableDef:Be}),cR=Be({ngInjectorDef:Be}),re=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function LI(t){return t&&!!t.\u0275providers}var uR=Be({\u0275cmp:Be}),lR=Be({\u0275dir:Be}),dR=Be({\u0275pipe:Be}),hR=Be({\u0275mod:Be}),kl=Be({\u0275fac:Be}),Ha=Be({__NG_ELEMENT_ID__:Be}),eI=Be({__NG_ENV_ID__:Be});function as(t){return typeof t=="string"?t:t==null?"":String(t)}function fR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():as(t)}function pR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new X(-200,t)}function Qm(t,e){throw new X(-201,!1)}var ye=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ye||{}),tm;function UI(){return tm}function $t(t){let e=tm;return tm=t,e}function jI(t,e,n){let r=nd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ye.Optional)return null;if(e!==void 0)return e;Qm(t,"Injector")}var mR={},qa=mR,nm="__NG_DI_FLAG__",Vl="ngTempTokenPath",gR="ngTokenPath",yR=/\n/gm,_R="\u0275",tI="__source",os;function vR(){return os}function ii(t){let e=os;return os=t,e}function wR(t,e=ye.Default){if(os===void 0)throw new X(-203,!1);return os===null?jI(t,void 0,e):os.get(t,e&ye.Optional?null:void 0,e)}function Ee(t,e=ye.Default){return(UI()||wR)(Ot(t),e)}function G(t,e=ye.Default){return Ee(t,rd(e))}function rd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rm(t){let e=[];for(let n=0;n<t.length;n++){let r=Ot(t[n]);if(Array.isArray(r)){if(r.length===0)throw new X(900,!1);let i,o=ye.Default;for(let s=0;s<r.length;s++){let a=r[s],u=ER(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Ee(i,o))}else e.push(Ee(r))}return e}function BI(t,e){return t[nm]=e,t.prototype[nm]=e,t}function ER(t){return t[nm]}function IR(t,e,n,r){let i=t[Vl];throw e[tI]&&i.unshift(e[tI]),t.message=bR(`
`+t.message,i,n,r),t[gR]=i,t[Vl]=null,t}function bR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==_R?t.slice(2):t;let i=Ft(e);if(Array.isArray(e))i=e.map(Ft).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ft(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(yR,`
  `)}`}var kt=BI(NI("Optional"),8);var $I=BI(NI("SkipSelf"),4);function $i(t,e){let n=t.hasOwnProperty(kl);return n?t[kl]:null}function CR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function DR(t){return t.flat(Number.POSITIVE_INFINITY)}function Ym(t,e){t.forEach(n=>Array.isArray(n)?Ym(n,e):e(n))}function HI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ll(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function TR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Jm(t,e,n){let r=nc(t,e);return r>=0?t[r|1]=n:(r=~r,TR(t,r,e,n)),r}function Up(t,e){let n=nc(t,e);if(n>=0)return t[n|1]}function nc(t,e){return SR(t,e,1)}function SR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var cs={},Ht=[],us=new re(""),qI=new re("",-1),zI=new re(""),Ul=class{get(e,n=qa){if(n===qa){let r=new Error(`NullInjectorError: No provider for ${Ft(e)}!`);throw r.name="NullInjectorError",r}return n}},GI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(GI||{}),qn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(qn||{}),Xe=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Xe||{});function AR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function im(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];xR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function WI(t){return t===3||t===4||t===6}function xR(t){return t.charCodeAt(0)===64}function za(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?nI(t,n,i,null,e[++r]):nI(t,n,i,null,null))}}return t}function nI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var KI="ng-template";function MR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Zm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Zm(t){return t.type===4&&t.value!==KI}function RR(t,e,n){let r=t.type===4&&!n?KI:t.value;return e===r}function PR(t,e,n){let r=4,i=t.attrs,o=i!==null?FR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Cn(r)&&!Cn(u))return!1;if(s&&Cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!RR(t,u,n)||u===""&&e.length===1){if(Cn(r))return!1;s=!0}}else if(r&8){if(i===null||!MR(t,i,u,n)){if(Cn(r))return!1;s=!0}}else{let l=e[++a],h=NR(u,i,Zm(t),n);if(h===-1){if(Cn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Cn(r))return!1;s=!0}}}}return Cn(r)||s}function Cn(t){return(t&1)===0}function NR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kR(e,t)}function OR(t,e,n=!1){for(let r=0;r<e.length;r++)if(PR(t,e[r],n))return!0;return!1}function FR(t){for(let e=0;e<t.length;e++){let n=t[e];if(WI(n))return e}return t.length}function kR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function rI(t,e){return t?":not("+e.trim()+")":e}function VR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Cn(s)&&(e+=rI(o,i),i=""),r=s,o=o||!Cn(r);n++}return i!==""&&(e+=rI(o,i)),e}function LR(t){return t.map(VR).join(",")}function UR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Cn(i))break;i=o}r++}return{attrs:e,classes:n}}function nt(t){return tc(()=>{let e=eb(t),n=Te($({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===GI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||qn.Emulated,styles:t.styles||Ht,_:null,schemas:t.schemas||null,tView:null,id:""});tb(n);let r=t.dependencies;return n.directiveDefs=oI(r,!1),n.pipeDefs=oI(r,!0),n.id=$R(n),n})}function jR(t){return Hi(t)||YI(t)}function BR(t){return t!==null}function li(t){return tc(()=>({type:t.type,bootstrap:t.bootstrap||Ht,declarations:t.declarations||Ht,imports:t.imports||Ht,exports:t.exports||Ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function iI(t,e){if(t==null)return cs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Xe.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Xe.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Fe(t){return tc(()=>{let e=eb(t);return tb(e),e})}function QI(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Hi(t){return t[uR]||null}function YI(t){return t[lR]||null}function JI(t){return t[dR]||null}function ZI(t){let e=Hi(t)||YI(t)||JI(t);return e!==null?e.standalone:!1}function XI(t,e){let n=t[hR]||null;if(!n&&e===!0)throw new Error(`Type ${Ft(t)} does not have '\u0275mod' property.`);return n}function eb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||cs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iI(t.inputs,e),outputs:iI(t.outputs),debugInfo:null}}function tb(t){t.features?.forEach(e=>e(t))}function oI(t,e){if(!t)return null;let n=e?JI:jR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(BR)}function $R(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Wn(t){return{\u0275providers:t}}function HR(...t){return{\u0275providers:nb(!0,t),\u0275fromNgModule:!0}}function nb(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ym(e,s=>{let a=s;om(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&rb(i,o),n}function rb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Xm(i,o=>{e(o,r)})}}function om(t,e,n,r){if(t=Ot(t),!t)return!1;let i=null,o=ZE(t),s=!o&&Hi(t);if(!o&&!s){let u=t.ngModule;if(o=ZE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)om(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ym(o.imports,h=>{om(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&rb(l,e)}if(!a){let l=$i(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ht},i),e({provide:zI,useValue:i,multi:!0},i),e({provide:us,useValue:()=>Ee(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Xm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Xm(t,e){for(let n of t)LI(n)&&(n=n.\u0275providers),Array.isArray(n)?Xm(n,e):e(n)}var qR=Be({provide:String,useValue:Be});function ib(t){return t!==null&&typeof t=="object"&&qR in t}function zR(t){return!!(t&&t.useExisting)}function GR(t){return!!(t&&t.useFactory)}function ls(t){return typeof t=="function"}function WR(t){return!!t.useClass}var id=new re(""),Ml={},KR={},jp;function eg(){return jp===void 0&&(jp=new Ul),jp}var ln=class{},Ga=class extends ln{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,am(e,s=>this.processProvider(s)),this.records.set(qI,ns(void 0,this)),i.has("environment")&&this.records.set(ln,ns(void 0,this));let o=this.records.get(id);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zI,Ht,ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ii(this),r=$t(void 0),i;try{return e()}finally{ii(n),$t(r)}}get(e,n=qa,r=ye.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(eI))return e[eI](this);r=rd(r);let i,o=ii(this),s=$t(void 0);try{if(!(r&ye.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=XR(e)&&nd(e);l&&this.injectableDefInScope(l)?u=ns(sm(e),Ml):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ye.Self?eg():this.parent;return n=r&ye.Optional&&n===qa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Vl]=a[Vl]||[]).unshift(Ft(e)),o)throw a;return IR(a,e,"R3InjectorError",this.source)}else throw a}finally{$t(s),ii(o)}}resolveInjectorInitializers(){let e=Pe(null),n=ii(this),r=$t(void 0),i;try{let o=this.get(us,Ht,ye.Self);for(let s of o)s()}finally{ii(n),$t(r),Pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){e=Ot(e);let n=ls(e)?e:Ot(e&&e.provide),r=YR(e);if(!ls(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ns(void 0,Ml,!0),i.factory=()=>rm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Pe(null);try{return n.value===Ml&&(n.value=KR,n.value=n.factory()),typeof n.value=="object"&&n.value&&ZR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ot(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function sm(t){let e=nd(t),n=e!==null?e.factory:$i(t);if(n!==null)return n;if(t instanceof re)throw new X(204,!1);if(t instanceof Function)return QR(t);throw new X(204,!1)}function QR(t){if(t.length>0)throw new X(204,!1);let n=aR(t);return n!==null?()=>n.factory(t):()=>new t}function YR(t){if(ib(t))return ns(void 0,t.useValue);{let e=ob(t);return ns(e,Ml)}}function ob(t,e,n){let r;if(ls(t)){let i=Ot(t);return $i(i)||sm(i)}else if(ib(t))r=()=>Ot(t.useValue);else if(GR(t))r=()=>t.useFactory(...rm(t.deps||[]));else if(zR(t))r=()=>Ee(Ot(t.useExisting));else{let i=Ot(t&&(t.useClass||t.provide));if(JR(t))r=()=>new i(...rm(t.deps));else return $i(i)||sm(i)}return r}function ns(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JR(t){return!!t.deps}function ZR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function XR(t){return typeof t=="function"||typeof t=="object"&&t instanceof re}function am(t,e){for(let n of t)Array.isArray(n)?am(n,e):n&&LI(n)?am(n.\u0275providers,e):e(n)}function Ji(t,e){t instanceof Ga&&t.assertNotDestroyed();let n,r=ii(t),i=$t(void 0);try{return e()}finally{ii(r),$t(i)}}function eP(){return UI()!==void 0||vR()!=null}function tP(t){return typeof t=="function"}var Mr=0,fe=1,ne=2,mt=3,Tn=4,xn=5,jl=6,Wa=7,Sn=8,ds=9,An=10,Ke=11,Ka=12,sI=13,ms=14,zn=15,rc=16,rs=17,Cr=18,od=19,sb=20,oi=21,Bp=22,qi=23,dn=25,ab=1;var zi=7,Bl=8,hs=9,Xt=10,tg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(tg||{});function ji(t){return Array.isArray(t)&&typeof t[ab]=="object"}function Rr(t){return Array.isArray(t)&&t[ab]===!0}function ng(t){return(t.flags&4)!==0}function sd(t){return t.componentOffset>-1}function ad(t){return(t.flags&1)===1}function si(t){return!!t.template}function nP(t){return(t[ne]&512)!==0}var cm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Mn(){return ub}function ub(t){return t.type.prototype.ngOnChanges&&(t.setInput=iP),rP}Mn.ngInherit=!0;function rP(){let t=db(this),e=t?.current;if(e){let n=t.previous;if(n===cs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function iP(t,e,n,r,i){let o=this.declaredInputs[r],s=db(t)||oP(t,{previous:cs,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new cm(l&&l.currentValue,n,u===cs),cb(t,e,i,n)}var lb="__ngSimpleChanges__";function db(t){return t[lb]||null}function oP(t,e){return t[lb]=e}var aI=null;var $n=function(t,e,n){aI?.(t,e,n)},sP="svg",aP="math",cP=!1;function uP(){return cP}function Gn(t){for(;Array.isArray(t);)t=t[Mr];return t}function hb(t,e){return Gn(e[t])}function fn(t,e){return Gn(e[t.index])}function fb(t,e){return t.data[e]}function pb(t,e){return t[e]}function di(t,e){let n=e[t];return ji(n)?n:n[Mr]}function lP(t){return(t[ne]&4)===4}function rg(t){return(t[ne]&128)===128}function dP(t){return Rr(t[mt])}function fs(t,e){return e==null?null:t[e]}function mb(t){t[rs]=0}function hP(t){t[ne]&1024||(t[ne]|=1024,rg(t)&&Qa(t))}function fP(t,e){for(;t>0;)e=e[ms],t--;return e}function ig(t){return!!(t[ne]&9216||t[qi]?.dirty)}function um(t){t[An].changeDetectionScheduler?.notify(1),ig(t)?Qa(t):t[ne]&64&&(uP()?(t[ne]|=1024,Qa(t)):t[An].changeDetectionScheduler?.notify())}function Qa(t){t[An].changeDetectionScheduler?.notify();let e=Ya(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!rg(e)));)e=Ya(e)}function gb(t,e){if((t[ne]&256)===256)throw new X(911,!1);t[oi]===null&&(t[oi]=[]),t[oi].push(e)}function pP(t,e){if(t[oi]===null)return;let n=t[oi].indexOf(e);n!==-1&&t[oi].splice(n,1)}function Ya(t){let e=t[mt];return Rr(e)?e[mt]:e}var pe={lFrame:bb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function mP(){return pe.lFrame.elementDepthCount}function gP(){pe.lFrame.elementDepthCount++}function yP(){pe.lFrame.elementDepthCount--}function yb(){return pe.bindingsEnabled}function _P(){return pe.skipHydrationRootTNode!==null}function vP(t){return pe.skipHydrationRootTNode===t}function wP(){pe.skipHydrationRootTNode=null}function _e(){return pe.lFrame.lView}function rt(){return pe.lFrame.tView}function H(t){return pe.lFrame.contextLView=t,t[Sn]}function q(t){return pe.lFrame.contextLView=null,t}function Dt(){let t=_b();for(;t!==null&&t.type===64;)t=t.parent;return t}function _b(){return pe.lFrame.currentTNode}function EP(){let t=pe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Zi(t,e){let n=pe.lFrame;n.currentTNode=t,n.isParent=e}function og(){return pe.lFrame.isParent}function vb(){pe.lFrame.isParent=!1}function IP(){return pe.lFrame.contextLView}function sg(){let t=pe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function bP(){return pe.lFrame.bindingIndex}function CP(t){return pe.lFrame.bindingIndex=t}function cd(){return pe.lFrame.bindingIndex++}function ag(t){let e=pe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function DP(){return pe.lFrame.inI18n}function TP(t,e){let n=pe.lFrame;n.bindingIndex=n.bindingRootIndex=t,lm(e)}function SP(){return pe.lFrame.currentDirectiveIndex}function lm(t){pe.lFrame.currentDirectiveIndex=t}function AP(t){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function wb(){return pe.lFrame.currentQueryIndex}function cg(t){pe.lFrame.currentQueryIndex=t}function xP(t){let e=t[fe];return e.type===2?e.declTNode:e.type===1?t[xn]:null}function Eb(t,e,n){if(n&ye.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ye.Host);)if(i=xP(o),i===null||(o=o[ms],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=pe.lFrame=Ib();return r.currentTNode=e,r.lView=t,!0}function ug(t){let e=Ib(),n=t[fe];pe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ib(){let t=pe.lFrame,e=t===null?null:t.child;return e===null?bb(t):e}function bb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Cb(){let t=pe.lFrame;return pe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Db=Cb;function lg(){let t=Cb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function MP(t){return(pe.lFrame.contextLView=fP(t,pe.lFrame.contextLView))[Sn]}function hi(){return pe.lFrame.selectedIndex}function Gi(t){pe.lFrame.selectedIndex=t}function ud(){let t=pe.lFrame;return fb(t.tView,t.selectedIndex)}function RP(){return pe.lFrame.currentNamespace}var Tb=!0;function ld(){return Tb}function dd(t){Tb=t}function PP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ub(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function hd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Rl(t,e,n){Sb(t,e,3,n)}function Pl(t,e,n,r){(t[ne]&3)===n&&Sb(t,e,n,r)}function $p(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function Sb(t,e,n,r){let i=r!==void 0?t[rs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[rs]+=65536),(a<o||o==-1)&&(NP(t,n,e,u),t[rs]=(t[rs]&4294901760)+u+2),u++}function cI(t,e){$n(4,t,e);let n=Pe(null);try{e.call(t)}finally{Pe(n),$n(5,t,e)}}function NP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[rs]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,cI(a,o)):cI(a,o)}var ss=-1,Wi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function OP(t){return t instanceof Wi}function FP(t){return(t.flags&8)!==0}function kP(t){return(t.flags&16)!==0}function Ab(t){return t!==ss}function $l(t){return t&32767}function VP(t){return t>>16}function Hl(t,e){let n=VP(t),r=e;for(;n>0;)r=r[ms],n--;return r}var dm=!0;function ql(t){let e=dm;return dm=t,e}var LP=256,xb=LP-1,Mb=5,UP=0,Hn={};function jP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ha)&&(r=n[Ha]),r==null&&(r=n[Ha]=UP++);let i=r&xb,o=1<<i;e.data[t+(i>>Mb)]|=o}function zl(t,e){let n=Rb(t,e);if(n!==-1)return n;let r=e[fe];r.firstCreatePass&&(t.injectorIndex=e.length,Hp(r.data,t),Hp(e,null),Hp(r.blueprint,null));let i=dg(t,e),o=t.injectorIndex;if(Ab(i)){let s=$l(i),a=Hl(i,e),u=a[fe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Hp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Rb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function dg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=kb(i),r===null)return ss;if(n++,i=i[ms],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ss}function hm(t,e,n){jP(t,e,n)}function BP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(WI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function Pb(t,e,n){if(n&ye.Optional||t!==void 0)return t;Qm(e,"NodeInjector")}function Nb(t,e,n,r){if(n&ye.Optional&&r===void 0&&(r=null),!(n&(ye.Self|ye.Host))){let i=t[ds],o=$t(void 0);try{return i?i.get(e,r,n&ye.Optional):jI(e,r,n&ye.Optional)}finally{$t(o)}}return Pb(r,e,n)}function Ob(t,e,n,r=ye.Default,i){if(t!==null){if(e[ne]&2048&&!(r&ye.Self)){let s=zP(t,e,n,r,Hn);if(s!==Hn)return s}let o=Fb(t,e,n,r,Hn);if(o!==Hn)return o}return Nb(e,n,r,i)}function Fb(t,e,n,r,i){let o=HP(n);if(typeof o=="function"){if(!Eb(e,t,r))return r&ye.Host?Pb(i,n,r):Nb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ye.Optional))Qm(n);else return s}finally{Db()}}else if(typeof o=="number"){let s=null,a=Rb(t,e),u=ss,l=r&ye.Host?e[zn][xn]:null;for((a===-1||r&ye.SkipSelf)&&(u=a===-1?dg(t,e):e[a+8],u===ss||!lI(r,!1)?a=-1:(s=e[fe],a=$l(u),e=Hl(u,e)));a!==-1;){let h=e[fe];if(uI(o,a,h.data)){let p=$P(a,e,n,s,r,l);if(p!==Hn)return p}u=e[a+8],u!==ss&&lI(r,e[fe].data[a+8]===l)&&uI(o,a,e)?(s=h,a=$l(u),e=Hl(u,e)):a=-1}}return i}function $P(t,e,n,r,i,o){let s=e[fe],a=s.data[t+8],u=r==null?sd(a)&&dm:r!=s&&(a.type&3)!==0,l=i&ye.Host&&o===a,h=Nl(a,s,n,u,l);return h!==null?Ki(e,s,h,a):Hn}function Nl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let E=p;E<g;E++){let M=s[E];if(E<u&&n===M||E>=u&&M.type===n)return E}if(i){let E=s[u];if(E&&si(E)&&E.type===n)return u}return null}function Ki(t,e,n,r){let i=t[n],o=e.data;if(OP(i)){let s=i;s.resolving&&pR(fR(o[n]));let a=ql(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?$t(s.injectImpl):null,h=Eb(t,r,ye.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&PP(n,o[n],e)}finally{l!==null&&$t(l),ql(a),s.resolving=!1,Db()}}return i}function HP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ha)?t[Ha]:void 0;return typeof e=="number"?e>=0?e&xb:qP:e}function uI(t,e,n){let r=1<<t;return!!(n[e+(t>>Mb)]&r)}function lI(t,e){return!(t&ye.Self)&&!(t&ye.Host&&e)}var Bi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Ob(this._tNode,this._lView,e,rd(r),n)}};function qP(){return new Bi(Dt(),_e())}function Pr(t){return tc(()=>{let e=t.prototype.constructor,n=e[kl]||fm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[kl]||fm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fm(t){return OI(t)?()=>{let e=fm(Ot(t));return e&&e()}:$i(t)}function zP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=Fb(o,s,n,r|ye.Self,Hn);if(a!==Hn)return a;let u=o.parent;if(!u){let l=s[sb];if(l){let h=l.get(n,Hn,r);if(h!==Hn)return h}u=kb(s),s=s[ms]}o=u}return i}function kb(t){let e=t[fe],n=e.type;return n===2?e.declTNode:n===1?t[xn]:null}function hg(t){return BP(Dt(),t)}function dI(t,e=null,n=null,r){let i=Vb(t,e,n,r);return i.resolveInjectorInitializers(),i}function Vb(t,e=null,n=null,r,i=new Set){let o=[n||Ht,HR(t)];return r=r||(typeof t=="object"?void 0:Ft(t)),new Ga(o,e||eg(),r||null,i)}var pn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return dI({name:""},i,r,"");{let o=r.name??"";return dI({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=qa,e.NULL=new Ul,e.\u0275prov=se({token:e,providedIn:"any",factory:()=>Ee(qI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var GP="ngOriginalError";function qp(t){return t[GP]}var Dr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&qp(e);for(;n&&qp(n);)n=qp(n);return n||null}},Lb=new re("",{providedIn:"root",factory:()=>G(Dr).handleError.bind(void 0)}),Ub=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WP,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),pm=class extends Ub{constructor(e){super(),this._lView=e}onDestroy(e){return gb(this._lView,e),()=>pP(this._lView,e)}};function WP(){return new pm(_e())}function KP(){return gs(Dt(),_e())}function gs(t,e){return new Vt(fn(t,e))}var Vt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=KP;let t=e;return t})();function QP(t){return t instanceof Vt?t.nativeElement:t}var mm=class extends Ct{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,eP()&&(this.destroyRef=G(Ub,{optional:!0})??void 0)}emit(e){let n=Pe(null);try{super.next(e)}finally{Pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=zp(o),i&&(i=zp(i)),s&&(s=zp(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ze&&e.add(a),a}};function zp(t){return e=>{setTimeout(t,void 0,e)}}var qe=mm;function YP(){return this._results[Symbol.iterator]()}var gm=class t{get changes(){return this._changes??=new qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=YP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=DR(e);(this._changesDetected=!CR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function jb(t){return(t.flags&128)===128}var Bb=new Map,JP=0;function ZP(){return JP++}function XP(t){Bb.set(t[od],t)}function eN(t){Bb.delete(t[od])}var hI="__ngContext__";function ai(t,e){ji(e)?(t[hI]=e[od],XP(e)):t[hI]=e}function $b(t){return qb(t[Ka])}function Hb(t){return qb(t[Tn])}function qb(t){for(;t!==null&&!Rr(t);)t=t[Tn];return t}var ym;function zb(t){ym=t}function tN(){if(ym!==void 0)return ym;if(typeof document<"u")return document;throw new X(210,!1)}var fg=new re("",{providedIn:"root",factory:()=>nN}),nN="ng",pg=new re(""),fi=new re("",{providedIn:"platform",factory:()=>"unknown"});var mg=new re("",{providedIn:"root",factory:()=>tN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rN="h",iN="b";var oN=()=>null;function gg(t,e,n=!1){return oN(t,e,n)}var Gb=!1,sN=new re("",{providedIn:"root",factory:()=>Gb});var Tl;function aN(){if(Tl===void 0&&(Tl=null,br.trustedTypes))try{Tl=br.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Tl}function cN(t){return aN()?.createScriptURL(t)||t}var Sl;function uN(){if(Sl===void 0&&(Sl=null,br.trustedTypes))try{Sl=br.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sl}function fI(t){return uN()?.createScriptURL(t)||t}var Gl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${PI})`}};function ys(t){return t instanceof Gl?t.changingThisBreaksApplicationSecurity:t}function yg(t,e){let n=lN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${PI})`)}return n===e}function lN(t){return t instanceof Gl&&t.getTypeName()||null}var dN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wb(t){return t=String(t),t.match(dN)?t:"unsafe:"+t}var fd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fd||{});function Xi(t){let e=Yb();return e?e.sanitize(fd.URL,t)||"":yg(t,"URL")?ys(t):Wb(as(t))}function hN(t){let e=Yb();if(e)return fI(e.sanitize(fd.RESOURCE_URL,t)||"");if(yg(t,"ResourceURL"))return fI(ys(t));throw new X(904,!1)}function Kb(t){return cN(t[0])}function fN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?hN:Xi}function Qb(t,e,n){return fN(e,n)(t)}function Yb(){let t=_e();return t&&t[An].sanitizer}var pN=/^>|^->|<!--|-->|--!>|<!-$/g,mN=/(<|>)/g,gN="\u200B$1\u200B";function yN(t){return t.replace(pN,e=>e.replace(mN,gN))}function Jb(t){return t instanceof Function?t():t}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tr||{}),_N;function _g(t,e){return _N(t,e)}function is(t,e,n,r,i){if(r!=null){let o,s=!1;Rr(r)?o=r:ji(r)&&(s=!0,r=r[Mr]);let a=Gn(r);t===0&&n!==null?i==null?nC(e,n,a):Wl(e,n,a,i||null,!0):t===1&&n!==null?Wl(e,n,a,i||null,!0):t===2?kN(e,a,s):t===3&&e.destroyNode(a),o!=null&&LN(e,t,o,n,i)}}function vN(t,e){return t.createText(e)}function wN(t,e,n){t.setValue(e,n)}function EN(t,e){return t.createComment(yN(e))}function Zb(t,e,n){return t.createElement(e,n)}function IN(t,e){Xb(t,e),e[Mr]=null,e[xn]=null}function bN(t,e,n,r,i,o){r[Mr]=i,r[xn]=e,md(t,r,n,1,i,o)}function Xb(t,e){e[An].changeDetectionScheduler?.notify(1),md(t,e,e[Ke],2,null,null)}function CN(t){let e=t[Ka];if(!e)return Gp(t[fe],t);for(;e;){let n=null;if(ji(e))n=e[Ka];else{let r=e[Xt];r&&(n=r)}if(!n){for(;e&&!e[Tn]&&e!==t;)ji(e)&&Gp(e[fe],e),e=e[mt];e===null&&(e=t),ji(e)&&Gp(e[fe],e),n=e&&e[Tn]}e=n}}function DN(t,e,n,r){let i=Xt+r,o=n.length;r>0&&(n[i-1][Tn]=e),r<o-Xt?(e[Tn]=n[i],HI(n,Xt+r,e)):(n.push(e),e[Tn]=null),e[mt]=n;let s=e[rc];s!==null&&n!==s&&TN(s,e);let a=e[Cr];a!==null&&a.insertView(t),um(e),e[ne]|=128}function TN(t,e){let n=t[hs],i=e[mt][mt][zn];e[zn]!==i&&(t[ne]|=tg.HasTransplantedViews),n===null?t[hs]=[e]:n.push(e)}function eC(t,e){let n=t[hs],r=n.indexOf(e);n.splice(r,1)}function _m(t,e){if(t.length<=Xt)return;let n=Xt+e,r=t[n];if(r){let i=r[rc];i!==null&&i!==t&&eC(i,r),e>0&&(t[n-1][Tn]=r[Tn]);let o=Ll(t,Xt+e);IN(r[fe],r);let s=o[Cr];s!==null&&s.detachView(o[fe]),r[mt]=null,r[Tn]=null,r[ne]&=-129}return r}function tC(t,e){if(!(e[ne]&256)){let n=e[Ke];n.destroyNode&&md(t,e,n,3,null,null),CN(e)}}function Gp(t,e){if(e[ne]&256)return;let n=Pe(null);try{e[ne]&=-129,e[ne]|=256,e[qi]&&DE(e[qi]),AN(t,e),SN(t,e),e[fe].type===1&&e[Ke].destroy();let r=e[rc];if(r!==null&&Rr(e[mt])){r!==e[mt]&&eC(r,e);let i=e[Cr];i!==null&&i.detachView(t)}eN(e)}finally{Pe(n)}}function SN(t,e){let n=t.cleanup,r=e[Wa];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Wa]=null);let i=e[oi];if(i!==null){e[oi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function AN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Wi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];$n(4,a,u);try{u.call(a)}finally{$n(5,a,u)}}else{$n(4,i,o);try{o.call(i)}finally{$n(5,i,o)}}}}}function xN(t,e,n){return MN(t,e.parent,n)}function MN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Mr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===qn.None||o===qn.Emulated)return null}return fn(r,n)}}function Wl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function nC(t,e,n){t.appendChild(e,n)}function pI(t,e,n,r,i){r!==null?Wl(t,e,n,r,i):nC(t,e,n)}function RN(t,e,n,r){t.removeChild(e,n,r)}function vg(t,e){return t.parentNode(e)}function PN(t,e){return t.nextSibling(e)}function NN(t,e,n){return FN(t,e,n)}function ON(t,e,n){return t.type&40?fn(t,n):null}var FN=ON,mI;function pd(t,e,n,r){let i=xN(t,r,e),o=e[Ke],s=r.parent||e[xn],a=NN(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)pI(o,i,n[u],a,!1);else pI(o,i,n,a,!1);mI!==void 0&&mI(o,r,e,n,i)}function Ol(t,e){if(e!==null){let n=e.type;if(n&3)return fn(e,t);if(n&4)return vm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ol(t,r);{let i=t[e.index];return Rr(i)?vm(-1,i):Gn(i)}}else{if(n&32)return _g(e,t)()||Gn(t[e.index]);{let r=rC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ya(t[zn]);return Ol(i,r)}else return Ol(t,e.next)}}}return null}function rC(t,e){if(e!==null){let r=t[zn][xn],i=e.projection;return r.projection[i]}return null}function vm(t,e){let n=Xt+t+1;if(n<e.length){let r=e[n],i=r[fe].firstChild;if(i!==null)return Ol(r,i)}return e[zi]}function kN(t,e,n){let r=vg(t,e);r&&RN(t,r,e,n)}function wg(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&ai(Gn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)wg(t,e,n.child,r,i,o,!1),is(e,t,i,a,o);else if(u&32){let l=_g(n,r),h;for(;h=l();)is(e,t,i,h,o);is(e,t,i,a,o)}else u&16?VN(t,e,r,n,i,o):is(e,t,i,a,o);n=s?n.projectionNext:n.next}}function md(t,e,n,r,i,o){wg(n,r,t.firstChild,e,i,o,!1)}function VN(t,e,n,r,i,o){let s=n[zn],u=s[xn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];is(e,t,i,h,o)}else{let l=u,h=s[mt];jb(r)&&(l.flags|=128),wg(t,e,l,h,i,o,!0)}}function LN(t,e,n,r,i){let o=n[zi],s=Gn(n);o!==s&&is(e,t,r,o,i);for(let a=Xt;a<n.length;a++){let u=n[a];md(u[fe],u,t,e,r,o)}}function UN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Tr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Tr.Important),t.setStyle(n,r,i,o))}}function jN(t,e,n){t.setAttribute(e,"style",n)}function iC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function oC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&im(t,e,r),i!==null&&iC(t,e,i),o!==null&&jN(t,e,o)}var en={};function S(t=1){sC(rt(),_e(),hi()+t,!1)}function sC(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Rl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Pl(e,o,0,n)}Gi(n)}function B(t,e=ye.Default){let n=_e();if(n===null)return Ee(t,e);let r=Dt();return Ob(r,n,Ot(t),e)}function aC(t,e,n,r,i,o){let s=Pe(null);try{let a=null;i&Xe.SignalBased&&(a=e[r][yp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Xe.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):cb(e,a,r,o)}finally{Pe(s)}}function BN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gi(~i);else{let o=i,s=n[++r],a=n[++r];TP(s,o);let u=e[o];a(2,u)}}}finally{Gi(-1)}}function gd(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Mr]=i,p[ne]=r|4|128|8|64,(l!==null||t&&t[ne]&2048)&&(p[ne]|=2048),mb(p),p[mt]=p[ms]=t,p[Sn]=n,p[An]=s||t&&t[An],p[Ke]=a||t&&t[Ke],p[ds]=u||t&&t[ds]||null,p[xn]=o,p[od]=ZP(),p[jl]=h,p[sb]=l,p[zn]=e.type==2?t[zn]:p,p}function ic(t,e,n,r,i){let o=t.data[e];if(o===null)o=$N(t,e,n,r,i),DP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=EP();o.injectorIndex=s===null?-1:s.injectorIndex}return Zi(o,!0),o}function $N(t,e,n,r,i){let o=_b(),s=og(),a=s?o:o&&o.parent,u=t.data[e]=KN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function cC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function uC(t,e,n,r,i){let o=hi(),s=r&2;try{Gi(-1),s&&e.length>dn&&sC(t,e,dn,!1),$n(s?2:0,i),n(r,i)}finally{Gi(o),$n(s?3:1,i)}}function Eg(t,e,n){if(ng(e)){let r=Pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Pe(r)}}}function Ig(t,e,n){yb()&&(eO(t,e,n,fn(n,e)),(n.flags&64)===64&&hC(t,e,n))}function bg(t,e,n=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function lC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Cg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Cg(t,e,n,r,i,o,s,a,u,l,h){let p=dn+r,g=p+i,E=HN(p,g),M=typeof l=="function"?l():l;return E[fe]={type:t,blueprint:E,template:n,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:h}}function HN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:en);return n}function qN(t,e,n,r){let o=r.get(sN,Gb)||n===qn.ShadowDom,s=t.selectRootElement(e,o);return zN(s),s}function zN(t){GN(t)}var GN=()=>null;function WN(t,e,n,r){let i=mC(e);i.push(n),t.firstCreatePass&&gC(t).push(r,i.length-1)}function KN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _P()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function gI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Xe.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?yI(r,n,l,a,u):yI(r,n,l,a)}return r}function yI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function QN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,E=g?g.inputs:null,M=g?g.outputs:null;u=gI(0,p.inputs,h,u,E),l=gI(1,p.outputs,h,l,M);let O=u!==null&&s!==null&&!Zm(e)?dO(u,h,s):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function YN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Dg(t,e,n,r,i,o,s,a){let u=fn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Sg(t,n,h,r,i),sd(e)&&JN(n,e.index)):e.type&3?(r=YN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function JN(t,e){let n=di(e,t);n[ne]&16||(n[ne]|=64)}function Tg(t,e,n,r){if(yb()){let i=r===null?null:{"":-1},o=nO(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&dC(t,e,n,s,i,a),i&&rO(n,r,i)}n.mergedAttrs=za(n.mergedAttrs,n.attrs)}function dC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)hm(zl(n,e),t,r[l].type);oO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=cC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=za(n.mergedAttrs,h.hostAttrs),sO(t,n,e,u,h),iO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}QN(t,n,o)}function ZN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;XN(s)!=a&&s.push(a),s.push(n,r,o)}}function XN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function eO(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;sd(n)&&aO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||zl(n,e),ai(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=Ki(e,t,a,n);if(ai(l,e),s!==null&&lO(e,a-i,l,u,n,s),si(u)){let h=di(n.index,e);h[Sn]=Ki(e,t,a,n)}}}function hC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=SP();try{Gi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];lm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&tO(u,l)}}finally{Gi(-1),lm(s)}}function tO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function nO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(OR(e,s.selectors,!1))if(r||(r=[]),si(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;wm(t,e,u)}else r.unshift(s),wm(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function wm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function rO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new X(-301,!1);r.push(e[i],o)}}}function iO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;si(e)&&(n[""]=t)}}function oO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function sO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=$i(i.type,!0)),s=new Wi(o,si(i),B);t.blueprint[r]=s,n[r]=s,ZN(t,e,r,cC(t,n,i.hostVars,en),i)}function aO(t,e,n){let r=fn(e,t),i=lC(n),o=t[An].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=yd(t,gd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function cO(t,e,n,r,i,o){let s=fn(t,e);uO(e[Ke],s,o,t.value,n,r,i)}function uO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?as(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function lO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];aC(r,n,u,l,h,p)}}function dO(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function fC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function pC(t,e){let n=t.contentQueries;if(n!==null){let r=Pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];cg(o),a.contentQueries(2,e[s],s)}}}finally{Pe(r)}}}function yd(t,e){return t[Ka]?t[sI][Tn]=e:t[Ka]=e,t[sI]=e,e}function Em(t,e,n){cg(0);let r=Pe(null);try{e(t,n)}finally{Pe(r)}}function mC(t){return t[Wa]||(t[Wa]=[])}function gC(t){return t.cleanup||(t.cleanup=[])}function yC(t,e){let n=t[ds],r=n?n.get(Dr,null):null;r&&r.handleError(e)}function Sg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];aC(h,l,r,a,u,i)}}function _C(t,e,n){let r=hb(e,t);wN(t[Ke],r,n)}function hO(t,e){let n=di(e,t),r=n[fe];fO(r,n);let i=n[Mr];i!==null&&n[jl]===null&&(n[jl]=gg(i,n[ds])),Ag(r,n,n[Sn])}function fO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ag(t,e,n){ug(e);try{let r=t.viewQuery;r!==null&&Em(1,r,n);let i=t.template;i!==null&&uC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Cr]?.finishViewCreation(t),t.staticContentQueries&&pC(t,e),t.staticViewQueries&&Em(2,t.viewQuery,n);let o=t.components;o!==null&&pO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,lg()}}function pO(t,e){for(let n=0;n<e.length;n++)hO(t,e[n])}function mO(t,e,n,r){let i=Pe(null);try{let o=e.tView,a=t[ne]&4096?4096:16,u=gd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[rc]=l;let h=t[Cr];return h!==null&&(u[Cr]=h.createEmbeddedView(o)),Ag(o,u,n),u}finally{Pe(i)}}function _I(t,e){return!e||e.firstChild===null||jb(t)}function gO(t,e,n,r=!0){let i=e[fe];if(DN(i,e,t,n),r){let s=vm(n,t),a=e[Ke],u=vg(a,t[zi]);u!==null&&bN(i,t[xn],a,e,u,s)}let o=e[jl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Kl(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Gn(o)),Rr(o)&&yO(o,r);let s=n.type;if(s&8)Kl(t,e,n.child,r);else if(s&32){let a=_g(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=rC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ya(e[zn]);Kl(u[fe],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function yO(t,e){for(let n=Xt;n<t.length;n++){let r=t[n],i=r[fe].firstChild;i!==null&&Kl(r[fe],r,i,e)}t[zi]!==t[Mr]&&e.push(t[zi])}var vC=[];function _O(t){return t[qi]??vO(t)}function vO(t){let e=vC.pop()??Object.create(EO);return e.lView=t,e}function wO(t){t.lView[qi]!==t&&(t.lView=null,vC.push(t))}var EO=Te($({},IE),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qa(t.lView)},consumerOnSignalRead(){this.lView[qi]=this}}),wC=100;function EC(t,e=!0,n=0){let r=t[An],i=r.rendererFactory,o=!1;o||i.begin?.();try{IO(t,n)}catch(s){throw e&&yC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function IO(t,e){Im(t,e);let n=0;for(;ig(t);){if(n===wC)throw new X(103,!1);n++,Im(t,1)}}function bO(t,e,n,r){let i=e[ne];if((i&256)===256)return;let o=!1;!o&&e[An].inlineEffectRunner?.flush(),ug(e);let s=null,a=null;!o&&CO(t)&&(a=_O(e),s=bE(a));try{mb(e),CP(t.bindingStartIndex),n!==null&&uC(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Rl(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Pl(e,p,0,null),$p(e,0)}if(DO(e),IC(e,0),t.contentQueries!==null&&pC(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Rl(e,p)}else{let p=t.contentHooks;p!==null&&Pl(e,p,1),$p(e,1)}BN(t,e);let l=t.components;l!==null&&CC(e,l,0);let h=t.viewQuery;if(h!==null&&Em(2,h,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Rl(e,p)}else{let p=t.viewHooks;p!==null&&Pl(e,p,2),$p(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Bp]){for(let p of e[Bp])p();e[Bp]=null}o||(e[ne]&=-73)}catch(u){throw Qa(e),u}finally{a!==null&&(CE(a,s),wO(a)),lg()}}function CO(t){return t.type!==2}function IC(t,e){for(let n=$b(t);n!==null;n=Hb(n))for(let r=Xt;r<n.length;r++){let i=n[r];bC(i,e)}}function DO(t){for(let e=$b(t);e!==null;e=Hb(e)){if(!(e[ne]&tg.HasTransplantedViews))continue;let n=e[hs];for(let r=0;r<n.length;r++){let i=n[r],o=i[mt];hP(i)}}}function TO(t,e,n){let r=di(e,t);bC(r,n)}function bC(t,e){rg(t)&&Im(t,e)}function Im(t,e){let r=t[fe],i=t[ne],o=t[qi],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&_p(o)),o&&(o.dirty=!1),t[ne]&=-9217,s)bO(r,t,r.template,t[Sn]);else if(i&8192){IC(t,1);let a=r.components;a!==null&&CC(t,a,1)}}function CC(t,e,n){for(let r=0;r<e.length;r++)TO(t,e[r],n)}function xg(t){for(t[An].changeDetectionScheduler?.notify();t;){t[ne]|=64;let e=Ya(t);if(nP(t)&&!e)return t;t=e}return null}var Qi=class{get rootNodes(){let e=this._lView,n=e[fe];return Kl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(e){this._lView[Sn]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[mt];if(Rr(e)){let n=e[Bl],r=n?n.indexOf(this):-1;r>-1&&(_m(e,r),Ll(n,r))}this._attachedToViewContainer=!1}tC(this._lView[fe],this._lView)}onDestroy(e){gb(this._lView,e)}markForCheck(){xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){um(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,EC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Xb(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e,um(this._lView)}},Sr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xO;let t=e;return t})(),SO=Sr,AO=class extends SO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=mO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Qi(i)}};function xO(){return _d(Dt(),_e())}function _d(t,e){return t.type&4?new AO(e,t,gs(t,e)):null}var YW=new RegExp(`^(\\d+)*(${iN}|${rN})*(.*)`);var MO=()=>null;function vI(t,e){return MO(t,e)}var bm=class{},Cm=class{},Ql=class{};function RO(t){let e=Error(`No component factory found for ${Ft(t)}.`);return e[PO]=t,e}var PO="ngComponent";var Dm=class{resolveComponentFactory(e){throw RO(e)}},vd=(()=>{let e=class e{};e.NULL=new Dm;let t=e;return t})(),Ja=class{},tn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>NO();let t=e;return t})();function NO(){let t=_e(),e=Dt(),n=di(e.index,t);return(ji(n)?n:t)[Ke]}var OO=(()=>{let e=class e{};e.\u0275prov=se({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Wp={};var wI=new Set;function DC(t){wI.has(t)||(wI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function EI(...t){}function FO(){let t=typeof br.requestAnimationFrame=="function",e=br[t?"requestAnimationFrame":"setTimeout"],n=br[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ve=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=FO().nativeRequestAnimationFrame,LO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new X(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,kO,EI,EI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},kO={};function Mg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function VO(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(br,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Tm(t),t.isCheckStableRunning=!0,Mg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Tm(t))}function LO(t){let e=()=>{VO(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(UO(a))return n.invokeTask(i,o,s,a);try{return II(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bI(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return II(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),bI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Tm(t),Mg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Tm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function II(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bI(t){t._nesting--,Mg(t)}function UO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var TC=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=se({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Yl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=em(i,a);else if(o==2){let u=a,l=e[++s];r=em(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Jl=class extends vd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hi(e);return new Za(n,this.ngModule)}};function CI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function jO(t){let e=t.toLowerCase();return e==="svg"?sP:e==="math"?aP:null}var Sm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=rd(r);let i=this.injector.get(e,Wp,r);return i!==Wp||n===Wp?i:this.parentInjector.get(e,n,r)}},Za=class extends Ql{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=CI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return CI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=LR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Pe(null);try{i=i||this.ngModule;let s=i instanceof ln?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Sm(e,s):e,u=a.get(Ja,null);if(u===null)throw new X(407,!1);let l=a.get(OO,null),h=a.get(TC,null),p=a.get(bm,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},E=u.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",O=r?qN(E,r,this.componentDef.encapsulation,a):Zb(E,M,jO(M)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let j=null;O!==null&&(j=gg(O,a,!0));let Q=Cg(0,null,null,1,0,null,null,null,null,null,null),K=gd(null,Q,null,F,null,null,g,E,a,null,j);ug(K);let Z,Ue;try{let ae=this.componentDef,D,w=null;ae.findHostDirectiveDefs?(D=[],w=new Map,ae.findHostDirectiveDefs(ae,D,w),D.push(ae)):D=[ae];let I=BO(K,O),C=$O(I,O,ae,D,K,g,E);Ue=fb(Q,dn),O&&zO(E,ae,O,r),n!==void 0&&GO(Ue,this.ngContentSelectors,n),Z=qO(C,ae,D,w,K,[WO]),Ag(Q,K,null)}finally{lg()}return new Am(this.componentType,Z,gs(Ue,K),K,Ue)}finally{Pe(o)}}},Am=class extends Cm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Qi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Sg(o[fe],o,i,e,n),this.previousInputValues.set(e,n);let s=di(this._tNode.index,o);xg(s)}}get injector(){return new Bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BO(t,e){let n=t[fe],r=dn;return t[r]=e,ic(n,r,2,"#host",null)}function $O(t,e,n,r,i,o,s){let a=i[fe];HO(r,t,e,s);let u=null;e!==null&&(u=gg(e,i[ds]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=gd(i,lC(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&wm(a,t,r.length-1),yd(i,p),i[t.index]=p}function HO(t,e,n,r){for(let i of t)e.mergedAttrs=za(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Yl(e,e.mergedAttrs,!0),n!==null&&oC(r,n,e))}function qO(t,e,n,r,i,o){let s=Dt(),a=i[fe],u=fn(s,i);dC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=Ki(i,a,p,s);ai(g,i)}hC(a,i,s),u&&ai(u,i);let l=Ki(i,a,s.directiveStart+s.componentOffset,s);if(t[Sn]=i[Sn]=l,o!==null)for(let h of o)h(l,e);return Eg(a,s,i),l}function zO(t,e,n,r){if(r)im(t,n,["ng-version","17.3.4"]);else{let{attrs:i,classes:o}=UR(e.selectors[0]);i&&im(t,n,i),o&&o.length>0&&iC(t,n,o.join(" "))}}function GO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function WO(){let t=Dt();hd(_e()[fe],t)}var Kn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KO;let t=e;return t})();function KO(){let t=Dt();return AC(t,_e())}var QO=Kn,SC=class extends QO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return gs(this._hostTNode,this._hostLView)}get injector(){return new Bi(this._hostTNode,this._hostLView)}get parentInjector(){let e=dg(this._hostTNode,this._hostLView);if(Ab(e)){let n=Hl(e,this._hostLView),r=$l(e),i=n[fe].data[r+8];return new Bi(i,n)}else return new Bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=DI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=vI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,_I(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!tP(e),a;if(s)a=n;else{let M=n||{};a=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let u=s?e:new Za(Hi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let O=(s?l:this.parentInjector).get(ln,null);O&&(o=O)}let h=Hi(u.componentType??{}),p=vI(this._lContainer,h?.id??null),g=p?.firstChild??null,E=u.create(l,i,g,o);return this.insertImpl(E.hostView,a,_I(this._hostTNode,p)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(dP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[mt],l=new SC(u,u[xn],u[mt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return gO(s,i,o,r),e.attachToViewContainerRef(),HI(Kp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=DI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=_m(this._lContainer,n);r&&(Ll(Kp(this._lContainer),n),tC(r[fe],r))}detach(e){let n=this._adjustIndex(e,-1),r=_m(this._lContainer,n);return r&&Ll(Kp(this._lContainer),n)!=null?new Qi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function DI(t){return t[Bl]}function Kp(t){return t[Bl]||(t[Bl]=[])}function AC(t,e){let n,r=e[t.index];return Rr(r)?n=r:(n=fC(r,e,null,t),e[t.index]=n,yd(e,n)),JO(n,e,t,r),new SC(n,t,e)}function YO(t,e){let n=t[Ke],r=n.createComment(""),i=fn(e,t),o=vg(n,i);return Wl(n,o,r,PN(n,i),!1),r}var JO=eF,ZO=()=>!1;function XO(t,e,n){return ZO(t,e,n)}function eF(t,e,n,r){if(t[zi])return;let i;n.type&8?i=Gn(r):i=YO(e,n),t[zi]=i}var xm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Mm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Rg(e,n).matches!==null&&this.queries[n].setDirty()}},Rm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=cF(e):this.predicate=e}},Pm=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Nm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,tF(n,o)),this.matchTNodeWithReadOption(e,n,Nl(n,e,o,!1,!1))}else r===Sr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Nl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Vt||i===Kn||i===Sr&&n.type&4)this.addMatch(n.index,-2);else{let o=Nl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function tF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function nF(t,e){return t.type&11?gs(t,e):t.type&4?_d(t,e):null}function rF(t,e,n,r){return n===-1?nF(e,t):n===-2?iF(t,e,r):Ki(t,t[fe],n,e)}function iF(t,e,n){if(n===Vt)return gs(e,t);if(n===Sr)return _d(e,t);if(n===Kn)return AC(e,t)}function xC(t,e,n,r){let i=e[Cr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(rF(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Om(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=xC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Xt;p<h.length;p++){let g=h[p];g[rc]===g[mt]&&Om(g[fe],g,l,r)}if(h[hs]!==null){let p=h[hs];for(let g=0;g<p.length;g++){let E=p[g];Om(E[fe],E,l,r)}}}}}return r}function oF(t,e){return t[Cr].queries[e].queryList}function sF(t,e,n){let r=new gm((n&4)===4);return WN(t,e,r,r.destroy),(e[Cr]??=new Mm).queries.push(new xm(r))-1}function aF(t,e,n,r){let i=rt();if(i.firstCreatePass){let o=Dt();uF(i,new Rm(e,n,r),o.index),lF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return sF(i,_e(),n)}function cF(t){return t.split(",").map(e=>e.trim())}function uF(t,e,n){t.queries===null&&(t.queries=new Pm),t.queries.track(new Nm(e,n))}function lF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Rg(t,e){return t.queries.getByIndex(e)}function dF(t,e){let n=t[fe],r=Rg(n,e);return r.crossesNgTemplate?Om(n,t,e,[]):xC(n,t,r,e)}function hF(t){return typeof t=="function"&&t[yp]!==void 0}function MC(t){return hF(t)&&typeof t.set=="function"}function fF(t){return Object.getPrototypeOf(t.prototype).constructor}function qt(t){let e=fF(t.type),n=!0,r=[t];for(;e;){let i;if(si(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Al(t.inputs),s.inputTransforms=Al(t.inputTransforms),s.declaredInputs=Al(t.declaredInputs),s.outputs=Al(t.outputs);let a=i.hostBindings;a&&_F(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&gF(t,u),l&&yF(t,l),pF(t,i),oR(t.outputs,i.outputs),si(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===qt&&(n=!1)}}e=Object.getPrototypeOf(e)}mF(r)}function pF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function mF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=za(i.hostAttrs,n=za(n,i.hostAttrs))}}function Al(t){return t===cs?{}:t===Ht?[]:t}function gF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function yF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function _F(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Pg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ci=class{},Xa=class{};var Fm=class extends ci{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jl(this);let i=XI(e);this._bootstrapComponents=Jb(i.bootstrap),this._r3Injector=Vb(e,n,[{provide:ci,useValue:this},{provide:vd,useValue:this.componentFactoryResolver},...r],Ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},km=class extends Xa{constructor(e){super(),this.moduleType=e}create(e){return new Fm(this.moduleType,e,[])}};var Zl=class extends ci{constructor(e){super(),this.componentFactoryResolver=new Jl(this),this.instance=null;let n=new Ga([...e.providers,{provide:ci,useValue:this},{provide:vd,useValue:this.componentFactoryResolver}],e.parent||eg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ng(t,e,n=null){return new Zl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var wd=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RC(t){return wF(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function vF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function wF(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function PC(t,e,n){return t[e]=n}function EF(t,e){return t[e]}function Ar(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function IF(t,e,n,r){let i=Ar(t,e,n);return Ar(t,e+1,r)||i}function bF(t){return(t.flags&32)===32}function CF(t,e,n,r,i,o,s,a,u){let l=e.consts,h=ic(e,t,4,s||null,fs(l,a));Tg(e,n,h,fs(l,u)),hd(e,h);let p=h.tView=Cg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function J(t,e,n,r,i,o,s,a){let u=_e(),l=rt(),h=t+dn,p=l.firstCreatePass?CF(h,l,u,e,n,r,i,o,s):l.data[h];Zi(p,!1);let g=DF(l,u,p,t);ld()&&pd(l,u,g,p),ai(g,u);let E=fC(g,u,g,p);return u[h]=E,yd(u,E),XO(E,p,u),ad(p)&&Ig(l,u,p),s!=null&&bg(u,p,a),J}var DF=TF;function TF(t,e,n,r){return dd(!0),e[Ke].createComment("")}function oc(t,e,n,r){let i=_e(),o=cd();if(Ar(i,o,e)){let s=rt(),a=ud();cO(a,i,t,e,n,r)}return oc}function Og(t,e,n,r){return Ar(t,cd(),n)?e+as(n)+r:en}function SF(t,e,n,r,i,o){let s=bP(),a=IF(t,s,n,i);return ag(2),a?e+as(n)+r+as(i)+o:en}function xl(t,e){return t<<17|e<<2}function Yi(t){return t>>17&32767}function AF(t){return(t&2)==2}function xF(t,e){return t&131071|e<<17}function Vm(t){return t|2}function ps(t){return(t&131068)>>2}function Qp(t,e){return t&-131069|e<<2}function MF(t){return(t&1)===1}function Lm(t){return t|1}function RF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Yi(s),u=ps(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||nc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Yi(t[a+1]);t[r+1]=xl(g,a),g!==0&&(t[g+1]=Qp(t[g+1],r)),t[a+1]=xF(t[a+1],r)}else t[r+1]=xl(a,0),a!==0&&(t[a+1]=Qp(t[a+1],r)),a=r;else t[r+1]=xl(u,0),a===0?a=r:t[u+1]=Qp(t[u+1],r),u=r;l&&(t[r+1]=Vm(t[r+1])),TI(t,h,r,!0),TI(t,h,r,!1),PF(e,h,t,r,o),s=xl(a,u),o?e.classBindings=s:e.styleBindings=s}function PF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&nc(o,e)>=0&&(n[r+1]=Lm(n[r+1]))}function TI(t,e,n,r){let i=t[n+1],o=e===null,s=r?Yi(i):ps(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];NF(u,e)&&(a=!0,t[s+1]=r?Lm(l):Vm(l)),s=r?Yi(l):ps(l)}a&&(t[n+1]=r?Vm(i):Lm(i))}function NF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?nc(t,e)>=0:!1}var Dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OF(t){return t.substring(Dn.key,Dn.keyEnd)}function FF(t){return kF(t),NC(t,OC(t,0,Dn.textEnd))}function NC(t,e){let n=Dn.textEnd;return n===e?-1:(e=Dn.keyEnd=VF(t,Dn.key=e,n),OC(t,e,n))}function kF(t){Dn.key=0,Dn.keyEnd=0,Dn.value=0,Dn.valueEnd=0,Dn.textEnd=t.length}function OC(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function VF(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function k(t,e,n){let r=_e(),i=cd();if(Ar(r,i,e)){let o=rt(),s=ud();Dg(o,s,r,t,e,r[Ke],n,!1)}return k}function Um(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Sg(t,n,o[s],s,r)}function Ed(t,e){return UF(t,e,null,!0),Ed}function LF(t,e){for(let n=FF(e);n>=0;n=NC(e,n))Jm(t,OF(e),!0)}function UF(t,e,n,r){let i=_e(),o=rt(),s=ag(2);if(o.firstUpdatePass&&kC(o,t,s,r),e!==en&&Ar(i,s,e)){let a=o.data[hi()];VC(o,a,i,i[Ke],t,i[s+1]=WF(e,n),r,s)}}function jF(t,e,n,r){let i=rt(),o=ag(2);i.firstUpdatePass&&kC(i,null,o,r);let s=_e();if(n!==en&&Ar(s,o,n)){let a=i.data[hi()];if(LC(a,r)&&!FC(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=em(u,n||"")),Um(i,a,s,n,r)}else GF(i,a,s,s[Ke],s[o+1],s[o+1]=zF(t,e,n),r,o)}}function FC(t,e){return e>=t.expandoStartIndex}function kC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[hi()],s=FC(t,n);LC(o,r)&&e===null&&!s&&(e=!1),e=BF(i,o,e,r),RF(i,o,e,n,s,r)}}function BF(t,e,n,r){let i=AP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Yp(null,t,e,n,r),n=ec(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Yp(i,t,e,n,r),o===null){let u=$F(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Yp(null,t,e,u[1],r),u=ec(u,e.attrs,r),HF(t,e,r,u))}else o=qF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function $F(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ps(r)!==0)return t[Yi(r)]}function HF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Yi(i)]=r}function qF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ec(r,s,n)}return ec(r,e.attrs,n)}function Yp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ec(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ec(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Jm(t,s,n?!0:e[++o]))}return t===void 0?null:t}function zF(t,e,n){if(n==null||n==="")return Ht;let r=[],i=ys(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function GF(t,e,n,r,i,o,s,a){i===en&&(i=Ht);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,E=l<o.length?o[l+1]:void 0,M=null,O;h===p?(u+=2,l+=2,g!==E&&(M=p,O=E)):p===null||h!==null&&h<p?(u+=2,M=h):(l+=2,M=p,O=E),M!==null&&VC(t,e,n,r,M,O,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function VC(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=MF(l)?SI(u,e,n,i,ps(l),s):void 0;if(!Xl(h)){Xl(o)||AF(l)&&(o=SI(u,null,n,i,a,s));let p=hb(hi(),n);UN(r,s,p,i,o)}}function SI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===en&&(g=p?Ht:void 0);let E=p?Up(g,r):h===r?g:void 0;if(l&&!Xl(E)&&(E=Up(u,r)),Xl(E)&&(a=E,s))return a;let M=t[i+1];i=s?Yi(M):ps(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Up(u,r))}return a}function Xl(t){return t!==void 0}function WF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ft(ys(t)))),t}function LC(t,e){return(t.flags&(e?8:16))!==0}function UC(t,e,n){let r=_e(),i=Og(r,t,e,n);jF(Jm,LF,i,!0)}function KF(t,e,n,r,i,o){let s=e.consts,a=fs(s,i),u=ic(e,t,2,r,a);return Tg(e,n,u,fs(s,o)),u.attrs!==null&&Yl(u,u.attrs,!1),u.mergedAttrs!==null&&Yl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function y(t,e,n,r){let i=_e(),o=rt(),s=dn+t,a=i[Ke],u=o.firstCreatePass?KF(s,o,i,e,n,r):o.data[s],l=QF(o,i,u,a,e,t);i[s]=l;let h=ad(u);return Zi(u,!0),oC(a,l,u),!bF(u)&&ld()&&pd(o,i,l,u),mP()===0&&ai(l,i),gP(),h&&(Ig(o,i,u),Eg(o,u,i)),r!==null&&bg(i,u),y}function _(){let t=Dt();og()?vb():(t=t.parent,Zi(t,!1));let e=t;vP(e)&&wP(),yP();let n=rt();return n.firstCreatePass&&(hd(n,t),ng(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&FP(e)&&Um(n,e,_e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&kP(e)&&Um(n,e,_e(),e.stylesWithoutHost,!1),_}function ie(t,e,n,r){return y(t,e,n,r),_(),ie}var QF=(t,e,n,r,i,o)=>(dd(!0),Zb(r,i,RP()));function YF(t,e,n,r,i){let o=e.consts,s=fs(o,r),a=ic(e,t,8,"ng-container",s);s!==null&&Yl(a,s,!0);let u=fs(o,i);return Tg(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function _s(t,e,n){let r=_e(),i=rt(),o=t+dn,s=i.firstCreatePass?YF(o,i,r,e,n):i.data[o];Zi(s,!0);let a=JF(i,r,s,t);return r[o]=a,ld()&&pd(i,r,a,s),ai(a,r),ad(s)&&(Ig(i,r,s),Eg(i,s,r)),n!=null&&bg(r,s),_s}function vs(){let t=Dt(),e=rt();return og()?vb():(t=t.parent,Zi(t,!1)),e.firstCreatePass&&(hd(e,t),ng(t)&&e.queries.elementEnd(t)),vs}var JF=(t,e,n,r)=>(dd(!0),EN(e[Ke],""));function Ne(){return _e()}var ed="en-US";var ZF=ed;function XF(t){typeof t=="string"&&(ZF=t.toLowerCase().replace(/_/g,"-"))}function z(t,e,n,r){let i=_e(),o=rt(),s=Dt();return jC(o,i,i[Ke],s,t,e,r),z}function ek(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Wa],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function jC(t,e,n,r,i,o,s){let a=ad(r),l=t.firstCreatePass&&gC(t),h=e[Sn],p=mC(e),g=!0;if(r.type&3||s){let O=fn(r,e),F=s?s(O):O,j=p.length,Q=s?Z=>s(Gn(Z[r.index])):r.index,K=null;if(!s&&a&&(K=ek(t,e,i,r.index)),K!==null){let Z=K.__ngLastListenerFn__||K;Z.__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,g=!1}else{o=xI(r,e,h,o,!1);let Z=n.listen(F,i,o);p.push(o,Z),l&&l.push(i,Q,j,j+1)}}else o=xI(r,e,h,o,!1);let E=r.outputs,M;if(g&&E!==null&&(M=E[i])){let O=M.length;if(O)for(let F=0;F<O;F+=2){let j=M[F],Q=M[F+1],Ue=e[j][Q].subscribe(o),ae=p.length;p.push(o,Ue),l&&l.push(i,r.index,ae,-(ae+1))}}}function AI(t,e,n,r){let i=Pe(null);try{return $n(6,e,n),n(r)!==!1}catch(o){return yC(t,o),!1}finally{$n(7,e,n),Pe(i)}}function xI(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?di(t.index,e):e;xg(a);let u=AI(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=AI(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function N(t=1){return MP(t)}function Fg(t,e,n,r,i){let o=_e(),s=Og(o,e,n,r);if(s!==en){let a=rt(),u=ud();Dg(a,u,o,t,s,o[Ke],i,!1)}return Fg}function BC(t,e,n,r){aF(t,e,n,r)}function $C(t){let e=_e(),n=rt(),r=wb();cg(r+1);let i=Rg(n,r);if(t.dirty&&lP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=dF(e,r);t.reset(o,QP),t.notifyOnChanges()}return!0}return!1}function HC(){return oF(_e(),wb())}function tk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function qC(t){let e=IP();return pb(e,dn+t)}function T(t,e=""){let n=_e(),r=rt(),i=t+dn,o=r.firstCreatePass?ic(r,i,1,e,null):r.data[i],s=nk(r,n,o,e,t);n[i]=s,ld()&&pd(r,n,s,o),Zi(o,!1)}var nk=(t,e,n,r,i)=>(dd(!0),vN(e[Ke],r));function ve(t){return Tt("",t,""),ve}function Tt(t,e,n){let r=_e(),i=Og(r,t,e,n);return i!==en&&_C(r,hi(),i),Tt}function mn(t,e,n,r,i){let o=_e(),s=SF(o,t,e,n,r,i);return s!==en&&_C(o,hi(),s),mn}function Se(t,e,n){MC(e)&&(e=e());let r=_e(),i=cd();if(Ar(r,i,e)){let o=rt(),s=ud();Dg(o,s,r,t,e,r[Ke],n,!1)}return Se}function Me(t,e){let n=MC(t);return n&&t.set(e),n}function Ae(t,e){let n=_e(),r=rt(),i=Dt();return jC(r,n,n[Ke],i,t,e),Ae}function rk(t,e,n){let r=rt();if(r.firstCreatePass){let i=si(t);jm(n,r.data,r.blueprint,i,!0),jm(e,r.data,r.blueprint,i,!1)}}function jm(t,e,n,r,i){if(t=Ot(t),Array.isArray(t))for(let o=0;o<t.length;o++)jm(t[o],e,n,r,i);else{let o=rt(),s=_e(),a=Dt(),u=ls(t)?t:Ot(t.provide),l=ob(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(ls(t)||!t.multi){let E=new Wi(l,i,B),M=Zp(u,e,i?h:h+g,p);M===-1?(hm(zl(a,s),o,u),Jp(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)):(n[M]=E,s[M]=E)}else{let E=Zp(u,e,h+g,p),M=Zp(u,e,h,h+g),O=E>=0&&n[E],F=M>=0&&n[M];if(i&&!F||!i&&!O){hm(zl(a,s),o,u);let j=sk(i?ok:ik,n.length,i,r,l);!i&&F&&(n[M].providerFactory=j),Jp(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=zC(n[i?M:E],l,!i&&r);Jp(o,t,E>-1?E:M,j)}!i&&r&&F&&n[M].componentProviders++}}}function Jp(t,e,n,r){let i=ls(e),o=WR(e);if(i||o){let u=(o?Ot(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function zC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Zp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ik(t,e,n,r){return Bm(this.multi,[])}function ok(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ki(n,n[fe],this.providerFactory.index,r);o=a.slice(0,s),Bm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Bm(i,o);return o}function Bm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function sk(t,e,n,r,i){let o=new Wi(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,zC(o,i,r&&!n),o}function Qn(t,e=[]){return n=>{n.providersResolver=(r,i)=>rk(r,i?i(t):t,e)}}var ak=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=nb(!1,r.type),o=i.length>0?Ng([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=se({token:e,providedIn:"environment",factory:()=>new e(Ee(ln))});let t=e;return t})();function it(t){DC("NgStandalone"),t.getStandaloneInjector=e=>e.get(ak).getOrCreateStandaloneInjector(t)}function GC(t,e,n){let r=sg()+t,i=_e();return i[r]===en?PC(i,r,n?e.call(n):e()):EF(i,r)}function WC(t,e,n,r){return KC(_e(),sg(),t,e,n,r)}function ck(t,e){let n=t[e];return n===en?void 0:n}function KC(t,e,n,r,i,o){let s=e+n;return Ar(t,s,i)?PC(t,s+1,o?r.call(o,i):r(i)):ck(t,s+1)}function kg(t,e){let n=rt(),r,i=t+dn;n.firstCreatePass?(r=uk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=$i(r.type,!0)),s,a=$t(B);try{let u=ql(!1),l=o();return ql(u),tk(n,_e(),i,l),l}finally{$t(a)}}function uk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Vg(t,e,n){let r=t+dn,i=_e(),o=pb(i,r);return lk(i,r)?KC(i,sg(),e,o.transform,n,o):o.transform(n)}function lk(t,e){return t[fe].data[e].pure}function QC(t,e){return _d(t,e)}var xr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},YC=new xr("17.3.4"),Id=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var JC=new re("");function eo(t){return!!t&&typeof t.then=="function"}function ZC(t){return!!t&&typeof t.subscribe=="function"}var XC=new re(""),eD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=G(XC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(eo(s))r.push(s);else if(ZC(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lg=new re("");function dk(){TE(()=>{throw new X(600,!1)})}function hk(t){return t.isBoundToModule}function fk(t,e,n){try{let r=n();return eo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var sc=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=G(Lb),this.afterRenderEffectManager=G(TC),this.externalTestViews=new Set,this.beforeRender=new Ct,this.afterTick=new Ct,this.componentTypes=[],this.components=[],this.isStable=G(wd).hasPendingTasks.pipe(me(r=>!r)),this._injector=G(ln)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Ql;if(!this._injector.get(eD).done){let E=!o&&ZI(r),M=!1;throw new X(405,M)}let a;o?a=r:a=this._injector.get(vd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=hk(a)?void 0:this._injector.get(ci),l=i||a.selector,h=a.create(pn.NULL,[],l,u),p=h.location.nativeElement,g=h.injector.get(JC,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Xp(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new X(101,!1);let i=Pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Pe(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===wC)throw new X(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)pk(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>$m(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>$m(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Xp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Lg,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Xp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new X(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pk(t,e,n){!e&&!$m(t)||mk(t,n,e)}function $m(t){return ig(t)}function mk(t,e,n){let r;n?(r=0,t[ne]|=1024):t[ne]&64?r=0:r=1,EC(t,e,r)}var Hm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ug=(()=>{let e=class e{compileModuleSync(r){return new km(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=XI(r),s=Jb(o.declarations).reduce((a,u)=>{let l=Hi(u);return l&&a.push(new Za(l)),a},[]);return new Hm(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gk=(()=>{let e=class e{constructor(){this.zone=G(Ve),this.applicationRef=G(sc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yk(t){return[{provide:Ve,useFactory:t},{provide:us,multi:!0,useFactory:()=>{let e=G(gk,{optional:!0});return()=>e.initialize()}},{provide:us,multi:!0,useFactory:()=>{let e=G(Ek);return()=>{e.initialize()}}},{provide:Lb,useFactory:_k}]}function _k(){let t=G(Ve),e=G(Dr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function vk(t){let e=yk(()=>new Ve(wk(t)));return Wn([[],e])}function wk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Ek=(()=>{let e=class e{constructor(){this.subscription=new Ze,this.initialized=!1,this.zone=G(Ve),this.pendingTasks=G(wd)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ik(){return typeof $localize<"u"&&$localize.locale||ed}var jg=new re("",{providedIn:"root",factory:()=>G(jg,ye.Optional|ye.SkipSelf)||Ik()});var tD=new re("");var Fl=null;function bk(t=[],e){return pn.create({name:e,providers:[{provide:id,useValue:"platform"},{provide:tD,useValue:new Set([()=>Fl=null])},...t]})}function Ck(t=[]){if(Fl)return Fl;let e=bk(t);return Fl=e,dk(),Dk(e),e}function Dk(t){t.get(pg,null)?.forEach(n=>n())}var pi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Tk;let t=e;return t})();function Tk(t){return Sk(Dt(),_e(),(t&16)===16)}function Sk(t,e,n){if(sd(t)&&!n){let r=di(t.index,e);return new Qi(r,r)}else if(t.type&47){let r=e[zn];return new Qi(r,e)}return null}var qm=class{constructor(){}supports(e){return RC(e)}create(e){return new zm(e)}},Ak=(t,e)=>e,zm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ak}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<MI(r,i,o)?n:r,a=MI(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let E=g<o.length?o[g]:o[g]=0,M=E+g;h<=M&&M<l&&(o[g]=E+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!RC(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,vF(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Gm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new td),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new td),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Gm=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Wm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},td=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Wm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function MI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function RI(){return new Bg([new qm])}var Bg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||RI()),deps:[[e,new $I,new kt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new X(901,!1)}};e.\u0275prov=se({token:e,providedIn:"root",factory:RI});let t=e;return t})();function nD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Ck(r),o=[vk(),...n||[]],a=new Zl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ve);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Dr,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:E=>{l.handleError(E)}})});let p=()=>a.destroy(),g=i.get(tD);return g.add(p),a.onDestroy(()=>{h.unsubscribe(),g.delete(p)}),fk(l,u,()=>{let E=a.get(eD);return E.runInitializers(),E.donePromise.then(()=>{let M=a.get(jg,ed);XF(M||ed);let O=a.get(sc);return e!==void 0&&O.bootstrap(e),O})})})}catch(e){return Promise.reject(e)}}function mi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var cD=null;function Nr(){return cD}function uD(t){cD??=t}var bd=class{};var gn=new re(""),lD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>G(xk),providedIn:"platform"});let t=e;return t})();var xk=(()=>{let e=class e extends lD{constructor(){super(),this._doc=G(gn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nr().getBaseHref(this._doc)}onPopState(r){let i=Nr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Nr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function dD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function rD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function to(t){return t&&t[0]!=="?"?"?"+t:t}var ws=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>G(hD),providedIn:"root"});let t=e;return t})(),Mk=new re(""),hD=(()=>{let e=class e extends ws{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??G(gn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return dD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+to(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+to(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+to(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Ee(lD),Ee(Mk,8))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ac=(()=>{let e=class e{constructor(r){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Nk(rD(iD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+to(i))}normalize(r){return e.stripTrailingSlash(Pk(this._basePath,iD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+to(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+to(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=to,e.joinWithSlash=dD,e.stripTrailingSlash=rD,e.\u0275fac=function(i){return new(i||e)(Ee(ws))},e.\u0275prov=se({token:e,factory:()=>Rk(),providedIn:"root"});let t=e;return t})();function Rk(){return new ac(Ee(ws))}function Pk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function iD(t){return t.replace(/\/index.html$/,"")}function Nk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function fD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var $g=/\s+/,oD=[],pD=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=oD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split($g):oD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split($g):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split($g).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(B(Vt),B(tn))},e.\u0275dir=Fe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Xe.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Hg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Yn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Hg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),sD(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);sD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(Kn),B(Sr),B(Bg))},e.\u0275dir=Fe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function sD(t,e){t.context.$implicit=e.item}var Gt=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new qg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){aD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){aD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(Kn),B(Sr))},e.\u0275dir=Fe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),qg=class{constructor(){this.$implicit=null,this.ngIf=null}};function aD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ft(e)}'.`)}var Ok=!0,Cd=class{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Td=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(r){this._ngSwitch=r,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(r){this._defaultViews.push(r)}_matchCase(r){let i=Ok?r===this._ngSwitch:r==this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(r){if(this._defaultViews.length>0&&r!==this._defaultUsed){this._defaultUsed=r;for(let i of this._defaultViews)i.enforceState(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Fe({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),mD=(()=>{let e=class e{constructor(r,i,o){this.ngSwitch=o,o._addCase(),this._view=new Cd(r,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(i){return new(i||e)(B(Kn),B(Sr),B(Td,9))},e.\u0275dir=Fe({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})(),gD=(()=>{let e=class e{constructor(r,i,o){o._addDefault(new Cd(r,i))}};e.\u0275fac=function(i){return new(i||e)(B(Kn),B(Sr),B(Td,9))},e.\u0275dir=Fe({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0});let t=e;return t})();function Fk(t,e){return new X(2100,!1)}var kk=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,yD=(()=>{let e=class e{transform(r){if(r==null)return null;if(typeof r!="string")throw Fk(e,r);return r.replace(kk,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=QI({name:"titlecase",type:e,pure:!0,standalone:!0});let t=e;return t})();var Lt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=li({type:e}),e.\u0275inj=ui({});let t=e;return t})(),_D="browser",Vk="server";function zg(t){return t===Vk}var Dd=class{};var Kg=class extends bd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Qg=class t extends Kg{static makeCurrent(){uD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Lk();return n==null?null:Uk(n)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fD(document.cookie,e)}},cc=null;function Lk(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}function Uk(t){return new URL(t,document.baseURI).pathname}var jk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})(),Yg=new re(""),ID=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new X(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Ee(Yg),Ee(Ve))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})(),Sd=class{constructor(e){this._doc=e}},Gg="ng-app-id",bD=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zg(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Gg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Gg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Gg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Ee(gn),Ee(fg),Ee(mg,8),Ee(fi))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})(),Wg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Zg=/%COMP%/g,CD="%COMP%",Bk=`_nghost-${CD}`,$k=`_ngcontent-${CD}`,Hk=!0,qk=new re("",{providedIn:"root",factory:()=>Hk});function zk(t){return $k.replace(Zg,t)}function Gk(t){return Bk.replace(Zg,t)}function DD(t,e){return e.map(n=>n.replace(Zg,t))}var vD=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=zg(u),this.defaultRenderer=new uc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===qn.ShadowDom&&(i=Te($({},i),{encapsulation:qn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ad?o.applyToHost(r):o instanceof lc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case qn.Emulated:s=new Ad(l,h,i,this.appId,p,a,u,g);break;case qn.ShadowDom:return new Jg(l,h,r,i,a,u,this.nonce,g);default:s=new lc(l,h,i,p,a,u,g);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Ee(ID),Ee(bD),Ee(fg),Ee(qk),Ee(gn),Ee(fi),Ee(Ve),Ee(mg))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})(),uc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Wg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(wD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(wD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Wg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Wg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tr.DashCase|Tr.Important)?e.style.setProperty(n,r,i&Tr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Nr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function wD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Jg=class extends uc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=DD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},lc=class extends uc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?DD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ad=class extends lc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=zk(l),this.hostAttr=Gk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Wk=(()=>{let e=class e extends Sd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(Ee(gn))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})(),ED=["alt","control","meta","shift"],Kk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Yk=(()=>{let e=class e extends Sd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),ED.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=Kk[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),ED.forEach(a=>{if(a!==o){let u=Qk[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Ee(gn))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})();function TD(t,e){return nD($({rootComponent:t},Jk(e)))}function Jk(t){return{appProviders:[...n2,...t?.providers??[]],platformProviders:t2}}function Zk(){Qg.makeCurrent()}function Xk(){return new Dr}function e2(){return zb(document),document}var t2=[{provide:fi,useValue:_D},{provide:pg,useValue:Zk,multi:!0},{provide:gn,useFactory:e2,deps:[]}];var n2=[{provide:id,useValue:"root"},{provide:Dr,useFactory:Xk,deps:[]},{provide:Yg,useClass:Wk,multi:!0,deps:[gn,Ve,fi]},{provide:Yg,useClass:Yk,multi:!0,deps:[gn]},vD,bD,ID,{provide:Ja,useExisting:vD},{provide:Dd,useClass:jk,deps:[]},[]];var SD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Ee(gn))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var he="primary",Dc=Symbol("RouteTitle"),ry=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ds(t){return new ry(t)}function i2(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function o2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Jn(t[n],e[n]))return!1;return!0}function Jn(t,e){let n=t?iy(t):void 0,r=e?iy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ND(t[i],e[i]))return!1;return!0}function iy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ND(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function OD(t){return t.length>0?t[t.length-1]:null}function vi(t){return Np(t)?t:eo(t)?He(Promise.resolve(t)):ce(t)}var s2={exact:kD,subset:VD},FD={exact:a2,subset:c2,ignored:()=>!0};function AD(t,e,n){return s2[n.paths](t.root,e.root,n.matrixParams)&&FD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function a2(t,e){return Jn(t,e)}function kD(t,e,n){if(!ro(t.segments,e.segments)||!Rd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kD(t.children[r],e.children[r],n))return!1;return!0}function c2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ND(t[n],e[n]))}function VD(t,e,n){return LD(t,e,e.segments,n)}function LD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ro(i,n)||e.hasChildren()||!Rd(i,n,r))}else if(t.segments.length===n.length){if(!ro(t.segments,n)||!Rd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!VD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ro(t.segments,i)||!Rd(t.segments,i,r)||!t.children[he]?!1:LD(t.children[he],e,o,r)}}function Rd(t,e,n){return e.every((r,i)=>FD[n](t[i].parameters,r.parameters))}var yi=class{constructor(e=new Oe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){return d2.serialize(this)}},Oe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pd(this)}},no=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ds(this.parameters),this._parameterMap}toString(){return jD(this)}};function u2(t,e){return ro(t,e)&&t.every((n,r)=>Jn(n.parameters,e[r].parameters))}function ro(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function l2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===he&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==he&&(n=n.concat(e(i,r)))}),n}var My=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>new Od,providedIn:"root"});let t=e;return t})(),Od=class{parse(e){let n=new sy(e);return new yi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${dc(e.root,!0)}`,r=p2(e.queryParams),i=typeof e.fragment=="string"?`#${h2(e.fragment)}`:"";return`${n}${r}${i}`}},d2=new Od;function Pd(t){return t.segments.map(e=>jD(e)).join("/")}function dc(t,e){if(!t.hasChildren())return Pd(t);if(e){let n=t.children[he]?dc(t.children[he],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==he&&r.push(`${i}:${dc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=l2(t,(r,i)=>i===he?[dc(t.children[he],!1)]:[`${i}:${dc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[he]!=null?`${Pd(t)}/${n[0]}`:`${Pd(t)}/(${n.join("//")})`}}function UD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xd(t){return UD(t).replace(/%3B/gi,";")}function h2(t){return encodeURI(t)}function oy(t){return UD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nd(t){return decodeURIComponent(t)}function xD(t){return Nd(t.replace(/\+/g,"%20"))}function jD(t){return`${oy(t.path)}${f2(t.parameters)}`}function f2(t){return Object.entries(t).map(([e,n])=>`;${oy(e)}=${oy(n)}`).join("")}function p2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${xd(n)}=${xd(i)}`).join("&"):`${xd(n)}=${xd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var m2=/^[^\/()?;#]+/;function Xg(t){let e=t.match(m2);return e?e[0]:""}var g2=/^[^\/()?;=#]+/;function y2(t){let e=t.match(g2);return e?e[0]:""}var _2=/^[^=?&#]+/;function v2(t){let e=t.match(_2);return e?e[0]:""}var w2=/^[^&#]+/;function E2(t){let e=t.match(w2);return e?e[0]:""}var sy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[he]=new Oe(e,n)),r}parseSegment(){let e=Xg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new no(Nd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=y2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Xg(this.remaining);i&&(r=i,this.capture(r))}e[Nd(n)]=Nd(r)}parseQueryParam(e){let n=v2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=E2(this.remaining);s&&(r=s,this.capture(r))}let i=xD(n),o=xD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new X(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=he);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[he]:new Oe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function BD(t){return t.segments.length>0?new Oe([],{[he]:t}):t}function $D(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=$D(i);if(r===he&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Oe(t.segments,e);return I2(n)}function I2(t){if(t.numberOfChildren===1&&t.children[he]){let e=t.children[he];return new Oe(t.segments.concat(e.segments),e.children)}return t}function Ts(t){return t instanceof yi}function b2(t,e,n=null,r=null){let i=HD(t);return qD(i,e,n,r)}function HD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Oe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=BD(r);return e??i}function qD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ey(i,i,i,n,r);let o=C2(e);if(o.toRoot())return ey(i,i,new Oe([],{}),n,r);let s=D2(o,i,t),a=s.processChildren?pc(s.segmentGroup,s.index,o.commands):GD(s.segmentGroup,s.index,o.commands);return ey(i,s.segmentGroup,a,n,r)}function Fd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function yc(t){return typeof t=="object"&&t!=null&&t.outlets}function ey(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=zD(t,e,n);let a=BD($D(s));return new yi(a,o,i)}function zD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=zD(o,e,n)}),new Oe(t.segments,r)}var kd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Fd(r[0]))throw new X(4003,!1);let i=r.find(yc);if(i&&i!==OD(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function C2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new kd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kd(n,e,r)}var bs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function D2(t,e,n){if(t.isAbsolute)return new bs(e,!0,0);if(!n)return new bs(e,!1,NaN);if(n.parent===null)return new bs(n,!0,0);let r=Fd(t.commands[0])?0:1,i=n.segments.length-1+r;return T2(n,i,t.numberOfDoubleDots)}function T2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new bs(r,!1,i-o)}function S2(t){return yc(t[0])?t[0].outlets:{[he]:t}}function GD(t,e,n){if(t??=new Oe([],{}),t.segments.length===0&&t.hasChildren())return pc(t,e,n);let r=A2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Oe(t.segments.slice(0,r.pathIndex),{});return o.children[he]=new Oe(t.segments.slice(r.pathIndex),t.children),pc(o,0,i)}else return r.match&&i.length===0?new Oe(t.segments,{}):r.match&&!t.hasChildren()?ay(t,e,n):r.match?pc(t,0,i):ay(t,e,n)}function pc(t,e,n){if(n.length===0)return new Oe(t.segments,{});{let r=S2(n),i={};if(Object.keys(r).some(o=>o!==he)&&t.children[he]&&t.numberOfChildren===1&&t.children[he].segments.length===0){let o=pc(t.children[he],e,n);return new Oe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=GD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(t.segments,i)}}function A2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(yc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!RD(u,l,s))return o;r+=2}else{if(!RD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ay(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(yc(o)){let u=x2(o.outlets);return new Oe(r,u)}if(i===0&&Fd(n[0])){let u=t.segments[e];r.push(new no(u.path,MD(n[0]))),i++;continue}let s=yc(o)?o.outlets[he]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Fd(a)?(r.push(new no(s,MD(a))),i+=2):(r.push(new no(s,{})),i++)}return new Oe(r,{})}function x2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ay(new Oe([],{}),0,r))}),e}function MD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function RD(t,e,n){return t==n.path&&Jn(e,n.parameters)}var mc="imperative",gt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(gt||{}),yn=class{constructor(e,n){this.id=e,this.url=n}},_c=class extends yn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=gt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Or=class extends yn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=gt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(rn||{}),cy=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(cy||{}),_i=class extends yn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=gt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},io=class extends yn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=gt.NavigationSkipped}},vc=class extends yn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=gt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vd=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=gt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uy=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=gt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ly=class extends yn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=gt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dy=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=gt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hy=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=gt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fy=class{constructor(e){this.route=e,this.type=gt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},py=class{constructor(e){this.route=e,this.type=gt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},my=class{constructor(e){this.snapshot=e,this.type=gt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gy=class{constructor(e){this.snapshot=e,this.type=gt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yy=class{constructor(e){this.snapshot=e,this.type=gt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_y=class{constructor(e){this.snapshot=e,this.type=gt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var wc=class{},Ec=class{constructor(e){this.url=e}};var vy=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qd,this.attachRef=null}},qd=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new vy,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ld=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=wy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=wy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ey(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ey(e,this._root).map(n=>n.value)}};function wy(t,e){if(t===e.value)return e;for(let n of e.children){let r=wy(t,n);if(r)return r}return null}function Ey(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ey(t,n);if(r.length)return r.unshift(e),r}return[]}var nn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Is(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ud=class extends Ld{constructor(e,n){super(e),this.snapshot=n,Py(this,e)}toString(){return this.snapshot.toString()}};function WD(t){let e=M2(t),n=new pt([new no("",{})]),r=new pt({}),i=new pt({}),o=new pt({}),s=new pt(""),a=new oo(n,r,o,s,i,he,t,e.root);return a.snapshot=e.root,new Ud(new nn(a,[]),e)}function M2(t){let e={},n={},r={},i="",o=new Ic([],e,r,i,n,he,t,null,{});return new jd("",new nn(o,[]))}var oo=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(me(l=>l[Dc]))??ce(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(me(e=>Ds(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(e=>Ds(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ry(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:$($({},e.params),t.params),data:$($({},e.data),t.data),resolve:$($($($({},t.data),e.data),i?.data),t._resolvedData)}:r={params:$({},t.params),data:$({},t.data),resolve:$($({},t.data),t._resolvedData??{})},i&&QD(i)&&(r.resolve[Dc]=i.title),r}var Ic=class{get title(){return this.data?.[Dc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ds(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jd=class extends Ld{constructor(e,n){super(n),this.url=e,Py(this,n)}toString(){return KD(this._root)}};function Py(t,e){e.value._routerState=t,e.children.forEach(n=>Py(t,n))}function KD(t){let e=t.children.length>0?` { ${t.children.map(KD).join(", ")} } `:"";return`${t.value}${e}`}function ty(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Jn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Jn(e.params,n.params)||t.paramsSubject.next(n.params),o2(e.url,n.url)||t.urlSubject.next(n.url),Jn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Iy(t,e){let n=Jn(t.params,e.params)&&u2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Iy(t.parent,e.parent))}function QD(t){return typeof t.title=="string"||t.title===null}var Ny=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=G(qd),this.location=G(Kn),this.changeDetector=G(pi),this.environmentInjector=G(ln),this.inputBinder=G(Oy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new by(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Fe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]});let t=e;return t})(),by=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===oo?this.route:e===qd?this.childContexts:this.parent.get(e,n)}},Oy=new re("");function R2(t,e,n){let r=bc(t,e._root,n?n._root:void 0);return new Ud(r,e)}function bc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=P2(t,e,n);return new nn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>bc(t,a)),s}}let r=N2(e.value),i=e.children.map(o=>bc(t,o));return new nn(r,i)}}function P2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bc(t,r,i);return bc(t,r)})}function N2(t){return new oo(new pt(t.url),new pt(t.params),new pt(t.queryParams),new pt(t.fragment),new pt(t.data),t.outlet,t.component,t)}var YD="ngNavigationCancelingError";function JD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ts(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZD(!1,rn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ZD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[YD]=!0,n.cancellationCode=e,n}function O2(t){return XD(t)&&Ts(t.url)}function XD(t){return!!t&&t[YD]}var F2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nt({type:e,selectors:[["ng-component"]],standalone:!0,features:[it],decls:1,vars:0,template:function(i,o){i&1&&ie(0,"router-outlet")},dependencies:[Ny],encapsulation:2});let t=e;return t})();function k2(t,e){return t.providers&&!t._injector&&(t._injector=Ng(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Fy(t){let e=t.children&&t.children.map(Fy),n=e?Te($({},t),{children:e}):$({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==he&&(n.component=F2),n}function Zn(t){return t.outlet||he}function V2(t,e){let n=t.filter(r=>Zn(r)===e);return n.push(...t.filter(r=>Zn(r)!==e)),n}function Tc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var L2=(t,e,n,r)=>me(i=>(new Cy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Cy=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ty(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Is(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Is(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _y(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(ty(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ty(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Tc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Bd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cs=class{constructor(e,n){this.component=e,this.route=n}};function U2(t,e,n){let r=t._root,i=e?e._root:null;return hc(r,i,n,[r.value])}function j2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function As(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!FI(t)?t:e.get(t):r}function hc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Is(e);return t.children.forEach(s=>{B2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gc(a,n.getContext(s),i)),i}function B2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=$2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Bd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?hc(t,e,a?a.children:null,r,i):hc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cs(a.outlet.component,s))}else s&&gc(e,a,i),i.canActivateChecks.push(new Bd(r)),o.component?hc(t,null,a?a.children:null,r,i):hc(t,null,n,r,i);return i}function $2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ro(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ro(t.url,e.url)||!Jn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iy(t,e)||!Jn(t.queryParams,e.queryParams);case"paramsChange":default:return!Iy(t,e)}}function gc(t,e,n){let r=Is(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?gc(s,e.children.getContext(o),n):gc(s,null,n):gc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Cs(e.outlet.component,i)):n.canDeactivateChecks.push(new Cs(null,i)):n.canDeactivateChecks.push(new Cs(null,i))}function Sc(t){return typeof t=="function"}function H2(t){return typeof t=="boolean"}function q2(t){return t&&Sc(t.canLoad)}function z2(t){return t&&Sc(t.canActivate)}function G2(t){return t&&Sc(t.canActivateChild)}function W2(t){return t&&Sc(t.canDeactivate)}function K2(t){return t&&Sc(t.canMatch)}function eT(t){return t instanceof In||t?.name==="EmptyError"}var Md=Symbol("INITIAL_VALUE");function Ss(){return bn(t=>wl(t.map(e=>e.pipe(Ir(1),Cl(Md)))).pipe(me(e=>{for(let n of e)if(n!==!0){if(n===Md)return Md;if(n===!1||n instanceof yi)return n}return!0}),un(e=>e!==Md),Ir(1)))}function Q2(t,e){return ct(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ce(Te($({},n),{guardsResult:!0})):Y2(s,r,i,t).pipe(ct(a=>a&&H2(a)?J2(r,o,t,e):ce(a)),me(a=>Te($({},n),{guardsResult:a})))})}function Y2(t,e,n,r){return He(t).pipe(ct(i=>nV(i.component,i.route,n,e,r)),Bn(i=>i!==!0,!0))}function J2(t,e,n,r){return He(e).pipe(es(i=>Xo(X2(i.route.parent,r),Z2(i.route,r),tV(t,i.path,n),eV(t,i.route,n))),Bn(i=>i!==!0,!0))}function Z2(t,e){return t!==null&&e&&e(new yy(t)),ce(!0)}function X2(t,e){return t!==null&&e&&e(new my(t)),ce(!0)}function eV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ce(!0);let i=r.map(o=>El(()=>{let s=Tc(e)??n,a=As(o,s),u=z2(a)?a.canActivate(e,t):Ji(s,()=>a(e,t));return vi(u).pipe(Bn())}));return ce(i).pipe(Ss())}function tV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>j2(s)).filter(s=>s!==null).map(s=>El(()=>{let a=s.guards.map(u=>{let l=Tc(s.node)??n,h=As(u,l),p=G2(h)?h.canActivateChild(r,t):Ji(l,()=>h(r,t));return vi(p).pipe(Bn())});return ce(a).pipe(Ss())}));return ce(o).pipe(Ss())}function nV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ce(!0);let s=o.map(a=>{let u=Tc(e)??i,l=As(a,u),h=W2(l)?l.canDeactivate(t,e,n,r):Ji(u,()=>l(t,e,n,r));return vi(h).pipe(Bn())});return ce(s).pipe(Ss())}function rV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ce(!0);let o=i.map(s=>{let a=As(s,t),u=q2(a)?a.canLoad(e,n):Ji(t,()=>a(e,n));return vi(u)});return ce(o).pipe(Ss(),tT(r))}function tT(t){return tl(ut(e=>{if(Ts(e))throw JD(t,e)}),me(e=>e===!0))}function iV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ce(!0);let o=i.map(s=>{let a=As(s,t),u=K2(a)?a.canMatch(e,n):Ji(t,()=>a(e,n));return vi(u)});return ce(o).pipe(Ss(),tT(r))}var Cc=class{constructor(e){this.segmentGroup=e||null}},$d=class extends Error{constructor(e){super(),this.urlTree=e}};function Es(t){return Jo(new Cc(t))}function oV(t){return Jo(new X(4e3,!1))}function sV(t){return Jo(ZD(!1,rn.GuardRejected))}var Dy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ce(r);if(i.numberOfChildren>1||!i.children[he])return oV(e.redirectTo);i=i.children[he]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new $d(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new yi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Oe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ty={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aV(t,e,n,r,i){let o=ky(t,e,n);return o.matched?(r=k2(e,r),iV(r,e,n,i).pipe(me(s=>s===!0?o:$({},Ty)))):ce(o)}function ky(t,e,n){if(e.path==="**")return cV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?$({},Ty):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||i2)(n,t,e);if(!i)return $({},Ty);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?$($({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function cV(t){return{matched:!0,parameters:t.length>0?OD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function PD(t,e,n,r){return n.length>0&&dV(t,n,r)?{segmentGroup:new Oe(e,lV(r,new Oe(n,t.children))),slicedSegments:[]}:n.length===0&&hV(t,n,r)?{segmentGroup:new Oe(t.segments,uV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Oe(t.segments,t.children),slicedSegments:n}}function uV(t,e,n,r){let i={};for(let o of n)if(zd(t,e,o)&&!r[Zn(o)]){let s=new Oe([],{});i[Zn(o)]=s}return $($({},r),i)}function lV(t,e){let n={};n[he]=e;for(let r of t)if(r.path===""&&Zn(r)!==he){let i=new Oe([],{});n[Zn(r)]=i}return n}function dV(t,e,n){return n.some(r=>zd(t,e,r)&&Zn(r)!==he)}function hV(t,e,n){return n.some(r=>zd(t,e,r))}function zd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function fV(t,e,n,r){return Zn(t)!==r&&(r===he||!zd(e,n,t))?!1:ky(e,t,n).matched}function pV(t,e,n){return e.length===0&&!t.children[n]}var Sy=class{};function mV(t,e,n,r,i,o,s="emptyOnly"){return new Ay(t,e,n,r,i,s,o).recognize()}var gV=31,Ay=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Dy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=PD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(me(n=>{let r=new Ic([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,{},he,this.rootComponentType,null,{}),i=new nn(r,n),o=new jd("",i),s=b2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,he).pipe(ni(r=>{if(r instanceof $d)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cc?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Ry(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(me(o=>o instanceof nn?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return He(i).pipe(es(o=>{let s=r.children[o],a=V2(n,o);return this.processSegmentGroup(e,a,s,o)}),bl((o,s)=>(o.push(...s),o)),ri(null),Vp(),ct(o=>{if(o===null)return Es(r);let s=nT(o);return yV(s),ce(s)}))}processSegment(e,n,r,i,o,s){return He(n).pipe(es(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(ni(u=>{if(u instanceof Cc)return ce(null);throw u}))),Bn(a=>!!a),ni(a=>{if(eT(a))return pV(r,i,o)?ce(new Sy):Es(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return fV(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Es(i):Es(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=ky(n,i,o);if(!a)return Es(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>gV&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(ct(g=>this.processSegment(e,r,n,g.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=aV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(bn(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(bn(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:g}=a,E=new Ic(h,g,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,vV(r),Zn(r),r.component??r._loadedComponent??null,r,wV(r)),{segmentGroup:M,slicedSegments:O}=PD(n,h,p,u);if(O.length===0&&M.hasChildren())return this.processChildren(l,u,M).pipe(me(j=>j===null?null:new nn(E,j)));if(u.length===0&&O.length===0)return ce(new nn(E,[]));let F=Zn(r)===o;return this.processSegment(l,u,M,O,F?he:o,!0).pipe(me(j=>new nn(E,j instanceof nn?[j]:[])))}))):Es(n)))}getChildConfig(e,n,r){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):rV(e,n,r,this.urlSerializer).pipe(ct(i=>i?this.configLoader.loadChildren(e,n).pipe(ut(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):sV(n))):ce({routes:[],injector:e})}};function yV(t){t.sort((e,n)=>e.value.outlet===he?-1:n.value.outlet===he?1:e.value.outlet.localeCompare(n.value.outlet))}function _V(t){let e=t.value.routeConfig;return e&&e.path===""}function nT(t){let e=[],n=new Set;for(let r of t){if(!_V(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=nT(r.children);e.push(new nn(r.value,i))}return e.filter(r=>!n.has(r))}function vV(t){return t.data||{}}function wV(t){return t.resolve||{}}function EV(t,e,n,r,i,o){return ct(s=>mV(t,e,n,r,s.extractedUrl,i,o).pipe(me(({state:a,tree:u})=>Te($({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function IV(t,e){return ct(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ce(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of rT(u))s.add(l);let a=0;return He(s).pipe(es(u=>o.has(u)?bV(u,r,t,e):(u.data=Ry(u,u.parent,t).resolve,ce(void 0))),ut(()=>a++),ts(1),ct(u=>a===s.size?ce(n):Zt))})}function rT(t){let e=t.children.map(n=>rT(n)).flat();return[t,...e]}function bV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!QD(i)&&(o[Dc]=i.title),CV(o,t,e,r).pipe(me(s=>(t._resolvedData=s,t.data=Ry(t,t.parent,n).resolve,null)))}function CV(t,e,n,r){let i=iy(t);if(i.length===0)return ce({});let o={};return He(i).pipe(ct(s=>DV(t[s],e,n,r).pipe(Bn(),ut(a=>{o[s]=a}))),ts(1),kp(o),ni(s=>eT(s)?Zt:Jo(s)))}function DV(t,e,n,r){let i=Tc(e)??r,o=As(t,i),s=o.resolve?o.resolve(e,n):Ji(i,()=>o(e,n));return vi(s)}function ny(t){return bn(e=>{let n=t(e);return n?He(n).pipe(me(()=>e)):ce(e)})}var iT=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===he);return i}getResolvedTitleForRoute(r){return r.data[Dc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>G(TV),providedIn:"root"});let t=e;return t})(),TV=(()=>{let e=class e extends iT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Ee(SD))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vy=new re("",{providedIn:"root",factory:()=>({})}),Ly=new re(""),SV=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=G(Ug)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ce(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=vi(r.loadComponent()).pipe(me(oT),ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),$a(()=>{this.componentLoaders.delete(r)})),o=new Wo(i,()=>new Ct).pipe(Go());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ce({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=AV(i,this.compiler,r,this.onLoadEndListener).pipe($a(()=>{this.childrenLoaders.delete(i)})),a=new Wo(s,()=>new Ct).pipe(Go());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AV(t,e,n,r){return vi(t.loadChildren()).pipe(me(oT),ct(i=>i instanceof Xa||Array.isArray(i)?ce(i):He(e.compileModuleAsync(i))),me(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ly,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fy),injector:o}}))}function xV(t){return t&&typeof t=="object"&&"default"in t}function oT(t){return xV(t)?t.default:t}var Uy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>G(MV),providedIn:"root"});let t=e;return t})(),MV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RV=new re("");var PV=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ct,this.transitionAbortSubject=new Ct,this.configLoader=G(SV),this.environmentInjector=G(ln),this.urlSerializer=G(My),this.rootContexts=G(qd),this.location=G(ac),this.inputBindingEnabled=G(Oy,{optional:!0})!==null,this.titleStrategy=G(iT),this.options=G(Vy,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=G(Uy),this.createViewTransition=G(RV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null;let r=o=>this.events.next(new fy(o)),i=o=>this.events.next(new py(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Te($($({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new pt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(un(s=>s.id!==0),me(s=>Te($({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),bn(s=>{let a=!1,u=!1;return ce(s).pipe(bn(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",rn.SupersededByNewNavigation),Zt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Te($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let g="";return this.events.next(new io(l.id,this.urlSerializer.serialize(l.rawUrl),g,cy.IgnoredSameUrlNavigation)),l.resolve(null),Zt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ce(l).pipe(bn(g=>{let E=this.transitions?.getValue();return this.events.next(new _c(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),E!==this.transitions?.getValue()?Zt:Promise.resolve(g)}),EV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ut(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Te($({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let E=new Vd(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(E)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:E,source:M,restoredState:O,extras:F}=l,j=new _c(g,this.urlSerializer.serialize(E),M,O);this.events.next(j);let Q=WD(this.rootComponentType).snapshot;return this.currentTransition=s=Te($({},l),{targetSnapshot:Q,urlAfterRedirects:E,extras:Te($({},F),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,ce(s)}else{let g="";return this.events.next(new io(l.id,this.urlSerializer.serialize(l.extractedUrl),g,cy.IgnoredByUrlHandlingStrategy)),l.resolve(null),Zt}}),ut(l=>{let h=new uy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),me(l=>(this.currentTransition=s=Te($({},l),{guards:U2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Q2(this.environmentInjector,l=>this.events.next(l)),ut(l=>{if(s.guardsResult=l.guardsResult,Ts(l.guardsResult))throw JD(this.urlSerializer,l.guardsResult);let h=new ly(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),un(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",rn.GuardRejected),!1)),ny(l=>{if(l.guards.canActivateChecks.length)return ce(l).pipe(ut(h=>{let p=new dy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),bn(h=>{let p=!1;return ce(h).pipe(IV(this.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",rn.NoDataFromResolver)}}))}),ut(h=>{let p=new hy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),ny(l=>{let h=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(ut(E=>{p.component=E}),me(()=>{})));for(let E of p.children)g.push(...h(E));return g};return wl(h(l.targetSnapshot.root)).pipe(ri(null),Ir(1))}),ny(()=>this.afterPreactivation()),bn(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?He(p).pipe(me(()=>s)):ce(s)}),me(l=>{let h=R2(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Te($({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),ut(()=>{this.events.next(new wc)}),L2(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ir(1),ut({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Or(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Lp(this.transitionAbortSubject.pipe(ut(l=>{throw l}))),$a(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",rn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ni(l=>{if(u=!0,XD(l))this.events.next(new _i(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),O2(l)?this.events.next(new Ec(l.url)):s.resolve(!1);else{this.events.next(new vc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Zt}))}))}cancelNavigationTransition(r,i,o){let s=new _i(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NV(t){return t!==mc}var OV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>G(FV),providedIn:"root"});let t=e;return t})(),xy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},FV=(()=>{let e=class e extends xy{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(e)))(o||e)}})(),e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>G(kV),providedIn:"root"});let t=e;return t})(),kV=(()=>{let e=class e extends sT{constructor(){super(...arguments),this.location=G(ac),this.urlSerializer=G(My),this.options=G(Vy,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=G(Uy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=WD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof _c)this.stateMemento=this.createStateMemento();else if(r instanceof io)this.rawUrlTree=i.initialUrl;else if(r instanceof Vd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof wc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof _i&&(r.code===rn.GuardRejected||r.code===rn.NoDataFromResolver)?this.restoreHistory(i):r instanceof vc?this.restoreHistory(i,!0):r instanceof Or&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=$($({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=$($({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(e)))(o||e)}})(),e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(fc||{});function VV(t,e){t.events.pipe(un(n=>n instanceof Or||n instanceof _i||n instanceof vc||n instanceof io),me(n=>n instanceof Or||n instanceof io?fc.COMPLETE:(n instanceof _i?n.code===rn.Redirect||n.code===rn.SupersededByNewNavigation:!1)?fc.REDIRECTING:fc.FAILED),un(n=>n!==fc.REDIRECTING),Ir(1)).subscribe(()=>{e()})}function LV(t){throw t}var UV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=G(Id),this.stateManager=G(sT),this.options=G(Vy,{optional:!0})||{},this.pendingTasks=G(wd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=G(PV),this.urlSerializer=G(My),this.location=G(ac),this.urlHandlingStrategy=G(Uy),this._events=new Ct,this.errorHandler=this.options.errorHandler||LV,this.navigated=!1,this.routeReuseStrategy=G(OV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=G(Ly,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!G(Oy,{optional:!0}),this.eventsSubscription=new Ze,this.isNgZoneEnabled=G(Ve)instanceof Ve&&Ve.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof _i&&i.code!==rn.Redirect&&i.code!==rn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Or)this.navigated=!0;else if(i instanceof Ec){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||NV(o.source)};this.scheduleNavigation(a,mc,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}$V(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=$({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Fy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=$($({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let E=o?o.snapshot:this.routerState.snapshot.root;g=HD(E)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),g=this.currentUrlTree.root}return qD(g,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ts(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,mc,null,i)}navigate(r,i={skipLocationChange:!1}){return BV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=$({},UV):i===!1?o=$({},jV):o=i,Ts(r))return AD(this.currentUrlTree,r,o);let s=this.parseUrl(r);return AD(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((g,E)=>{u=g,l=E});let p=this.pendingTasks.add();return VV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new X(4008,!1)}function $V(t){return!(t instanceof wc)&&!(t instanceof Ec)}var Hd=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Ct,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Or&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Qb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(B(Wt),B(oo),hg("tabindex"),B(tn),B(Vt),B(ws))},e.\u0275dir=Fe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&z("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&oc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Xe.HasDecoratorInputTransform,"preserveFragment","preserveFragment",mi],skipLocationChange:[Xe.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",mi],replaceUrl:[Xe.HasDecoratorInputTransform,"replaceUrl","replaceUrl",mi],routerLink:"routerLink"},standalone:!0,features:[Pg,Mn]});let t=e;return t})(),aT=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new qe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Or&&this.update()})}ngAfterContentInit(){ce(this.links.changes,ce(null)).pipe(Zo()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=He(r).pipe(Zo()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=HV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(B(Wt),B(Vt),B(tn),B(pi),B(Hd,8))},e.\u0275dir=Fe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&BC(s,Hd,5),i&2){let a;$C(a=HC())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Mn]});let t=e;return t})();function HV(t){return!!t.paths}var qV=new re("");function cT(t,...e){return Wn([{provide:Ly,multi:!0,useValue:t},[],{provide:oo,useFactory:zV,deps:[Wt]},{provide:Lg,multi:!0,useFactory:GV},e.map(n=>n.\u0275providers)])}function zV(t){return t.routerState.root}function GV(){let t=G(pn);return e=>{let n=t.get(sc);if(e!==n.components[0])return;let r=t.get(Wt),i=t.get(WV);t.get(KV)===1&&r.initialNavigation(),t.get(QV,null,ye.Optional)?.setUpPreloading(),t.get(qV,null,ye.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var WV=new re("",{factory:()=>new Ct}),KV=new re("",{providedIn:"root",factory:()=>1});var QV=new re("");var lT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,E=l&63;u||(E=64,s||(g=64)),r.push(n[h],n[p],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new By;let g=o<<2|a>>4;if(r.push(g),l!==64){let E=a<<4&240|l>>2;if(r.push(E),p!==64){let M=l<<6&192|p;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},By=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},JV=function(t){let e=lT(t);return dT.encodeByteArray(e,!0)},xc=function(t){return JV(t).replace(/\./g,"")},Hy=function(t){try{return dT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var XV=()=>ZV().__FIREBASE_DEFAULTS__,eL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Hy(t[1]);return e&&JSON.parse(e)},Wd=()=>{try{return XV()||eL()||tL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qy=t=>{var e,n;return(n=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kd=t=>{let e=qy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zy=()=>{var t;return(t=Wd())===null||t===void 0?void 0:t.config},Gy=t=>{var e;return(e=Wd())===null||e===void 0?void 0:e[`_${t}`]};var Gd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qd(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xc(JSON.stringify(n)),xc(JSON.stringify(s)),""].join(".")}function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function nL(){var t;let e=(t=Wd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gT(){let t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yT(){return!nL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wy(){try{return typeof indexedDB=="object"}catch{return!1}}function _T(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var rL="FirebaseError",Ut=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fr.prototype.create)}},Fr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?iL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ut(i,a,r)}};function iL(t,e){return t.replace(oL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var oL=/\{\$([^}]+)}/g;function vT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(uT(o)&&uT(s)){if(!so(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function uT(t){return t!==null&&typeof t=="object"}function Mc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ms(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wT(t,e){let n=new $y(t,e);return n.subscribe.bind(n)}var $y=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=jy),i.error===void 0&&(i.error=jy),i.complete===void 0&&(i.complete=jy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function sL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jy(){}var gK=4*60*60*1e3;function Le(t){return t&&t._delegate?t._delegate:t}var Kt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ao="[DEFAULT]";var Ky=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Gd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cL(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aL(t){return t===ao?void 0:t}function cL(t){return t.instantiationMode==="EAGER"}var Yd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ky(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uL=[],Ie=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ie||{}),lL={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},dL=Ie.INFO,hL={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},fL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=hL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},wi=class{constructor(e){this.name=e,this._logLevel=dL,this._logHandler=fL,this._userLogHandler=null,uL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}};var pL=(t,e)=>e.some(n=>t instanceof n),ET,IT;function mL(){return ET||(ET=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gL(){return IT||(IT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bT=new WeakMap,Yy=new WeakMap,CT=new WeakMap,Qy=new WeakMap,Zy=new WeakMap;function yL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Xn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&bT.set(n,t)}).catch(()=>{}),Zy.set(e,t),e}function _L(t){if(Yy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Yy.set(t,e)}var Jy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DT(t){Jy=t(Jy)}function vL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Jd(this),e,...n);return CT.set(r,e.sort?e.sort():[e]),Xn(r)}:gL().includes(t)?function(...e){return t.apply(Jd(this),e),Xn(bT.get(this))}:function(...e){return Xn(t.apply(Jd(this),e))}}function wL(t){return typeof t=="function"?vL(t):(t instanceof IDBTransaction&&_L(t),pL(t,mL())?new Proxy(t,Jy):t)}function Xn(t){if(t instanceof IDBRequest)return yL(t);if(Qy.has(t))return Qy.get(t);let e=wL(t);return e!==t&&(Qy.set(t,e),Zy.set(e,t)),e}var Jd=t=>Zy.get(t);function ST(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Xn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Xn(s.result),u.oldVersion,u.newVersion,Xn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var EL=["get","getKey","getAll","getAllKeys","count"],IL=["put","add","delete","clear"],Xy=new Map;function TT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xy.get(e))return Xy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=IL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EL.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Xy.set(e,o),o}DT(t=>Te($({},t),{get:(e,n,r)=>TT(e,n)||t.get(e,n,r),has:(e,n)=>!!TT(e,n)||t.has(e,n)}));var t_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function bL(t){let e=t.getComponent();return e?.type==="VERSION"}var n_="@firebase/app",AT="0.10.13";var kr=new wi("@firebase/app"),CL="@firebase/app-compat",DL="@firebase/analytics-compat",TL="@firebase/analytics",SL="@firebase/app-check-compat",AL="@firebase/app-check",xL="@firebase/auth",ML="@firebase/auth-compat",RL="@firebase/database",PL="@firebase/data-connect",NL="@firebase/database-compat",OL="@firebase/functions",FL="@firebase/functions-compat",kL="@firebase/installations",VL="@firebase/installations-compat",LL="@firebase/messaging",UL="@firebase/messaging-compat",jL="@firebase/performance",BL="@firebase/performance-compat",$L="@firebase/remote-config",HL="@firebase/remote-config-compat",qL="@firebase/storage",zL="@firebase/storage-compat",GL="@firebase/firestore",WL="@firebase/vertexai-preview",KL="@firebase/firestore-compat",QL="firebase",YL="10.14.1";var r_="[DEFAULT]",JL={[n_]:"fire-core",[CL]:"fire-core-compat",[TL]:"fire-analytics",[DL]:"fire-analytics-compat",[AL]:"fire-app-check",[SL]:"fire-app-check-compat",[xL]:"fire-auth",[ML]:"fire-auth-compat",[RL]:"fire-rtdb",[PL]:"fire-data-connect",[NL]:"fire-rtdb-compat",[OL]:"fire-fn",[FL]:"fire-fn-compat",[kL]:"fire-iid",[VL]:"fire-iid-compat",[LL]:"fire-fcm",[UL]:"fire-fcm-compat",[jL]:"fire-perf",[BL]:"fire-perf-compat",[$L]:"fire-rc",[HL]:"fire-rc-compat",[qL]:"fire-gcs",[zL]:"fire-gcs-compat",[GL]:"fire-fst",[KL]:"fire-fst-compat",[WL]:"fire-vertex","fire-js":"fire-js",[QL]:"fire-js-all"};var Rc=new Map,ZL=new Map,i_=new Map;function xT(t,e){try{t.container.addComponent(e)}catch(n){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function er(t){let e=t.name;if(i_.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;i_.set(e,t);for(let n of Rc.values())xT(n,t);for(let n of ZL.values())xT(n,t);return!0}function co(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t.settings!==void 0}var XL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Fr("app","Firebase",XL);var o_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}};var tr=YL;function uo(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:r_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=zy()),!n)throw Ei.create("no-options");let o=Rc.get(i);if(o){if(so(n,o.options)&&so(r,o.config))return o;throw Ei.create("duplicate-app",{appName:i})}let s=new Yd(i);for(let u of i_.values())s.addComponent(u);let a=new o_(n,r,s);return Rc.set(i,a),a}function Ii(t=r_){let e=Rc.get(t);if(!e&&t===r_&&zy())return uo();if(!e)throw Ei.create("no-app",{appName:t});return e}function Zd(){return Array.from(Rc.values())}function Qe(t,e,n){var r;let i=(r=JL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(a.join(" "));return}er(new Kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var eU="firebase-heartbeat-database",tU=1,Pc="firebase-heartbeat-store",e_=null;function NT(){return e_||(e_=ST(eU,tU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),e_}function nU(t){return v(this,null,function*(){try{let n=(yield NT()).transaction(Pc),r=yield n.objectStore(Pc).get(OT(t));return yield n.done,r}catch(e){if(e instanceof Ut)kr.warn(e.message);else{let n=Ei.create("idb-get",{originalErrorMessage:e?.message});kr.warn(n.message)}}})}function MT(t,e){return v(this,null,function*(){try{let r=(yield NT()).transaction(Pc,"readwrite");yield r.objectStore(Pc).put(e,OT(t)),yield r.done}catch(n){if(n instanceof Ut)kr.warn(n.message);else{let r=Ei.create("idb-set",{originalErrorMessage:n?.message});kr.warn(r.message)}}})}function OT(t){return`${t.name}!${t.options.appId}`}var rU=1024,iU=30*24*60*60*1e3,s_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new a_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=iU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){kr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=RT(),{heartbeatsToSend:r,unsentEntries:i}=oU(this._heartbeatsCache.heartbeats),o=xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return kr.warn(n),""}})}};function RT(){return new Date().toISOString().substring(0,10)}function oU(t,e=rU){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),PT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var a_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Wy()?_T().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield nU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function PT(t){return xc(JSON.stringify({version:2,heartbeats:t})).length}function sU(t){er(new Kt("platform-logger",e=>new t_(e),"PRIVATE")),er(new Kt("heartbeat",e=>new s_(e),"PRIVATE")),Qe(n_,AT,t),Qe(n_,AT,"esm2017"),Qe("fire-js","")}sU("");var aU="firebase",cU="10.14.1";Qe(aU,cU,"app");var ho=new xr("ANGULARFIRE2_VERSION");function eh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Nc=(t,e)=>{let n=e?[e]:Zd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ps=class{constructor(){return Nc(uU)}},uU="app-check";function Rs(){}var Xd=class{zone;delegate;constructor(e,n=Rp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},c_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rs,{},Rs,Rs)),n.pipe(ut({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ns=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Xd(Zone.current)),this.insideAngular=n.run(()=>new Xd(Zone.current,Mp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Ee(Ve))};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function th(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function lU(t){return th().ngZone.runOutsideAngular(()=>t())}function lo(t){return th().ngZone.run(()=>t())}function dU(t){return hU(th())(t)}function hU(t){return function(n){return n=n.lift(new c_(t.ngZone)),n.pipe(ti(t.outsideAngular),ei(t.insideAngular))}}var fU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),lo(()=>t.apply(void 0,r))},yt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rs,{},Rs,Rs))),r[o]=fU(r[o],n));let i=lU(()=>t.apply(this,r));if(!e)if(i instanceof ge){let o=th();return i.pipe(ti(o.outsideAngular),ei(o.insideAngular))}else return lo(()=>i);return i instanceof ge?i.pipe(dU):i instanceof Promise?lo(()=>new Promise((o,s)=>i.then(a=>lo(()=>o(a)),a=>lo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:lo(()=>i)};var Vr=class{constructor(e){return e}},fo=class{constructor(){return Zd()}};function pU(t){return t&&t.length===1?t[0]:new Vr(Ii())}var u_=new re("angularfire2._apps"),mU={provide:Vr,useFactory:pU,deps:[[new kt,u_]]},gU={provide:fo,deps:[[new kt,u_]]};function yU(t){return(e,n)=>{let r=n.get(fi);Qe("angularfire",ho.full,"core"),Qe("angularfire",ho.full,"app"),Qe("angular",YC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Vr(i)}}function FT(t,...e){return Wn([mU,gU,{provide:u_,useFactory:yU(t),multi:!0,deps:[Ve,pn,Ns,...e]}])}var kT=yt(uo,!0);function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eS=XT,tS=new Fr("auth","Firebase",XT());var ah=new wi("@firebase/auth");function _U(t,...e){ah.logLevel<=Ie.WARN&&ah.warn(`Auth (${tr}): ${t}`,...e)}function rh(t,...e){ah.logLevel<=Ie.ERROR&&ah.error(`Auth (${tr}): ${t}`,...e)}function rr(t,...e){throw R_(t,...e)}function po(t,...e){return R_(t,...e)}function nS(t,e,n){let r=Object.assign(Object.assign({},eS()),{[e]:n});return new Fr("auth","Firebase",r).create(e,{appName:t.name})}function jr(t){return nS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tS.create(t,...e)}function te(t,e,...n){if(!t)throw R_(e,...n)}function Lr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function Ci(t,e){t||Lr(e)}function ch(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rS(){return VT()==="http:"||VT()==="https:"}function VT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function vU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rS()||pT()||"connection"in navigator)?navigator.onLine:!0}function wU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var mo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=hT()||mT()}get(){return vU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function P_(t,e){Ci(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var uh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var EU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var IU=new mo(3e4,6e4);function ir(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function or(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return iS(t,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Mc(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let E=Object.assign({method:e,headers:g},l);return fT()||(E.referrerPolicy="no-referrer"),uh.fetch()(oS(t,t.config.apiHost,n,p),E)}))})}function iS(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},EU),e);try{let i=new f_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw nh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw nh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw nh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw nS(t,h,l);rr(t,h)}}catch(i){if(i instanceof Ut)throw i;rr(t,"network-request-failed",{message:String(i)})}})}function Bc(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield or(t,e,n,r,i);return"mfaPendingCredential"in l&&rr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function oS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?P_(t.config,i):`${t.config.apiScheme}://${i}`}function bU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var f_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(po(this.auth,"network-request-failed")),IU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function nh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=po(t,e,r);return i.customData._tokenResponse=n,i}function LT(t){return t!==void 0&&t.enterprise!==void 0}var p_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function CU(t,e){return v(this,null,function*(){return or(t,"GET","/v2/recaptchaConfig",ir(t,e))})}function DU(t,e){return v(this,null,function*(){return or(t,"POST","/v1/accounts:delete",e)})}function sS(t,e){return v(this,null,function*(){return or(t,"POST","/v1/accounts:lookup",e)})}function Oc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function N_(t,e=!1){return v(this,null,function*(){let n=Le(t),r=yield n.getIdToken(e),i=O_(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Oc(l_(i.auth_time)),issuedAtTime:Oc(l_(i.iat)),expirationTime:Oc(l_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function l_(t){return Number(t)*1e3}function O_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hy(n);return i?JSON.parse(i):(rh("Failed to decode base64 JWT payload"),null)}catch(i){return rh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UT(t){let e=O_(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function kc(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ut&&TU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function TU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var m_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Vc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function lh(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield kc(t,sS(n,{idToken:r}));te(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?aS(o.providerUserInfo):[],a=SU(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Vc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function F_(t){return v(this,null,function*(){let e=Le(t);yield lh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function SU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aS(t){return t.map(e=>{var{providerId:n}=e,r=Pp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function AU(t,e){return v(this,null,function*(){let n=yield iS(t,{},()=>v(this,null,function*(){let r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=oS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",uh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function xU(t,e){return v(this,null,function*(){return or(t,"POST","/v2/accounts:revokeToken",ir(t,e))})}var Fc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");let n=UT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield AU(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(te(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Lr("not implemented")}};function bi(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Os=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield kc(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return N_(this,e)}reload(){return F_(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield lh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Rn(this.auth.app))return Promise.reject(jr(this.auth));let e=yield this.getIdToken();return yield kc(this,DU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=n.photoURL)!==null&&s!==void 0?s:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,F=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Q=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:Z,isAnonymous:Ue,providerData:ae,stsTokenManager:D}=n;te(K&&D,e,"internal-error");let w=Fc.fromJSON(this.name,D);te(typeof K=="string",e,"internal-error"),bi(p,e.name),bi(g,e.name),te(typeof Z=="boolean",e,"internal-error"),te(typeof Ue=="boolean",e,"internal-error"),bi(E,e.name),bi(M,e.name),bi(O,e.name),bi(F,e.name),bi(j,e.name),bi(Q,e.name);let I=new t({uid:K,auth:e,email:g,emailVerified:Z,displayName:p,isAnonymous:Ue,photoURL:M,phoneNumber:E,tenantId:O,stsTokenManager:w,createdAt:j,lastLoginAt:Q});return ae&&Array.isArray(ae)&&(I.providerData=ae.map(C=>Object.assign({},C))),F&&(I._redirectEventId=F),I}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Fc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield lh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];te(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?aS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Fc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Vc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var jT=new Map;function Ur(t){Ci(t instanceof Function,"Expected a class definition");let e=jT.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jT.set(t,e),e)}var MU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),g_=MU;function ih(t,e,n){return`firebase:${t}:${e}:${n}`}var dh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ih(this.userKey,i.apiKey,o),this.fullPersistenceKey=ih("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Os._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(Ur(g_),e,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ur(g_),s=ih(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Os._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function BT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fS(e))return"Blackberry";if(pS(e))return"Webos";if(uS(e))return"Safari";if((e.includes("chrome/")||lS(e))&&!e.includes("edge/"))return"Chrome";if(hS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function cS(t=lt()){return/firefox\//i.test(t)}function uS(t=lt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lS(t=lt()){return/crios\//i.test(t)}function dS(t=lt()){return/iemobile/i.test(t)}function hS(t=lt()){return/android/i.test(t)}function fS(t=lt()){return/blackberry/i.test(t)}function pS(t=lt()){return/webos/i.test(t)}function k_(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RU(t=lt()){var e;return k_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PU(){return gT()&&document.documentMode===10}function mS(t=lt()){return k_(t)||hS(t)||pS(t)||fS(t)||/windows phone/i.test(t)||dS(t)}function gS(t,e=[]){let n;switch(t){case"Browser":n=BT(lt());break;case"Worker":n=`${BT(lt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tr}/${r}`}var y_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function NU(n){return v(this,arguments,function*(t,e={}){return or(t,"GET","/v2/passwordPolicy",ir(t,e))})}var OU=6,__=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:OU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var v_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hh(this),this.idTokenSubscription=new hh(this),this.beforeStateQueue=new y_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield dh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield sS(this,{idToken:e}),r=yield Os._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Rn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=wU()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Rn(this.app))return Promise.reject(jr(this));let n=e?Le(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Rn(this.app)?Promise.reject(jr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Rn(this.app)?Promise.reject(jr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Ur(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield NU(this),n=new __(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield xU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ur(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield dh.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&_U(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function yo(t){return Le(t)}var hh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wT(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var vh={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FU(t){vh=t}function yS(t){return vh.loadJS(t)}function kU(){return vh.recaptchaEnterpriseScript}function VU(){return vh.gapiScript}function _S(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var LU="recaptcha-enterprise",UU="NO_RECAPTCHA",w_=class{constructor(e){this.type=LU,this.auth=yo(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){CU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new p_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;LT(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(UU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&LT(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=kU();u.length!==0&&(u+=a),yS(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function $T(t,e,n,r=!1){return v(this,null,function*(){let i=new w_(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function E_(t,e,n,r){return v(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield $T(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>v(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield $T(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function V_(t,e){let n=co(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(so(o,e??{}))return i;rr(i,"already-initialized")}return n.initialize({options:e})}function jU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function L_(t,e,n){let r=yo(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=vS(e),{host:s,port:a}=BU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||$U()}function vS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BU(t){let e=vS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:HT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:HT(s)}}}function HT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function $U(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Lc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,n){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}};function HU(t,e){return v(this,null,function*(){return or(t,"POST","/v1/accounts:signUp",e)})}function qU(t,e){return v(this,null,function*(){return Bc(t,"POST","/v1/accounts:signInWithPassword",ir(t,e))})}function zU(t,e){return v(this,null,function*(){return or(t,"POST","/v1/accounts:sendOobCode",ir(t,e))})}function GU(t,e){return v(this,null,function*(){return zU(t,e)})}function WU(t,e){return v(this,null,function*(){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",ir(t,e))})}function KU(t,e){return v(this,null,function*(){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",ir(t,e))})}var Uc=class t extends Lc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,n,"signInWithPassword",qU);case"emailLink":return WU(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,r,"signUpPassword",HU);case"emailLink":return KU(e,{idToken:n,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function d_(t,e){return v(this,null,function*(){return Bc(t,"POST","/v1/accounts:signInWithIdp",ir(t,e))})}function QU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YU(t){let e=xs(Ms(t)).link,n=e?xs(Ms(e)).deep_link_id:null,r=xs(Ms(t)).deep_link_id;return(r?xs(Ms(r)).link:null)||r||n||e||t}var fh=class t{constructor(e){var n,r,i,o,s,a;let u=xs(Ms(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=QU((i=u.mode)!==null&&i!==void 0?i:null);te(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=YU(e);try{return new t(n)}catch{return null}}};var wS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Uc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=fh.parseLink(r);return te(i,"argument-error"),Uc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),ph=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var I_=class extends ph{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function JU(t,e){return v(this,null,function*(){return Bc(t,"POST","/v1/accounts:signUp",ir(t,e))})}var Fs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield Os._fromIdTokenResponse(e,r,i),s=qT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=qT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function qT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var b_=class t extends Ut{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function ES(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?b_._fromErrorAndOperation(t,o,e,r):o})}function ZU(t,e,n=!1){return v(this,null,function*(){let r=yield kc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Fs._forOperation(t,"link",r)})}function XU(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Rn(r.app))return Promise.reject(jr(r));let i="reauthenticate";try{let o=yield kc(t,ES(r,i,e,t),n);te(o.idToken,r,"internal-error");let s=O_(o.idToken);te(s,r,"internal-error");let{sub:a}=s;return te(t.uid===a,r,"user-mismatch"),Fs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&rr(r,"user-mismatch"),o}})}function IS(t,e,n=!1){return v(this,null,function*(){if(Rn(t.app))return Promise.reject(jr(t));let r="signIn",i=yield ES(t,r,e),o=yield Fs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function U_(t,e){return v(this,null,function*(){return IS(yo(t),e)})}function ej(t,e,n){var r;te(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(te(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(te(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function bS(t){return v(this,null,function*(){let e=yo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ks(t,e,n){return v(this,null,function*(){if(Rn(t.app))return Promise.reject(jr(t));let r=yo(t),s=yield E_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JU).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&bS(t),u}),a=yield Fs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function wh(t,e,n){return Rn(t.app)?Promise.reject(jr(t)):U_(Le(t),wS.credential(e,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&bS(t),r}))}function tj(t,e){return v(this,null,function*(){return or(t,"POST","/v1/accounts:createAuthUri",ir(t,e))})}function Eh(t,e){return v(this,null,function*(){let n=rS()?ch():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=yield tj(Le(t),r);return i||[]})}function Vs(t,e){return v(this,null,function*(){let n=Le(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&ej(n.auth,i,e);let{email:o}=yield GU(n.auth,i);o!==t.email&&(yield t.reload())})}function $c(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function j_(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function _o(t,e,n,r){return Le(t).onAuthStateChanged(e,n,r)}function Ih(t){return Le(t).signOut()}var mh="__sak";var gh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var nj=1e3,rj=10,ij=(()=>{class t extends gh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);PU()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,rj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield Jr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield Jr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield Jr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),CS=ij;var oj=(()=>{class t extends gh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),B_=oj;function sj(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var aj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield sj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function DS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var C_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=DS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function nr(){return window}function cj(t){nr().location.href=t}function TS(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}function uj(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function lj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dj(){return TS()?self:null}var SS="firebaseLocalStorageDb",hj=1,yh="firebaseLocalStorage",AS="fbase_key",go=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function bh(t,e){return t.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function fj(){let t=indexedDB.deleteDatabase(SS);return new go(t).toPromise()}function D_(){let t=indexedDB.open(SS,hj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(yh,{keyPath:AS})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),yield fj(),e(yield D_()))}))})}function zT(t,e,n){return v(this,null,function*(){let r=bh(t,!0).put({[AS]:e,value:n});return new go(r).toPromise()})}function pj(t,e){return v(this,null,function*(){let n=bh(t,!1).get(e),r=yield new go(n).toPromise();return r===void 0?null:r.value})}function GT(t,e){let n=bh(t,!0).delete(e);return new go(n).toPromise()}var mj=800,gj=3,yj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield D_(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>gj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return TS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=aj._getInstance(dj()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield uj(),!this.activeServiceWorker)return;this.sender=new C_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||lj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield D_();return yield zT(n,mh,"1"),yield GT(n,mh),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>zT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>pj(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>GT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=bh(o,!1).getAll();return new go(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),mj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),xS=yj;var uQ=_S("rcb"),lQ=new mo(3e4,6e4);function _j(t,e){return e?Ur(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var jc=class extends Lc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return d_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return d_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return d_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function vj(t){return IS(t.auth,new jc(t),t.bypassAuthState)}function wj(t){let{auth:e,user:n}=t;return te(n,e,"internal-error"),XU(n,new jc(t),t.bypassAuthState)}function Ej(t){return v(this,null,function*(){let{auth:e,user:n}=t;return te(n,e,"internal-error"),ZU(n,new jc(t),t.bypassAuthState)})}var T_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vj;case"linkViaPopup":case"linkViaRedirect":return Ej;case"reauthViaPopup":case"reauthViaRedirect":return wj;default:rr(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var dQ=new mo(2e3,1e4);var Ij="pendingRedirect",oh=new Map,S_=class t extends T_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=oh.get(this.auth._key());if(!e){try{let r=(yield bj(this.resolver,this.auth))?yield Jr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Jr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Jr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function bj(t,e){return v(this,null,function*(){let n=Tj(e),r=Dj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Cj(t,e){oh.set(t._key(),e)}function Dj(t){return Ur(t._redirectPersistence)}function Tj(t){return ih(Ij,t.config.apiKey,t.name)}function Sj(t,e,n=!1){return v(this,null,function*(){if(Rn(t.app))return Promise.reject(jr(t));let r=yo(t),i=_j(r,e),s=yield new S_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Aj=10*60*1e3,A_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(po(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Aj&&this.cachedEventUids.clear(),this.cachedEventUids.has(WT(e))}saveEventToCache(e){this.cachedEventUids.add(WT(e)),this.lastProcessedEventTime=Date.now()}};function WT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MS(t);default:return!1}}function Mj(n){return v(this,arguments,function*(t,e={}){return or(t,"GET","/v1/projects",e)})}var Rj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pj=/^https?/;function Nj(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Mj(t);for(let n of e)try{if(Oj(n))return}catch{}rr(t,"unauthorized-domain")})}function Oj(t){let e=ch(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Pj.test(n))return!1;if(Rj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Fj=new mo(3e4,6e4);function KT(){let t=nr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kj(t){return new Promise((e,n)=>{var r,i,o;function s(){KT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KT(),n(po(t,"network-request-failed"))},timeout:Fj.get()})}if(!((i=(r=nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=nr().gapi)===null||o===void 0)&&o.load)s();else{let a=_S("iframefcb");return nr()[a]=()=>{gapi.load?s():n(po(t,"network-request-failed"))},yS(`${VU()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw sh=null,e})}var sh=null;function Vj(t){return sh=sh||kj(t),sh}var Lj=new mo(5e3,15e3),Uj="__/auth/iframe",jj="emulator/auth/iframe",Bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$j=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hj(t){let e=t.config;te(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?P_(e,jj):`https://${t.config.authDomain}/${Uj}`,r={apiKey:e.apiKey,appName:t.name,v:tr},i=$j.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Mc(r).slice(1)}`}function qj(t){return v(this,null,function*(){let e=yield Vj(t),n=nr().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:Hj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bj,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=po(t,"network-request-failed"),a=nr().setTimeout(()=>{o(s)},Lj.get());function u(){nr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var zj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gj=500,Wj=600,Kj="_blank",Qj="http://localhost",_h=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Yj(t,e,n,r=Gj,i=Wj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},zj),{width:r.toString(),height:i.toString(),top:o,left:s}),l=lt().toLowerCase();n&&(a=lS(l)?Kj:n),cS(l)&&(e=e||Qj,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[E,M])=>`${g}${E}=${M},`,"");if(RU(l)&&a!=="_self")return Jj(e||"",a),new _h(null);let p=window.open(e||"",a,h);te(p,t,"popup-blocked");try{p.focus()}catch{}return new _h(p)}function Jj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Zj="__/auth/handler",Xj="emulator/auth/handler",eB=encodeURIComponent("fac");function QT(t,e,n,r,i,o){return v(this,null,function*(){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tr,eventId:i};if(e instanceof ph){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",vT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof I_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${eB}=${encodeURIComponent(u)}`:"";return`${tB(t)}?${Mc(a).slice(1)}${l}`})}function tB({config:t}){return t.emulator?P_(t,Xj):`https://${t.authDomain}/${Zj}`}var h_="webStorageSupport",x_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B_,this._completeRedirectFn=Sj,this._overrideRedirectResult=Cj}_openPopup(e,n,r,i){return v(this,null,function*(){var o;Ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield QT(e,n,r,ch(),i);return Yj(e,s,DS())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield QT(e,n,r,ch(),i);return cj(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ci(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield qj(e),r=new A_(e);return n.register("authEvent",i=>(te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(h_,{type:h_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[h_];s!==void 0&&n(!!s),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Nj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mS()||uS()||k_()}},RS=x_;var YT="@firebase/auth",JT="1.7.9";var M_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function nB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rB(t){er(new Kt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gS(t)},l=new v_(r,i,o,u);return jU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),er(new Kt("auth-internal",e=>{let n=yo(e.getProvider("auth").getImmediate());return(r=>new M_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(YT,JT,nB(t)),Qe(YT,JT,"esm2017")}var iB=5*60,oB=Gy("authIdTokenMaxAge")||iB,ZT=null,sB=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oB)return;let i=n?.token;ZT!==i&&(ZT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function dt(t=Ii()){let e=co(t,"auth");if(e.isInitialized())return e.getImmediate();let n=V_(t,{popupRedirectResolver:RS,persistence:[xS,CS,B_]}),r=Gy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=sB(o.toString());j_(n,s,()=>s(n.currentUser)),$c(n,a=>s(a))}}let i=qy("auth");return i&&L_(n,`http://${i}`),n}function aB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=po("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",aB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rB("Browser");function NS(t){return new ge(function(e){var n=$c(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var OS="auth",vo=class{constructor(e){return e}},Hc=class{constructor(){return Nc(OS)}};var $_=new re("angularfire2.auth-instances");function WB(t,e){let n=eh(OS,t,e);return n&&new vo(n)}function KB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new vo(r)}}var QB={provide:Hc,deps:[[new kt,$_]]},YB={provide:vo,useFactory:WB,deps:[[new kt,$_],Vr]};function FS(t,...e){return Qe("angularfire",ho.full,"auth"),Wn([YB,QB,{provide:$_,useFactory:KB(t),multi:!0,deps:[Ve,pn,Ns,fo,[new kt,Ps],...e]}])}var kS=yt(NS,!0);var VS=yt(dt,!0);var LS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},US={};var Di,H_;(function(){var t;function e(D,w){function I(){}I.prototype=w.prototype,D.D=w.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(C,A,R){for(var b=Array(arguments.length-2),vr=2;vr<arguments.length;vr++)b[vr-2]=arguments[vr];return w.prototype[A].apply(C,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,w,I){I||(I=0);var C=Array(16);if(typeof w=="string")for(var A=0;16>A;++A)C[A]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(A=0;16>A;++A)C[A]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=D.g[0],I=D.g[1],A=D.g[2];var R=D.g[3],b=w+(R^I&(A^R))+C[0]+3614090360&4294967295;w=I+(b<<7&4294967295|b>>>25),b=R+(A^w&(I^A))+C[1]+3905402710&4294967295,R=w+(b<<12&4294967295|b>>>20),b=A+(I^R&(w^I))+C[2]+606105819&4294967295,A=R+(b<<17&4294967295|b>>>15),b=I+(w^A&(R^w))+C[3]+3250441966&4294967295,I=A+(b<<22&4294967295|b>>>10),b=w+(R^I&(A^R))+C[4]+4118548399&4294967295,w=I+(b<<7&4294967295|b>>>25),b=R+(A^w&(I^A))+C[5]+1200080426&4294967295,R=w+(b<<12&4294967295|b>>>20),b=A+(I^R&(w^I))+C[6]+2821735955&4294967295,A=R+(b<<17&4294967295|b>>>15),b=I+(w^A&(R^w))+C[7]+4249261313&4294967295,I=A+(b<<22&4294967295|b>>>10),b=w+(R^I&(A^R))+C[8]+1770035416&4294967295,w=I+(b<<7&4294967295|b>>>25),b=R+(A^w&(I^A))+C[9]+2336552879&4294967295,R=w+(b<<12&4294967295|b>>>20),b=A+(I^R&(w^I))+C[10]+4294925233&4294967295,A=R+(b<<17&4294967295|b>>>15),b=I+(w^A&(R^w))+C[11]+2304563134&4294967295,I=A+(b<<22&4294967295|b>>>10),b=w+(R^I&(A^R))+C[12]+1804603682&4294967295,w=I+(b<<7&4294967295|b>>>25),b=R+(A^w&(I^A))+C[13]+4254626195&4294967295,R=w+(b<<12&4294967295|b>>>20),b=A+(I^R&(w^I))+C[14]+2792965006&4294967295,A=R+(b<<17&4294967295|b>>>15),b=I+(w^A&(R^w))+C[15]+1236535329&4294967295,I=A+(b<<22&4294967295|b>>>10),b=w+(A^R&(I^A))+C[1]+4129170786&4294967295,w=I+(b<<5&4294967295|b>>>27),b=R+(I^A&(w^I))+C[6]+3225465664&4294967295,R=w+(b<<9&4294967295|b>>>23),b=A+(w^I&(R^w))+C[11]+643717713&4294967295,A=R+(b<<14&4294967295|b>>>18),b=I+(R^w&(A^R))+C[0]+3921069994&4294967295,I=A+(b<<20&4294967295|b>>>12),b=w+(A^R&(I^A))+C[5]+3593408605&4294967295,w=I+(b<<5&4294967295|b>>>27),b=R+(I^A&(w^I))+C[10]+38016083&4294967295,R=w+(b<<9&4294967295|b>>>23),b=A+(w^I&(R^w))+C[15]+3634488961&4294967295,A=R+(b<<14&4294967295|b>>>18),b=I+(R^w&(A^R))+C[4]+3889429448&4294967295,I=A+(b<<20&4294967295|b>>>12),b=w+(A^R&(I^A))+C[9]+568446438&4294967295,w=I+(b<<5&4294967295|b>>>27),b=R+(I^A&(w^I))+C[14]+3275163606&4294967295,R=w+(b<<9&4294967295|b>>>23),b=A+(w^I&(R^w))+C[3]+4107603335&4294967295,A=R+(b<<14&4294967295|b>>>18),b=I+(R^w&(A^R))+C[8]+1163531501&4294967295,I=A+(b<<20&4294967295|b>>>12),b=w+(A^R&(I^A))+C[13]+2850285829&4294967295,w=I+(b<<5&4294967295|b>>>27),b=R+(I^A&(w^I))+C[2]+4243563512&4294967295,R=w+(b<<9&4294967295|b>>>23),b=A+(w^I&(R^w))+C[7]+1735328473&4294967295,A=R+(b<<14&4294967295|b>>>18),b=I+(R^w&(A^R))+C[12]+2368359562&4294967295,I=A+(b<<20&4294967295|b>>>12),b=w+(I^A^R)+C[5]+4294588738&4294967295,w=I+(b<<4&4294967295|b>>>28),b=R+(w^I^A)+C[8]+2272392833&4294967295,R=w+(b<<11&4294967295|b>>>21),b=A+(R^w^I)+C[11]+1839030562&4294967295,A=R+(b<<16&4294967295|b>>>16),b=I+(A^R^w)+C[14]+4259657740&4294967295,I=A+(b<<23&4294967295|b>>>9),b=w+(I^A^R)+C[1]+2763975236&4294967295,w=I+(b<<4&4294967295|b>>>28),b=R+(w^I^A)+C[4]+1272893353&4294967295,R=w+(b<<11&4294967295|b>>>21),b=A+(R^w^I)+C[7]+4139469664&4294967295,A=R+(b<<16&4294967295|b>>>16),b=I+(A^R^w)+C[10]+3200236656&4294967295,I=A+(b<<23&4294967295|b>>>9),b=w+(I^A^R)+C[13]+681279174&4294967295,w=I+(b<<4&4294967295|b>>>28),b=R+(w^I^A)+C[0]+3936430074&4294967295,R=w+(b<<11&4294967295|b>>>21),b=A+(R^w^I)+C[3]+3572445317&4294967295,A=R+(b<<16&4294967295|b>>>16),b=I+(A^R^w)+C[6]+76029189&4294967295,I=A+(b<<23&4294967295|b>>>9),b=w+(I^A^R)+C[9]+3654602809&4294967295,w=I+(b<<4&4294967295|b>>>28),b=R+(w^I^A)+C[12]+3873151461&4294967295,R=w+(b<<11&4294967295|b>>>21),b=A+(R^w^I)+C[15]+530742520&4294967295,A=R+(b<<16&4294967295|b>>>16),b=I+(A^R^w)+C[2]+3299628645&4294967295,I=A+(b<<23&4294967295|b>>>9),b=w+(A^(I|~R))+C[0]+4096336452&4294967295,w=I+(b<<6&4294967295|b>>>26),b=R+(I^(w|~A))+C[7]+1126891415&4294967295,R=w+(b<<10&4294967295|b>>>22),b=A+(w^(R|~I))+C[14]+2878612391&4294967295,A=R+(b<<15&4294967295|b>>>17),b=I+(R^(A|~w))+C[5]+4237533241&4294967295,I=A+(b<<21&4294967295|b>>>11),b=w+(A^(I|~R))+C[12]+1700485571&4294967295,w=I+(b<<6&4294967295|b>>>26),b=R+(I^(w|~A))+C[3]+2399980690&4294967295,R=w+(b<<10&4294967295|b>>>22),b=A+(w^(R|~I))+C[10]+4293915773&4294967295,A=R+(b<<15&4294967295|b>>>17),b=I+(R^(A|~w))+C[1]+2240044497&4294967295,I=A+(b<<21&4294967295|b>>>11),b=w+(A^(I|~R))+C[8]+1873313359&4294967295,w=I+(b<<6&4294967295|b>>>26),b=R+(I^(w|~A))+C[15]+4264355552&4294967295,R=w+(b<<10&4294967295|b>>>22),b=A+(w^(R|~I))+C[6]+2734768916&4294967295,A=R+(b<<15&4294967295|b>>>17),b=I+(R^(A|~w))+C[13]+1309151649&4294967295,I=A+(b<<21&4294967295|b>>>11),b=w+(A^(I|~R))+C[4]+4149444226&4294967295,w=I+(b<<6&4294967295|b>>>26),b=R+(I^(w|~A))+C[11]+3174756917&4294967295,R=w+(b<<10&4294967295|b>>>22),b=A+(w^(R|~I))+C[2]+718787259&4294967295,A=R+(b<<15&4294967295|b>>>17),b=I+(R^(A|~w))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(A+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var I=w-this.blockSize,C=this.B,A=this.h,R=0;R<w;){if(A==0)for(;R<=I;)i(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<w;)if(C[A++]=D.charCodeAt(R++),A==this.blockSize){i(this,C),A=0;break}}else for(;R<w;)if(C[A++]=D[R++],A==this.blockSize){i(this,C),A=0;break}}this.h=A,this.o+=w},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var I=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=I&255,I/=256;for(this.u(D),D=Array(16),w=I=0;4>w;++w)for(var C=0;32>C;C+=8)D[I++]=this.g[w]>>>C&255;return D};function o(D,w){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=w(D)}function s(D,w){this.h=w;for(var I=[],C=!0,A=D.length-1;0<=A;A--){var R=D[A]|0;C&&R==w||(I[A]=R,C=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?o(D,function(w){return new s([w|0],0>w?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return F(l(-D));for(var w=[],I=1,C=0;D>=I;C++)w[C]=D/I|0,I*=4294967296;return new s(w,0)}function h(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return F(h(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(w,8)),C=p,A=0;A<D.length;A+=8){var R=Math.min(8,D.length-A),b=parseInt(D.substring(A,A+R),w);8>R?(R=l(Math.pow(w,R)),C=C.j(R).add(l(b))):(C=C.j(I),C=C.add(l(b)))}return C}var p=u(0),g=u(1),E=u(16777216);t=s.prototype,t.m=function(){if(O(this))return-F(this).m();for(var D=0,w=1,I=0;I<this.g.length;I++){var C=this.i(I);D+=(0<=C?C:4294967296+C)*w,w*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(O(this))return"-"+F(this).toString(D);for(var w=l(Math.pow(D,6)),I=this,C="";;){var A=Z(I,w).g;I=j(I,A.j(w));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=A,M(I))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function O(D){return D.h==-1}t.l=function(D){return D=j(this,D),O(D)?-1:M(D)?0:1};function F(D){for(var w=D.g.length,I=[],C=0;C<w;C++)I[C]=~D.g[C];return new s(I,~D.h).add(g)}t.abs=function(){return O(this)?F(this):this},t.add=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],C=0,A=0;A<=w;A++){var R=C+(this.i(A)&65535)+(D.i(A)&65535),b=(R>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);C=b>>>16,R&=65535,b&=65535,I[A]=b<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function j(D,w){return D.add(F(w))}t.j=function(D){if(M(this)||M(D))return p;if(O(this))return O(D)?F(this).j(F(D)):F(F(this).j(D));if(O(D))return F(this.j(F(D)));if(0>this.l(E)&&0>D.l(E))return l(this.m()*D.m());for(var w=this.g.length+D.g.length,I=[],C=0;C<2*w;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<D.g.length;A++){var R=this.i(C)>>>16,b=this.i(C)&65535,vr=D.i(A)>>>16,Ea=D.i(A)&65535;I[2*C+2*A]+=b*Ea,Q(I,2*C+2*A),I[2*C+2*A+1]+=R*Ea,Q(I,2*C+2*A+1),I[2*C+2*A+1]+=b*vr,Q(I,2*C+2*A+1),I[2*C+2*A+2]+=R*vr,Q(I,2*C+2*A+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new s(I,0)};function Q(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function K(D,w){this.g=D,this.h=w}function Z(D,w){if(M(w))throw Error("division by zero");if(M(D))return new K(p,p);if(O(D))return w=Z(F(D),w),new K(F(w.g),F(w.h));if(O(w))return w=Z(D,F(w)),new K(F(w.g),w.h);if(30<D.g.length){if(O(D)||O(w))throw Error("slowDivide_ only works with positive integers.");for(var I=g,C=w;0>=C.l(D);)I=Ue(I),C=Ue(C);var A=ae(I,1),R=ae(C,1);for(C=ae(C,2),I=ae(I,2);!M(C);){var b=R.add(C);0>=b.l(D)&&(A=A.add(I),R=b),C=ae(C,1),I=ae(I,1)}return w=j(D,A.j(w)),new K(A,w)}for(A=p;0<=D.l(w);){for(I=Math.max(1,Math.floor(D.m()/w.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=l(I),b=R.j(w);O(b)||0<b.l(D);)I-=C,R=l(I),b=R.j(w);M(R)&&(R=g),A=A.add(R),D=j(D,b)}return new K(A,D)}t.A=function(D){return Z(this,D).h},t.and=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],C=0;C<w;C++)I[C]=this.i(C)&D.i(C);return new s(I,this.h&D.h)},t.or=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],C=0;C<w;C++)I[C]=this.i(C)|D.i(C);return new s(I,this.h|D.h)},t.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],C=0;C<w;C++)I[C]=this.i(C)^D.i(C);return new s(I,this.h^D.h)};function Ue(D){for(var w=D.g.length+1,I=[],C=0;C<w;C++)I[C]=D.i(C)<<1|D.i(C-1)>>>31;return new s(I,D.h)}function ae(D,w){var I=w>>5;w%=32;for(var C=D.g.length-I,A=[],R=0;R<C;R++)A[R]=0<w?D.i(R+I)>>>w|D.i(R+I+1)<<32-w:D.i(R+I);return new s(A,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,H_=US.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Di=US.Integer=s}).apply(typeof LS<"u"?LS:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Br={};var q_,JB,Ls,z_,qc,Dh,G_,W_,K_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var x=c[m];if(!(x in f))break e;f=f[x]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,x={next:function(){if(!m&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return m=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,m),c.apply(d,x)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function E(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function M(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,x,P){for(var U=Array(arguments.length-2),je=2;je<arguments.length;je++)U[je-2]=arguments[je];return d.prototype[x].apply(m,U)}}function O(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function F(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let x=c.length||0,P=m.length||0;c.length=x+P;for(let U=0;U<P;U++)c[x+U]=m[U]}else c.push(m)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var Ue=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ae(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function w(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,d){let f,m;for(let x=1;x<arguments.length;x++){m=arguments[x];for(f in m)c[f]=m[f];for(let P=0;P<I.length;P++)f=I[P],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function A(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function R(c){a.setTimeout(()=>{throw c},0)}function b(){var c=zf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class vr{constructor(){this.h=this.g=null}add(d,f){let m=Ea.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ea=new j(()=>new Gx,c=>c.reset());class Gx{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ia,ba=!1,zf=new vr,_w=()=>{let c=a.Promise.resolve(void 0);Ia=()=>{c.then(Wx)}};var Wx=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(f){R(f)}var d=Ea;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ba=!1};function Wr(){this.s=this.s,this.C=this.C}Wr.prototype.s=!1,Wr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Wr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function wt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var Kx=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ca(c,d){if(wt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ue){e:{try{Z(d.nodeName);var x=!0;break e}catch{}x=!1}x||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Qx[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ca.aa.h.call(this)}}M(Ca,wt);var Qx={2:"touch",3:"pen",4:"mouse"};Ca.prototype.h=function(){Ca.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Da="closure_listenable_"+(1e6*Math.random()|0),Yx=0;function Jx(c,d,f,m,x){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=x,this.key=++Yx,this.da=this.fa=!1}function Nu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ou(c){this.src=c,this.g={},this.h=0}Ou.prototype.add=function(c,d,f,m,x){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var U=Wf(c,d,m,x);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new Jx(d,this.src,P,!!m,x),d.fa=f,c.push(d)),d};function Gf(c,d){var f=d.type;if(f in c.g){var m=c.g[f],x=Array.prototype.indexOf.call(m,d,void 0),P;(P=0<=x)&&Array.prototype.splice.call(m,x,1),P&&(Nu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Wf(c,d,f,m){for(var x=0;x<c.length;++x){var P=c[x];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==m)return x}return-1}var Kf="closure_lm_"+(1e6*Math.random()|0),Qf={};function vw(c,d,f,m,x){if(m&&m.once)return Ew(c,d,f,m,x);if(Array.isArray(d)){for(var P=0;P<d.length;P++)vw(c,d[P],f,m,x);return null}return f=Xf(f),c&&c[Da]?c.K(d,f,l(m)?!!m.capture:!!m,x):ww(c,d,f,!1,m,x)}function ww(c,d,f,m,x,P){if(!d)throw Error("Invalid event type");var U=l(x)?!!x.capture:!!x,je=Jf(c);if(je||(c[Kf]=je=new Ou(c)),f=je.add(d,f,m,U,P),f.proxy)return f;if(m=Zx(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)Kx||(x=U),x===void 0&&(x=!1),c.addEventListener(d.toString(),m,x);else if(c.attachEvent)c.attachEvent(bw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Zx(){function c(f){return d.call(c.src,c.listener,f)}let d=Xx;return c}function Ew(c,d,f,m,x){if(Array.isArray(d)){for(var P=0;P<d.length;P++)Ew(c,d[P],f,m,x);return null}return f=Xf(f),c&&c[Da]?c.L(d,f,l(m)?!!m.capture:!!m,x):ww(c,d,f,!0,m,x)}function Iw(c,d,f,m,x){if(Array.isArray(d))for(var P=0;P<d.length;P++)Iw(c,d[P],f,m,x);else m=l(m)?!!m.capture:!!m,f=Xf(f),c&&c[Da]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=Wf(P,f,m,x),-1<f&&(Nu(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=Jf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Wf(d,f,m,x)),(f=-1<c?d[c]:null)&&Yf(f))}function Yf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Da])Gf(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(bw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Jf(d))?(Gf(f,c),f.h==0&&(f.src=null,d[Kf]=null)):Nu(c)}}}function bw(c){return c in Qf?Qf[c]:Qf[c]="on"+c}function Xx(c,d){if(c.da)c=!0;else{d=new Ca(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Yf(c),c=f.call(m,d)}return c}function Jf(c){return c=c[Kf],c instanceof Ou?c:null}var Zf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xf(c){return typeof c=="function"?c:(c[Zf]||(c[Zf]=function(d){return c.handleEvent(d)}),c[Zf])}function Et(){Wr.call(this),this.i=new Ou(this),this.M=this,this.F=null}M(Et,Wr),Et.prototype[Da]=!0,Et.prototype.removeEventListener=function(c,d,f,m){Iw(this,c,d,f,m)};function Pt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new wt(d,c);else if(d instanceof wt)d.target=d.target||c;else{var x=d;d=new wt(m,c),C(d,x)}if(x=!0,f)for(var P=f.length-1;0<=P;P--){var U=d.g=f[P];x=Fu(U,m,!0,d)&&x}if(U=d.g=c,x=Fu(U,m,!0,d)&&x,x=Fu(U,m,!1,d)&&x,f)for(P=0;P<f.length;P++)U=d.g=f[P],x=Fu(U,m,!1,d)&&x}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Nu(f[m]);delete c.g[d],c.h--}}this.F=null},Et.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Et.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Fu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var x=!0,P=0;P<d.length;++P){var U=d[P];if(U&&!U.da&&U.capture==f){var je=U.listener,ft=U.ha||U.src;U.fa&&Gf(c.i,U),x=je.call(ft,m)!==!1&&x}}return x&&!m.defaultPrevented}function Cw(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Dw(c){c.g=Cw(()=>{c.g=null,c.i&&(c.i=!1,Dw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class eM extends Wr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Dw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(c){Wr.call(this),this.h=c,this.g={}}M(Ta,Wr);var Tw=[];function Sw(c){ae(c.g,function(d,f){this.g.hasOwnProperty(f)&&Yf(d)},c),c.g={}}Ta.prototype.N=function(){Ta.aa.N.call(this),Sw(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ep=a.JSON.stringify,tM=a.JSON.parse,nM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function tp(){}tp.prototype.h=null;function Aw(c){return c.h||(c.h=c.i())}function xw(){}var Sa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function np(){wt.call(this,"d")}M(np,wt);function rp(){wt.call(this,"c")}M(rp,wt);var Pi={},Mw=null;function ku(){return Mw=Mw||new Et}Pi.La="serverreachability";function Rw(c){wt.call(this,Pi.La,c)}M(Rw,wt);function Aa(c){let d=ku();Pt(d,new Rw(d))}Pi.STAT_EVENT="statevent";function Pw(c,d){wt.call(this,Pi.STAT_EVENT,c),this.stat=d}M(Pw,wt);function Nt(c){let d=ku();Pt(d,new Pw(d,c))}Pi.Ma="timingevent";function Nw(c,d){wt.call(this,Pi.Ma,c),this.size=d}M(Nw,wt);function xa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ma(){this.g=!0}Ma.prototype.xa=function(){this.g=!1};function rM(c,d,f,m,x,P){c.info(function(){if(c.g)if(P)for(var U="",je=P.split("&"),ft=0;ft<je.length;ft++){var xe=je[ft].split("=");if(1<xe.length){var It=xe[0];xe=xe[1];var bt=It.split("_");U=2<=bt.length&&bt[1]=="type"?U+(It+"="+xe+"&"):U+(It+"=redacted&")}}else U=null;else U=P;return"XMLHTTP REQ ("+m+") [attempt "+x+"]: "+d+`
`+f+`
`+U})}function iM(c,d,f,m,x,P,U){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+x+"]: "+d+`
`+f+`
`+P+" "+U})}function Lo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+sM(c,f)+(m?" "+m:"")})}function oM(c,d){c.info(function(){return"TIMEOUT: "+d})}Ma.prototype.info=function(){};function sM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var x=m[1];if(Array.isArray(x)&&!(1>x.length)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(var U=1;U<x.length;U++)x[U]=""}}}}return ep(f)}catch{return d}}var Vu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ow={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ip;function Lu(){}M(Lu,tp),Lu.prototype.g=function(){return new XMLHttpRequest},Lu.prototype.i=function(){return{}},ip=new Lu;function Kr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fw}function Fw(){this.i=null,this.g="",this.h=!1}var kw={},op={};function sp(c,d,f){c.L=1,c.v=$u(wr(d)),c.m=f,c.P=!0,Vw(c,null)}function Vw(c,d){c.F=Date.now(),Uu(c),c.A=wr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),Jw(f.i,"t",m),c.C=0,f=c.j.J,c.h=new Fw,c.g=mE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new eM(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(Tw[0]=x.toString()),x=Tw);for(var P=0;P<x.length;P++){var U=vw(f,x[P],m||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Aa(),rM(c.i,c.u,c.A,c.l,c.R,c.m)}Kr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Er(c)==3?d.j():this.Y(c)},Kr.prototype.Y=function(c){try{if(c==this.g)e:{let bt=Er(this.g);var d=this.g.Ba();let Bo=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||iE(this.g)))){this.J||bt!=4||d==7||(d==8||0>=Bo?Aa(3):Aa(2)),ap(this);var f=this.g.Z();this.X=f;t:if(Lw(this)){var m=iE(this.g);c="";var x=m.length,P=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ni(this),Ra(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<x;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(P&&d==x-1)});m.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,iM(this.i,this.u,this.A,this.l,this.R,bt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var je,ft=this.g;if((je=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(je)){var xe=je;break t}}xe=null}if(f=xe)Lo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cp(this,f);else{this.o=!1,this.s=3,Nt(12),Ni(this),Ra(this);break e}}if(this.P){f=!0;let wn;for(;!this.J&&this.C<U.length;)if(wn=aM(this,U),wn==op){bt==4&&(this.s=4,Nt(14),f=!1),Lo(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==kw){this.s=4,Nt(15),Lo(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else Lo(this.i,this.l,wn,null),cp(this,wn);if(Lw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||U.length!=0||this.h.h||(this.s=1,Nt(16),f=!1),this.o=this.o&&f,!f)Lo(this.i,this.l,U,"[Invalid Chunked Response]"),Ni(this),Ra(this);else if(0<U.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),pp(It),It.M=!0,Nt(11))}}else Lo(this.i,this.l,U,null),cp(this,U);bt==4&&Ni(this),this.o&&!this.J&&(bt==4?dE(this.j,this):(this.o=!1,Uu(this)))}else CM(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Ni(this),Ra(this)}}}catch{}finally{}};function Lw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function aM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?op:(f=Number(d.substring(f,m)),isNaN(f)?kw:(m+=1,m+f>d.length?op:(d=d.slice(m,m+f),c.C=m+f,d)))}Kr.prototype.cancel=function(){this.J=!0,Ni(this)};function Uu(c){c.S=Date.now()+c.I,Uw(c,c.I)}function Uw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xa(g(c.ba,c),d)}function ap(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Kr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(oM(this.i,this.A),this.L!=2&&(Aa(),Nt(17)),Ni(this),this.s=2,Ra(this)):Uw(this,this.S-c)};function Ra(c){c.j.G==0||c.J||dE(c.j,c)}function Ni(c){ap(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Sw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function cp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||up(f.h,c))){if(!c.K&&up(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var x=m;if(x[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Wu(f),zu(f);else break e;fp(f),Nt(18)}}else f.za=x[1],0<f.za-f.T&&37500>x[2]&&f.F&&f.v==0&&!f.C&&(f.C=xa(g(f.Za,f),6e3));if(1>=$w(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Fi(f,11)}else if((c.K||f.g==c)&&Wu(f),!Q(d))for(x=f.Da.g.parse(d),d=0;d<x.length;d++){let xe=x[d];if(f.T=xe[0],xe=xe[1],f.G==2)if(xe[0]=="c"){f.K=xe[1],f.ia=xe[2];let It=xe[3];It!=null&&(f.la=It,f.j.info("VER="+f.la));let bt=xe[4];bt!=null&&(f.Aa=bt,f.j.info("SVER="+f.Aa));let Bo=xe[5];Bo!=null&&typeof Bo=="number"&&0<Bo&&(m=1.5*Bo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let wn=c.g;if(wn){let Qu=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qu){var P=m.h;P.g||Qu.indexOf("spdy")==-1&&Qu.indexOf("quic")==-1&&Qu.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(lp(P,P.h),P.h=null))}if(m.D){let mp=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;mp&&(m.ya=mp,$e(m.I,m.D,mp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var U=c;if(m.qa=pE(m,m.J?m.ia:null,m.W),U.K){Hw(m.h,U);var je=U,ft=m.L;ft&&(je.I=ft),je.B&&(ap(je),Uu(je)),m.g=U}else uE(m);0<f.i.length&&Gu(f)}else xe[0]!="stop"&&xe[0]!="close"||Fi(f,7);else f.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Fi(f,7):hp(f):xe[0]!="noop"&&f.l&&f.l.ta(xe),f.v=0)}}Aa(4)}catch{}}var cM=class{constructor(c,d){this.g=c,this.map=d}};function jw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $w(c){return c.h?1:c.g?c.g.size:0}function up(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function lp(c,d){c.g?c.g.add(d):c.h=d}function Hw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}jw.prototype.cancel=function(){if(this.i=qw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function qw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return O(c.i)}function uM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function lM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function zw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=lM(c),m=uM(c),x=m.length,P=0;P<x;P++)d.call(void 0,m[P],f&&f[P],c)}var Gw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),x=null;if(0<=m){var P=c[f].substring(0,m);x=c[f].substring(m+1)}else P=c[f];d(P,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Oi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Oi){this.h=c.h,ju(this,c.j),this.o=c.o,this.g=c.g,Bu(this,c.s),this.l=c.l;var d=c.i,f=new Oa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Ww(this,f),this.m=c.m}else c&&(d=String(c).match(Gw))?(this.h=!1,ju(this,d[1]||"",!0),this.o=Pa(d[2]||""),this.g=Pa(d[3]||"",!0),Bu(this,d[4]),this.l=Pa(d[5]||"",!0),Ww(this,d[6]||"",!0),this.m=Pa(d[7]||"")):(this.h=!1,this.i=new Oa(null,this.h))}Oi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Na(d,Kw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Na(d,Kw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Na(f,f.charAt(0)=="/"?pM:fM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Na(f,gM)),c.join("")};function wr(c){return new Oi(c)}function ju(c,d,f){c.j=f?Pa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Bu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Ww(c,d,f){d instanceof Oa?(c.i=d,yM(c.i,c.h)):(f||(d=Na(d,mM)),c.i=new Oa(d,c.h))}function $e(c,d,f){c.i.set(d,f)}function $u(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Pa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Na(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,hM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Kw=/[#\/\?@]/g,fM=/[#\?:]/g,pM=/[#\?]/g,mM=/[#\?@]/g,gM=/#/g;function Oa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Qr(c){c.g||(c.g=new Map,c.h=0,c.i&&dM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Oa.prototype,t.add=function(c,d){Qr(this),this.i=null,c=Uo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Qw(c,d){Qr(c),d=Uo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Yw(c,d){return Qr(c),d=Uo(c,d),c.g.has(d)}t.forEach=function(c,d){Qr(this),this.g.forEach(function(f,m){f.forEach(function(x){c.call(d,x,m,this)},this)},this)},t.na=function(){Qr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let x=c[m];for(let P=0;P<x.length;P++)f.push(d[m])}return f},t.V=function(c){Qr(this);let d=[];if(typeof c=="string")Yw(this,c)&&(d=d.concat(this.g.get(Uo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Qr(this),this.i=null,c=Uo(this,c),Yw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Jw(c,d,f){Qw(c,d),0<f.length&&(c.i=null,c.g.set(Uo(c,d),O(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let P=encodeURIComponent(String(m)),U=this.V(m);for(m=0;m<U.length;m++){var x=P;U[m]!==""&&(x+="="+encodeURIComponent(String(U[m]))),c.push(x)}}return this.i=c.join("&")};function Uo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function yM(c,d){d&&!c.j&&(Qr(c),c.i=null,c.g.forEach(function(f,m){var x=m.toLowerCase();m!=x&&(Qw(this,m),Jw(this,x,f))},c)),c.j=d}function _M(c,d){let f=new Ma;if(a.Image){let m=new Image;m.onload=E(Yr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=E(Yr,f,"TestLoadImage: error",!1,d,m),m.onabort=E(Yr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=E(Yr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function vM(c,d){let f=new Ma,m=new AbortController,x=setTimeout(()=>{m.abort(),Yr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(P=>{clearTimeout(x),P.ok?Yr(f,"TestPingServer: ok",!0,d):Yr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(x),Yr(f,"TestPingServer: error",!1,d)})}function Yr(c,d,f,m,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),m(f)}catch{}}function wM(){this.g=new nM}function EM(c,d,f){let m=f||"";try{zw(c,function(x,P){let U=x;l(x)&&(U=ep(x)),d.push(m+P+"="+encodeURIComponent(U))})}catch(x){throw d.push(m+"type="+encodeURIComponent("_badmap")),x}}function Fa(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Fa,tp),Fa.prototype.g=function(){return new Hu(this.l,this.j)},Fa.prototype.i=function(c){return function(){return c}}({});function Hu(c,d){Et.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Hu,Et),t=Hu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Va(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ka(this):Va(this),this.readyState==3&&Zw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ka(this))},t.Qa=function(c){this.g&&(this.response=c,ka(this))},t.ga=function(){this.g&&ka(this)};function ka(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Va(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Va(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xw(c){let d="";return ae(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function dp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Xw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):$e(c,d,f))}function We(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(We,Et);var IM=/^https?$/i,bM=["POST","PUT"];t=We.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ip.g(),this.v=this.o?Aw(this.o):Aw(ip),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){eE(this,P);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var x in m)f.set(x,m[x]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let P of m.keys())f.set(P,m.get(P));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bM,d,void 0))||m||x||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,U]of f)this.g.setRequestHeader(P,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rE(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){eE(this,P)}};function eE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,tE(c),qu(c)}function tE(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qu(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nE(this):this.bb())},t.bb=function(){nE(this)};function nE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Er(c)!=4||c.Z()!=2)){if(c.u&&Er(c)==4)Cw(c.Ea,0,c);else if(Pt(c,"readystatechange"),Er(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=U===0){var x=String(c.D).match(Gw)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),m=!IM.test(x?x.toLowerCase():"")}f=m}if(f)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var P=2<Er(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",tE(c)}}finally{qu(c)}}}}function qu(c,d){if(c.g){rE(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Pt(c,"ready");try{f.onreadystatechange=m}catch{}}}function rE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Er(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),tM(d)}};function iE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function CM(c){let d={};c=(c.g&&2<=Er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(Q(c[m]))continue;var f=A(c[m]);let x=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[x]||[];d[x]=P,P.push(f)}D(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function oE(c){this.Aa=0,this.i=[],this.j=new Ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=La("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=La("baseRetryDelayMs",5e3,c),this.cb=La("retryDelaySeedMs",1e4,c),this.Wa=La("forwardChannelMaxRetries",2,c),this.wa=La("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jw(c&&c.concurrentRequestLimit),this.Da=new wM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=oE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Nt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=pE(this,null,this.W),Gu(this)};function hp(c){if(sE(c),c.G==3){var d=c.U++,f=wr(c.I);if($e(f,"SID",c.K),$e(f,"RID",d),$e(f,"TYPE","terminate"),Ua(c,f),d=new Kr(c,c.j,d),d.L=2,d.v=$u(wr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=mE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Uu(d)}fE(c)}function zu(c){c.g&&(pp(c),c.g.cancel(),c.g=null)}function sE(c){zu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Wu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gu(c){if(!Bw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ia||_w(),ba||(Ia(),ba=!0),zf.add(d,c),c.B=0}}function DM(c,d){return $w(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xa(g(c.Ga,c,d),hE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new Kr(this,this.j,c),P=this.o;if(this.S&&(P?(P=w(P),C(P,this.S)):P=this.S),this.m!==null||this.O||(x.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=cE(this,x,d),f=wr(this.I),$e(f,"RID",c),$e(f,"CVER",22),this.D&&$e(f,"X-HTTP-Session-Id",this.D),Ua(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(Xw(P)))+"&"+d:this.m&&dp(f,this.m,P)),lp(this.h,x),this.Ua&&$e(f,"TYPE","init"),this.P?($e(f,"$req",d),$e(f,"SID","null"),x.T=!0,sp(x,f,null)):sp(x,f,d),this.G=2}}else this.G==3&&(c?aE(this,c):this.i.length==0||Bw(this.h)||aE(this))};function aE(c,d){var f;d?f=d.l:f=c.U++;let m=wr(c.I);$e(m,"SID",c.K),$e(m,"RID",f),$e(m,"AID",c.T),Ua(c,m),c.m&&c.o&&dp(m,c.m,c.o),f=new Kr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=cE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),lp(c.h,f),sp(f,m,d)}function Ua(c,d){c.H&&ae(c.H,function(f,m){$e(d,m,f)}),c.l&&zw({},function(f,m){$e(d,m,f)})}function cE(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var x=c.i;let P=-1;for(;;){let U=["count="+f];P==-1?0<f?(P=x[0].g,U.push("ofs="+P)):P=0:U.push("ofs="+P);let je=!0;for(let ft=0;ft<f;ft++){let xe=x[ft].g,It=x[ft].map;if(xe-=P,0>xe)P=Math.max(0,x[ft].g-100),je=!1;else try{EM(It,U,"req"+xe+"_")}catch{m&&m(It)}}if(je){m=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function uE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ia||_w(),ba||(Ia(),ba=!0),zf.add(d,c),c.v=0}}function fp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xa(g(c.Fa,c),hE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,lE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xa(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),zu(this),lE(this))};function pp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function lE(c){c.g=new Kr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=wr(c.qa);$e(d,"RID","rpc"),$e(d,"SID",c.K),$e(d,"AID",c.T),$e(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(d,"TO",c.ja),$e(d,"TYPE","xmlhttp"),Ua(c,d),c.m&&c.o&&dp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=$u(wr(d)),f.m=null,f.P=!0,Vw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,zu(this),fp(this),Nt(19))};function Wu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function dE(c,d){var f=null;if(c.g==d){Wu(c),pp(c),c.g=null;var m=2}else if(up(c.h,d))f=d.D,Hw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var x=c.B;m=ku(),Pt(m,new Nw(m,f)),Gu(c)}else uE(c);else if(x=d.s,x==3||x==0&&0<d.X||!(m==1&&DM(c,d)||m==2&&fp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),x){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function hE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Fi(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let x=!m;m=new Oi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ju(m,"https"),$u(m),x?_M(m.toString(),f):vM(m.toString(),f)}else Nt(2);c.G=0,c.l&&c.l.sa(d),fE(c),sE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function fE(c){if(c.G=0,c.ka=[],c.l){let d=qw(c.h);(d.length!=0||c.i.length!=0)&&(F(c.ka,d),F(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function pE(c,d,f){var m=f instanceof Oi?wr(f):new Oi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Bu(m,m.s);else{var x=a.location;m=x.protocol,d=d?d+"."+x.hostname:x.hostname,x=+x.port;var P=new Oi(null);m&&ju(P,m),d&&(P.g=d),x&&Bu(P,x),f&&(P.l=f),m=P}return f=c.D,d=c.ya,f&&d&&$e(m,f,d),$e(m,"VER",c.la),Ua(c,m),m}function mE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new We(new Fa({eb:f})):new We(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gE(){}t=gE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ku(){}Ku.prototype.g=function(c,d){return new Yt(c,d)};function Yt(c,d){Et.call(this),this.g=new oE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new jo(this)}M(Yt,Et),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){hp(this.g)},Yt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=ep(c),c=f);d.i.push(new cM(d.Ya++,c)),d.G==3&&Gu(d)},Yt.prototype.N=function(){this.g.l=null,delete this.j,hp(this.g),delete this.g,Yt.aa.N.call(this)};function yE(c){np.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}M(yE,np);function _E(){rp.call(this),this.status=1}M(_E,rp);function jo(c){this.g=c}M(jo,gE),jo.prototype.ua=function(){Pt(this.g,"a")},jo.prototype.ta=function(c){Pt(this.g,new yE(c))},jo.prototype.sa=function(c){Pt(this.g,new _E)},jo.prototype.ra=function(){Pt(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,K_=Br.createWebChannelTransport=function(){return new Ku},W_=Br.getStatEventTarget=function(){return ku()},G_=Br.Event=Pi,Dh=Br.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vu.NO_ERROR=0,Vu.TIMEOUT=8,Vu.HTTP_ERROR=6,qc=Br.ErrorCode=Vu,Ow.COMPLETE="complete",z_=Br.EventType=Ow,xw.EventType=Sa,Sa.OPEN="a",Sa.CLOSE="b",Sa.ERROR="c",Sa.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Ls=Br.WebChannel=xw,JB=Br.FetchXmlHttpFactory=Fa,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,q_=Br.XhrIo=We}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});var jS="@firebase/firestore";var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var ia="10.14.0";var bo=new wi("@firebase/firestore");function zc(){return bo.logLevel}function Y(t,...e){if(bo.logLevel<=Ie.DEBUG){let n=e.map(M0);bo.debug(`Firestore (${ia}): ${t}`,...n)}}function $r(t,...e){if(bo.logLevel<=Ie.ERROR){let n=e.map(M0);bo.error(`Firestore (${ia}): ${t}`,...n)}}function zs(t,...e){if(bo.logLevel<=Ie.WARN){let n=e.map(M0);bo.warn(`Firestore (${ia}): ${t}`,...n)}}function M0(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+t;throw $r(e),new Error(e)}function ke(t,e){t||oe()}function ue(t,e){return t}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends Ut{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Pn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Mh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},X_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}},ev=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},tv=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new Mh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new ht(e)}},nv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},rv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},iv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ov=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ke(this.o===void 0);let r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new iv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ZB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Rh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=ZB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Re(t,e){return t<e?-1:t>e?1:0}function Gs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var _t=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var de=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new _t(0,0))}static max(){return new t(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ph=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ge=class t extends Ph{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},XB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=class t extends Ph{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return XB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new W(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ee=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ge.fromString(e))}static fromName(e){return new t(Ge.fromString(e).popFirst(5))}static empty(){return new t(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ge(e.slice()))}};var sv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};sv.UNKNOWN_ID=-1;function e3(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Co(i,ee.empty(),e)}function t3(t){return new Co(t.readTime,t.key,-1)}var Co=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(de.min(),ee.empty(),-1)}static max(){return new t(de.max(),ee.empty(),-1)}};function n3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}var r3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",av=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function fu(t){return v(this,null,function*(){if(t.code!==V.FAILED_PRECONDITION||t.message!==r3)throw t;Y("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function i3(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pu(t){return t.name==="IndexedDbTransactionError"}var EA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function uf(t){return t==null}function Jc(t){return t===0&&1/t==-1/0}function o3(t){return typeof t=="number"&&Number.isInteger(t)&&!Jc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var s3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fY=[...s3,"documentOverlays"],a3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],c3=a3,u3=[...c3,"indexConfiguration","indexState","indexEntries"];var pY=[...u3,"globals"];function BS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ye=class t{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $s(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $s(this.root,e,this.comparator,!1)}getReverseIterator(){return new $s(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $s(this.root,e,this.comparator,!0)}},$s=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ar=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var At=class t{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nh(this.data.getIterator())}getIteratorFrom(e){return new Nh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Nh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _n=class t{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new t([])}unionWith(e){let n=new At(sn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Oh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Oh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mt.EMPTY_BYTE_STRING=new Mt("");var l3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(ke(!!t),typeof t=="string"){let e=0,n=l3.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Si(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}function R0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function P0(t){let e=t.mapValue.fields.__previous_value__;return R0(e)?P0(e):e}function Zc(t){let e=Hr(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}var cv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Fh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Th={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Do(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R0(t)?4:CA(t)?9007199254740991:bA(t)?10:11:oe()}function dr(t,e){if(t===e)return!0;let n=Do(t);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Hr(i.timestampValue),a=Hr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Si(i.bytesValue).isEqual(Si(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?Jc(s)===Jc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Gs(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(BS(s)!==BS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!dr(s[u],a[u])))return!1;return!0}(t,e);default:return oe()}}function Xc(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function Ws(t,e){if(t===e)return 0;let n=Do(t),r=Do(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ze(o.integerValue||o.doubleValue),u=ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return $S(t.timestampValue,e.timestampValue);case 4:return $S(Zc(t),Zc(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Si(o),u=Si(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Re(a[l],u[l]);if(h!==0)return h}return Re(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Re(ze(o.latitude),ze(s.latitude));return a!==0?a:Re(ze(o.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HS(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},E=(a=p.value)===null||a===void 0?void 0:a.arrayValue,M=(u=g.value)===null||u===void 0?void 0:u.arrayValue,O=Re(((l=E?.values)===null||l===void 0?void 0:l.length)||0,((h=M?.values)===null||h===void 0?void 0:h.length)||0);return O!==0?O:HS(E,M)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Th.mapValue&&s===Th.mapValue)return 0;if(o===Th.mapValue)return 1;if(s===Th.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Re(u[p],h[p]);if(g!==0)return g;let E=Ws(a[u[p]],l[h[p]]);if(E!==0)return E}return Re(u.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function $S(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);let n=Hr(t),r=Hr(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function HS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ws(n[i],r[i]);if(o)return o}return Re(n.length,r.length)}function Ks(t){return uv(t)}function uv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Si(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=uv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${uv(n.fields[s])}`;return i+"}"}(t.mapValue):oe()}function qS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lv(t){return!!t&&"integerValue"in t}function N0(t){return!!t&&"arrayValue"in t}function zS(t){return!!t&&"nullValue"in t}function GS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ah(t){return!!t&&"mapValue"in t}function bA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var on=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Wc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ah(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ro(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Wc(this.value))}};function DA(t){let e=[];return Ro(t.fields,(n,r)=>{let i=new sn([n]);if(Ah(r)){let o=DA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new _n(e)}var Nn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,de.min(),de.min(),de.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,de.min(),de.min(),on.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,de.min(),de.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qs=class{constructor(e,n){this.position=e,this.inclusive=n}};function WS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=Ws(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}var Ys=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function d3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var kh=class{},at=class t extends kh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hv(e,n,r):n==="array-contains"?new mv(e,r):n==="in"?new gv(e,r):n==="not-in"?new yv(e,r):n==="array-contains-any"?new _v(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fv(e,r):new pv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ws(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},On=class t extends kh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return TA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function TA(t){return t.op==="and"}function SA(t){return h3(t)&&TA(t)}function h3(t){for(let e of t.filters)if(e instanceof On)return!1;return!0}function dv(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+Ks(t.value);if(SA(t))return t.filters.map(e=>dv(e)).join(",");{let e=t.filters.map(n=>dv(n)).join(",");return`${t.op}(${e})`}}function AA(t,e){return t instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&dr(r.value,i.value)}(t,e):t instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&AA(s,i.filters[a]),!0):!1}(t,e):void oe()}function xA(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${Ks(n.value)}`}(t):t instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(xA).join(" ,")+"}"}(t):"Filter"}var hv=class extends at{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){let n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}},fv=class extends at{constructor(e,n){super(e,"in",n),this.keys=MA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},pv=class extends at{constructor(e,n){super(e,"not-in",n),this.keys=MA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function MA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}var mv=class extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return N0(n)&&Xc(n.arrayValue,this.value)}},gv=class extends at{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}},yv=class extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}},_v=class extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!N0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}};var vv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function QS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new vv(t,e,n,r,i,o,s)}function O0(t){let e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ks(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ks(r)).join(",")),e.ue=n}return e.ue}function F0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KS(t.startAt,e.startAt)&&KS(t.endAt,e.endAt)}function wv(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var To=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function f3(t,e,n,r,i,o,s,a){return new To(t,e,n,r,i,o,s,a)}function lf(t){return new To(t)}function YS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RA(t){return t.collectionGroup!==null}function Kc(t){let e=ue(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new At(sn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ys(o,r))}),n.has(sn.keyField().canonicalString())||e.ce.push(new Ys(sn.keyField(),r))}return e.ce}function cr(t){let e=ue(t);return e.le||(e.le=p3(e,Kc(t))),e.le}function p3(t,e){if(t.limitType==="F")return QS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ys(i.field,o)});let n=t.endAt?new Qs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qs(t.startAt.position,t.startAt.inclusive):null;return QS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ev(t,e){let n=t.filters.concat([e]);return new To(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Iv(t,e,n){return new To(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function df(t,e){return F0(cr(t),cr(e))&&t.limitType===e.limitType}function PA(t){return`${O0(cr(t))}|lt:${t.limitType}`}function Us(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xA(i)).join(", ")}]`),uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ks(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ks(i)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function hf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Kc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=WS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Kc(r),i)||r.endAt&&!function(s,a,u){let l=WS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Kc(r),i))}(t,e)}function m3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NA(t){return(e,n)=>{let r=!1;for(let i of Kc(t)){let o=g3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function g3(t,e,n){let r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ws(u,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var Ai=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return IA(this.inner)}size(){return this.innerSize}};var y3=new Ye(ee.comparator);function qr(){return y3}var OA=new Ye(ee.comparator);function Gc(...t){let e=OA;for(let n of t)e=e.insert(n.key,n);return e}function FA(t){let e=OA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wo(){return Qc()}function kA(){return Qc()}function Qc(){return new Ai(t=>t.toString(),(t,e)=>t.isEqual(e))}var _3=new Ye(ee.comparator),v3=new At(ee.comparator);function be(...t){let e=v3;for(let n of t)e=e.add(n);return e}var w3=new At(Re);function E3(){return w3}function k0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function VA(t){return{integerValue:""+t}}function I3(t,e){return o3(e)?VA(e):k0(t,e)}var Js=class{constructor(){this._=void 0}};function b3(t,e,n){return t instanceof Zs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&R0(o)&&(o=P0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof So?UA(t,e):t instanceof Ao?jA(t,e):function(i,o){let s=LA(i,o),a=JS(s)+JS(i.Pe);return lv(s)&&lv(i.Pe)?VA(a):k0(i.serializer,a)}(t,e)}function C3(t,e,n){return t instanceof So?UA(t,e):t instanceof Ao?jA(t,e):n}function LA(t,e){return t instanceof Xs?function(r){return lv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Zs=class extends Js{},So=class extends Js{constructor(e){super(),this.elements=e}};function UA(t,e){let n=BA(e);for(let r of t.elements)n.some(i=>dr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ao=class extends Js{constructor(e){super(),this.elements=e}};function jA(t,e){let n=BA(e);for(let r of t.elements)n=n.filter(i=>!dr(i,r));return{arrayValue:{values:n}}}var Xs=class extends Js{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function JS(t){return ze(t.integerValue||t.doubleValue)}function BA(t){return N0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function D3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof So&&i instanceof So||r instanceof Ao&&i instanceof Ao?Gs(r.elements,i.elements,dr):r instanceof Xs&&i instanceof Xs?dr(r.Pe,i.Pe):r instanceof Zs&&i instanceof Zs}(t.transform,e.transform)}var bv=class{constructor(e,n){this.version=e,this.transformResults=n}},ur=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ea=class{};function $A(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eu(t.key,ur.none()):new xo(t.key,t.data,ur.none());{let n=t.data,r=on.empty(),i=new At(sn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new hr(t.key,r,new _n(i.toArray()),ur.none())}}function T3(t,e,n){t instanceof xo?function(i,o,s){let a=i.value.clone(),u=XS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hr?function(i,o,s){if(!xh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=XS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(HA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Yc(t,e,n,r){return t instanceof xo?function(o,s,a,u){if(!xh(o.precondition,s))return a;let l=o.value.clone(),h=eA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof hr?function(o,s,a,u){if(!xh(o.precondition,s))return a;let l=eA(o.fieldTransforms,u,s),h=s.data;return h.setAll(HA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return xh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function S3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=LA(r.transform,i||null);o!=null&&(n===null&&(n=on.empty()),n.set(r.field,o))}return n||null}function ZS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gs(r,i,(o,s)=>D3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var xo=class extends ea{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},hr=class extends ea{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function HA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function XS(t,e,n){let r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,C3(s,a,n[i]))}return r}function eA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,b3(o,s,e))}return r}var eu=class extends ea{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Cv=class extends ea{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Dv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&T3(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=kA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=$A(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,(n,r)=>ZS(n,r))&&Gs(this.baseMutations,e.baseMutations,(n,r)=>ZS(n,r))}},Tv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return _3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Sv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Av=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ot,De;function A3(t){switch(t){default:return oe();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function qA(t){if(t===void 0)return $r("GRPC error has no .code"),V.UNKNOWN;switch(t){case ot.OK:return V.OK;case ot.CANCELLED:return V.CANCELLED;case ot.UNKNOWN:return V.UNKNOWN;case ot.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case ot.INTERNAL:return V.INTERNAL;case ot.UNAVAILABLE:return V.UNAVAILABLE;case ot.UNAUTHENTICATED:return V.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case ot.NOT_FOUND:return V.NOT_FOUND;case ot.ALREADY_EXISTS:return V.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return V.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case ot.ABORTED:return V.ABORTED;case ot.OUT_OF_RANGE:return V.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return V.UNIMPLEMENTED;case ot.DATA_LOSS:return V.DATA_LOSS;default:return oe()}}(De=ot||(ot={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var tA=null;function x3(){return new TextEncoder}var M3=new Di([4294967295,4294967295],0);function nA(t){let e=x3().encode(t),n=new H_;return n.update(e),new Uint8Array(n.digest())}function rA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Di([n,r],0),new Di([i,o],0)]}var xv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eo(`Invalid padding: ${n}`);if(r<0)throw new Eo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Di.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Di.fromNumber(r)));return i.compare(M3)===1&&(i=new Di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=nA(e),[r,i]=rA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=nA(e),[r,i]=rA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Eo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Vh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(de.min(),i,new Ye(Re),qr(),be())}},tu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,be(),be(),be())}};var Hs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Lh=class{constructor(e,n){this.targetId=e,this.me=n}},Uh=class{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},jh=class{constructor(){this.fe=0,this.ge=oA(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),r=be();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new tu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=oA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Mv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=qr(),this.qe=iA(),this.Qe=new Ye(Re)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(wv(o))if(r===0){let s=new ee(o.path);this.Ue(n,s,Nn.newNoDocument(s,de.min()))}else ke(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}tA?.et(function(h,p,g,E,M){var O,F,j,Q,K,Z;let Ue={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ae=p.unchangedNames;return ae&&(Ue.bloomFilter={applied:M===0,hashCount:(O=ae?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(Q=(j=(F=ae?.bits)===null||F===void 0?void 0:F.bitmap)===null||j===void 0?void 0:j.length)!==null&&Q!==void 0?Q:0,padding:(Z=(K=ae?.bits)===null||K===void 0?void 0:K.padding)!==null&&Z!==void 0?Z:0,mightContain:D=>{var w;return(w=E?.mightContain(D))!==null&&w!==void 0&&w}}),Ue}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Si(r).toUint8Array()}catch(u){if(u instanceof Oh)return zs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new xv(s,i,o)}catch(u){return zs(u instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&wv(a.target)){let u=new ee(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Nn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=be();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Vh(e,n,this.Qe,this.ke,r);return this.ke=qr(),this.qe=iA(),this.Qe=new Ye(Re),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new jh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new At(Re),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function iA(){return new Ye(ee.comparator)}function oA(){return new Ye(ee.comparator)}var R3={asc:"ASCENDING",desc:"DESCENDING"},P3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N3={and:"AND",or:"OR"},Rv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Pv(t,e){return t.useProto3Json||uf(e)?e:{value:e}}function Bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O3(t,e){return Bh(t,e.toTimestamp())}function lr(t){return ke(!!t),de.fromTimestamp(function(n){let r=Hr(n);return new _t(r.seconds,r.nanos)}(t))}function V0(t,e){return Nv(t,e).canonicalString()}function Nv(t,e){let n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GA(t){let e=Ge.fromString(t);return ke(JA(e)),e}function Ov(t,e){return V0(t.databaseId,e.path)}function Q_(t,e){let n=GA(e);if(n.get(1)!==t.databaseId.projectId)throw new W(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(KA(n))}function WA(t,e){return V0(t.databaseId,e)}function F3(t){let e=GA(t);return e.length===4?Ge.emptyPath():KA(e)}function Fv(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KA(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sA(t,e,n){return{name:Ov(t,e),fields:n.value.mapValue.fields}}function k3(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ke(h===void 0||typeof h=="string"),Mt.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?V.UNKNOWN:qA(l.code);return new W(h,l.message||"")}(s);n=new Uh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Q_(t,r.document.name),o=lr(r.document.updateTime),s=r.document.createTime?lr(r.document.createTime):de.min(),a=new on({mapValue:{fields:r.document.fields}}),u=Nn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Hs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Q_(t,r.document),o=r.readTime?lr(r.readTime):de.min(),s=Nn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Hs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Q_(t,r.document),o=r.removedTargetIds||[];n=new Hs([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Av(i,o),a=r.targetId;n=new Lh(a,s)}}return n}function V3(t,e){let n;if(e instanceof xo)n={update:sA(t,e.key,e.value)};else if(e instanceof eu)n={delete:Ov(t,e.key)};else if(e instanceof hr)n={update:sA(t,e.key,e.data),updateMask:G3(e.fieldMask)};else{if(!(e instanceof Cv))return oe();n={verify:Ov(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof So)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ao)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xs)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:O3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe()}(t,e.precondition)),n}function L3(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?lr(i.updateTime):lr(o);return s.isEqual(de.min())&&(s=lr(o)),new bv(s,i.transformResults||[])}(n,e))):[]}function U3(t,e){return{documents:[WA(t,e.path)]}}function j3(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WA(t,i);let o=function(l){if(l.length!==0)return YA(On.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:js(g.field),direction:H3(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Pv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function B3(t){let e=F3(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ke(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=QA(p);return g instanceof On&&SA(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(M){return new Ys(Bs(M.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,uf(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,E=p.values||[];return new Qs(E,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,E=p.values||[];return new Qs(E,g)}(n.endAt)),f3(e,i,s,o,a,"F",u,l)}function $3(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Bs(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bs(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Bs(n.unaryFilter.field);return at.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Bs(n.unaryFilter.field);return at.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return at.create(Bs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>QA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function H3(t){return R3[t]}function q3(t){return P3[t]}function z3(t){return N3[t]}function js(t){return{fieldPath:t.canonicalString()}}function Bs(t){return sn.fromServerFormat(t.fieldPath)}function YA(t){return t instanceof at?function(n){if(n.op==="=="){if(GS(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NAN"}};if(zS(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GS(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NAN"}};if(zS(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(n.field),op:q3(n.op),value:n.value}}}(t):t instanceof On?function(n){let r=n.getFilters().map(i=>YA(i));return r.length===1?r[0]:{compositeFilter:{op:z3(n.op),filters:r}}}(t):oe()}function G3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var nu=class t{constructor(e,n,r,i,o=de.min(),s=de.min(),a=Mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var kv=class{constructor(e){this.ct=e}};function W3(t){let e=B3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iv(e,e.limit,"L"):e}var $h=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ze(e.integerValue));else if("doubleValue"in e){let r=ze(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Jc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Hr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Si(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?CA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):bA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ze(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ee.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};$h.vt=new $h;var Vv=class{constructor(){this.un=new Lv}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Co.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},Lv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(Ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(Ge.comparator)).toArray()}};var gY=new Uint8Array(0);var sr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(41943040,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);var ru=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Uv=class{constructor(){this.changes=new Ai(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Bv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Yc(r.mutation,i,_n.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){let i=wo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Gc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=qr(),s=Qc(),a=function(){return Qc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof hr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Yc(h.mutation,l,h.mutation.getFieldMask(),_t.now())):s.set(l.key,_n.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new jv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Qc(),i=new Ye((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||_n.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||be()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=kA();h.forEach(g=>{if(!o.has(g)){let E=$A(n.get(g),r.get(g));E!==null&&p.set(g,E),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(wo()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,be())).next(h=>({batchId:a,changes:FA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Gc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Gc();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,g){return new To(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Nn.newInvalidDocument(h)))});let a=Gc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Yc(h.mutation,l,_n.empty(),_t.now()),hf(n,l)&&(a=a.insert(u,l))}),a})}};var $v=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:lr(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:W3(i.bundledQuery),readTime:lr(i.readTime)}}(n)),L.resolve()}};var Hv=class{constructor(){this.overlays=new Ye(ee.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=wo();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=wo(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ye((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=wo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=wo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Sv(n,r));let o=this.Ir.get(n);o===void 0&&(o=be(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var qv=class{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var iu=class{constructor(){this.Tr=new At(st.Er),this.dr=new At(st.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new st(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new st(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ee(new Ge([])),r=new st(n,e),i=new st(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ee(new Ge([])),r=new st(n,e),i=new st(n,e+1),o=be();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new st(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},st=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||ee.comparator(e.key,n.key)}};var zv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new At(st.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Dv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new st(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new st(n,0),i=new st(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Re);return n.forEach(i=>{let o=new st(i,0),s=new st(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ee.isDocumentKey(o)||(o=o.child(""));let s=new st(new ee(o),0),a=new At(Re);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let o=new st(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new st(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Gv=class{constructor(e){this.Mr=e,this.docs=function(){return new Ye(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Nn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=qr(),s=n.path,a=new ee(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||n3(t3(h),r)<=0||(i.has(h.key)||hf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wv(this)}getSize(e){return L.resolve(this.size)}},Wv=class extends Uv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Kv=class{constructor(e){this.persistence=e,this.Nr=new Ai(n=>O0(n),F0),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new iu,this.targetCount=0,this.kr=ru.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ru(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var Qv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new EA(0),this.Kr=!1,this.Kr=!0,this.$r=new qv,this.referenceDelegate=e(this),this.Ur=new Kv(this),this.indexManager=new Vv,this.remoteDocumentCache=function(i){return new Gv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new kv(n),this.Gr=new $v(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);let i=new Yv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Yv=class extends av{constructor(e){super(),this.currentSequenceNumber=e}},Jv=class t{constructor(e){this.persistence=e,this.Jr=new iu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=ee.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Zv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=be(),i=be();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Xv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var e0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yT()?8:i3(lt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Xv;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(zc()<=Ie.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(zc()<=Ie.DEBUG&&Y("QueryEngine","Query:",Us(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(zc()<=Ie.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):L.resolve())}Yi(e,n){if(YS(n))return L.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Iv(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=be(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Iv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return YS(n)||i.isEqual(de.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?L.resolve(null):(zc()<=Ie.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Us(n)),this.rs(e,s,n,e3(i,-1)).next(a=>a))})}ts(e,n){let r=new At(NA(e));return n.forEach((i,o)=>{hf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return zc()<=Ie.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Us(n)),this.Ji.getDocumentsMatchingQuery(e,n,Co.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var t0=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ye(Re),this._s=new Ai(o=>O0(o),F0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function K3(t,e,n,r){return new t0(t,e,n,r)}function ZA(t,e){return v(this,null,function*(){let n=ue(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=be();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Q3(t,e){let n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),E=L.resolve();return g.forEach(M=>{E=E.next(()=>h.getEntry(u,M)).next(O=>{let F=l.docVersions.get(M);ke(F!==null),O.version.compareTo(F)<0&&(p.applyToRemoteDocument(O,l),O.isValidDocument()&&(O.setReadTime(l.commitVersion),h.addEntry(O)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=be();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XA(t){let e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Y3(t,e){let n=ue(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let E=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(Mt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(p,E),function(O,F,j){return O.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(g,E,h)&&a.push(n.Ur.updateTargetData(o,E))});let u=qr(),l=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(J3(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(de.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function J3(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=qr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function Z3(t,e){let n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X3(t,e){let n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new nu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function n0(t,e,n){return v(this,null,function*(){let r=ue(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!pu(s))throw s;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function aA(t,e,n){let r=ue(t),i=de.min(),o=be();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ue(u),g=p._s.get(h);return g!==void 0?L.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:de.min(),n?o:be())).next(a=>(e4(r,m3(e),a),{documents:a,Ts:o})))}function e4(t,e,n){let r=t.us.get(e)||de.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Hh=class{constructor(){this.activeTargetIds=E3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var r0=class{constructor(){this.so=new Hh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Hh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var i0=class{_o(e){}shutdown(){}};var qh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Sh=null;function Y_(){return Sh===null?Sh=function(){return 268435456+Math.round(2147483648*Math.random())}():Sh++,"0x"+Sh.toString(16)}var t4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var o0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var St="WebChannelConnection",s0=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Y_(),u=this.xo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw zs("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=t4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Y_();return new Promise((s,a)=>{let u=new q_;u.setWithCredentials(!0),u.listenOnce(z_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qc.NO_ERROR:let h=u.getResponseJson();Y(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case qc.TIMEOUT:Y(St,`RPC '${e}' ${o} timed out`),a(new W(V.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:let p=u.getStatus();if(Y(St,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let E=g?.error;if(E&&E.status&&E.message){let M=function(F){let j=F.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(j)>=0?j:V.UNKNOWN}(E.status);a(new W(M,E.message))}else a(new W(V.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(V.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Y(St,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);Y(St,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Y_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=K_(),a=W_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");Y(St,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,E=!1,M=new o0({Io:F=>{E?Y(St,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(g||(Y(St,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Y(St,`RPC '${e}' stream ${i} sending:`,F),p.send(F))},To:()=>p.close()}),O=(F,j,Q)=>{F.listen(j,K=>{try{Q(K)}catch(Z){setTimeout(()=>{throw Z},0)}})};return O(p,Ls.EventType.OPEN,()=>{E||(Y(St,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),O(p,Ls.EventType.CLOSE,()=>{E||(E=!0,Y(St,`RPC '${e}' stream ${i} transport closed`),M.So())}),O(p,Ls.EventType.ERROR,F=>{E||(E=!0,zs(St,`RPC '${e}' stream ${i} transport errored:`,F),M.So(new W(V.UNAVAILABLE,"The operation could not be completed")))}),O(p,Ls.EventType.MESSAGE,F=>{var j;if(!E){let Q=F.data[0];ke(!!Q);let K=Q,Z=K.error||((j=K[0])===null||j===void 0?void 0:j.error);if(Z){Y(St,`RPC '${e}' stream ${i} received error:`,Z);let Ue=Z.status,ae=function(I){let C=ot[I];if(C!==void 0)return qA(C)}(Ue),D=Z.message;ae===void 0&&(ae=V.INTERNAL,D="Unknown error status: "+Ue+" with message "+Z.message),E=!0,M.So(new W(ae,D)),p.close()}else Y(St,`RPC '${e}' stream ${i} received:`,Q),M.bo(Q)}}),O(a,G_.STAT_EVENT,F=>{F.stat===Dh.PROXY?Y(St,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===Dh.NOPROXY&&Y(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function J_(){return typeof document<"u"?document:null}function ff(t){return new Rv(t,!0)}var zh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Gh=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return v(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return v(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return v(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new W(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>v(this,null,function*(){this.state=0,this.start()}))}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},a0=class extends Gh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=k3(this.serializer,e),r=function(o){if(!("targetChange"in o))return de.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?lr(s.readTime):de.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Fv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=wv(u)?{documents:U3(o,u)}:{query:j3(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=zA(o,s.resumeToken);let l=Pv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(de.min())>0){a.readTime=Bh(o,s.snapshotVersion.toTimestamp());let l=Pv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=$3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Fv(this.serializer),n.removeTarget=e,this.a_(n)}},c0=class extends Gh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=L3(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Fv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>V3(this.serializer,r))};this.a_(n)}};var u0=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Nv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(V.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Nv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(V.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},l0=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var d0=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Po(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=ue(u);l.L_.add(4),yield mu(l),l.q_.set("Unknown"),l.L_.delete(4),yield pf(l)})}(this))}))}),this.q_=new l0(r,i)}};function pf(t){return v(this,null,function*(){if(Po(t))for(let e of t.B_)yield e(!0)})}function mu(t){return v(this,null,function*(){for(let e of t.B_)yield e(!1)})}function e1(t,e){let n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),B0(n)?j0(n):oa(n).r_()&&U0(n,e))}function L0(t,e){let n=ue(t),r=oa(n);n.N_.delete(e),r.r_()&&t1(n,e),n.N_.size===0&&(r.r_()?r.o_():Po(n)&&n.q_.set("Unknown"))}function U0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oa(t).A_(e)}function t1(t,e){t.Q_.xe(e),oa(t).R_(e)}function j0(t){t.Q_=new Mv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),oa(t).start(),t.q_.v_()}function B0(t){return Po(t)&&!oa(t).n_()&&t.N_.size>0}function Po(t){return ue(t).L_.size===0}function n1(t){t.Q_=void 0}function n4(t){return v(this,null,function*(){t.q_.set("Online")})}function r4(t){return v(this,null,function*(){t.N_.forEach((e,n)=>{U0(t,e)})})}function i4(t,e){return v(this,null,function*(){n1(t),B0(t)?(t.q_.M_(e),j0(t)):t.q_.set("Unknown")})}function o4(t,e,n){return v(this,null,function*(){if(t.q_.set("Online"),e instanceof Uh&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wh(t,r)}else if(e instanceof Hs?t.Q_.Ke(e):e instanceof Lh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{let r=yield XA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Mt.EMPTY_BYTE_STRING,h.snapshotVersion)),t1(o,u);let p=new nu(h.target,u,l,h.sequenceNumber);U0(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),yield Wh(t,r)}})}function Wh(t,e,n){return v(this,null,function*(){if(!pu(e))throw e;t.L_.add(1),yield mu(t),t.q_.set("Offline"),n||(n=()=>XA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){Y("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield pf(t)}))})}function r1(t,e){return e().catch(n=>Wh(t,n,e))}function mf(t){return v(this,null,function*(){let e=ue(t),n=xi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;s4(e);)try{let i=yield Z3(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,a4(e,i)}catch(i){yield Wh(e,i)}i1(e)&&o1(e)})}function s4(t){return Po(t)&&t.O_.length<10}function a4(t,e){t.O_.push(e);let n=xi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function i1(t){return Po(t)&&!xi(t).n_()&&t.O_.length>0}function o1(t){xi(t).start()}function c4(t){return v(this,null,function*(){xi(t).p_()})}function u4(t){return v(this,null,function*(){let e=xi(t);for(let n of t.O_)e.m_(n.mutations)})}function l4(t,e,n){return v(this,null,function*(){let r=t.O_.shift(),i=Tv.from(r,e,n);yield r1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mf(t)})}function d4(t,e){return v(this,null,function*(){e&&xi(t).V_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return A3(s)&&s!==V.ABORTED}(i.code)){let o=r.O_.shift();xi(r).s_(),yield r1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield mf(r)}})}(t,e)),i1(t)&&o1(t)})}function cA(t,e){return v(this,null,function*(){let n=ue(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");let r=Po(n);n.L_.add(3),yield mu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield pf(n)})}function h4(t,e){return v(this,null,function*(){let n=ue(t);e?(n.L_.delete(2),yield pf(n)):e||(n.L_.add(2),yield mu(n),n.q_.set("Unknown"))})}function oa(t){return t.K_||(t.K_=function(n,r,i){let o=ue(n);return o.w_(),new a0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:n4.bind(null,t),Ro:r4.bind(null,t),mo:i4.bind(null,t),d_:o4.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.K_.s_(),B0(t)?j0(t):t.q_.set("Unknown")):(yield t.K_.stop(),n1(t))}))),t.K_}function xi(t){return t.U_||(t.U_=function(n,r,i){let o=ue(n);return o.w_(),new c0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:c4.bind(null,t),mo:d4.bind(null,t),f_:u4.bind(null,t),g_:l4.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.U_.s_(),yield mf(t)):(yield t.U_.stop(),t.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var h0=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $0(t,e){if($r("AsyncQueue",`${e}: ${t}`),pu(t))return new W(V.UNAVAILABLE,`${e}: ${t}`);throw t}var Kh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Gc(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Qh=class{constructor(){this.W_=new Ye(ee.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ta=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Kh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var f0=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},p0=class{constructor(){this.queries=uA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ue(n),o=i.queries;i.queries=uA(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new W(V.ABORTED,"Firestore shutting down"))}};function uA(){return new Ai(t=>PA(t),df)}function H0(t,e){return v(this,null,function*(){let n=ue(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new f0,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=$0(s,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&z0(n)})}function q0(t,e){return v(this,null,function*(){let n=ue(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function f4(t,e){let n=ue(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&z0(n)}function p4(t,e,n){let r=ue(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function z0(t){t.Y_.forEach(e=>{e.next()})}var m0,lA;(lA=m0||(m0={})).ea="default",lA.Cache="cache";var ou=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ta(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==m0.Cache}};var Yh=class{constructor(e){this.key=e}},Jh=class{constructor(e){this.key=e}},g0=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=NA(e),this.Ra=new Kh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Qh,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),E=hf(this.query,p)?p:null,M=!!g&&this.mutatedKeys.has(g.key),O=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),F=!1;g&&E?g.data.isEqual(E.data)?M!==O&&(r.track({type:3,doc:E}),F=!0):this.ga(g,E)||(r.track({type:2,doc:E}),F=!0,(u&&this.Aa(E,u)>0||l&&this.Aa(E,l)<0)&&(a=!0)):!g&&E?(r.track({type:0,doc:E}),F=!0):g&&!E&&(r.track({type:1,doc:g}),F=!0,(u||l)&&(a=!0)),F&&(E?(s=s.add(E),o=O?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(E,M){let O=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return O(E)-O(M)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new ta(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Qh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Jh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Yh(r))}),n}ba(e){this.Ta=e.Ts,this.da=be();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ta.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},y0=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},_0=class{constructor(e){this.key=e,this.va=!1}},v0=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ai(a=>PA(a),df),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(ee.comparator),this.Na=new Map,this.La=new iu,this.Ba={},this.ka=new Map,this.qa=ru.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function m4(t,e,n=!0){return v(this,null,function*(){let r=d1(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield s1(r,e,n,!0),i})}function g4(t,e){return v(this,null,function*(){let n=d1(t);yield s1(n,e,!0,!1)})}function s1(t,e,n,r){return v(this,null,function*(){let i=yield X3(t.localStore,cr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield y4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&e1(t.remoteStore,i),a})}function y4(t,e,n,r,i){return v(this,null,function*(){t.Ka=(p,g,E)=>function(O,F,j,Q){return v(this,null,function*(){let K=F.view.ma(j);K.ns&&(K=yield aA(O.localStore,F.query,!1).then(({documents:D})=>F.view.ma(D,K)));let Z=Q&&Q.targetChanges.get(F.targetId),Ue=Q&&Q.targetMismatches.get(F.targetId)!=null,ae=F.view.applyChanges(K,O.isPrimaryClient,Z,Ue);return hA(O,F.targetId,ae.wa),ae.snapshot})}(t,p,g,E);let o=yield aA(t.localStore,e,!0),s=new g0(e,o.Ts),a=s.ma(o.documents),u=tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);hA(t,n,l.wa);let h=new y0(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function _4(t,e,n){return v(this,null,function*(){let r=ue(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!df(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield n0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&L0(r.remoteStore,i.targetId),w0(r,i.targetId)}).catch(fu))):(w0(r,i.targetId),yield n0(r.localStore,i.targetId,!0))})}function v4(t,e){return v(this,null,function*(){let n=ue(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),L0(n.remoteStore,r.targetId))})}function w4(t,e,n){return v(this,null,function*(){let r=S4(t);try{let i=yield function(s,a){let u=ue(s),l=_t.now(),h=a.reduce((E,M)=>E.add(M.key),be()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let M=qr(),O=be();return u.cs.getEntries(E,h).next(F=>{M=F,M.forEach((j,Q)=>{Q.isValidDocument()||(O=O.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,M)).next(F=>{p=F;let j=[];for(let Q of a){let K=S3(Q,p.get(Q.key).overlayedDocument);K!=null&&j.push(new hr(Q.key,K,DA(K.value.mapValue),ur.exists(!0)))}return u.mutationQueue.addMutationBatch(E,l,j,a)}).next(F=>{g=F;let j=F.applyToLocalDocumentSet(p,O);return u.documentOverlayCache.saveOverlays(E,F.batchId,j)})}).then(()=>({batchId:g.batchId,changes:FA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ye(Re)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield gu(r,i.changes),yield mf(r.remoteStore)}catch(i){let o=$0(i,"Failed to persist write");n.reject(o)}})}function a1(t,e){return v(this,null,function*(){let n=ue(t);try{let r=yield Y3(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ke(s.va):i.removedDocuments.size>0&&(ke(s.va),s.va=!1))}),yield gu(n,r,e)}catch(r){yield fu(r)}})}function dA(t,e,n){let r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ue(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&z0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function E4(t,e,n){return v(this,null,function*(){let r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ye(ee.comparator);s=s.insert(o,Nn.newNoDocument(o,de.min()));let a=be().add(o),u=new Vh(de.min(),new Map,new Ye(Re),s,a);yield a1(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),G0(r)}else yield n0(r.localStore,e,!1).then(()=>w0(r,e,n)).catch(fu)})}function I4(t,e){return v(this,null,function*(){let n=ue(t),r=e.batch.batchId;try{let i=yield Q3(n.localStore,e);u1(n,r,null),c1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield gu(n,i)}catch(i){yield fu(i)}})}function b4(t,e,n){return v(this,null,function*(){let r=ue(t);try{let i=yield function(s,a){let u=ue(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ke(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);u1(r,e,n),c1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield gu(r,i)}catch(i){yield fu(i)}})}function c1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function u1(t,e,n){let r=ue(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function w0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||l1(t,r)})}function l1(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(L0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),G0(t))}function hA(t,e,n){for(let r of n)r instanceof Yh?(t.La.addReference(r.key,e),C4(t,r)):r instanceof Jh?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||l1(t,r.key)):oe()}function C4(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.xa.add(r),G0(t))}function G0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ee(Ge.fromString(e)),r=t.qa.next();t.Na.set(r,new _0(n)),t.Oa=t.Oa.insert(n,r),e1(t.remoteStore,new nu(cr(lf(n.path)),r,"TargetPurposeLimboResolution",EA.oe))}}function gu(t,e,n){return v(this,null,function*(){let r=ue(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Zv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return v(this,null,function*(){let h=ue(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.$i,E=>h.persistence.referenceDelegate.addReference(p,g.targetId,E)).next(()=>L.forEach(g.Ui,E=>h.persistence.referenceDelegate.removeReference(p,g.targetId,E)))))}catch(p){if(!pu(p))throw p;Y("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let E=h.os.get(g),M=E.snapshotVersion,O=E.withLastLimboFreeSnapshotVersion(M);h.os=h.os.insert(g,O)}}})}(r.localStore,o))})}function D4(t,e){return v(this,null,function*(){let n=ue(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());let r=yield ZA(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new W(V.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gu(n,r.hs)}})}function T4(t,e){let n=ue(t),r=n.Na.get(e);if(r&&r.va)return be().add(r.key);{let i=be(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function d1(t){let e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E4.bind(null,e),e.Ca.d_=f4.bind(null,e.eventManager),e.Ca.$a=p4.bind(null,e.eventManager),e}function S4(t){let e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,e),e}var fA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=ff(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return K3(this.persistence,new e0,n.initialUser,this.serializer)}Ga(n){return new Qv(Jv.Zr,this.serializer)}Wa(n){return new r0}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var A4=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D4.bind(null,this.syncEngine),yield h4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new p0}()}createDatastore(n){let r=ff(n.databaseInfo.databaseId),i=function(s){return new s0(s)}(n.databaseInfo);return function(s,a,u,l){return new u0(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new d0(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>dA(this.syncEngine,r,0),function(){return qh.D()?new qh:new i0}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new v0(o,s,a,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=ue(o);Y("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield mu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var su=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var E0=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=Rh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){Y("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Y("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=$0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Z_(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield ZA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function pA(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield x4(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cA(e.remoteStore,i)),t._onlineComponents=e})}function x4(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Z_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),yield Z_(t,new fA)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),yield Z_(t,new fA);return t._offlineComponents})}function h1(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),yield pA(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),yield pA(t,new A4))),t._onlineComponents})}function M4(t){return h1(t).then(e=>e.syncEngine)}function Zh(t){return v(this,null,function*(){let e=yield h1(t),n=e.eventManager;return n.onListen=m4.bind(null,e.syncEngine),n.onUnlisten=_4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v4.bind(null,e.syncEngine),n})}function R4(t,e,n={}){let r=new Pn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new su({next:g=>{h.Za(),s.enqueueAndForget(()=>q0(o,p));let E=g.docs.has(a);!E&&g.fromCache?l.reject(new W(V.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&u&&u.source==="server"?l.reject(new W(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new ou(lf(a.path),h,{includeMetadataChanges:!0,_a:!0});return H0(o,p)}(yield Zh(t),t.asyncQueue,e,n,r)})),r.promise}function P4(t,e,n={}){let r=new Pn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new su({next:g=>{h.Za(),s.enqueueAndForget(()=>q0(o,p)),g.fromCache&&u.source==="server"?l.reject(new W(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new ou(a,h,{includeMetadataChanges:!0,_a:!0});return H0(o,p)}(yield Zh(t),t.asyncQueue,e,n,r)})),r.promise}function f1(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var mA=new Map;function p1(t,e,n){if(!n)throw new W(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N4(t,e,n,r){if(e===!0&&r===!0)throw new W(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gA(t){if(!ee.isDocumentKey(t))throw new W(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yA(t){if(ee.isDocumentKey(t))throw new W(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Qt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=gf(t);throw new W(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Xh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},na=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new X_;switch(r.type){case"firstParty":return new rv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=mA.get(n);r&&(Y("ComponentProvider","Removing Datastore"),mA.delete(n),r.terminate())}(this),Promise.resolve()}};function m1(t,e,n,r={}){var i;let o=(t=Qt(t,na))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ht.MOCK_USER;else{a=Qd(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new W(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ht(l)}t._authCredentials=new ev(new Mh(a,u))}}var Mo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},xt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ti=class t extends Mo{constructor(e,n,r){super(e,n,lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ee(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function sa(t,e,...n){if(t=Le(t),p1("collection","path",e),t instanceof na){let r=Ge.fromString(e,...n);return yA(r),new Ti(t,null,r)}{if(!(t instanceof xt||t instanceof Ti))throw new W(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ge.fromString(e,...n));return yA(r),new Ti(t.firestore,null,r)}}function Rt(t,e,...n){if(t=Le(t),arguments.length===1&&(e=Rh.newId()),p1("doc","path",e),t instanceof na){let r=Ge.fromString(e,...n);return gA(r),new xt(t,null,new ee(r))}{if(!(t instanceof xt||t instanceof Ti))throw new W(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ge.fromString(e,...n));return gA(r),new xt(t.firestore,t instanceof Ti?t.converter:null,new ee(r))}}var ef=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zh(this,"async_queue_retry"),this.Vu=()=>{let r=J_();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=J_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=J_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Pn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return v(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pu(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw $r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=h0.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}wu(){return v(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function _A(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Fn=class extends na{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ef,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ef(e),this._firestoreClient=void 0,yield e}})}};function an(t,e){let n=typeof t=="object"?t:Ii(),r=typeof t=="string"?t:e||"(default)",i=co(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Kd("firestore");o&&m1(i,...o)}return i}function yf(t){if(t._terminated)throw new W(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||O4(t),t._firestoreClient}function O4(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new cv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,f1(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new E0(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var au=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Mt.fromBase64String(e))}catch(n){throw new W(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ra=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cu=class{constructor(e){this._methodName=e}};var uu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}};var lu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var F4=/^__.*__$/,I0=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new xo(e,this.data,n,this.fieldTransforms)}},tf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function g1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var b0=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(g1(this.Cu)&&F4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},C0=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}Qu(e,n,r,i=!1){return new b0({Cu:e,methodName:n,qu:r,path:sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _f(t){let e=t._freezeSettings(),n=ff(t._databaseId);return new C0(t._databaseId,!!e.ignoreUndefinedProperties,n)}function y1(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);W0("Data must be an object, but it was:",s,r);let a=_1(r,s),u,l;if(o.merge)u=new _n(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=D0(e,p,n);if(!s.contains(g))throw new W(V.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);w1(h,g)||h.push(g)}u=new _n(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new I0(new on(a),u,l)}var nf=class t extends cu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function k4(t,e,n,r){let i=t.Qu(1,e,n);W0("Data must be an object, but it was:",i,r);let o=[],s=on.empty();Ro(r,(u,l)=>{let h=K0(e,u,n);l=Le(l);let p=i.Nu(h);if(l instanceof nf)o.push(h);else{let g=yu(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new _n(o);return new tf(s,a,i.fieldTransforms)}function V4(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[D0(e,r,n)],u=[i];if(o.length%2!=0)throw new W(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(D0(e,o[g])),u.push(o[g+1]);let l=[],h=on.empty();for(let g=a.length-1;g>=0;--g)if(!w1(l,a[g])){let E=a[g],M=u[g];M=Le(M);let O=s.Nu(E);if(M instanceof nf)l.push(E);else{let F=yu(M,O);F!=null&&(l.push(E),h.set(E,F))}}let p=new _n(l);return new tf(h,p,s.fieldTransforms)}function L4(t,e,n,r=!1){return yu(n,t.Qu(r?4:3,e))}function yu(t,e){if(v1(t=Le(t)))return W0("Unsupported field value:",e,t),_1(t,e);if(t instanceof cu)return function(r,i){if(!g1(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=yu(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return I3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=_t.fromDate(r);return{timestampValue:Bh(i.serializer,o)}}if(r instanceof _t){let o=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bh(i.serializer,o)}}if(r instanceof uu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof au)return{bytesValue:zA(i.serializer,r._byteString)};if(r instanceof xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:V0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return k0(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${gf(r)}`)}(t,e)}function _1(t,e){let n={};return IA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,(r,i)=>{let o=yu(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function v1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof uu||t instanceof au||t instanceof xt||t instanceof cu||t instanceof lu)}function W0(t,e,n){if(!v1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=gf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function D0(t,e,n){if((e=Le(e))instanceof ra)return e._internalPath;if(typeof e=="string")return K0(t,e);throw rf("Field path arguments must be of type string or ",t,!1,void 0,n)}var U4=new RegExp("[~\\*/\\[\\]]");function K0(t,e,n){if(e.search(U4)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ra(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(V.INVALID_ARGUMENT,a+t+u)}function w1(t,e){return t.some(n=>n.isEqual(e))}var of=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new T0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Q0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},T0=class extends of{data(){return super.data()}};function Q0(t,e){return typeof e=="string"?K0(t,e):e instanceof ra?e._internalPath:e._delegate._internalPath}function E1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var du=class{},S0=class extends du{};function I1(t,e,...n){let r=[];e instanceof du&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof A0).length,a=o.filter(u=>u instanceof sf).length;if(s>1||s>0&&a>0)throw new W(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var sf=class t extends S0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return C1(e._query,n),new Mo(e.firestore,e.converter,Ev(e._query,n))}_parse(e){let n=_f(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wA(p,h);let E=[];for(let M of p)E.push(vA(u,o,M));g={arrayValue:{values:E}}}else g=vA(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wA(p,h),g=L4(a,s,p,h==="in"||h==="not-in");return at.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function b1(t,e,n){let r=e,i=Q0("where",t);return sf._create(i,r,n)}var A0=class t extends du{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:On.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)C1(s,u),s=Ev(s,u)}(e._query,n),new Mo(e.firestore,e.converter,Ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function vA(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new W(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RA(e)&&n.indexOf("/")!==-1)throw new W(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ge.fromString(n));if(!ee.isDocumentKey(r))throw new W(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qS(t,new ee(r))}if(n instanceof xt)return qS(t,n._key);throw new W(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(n)}.`)}function wA(t,e){if(!Array.isArray(t)||t.length===0)throw new W(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C1(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var x0=class{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ro(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ze(s.doubleValue));return new lu(o)}convertGeoPoint(e){return new uu(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=P0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){let n=Hr(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ge.fromString(e);ke(JA(r));let i=new Fh(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||$r(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function D1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Io=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},af=class extends of{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new qs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Q0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},qs=class extends af{data(e={}){return super.data(e)}},cf=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Io(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qs(this._firestore,this._userDataWriter,r.key,r,new Io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new qs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new qs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:j4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function j4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}function kn(t){t=Qt(t,xt);let e=Qt(t.firestore,Fn);return R4(yf(e),t._key).then(n=>A1(e,t,n))}var hu=class extends x0{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}};function aa(t){t=Qt(t,Mo);let e=Qt(t.firestore,Fn),n=yf(e),r=new hu(e);return E1(t._query),P4(n,t._query).then(i=>new cf(e,r,t,i))}function _u(t,e,n){t=Qt(t,xt);let r=Qt(t.firestore,Fn),i=D1(t.converter,e,n);return wf(r,[y1(_f(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ur.none())])}function vf(t,e,n,...r){t=Qt(t,xt);let i=Qt(t.firestore,Fn),o=_f(i),s;return s=typeof(e=Le(e))=="string"||e instanceof ra?V4(o,"updateDoc",t._key,e,n,r):k4(o,"updateDoc",t._key,e),wf(i,[s.toMutation(t._key,ur.exists(!0))])}function T1(t){return wf(Qt(t.firestore,Fn),[new eu(t._key,ur.none())])}function S1(t,e){let n=Qt(t.firestore,Fn),r=Rt(t),i=D1(t.converter,e);return wf(n,[y1(_f(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function Y0(t,...e){var n,r,i;t=Le(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||_A(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(_A(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof xt)l=Qt(t.firestore,Fn),h=lf(t._key.path),u={next:p=>{e[s]&&e[s](A1(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Qt(t,Mo);l=Qt(p.firestore,Fn),h=p._query;let g=new hu(l);u={next:E=>{e[s]&&e[s](new cf(l,g,p,E))},error:e[s+1],complete:e[s+2]},E1(t._query)}return function(g,E,M,O){let F=new su(O),j=new ou(E,F,M);return g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return H0(yield Zh(g),j)})),()=>{F.Za(),g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return q0(yield Zh(g),j)}))}}(yf(l),h,a,u)}function wf(t,e){return function(r,i){let o=new Pn;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return w4(yield M4(r),i,o)})),o.promise}(yf(t),e)}function A1(t,e,n){let r=n.docs.get(e._key),i=new hu(t);return new af(t,i,e._key,r,new Io(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ia=i})(tr),er(new Kt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Fn(new tv(r.getProvider("auth-internal")),new ov(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qe(jS,"4.7.3",e),Qe(jS,"4.7.3","esm2017")})();var Ef=function(){return Ef=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ef.apply(this,arguments)};var H4={includeMetadataChanges:!1};function x1(t,e){return e===void 0&&(e=H4),new ge(function(n){var r=Y0(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function M1(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Ef(Ef({},r),(n={},n[e.idField]=t.id,n))}function R1(t){return x1(t,{includeMetadataChanges:!0}).pipe(me(function(e){return e.docs}))}function P1(t,e){return e===void 0&&(e={}),R1(t).pipe(me(function(n){return n.map(function(r){return M1(r,e)})}))}var Vn=class{constructor(e){return e}},N1="firestore",J0=class{constructor(){return Nc(N1)}};var Z0=new re("angularfire2.firestore-instances");function q4(t,e){let n=eh(N1,t,e);return n&&new Vn(n)}function z4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vn(r)}}var G4={provide:J0,deps:[[new kt,Z0]]},W4={provide:Vn,useFactory:q4,deps:[[new kt,Z0],Vr]};function O1(t,...e){return Qe("angularfire",ho.full,"fst"),Wn([W4,G4,{provide:Z0,useFactory:z4(t),multi:!0,deps:[Ve,pn,Ns,fo,[new kt,Hc],[new kt,Ps],...e]}])}var vu=yt(P1,!0);var If=yt(S1,!0);var Ln=yt(sa,!0);var F1=yt(T1,!0);var cn=yt(Rt,!0);var No=yt(kn,!0);var ca=yt(aa,!0);var k1=yt(an,!0);var zr=yt(I1,!0);var ua=yt(vf,!0);var jt=yt(b1,!0);var K4=t=>({"no-scroll":t});function Q4(t,e){t&1&&(y(0,"button",14),T(1,"USUARIOS"),_())}function Y4(t,e){t&1&&(y(0,"button",15),T(1,"MI PERFIL"),_())}function J4(t,e){t&1&&(y(0,"button",16),T(1,"MIS TURNOS"),_())}function Z4(t,e){t&1&&(y(0,"button",16),T(1,"MIS TURNOS"),_())}function X4(t,e){t&1&&(y(0,"button",17),T(1,"SACAR TURNO"),_())}function e$(t,e){t&1&&(y(0,"button",18),T(1,"TURNOS"),_())}var V1=(()=>{let e=class e{constructor(r,i){this.router=r,this.renderer=i,this.title="rutas",this.isLoggedIn=!1,this.esAdmin=!1,this.esEspecialista=!1,this.esPaciente=!1}ngOnInit(){let r=dt(),i=an();_o(r,o=>v(this,null,function*(){if(this.isLoggedIn=!!o,o){let s=yield kn(Rt(i,"administradores",o.uid));this.esAdmin=s.exists();let a=yield kn(Rt(i,"especialistas",o.uid));this.esEspecialista=a.exists(),this.esPaciente=!this.esAdmin&&!this.esEspecialista}else this.esAdmin=!1,this.esEspecialista=!1,this.esPaciente=!1})),this.router.events.subscribe(()=>{["/misTurnos","/sacarTurno","/miPerfil","/usuarios","/turnos"].includes(this.router.url)?this.renderer.addClass(document.body,"fondo-azul-oscuro"):this.renderer.removeClass(document.body,"fondo-azul-oscuro")})}setLoginStatus(r){this.isLoggedIn=r}logout(){let r=dt();Ih(r).then(()=>{this.isLoggedIn=!1,this.router.navigate(["/login"])}).catch(i=>{console.error("Error al cerrar sesi\xF3n: ",i)})}updateLoginStatus(r){this.isLoggedIn=r}get isLoginOrRegister(){return this.router.url==="/login"||this.router.url==="/registro"}redirigirALogin(){this.isLoggedIn?this.logout():this.router.navigate(["/login"])}};e.\u0275fac=function(i){return new(i||e)(B(Wt),B(tn))},e.\u0275cmp=nt({type:e,selectors:[["app-root"]],standalone:!0,features:[it],decls:20,vars:10,consts:[[3,"ngClass"],[1,"nav"],[1,"button-group"],["routerLink","home","routerLinkActive","active-route"],["routerLink","usuarios","routerLinkActive","active-route",4,"ngIf"],["routerLink","miPerfil","routerLinkActive","active-route",4,"ngIf"],["routerLink","misTurnos","routerLinkActive","active-route",4,"ngIf"],["routerLink","sacarTurno","routerLinkActive","active-route",4,"ngIf"],["routerLink","turnos","routerLinkActive","active-route",4,"ngIf"],[1,"menu-icon-container"],[1,"menu-icon-button",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FLogin.png?alt=media&token=67d89f2f-0da4-4f56-92e0-1e8137b2d9d9","alt","Login Icono",1,"menu-icon-image"],[1,"login-text"],[1,"form-container1"],["routerLink","usuarios","routerLinkActive","active-route"],["routerLink","miPerfil","routerLinkActive","active-route"],["routerLink","misTurnos","routerLinkActive","active-route"],["routerLink","sacarTurno","routerLinkActive","active-route"],["routerLink","turnos","routerLinkActive","active-route"]],template:function(i,o){i&1&&(y(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),T(5,"INICIO"),_(),J(6,Q4,2,0,"button",4)(7,Y4,2,0,"button",5)(8,J4,2,0,"button",6)(9,Z4,2,0,"button",6)(10,X4,2,0,"button",7)(11,e$,2,0,"button",8),_(),y(12,"div",9)(13,"button",10),z("click",function(){return o.redirigirALogin()}),ie(14,"img",11),y(15,"span",12),T(16),_()()()(),y(17,"div",13),ie(18,"router-outlet"),_(),ie(19,"router-outlet"),_()()),i&2&&(S(),k("ngClass",WC(8,K4,o.isLoginOrRegister)),S(5),k("ngIf",o.esAdmin),S(),k("ngIf",o.esEspecialista),S(),k("ngIf",o.esEspecialista),S(),k("ngIf",o.esPaciente),S(),k("ngIf",o.esPaciente),S(),k("ngIf",o.esAdmin),S(5),ve(o.isLoggedIn?"Salir":"Login"))},dependencies:[Ny,Hd,aT,Lt,pD,Gt],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:100vh;overflow-x:hidden}.form-container[_ngcontent-%COMP%], .form-container1[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:50px}.login-button-container[_ngcontent-%COMP%], .logout-button-container[_ngcontent-%COMP%], .register-button-container[_ngcontent-%COMP%]{position:absolute;top:10px}.button-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;position:relative;top:0;left:0}button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;background-color:#fff;margin:0 10px;color:#000;font-size:20px}button[_ngcontent-%COMP%]:hover{color:#00618a}.nav[_ngcontent-%COMP%]{width:100%;background-color:#fff;min-height:75px;box-shadow:0 4px 6px #0000001a;position:fixed;top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:space-between;font-family:Roboto,sans-serif;padding:0}.menu-icon-container[_ngcontent-%COMP%]{display:flex;align-items:center}.menu-icon[_ngcontent-%COMP%]{cursor:pointer;width:80px}.menu-icon-button[_ngcontent-%COMP%]{background-color:#fff;border:none;cursor:pointer;padding:12px 28px;border-radius:25px;display:flex;align-items:center;font-size:20px;font-weight:600;transition:background-color .3s,transform .3s;gap:10px}.menu-icon-button[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff;transform:scale(1.05)}.menu-icon-image[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain;transition:transform .3s}.menu-icon-button[_ngcontent-%COMP%]:hover   .menu-icon-image[_ngcontent-%COMP%]{transform:rotate(15deg)}.login-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;margin-left:8px}"]});let t=e;return t})();var L1=(()=>{let e=class e{constructor(r){this.router=r}};e.\u0275fac=function(i){return new(i||e)(B(Wt))},e.\u0275cmp=nt({type:e,selectors:[["app-home"]],standalone:!0,features:[it],decls:50,vars:0,consts:[["href",Kb`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"home-container"],[1,"header"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FBartel%20Clinica.png?alt=media&token=41b6210c-7e30-4924-af2b-42c8ed20a25c","alt","Logo de la Cl\xEDnica",1,"logo"],[1,"welcome-section"],[1,"differentiators-section"],[1,"cards-container"],[1,"card"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2Fatencion-personaliz.png?alt=media&token=577d5e14-8708-4c22-bdb0-ab1df0dcb1c9","alt","Atenci\xF3n Personalizada",1,"card-image"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FIngreso%20inmediato.png?alt=media&token=03e81afb-c196-4ab4-ac8b-f5541b246920","alt","Acceso Inmediato",1,"card-image"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Home%2FProfesionales.png?alt=media&token=8a137d64-eac6-4c96-af57-fe6c5d85b39b","alt","Profesionales de Confianza",1,"card-image"],[1,"info-bar"],[1,"info-item"],[1,"footer"]],template:function(i,o){i&1&&(ie(0,"link",0),y(1,"div",1)(2,"header",2),ie(3,"img",3),_(),y(4,"section",4)(5,"h1"),T(6,"Bienvenido a la Cl\xEDnica Bartel"),_(),y(7,"p"),T(8," Nos dedicamos a proporcionar servicios de salud de alta calidad con acceso f\xE1cil y r\xE1pido a m\xE9dicos profesionales. "),_()(),y(9,"section",5)(10,"h2"),T(11,"\xBFQu\xE9 nos diferencia?"),_(),y(12,"div",6)(13,"div",7)(14,"h3"),T(15,"Atenci\xF3n Personalizada"),_(),y(16,"p"),T(17,"Nos enfocamos en cada paciente con un trato especial y \xFAnico, podras gestionar tus turnos como tener tu ficha medica cuando quieras."),_(),ie(18,"img",8),_(),y(19,"div",7)(20,"h3"),T(21,"Acceso Inmediato"),_(),y(22,"p"),T(23,"Reserva tus consultas de forma r\xE1pida y desde cualquier dispositivo a cualquiera hora, desde donde sea, con el profesional que desees."),_(),ie(24,"img",9),_(),y(25,"div",7)(26,"h3"),T(27,"Profesionales de Confianza"),_(),y(28,"p"),T(29,"Un equipo m\xE9dico de alto nivel y con experiencia en el rubro te pueden dar la tranquilidad de que estas en el lugar indicado."),_(),ie(30,"img",10),_()()(),y(31,"section",11)(32,"div",12)(33,"p"),T(34,"+15"),_(),y(35,"h4"),T(36,"A\xF1os en el rubro"),_()(),y(37,"div",12)(38,"p"),T(39,"+25.000"),_(),y(40,"h4"),T(41,"Pacientes Atendidos"),_()(),y(42,"div",12)(43,"p"),T(44,"+50"),_(),y(45,"h4"),T(46,"Profesionales"),_()()()(),y(47,"footer",13)(48,"p"),T(49,"\xA9 2024 Clinica Bartel. Todos los derechos reservados."),_()())},styles:['.home-container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;color:#fff;background-color:#1a1a2e;padding:20px;font-family:Roboto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]{width:100px;margin-top:20px}.welcome-section[_ngcontent-%COMP%]{text-align:left;margin-left:5%;margin-bottom:50px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;margin-bottom:10px}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:1.5}.differentiators-section[_ngcontent-%COMP%]{margin-bottom:50px}.differentiators-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:28px;margin-bottom:20px;position:relative}.differentiators-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";display:block;width:50px;height:4px;background-color:#00bccd;margin:8px auto 0;border-radius:2px}.cards-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:15px}.card[_ngcontent-%COMP%]{background-color:#0f3460;padding:20px;border-radius:8px;width:30%;text-align:center;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 15px #0000004d}.card-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:4px}.info-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;background-color:#16213e;padding:15px;margin-top:20px;border-radius:8px}.info-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin:0}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:5px 0}.footer[_ngcontent-%COMP%]{width:100%;background-color:#1a1a2e;padding:20px;display:flex;flex-direction:column;align-items:center;color:#fff;font-family:Roboto}.copyright[_ngcontent-%COMP%]{margin:0;font-size:16px;text-align:center}.contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10px}.contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00bcd4;text-decoration:none}.contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']});let t=e;return t})();var U1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nt({type:e,selectors:[["app-page-not-found"]],standalone:!0,features:[it],decls:0,vars:0,template:function(i,o){}});let t=e;return t})();var Q1=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(tn),B(Vt))},e.\u0275dir=Fe({type:e});let t=e;return t})(),Rf=(()=>{let e=class e extends Q1{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(e)))(o||e)}})(),e.\u0275dir=Fe({type:e,features:[qt]});let t=e;return t})(),ha=new re("");var t$={provide:ha,useExisting:hn(()=>pr),multi:!0};function n$(){let t=Nr()?Nr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var r$=new re(""),pr=(()=>{let e=class e extends Q1{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!n$())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(tn),B(Vt),B(r$,8))},e.\u0275dir=Fe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&z("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Qn([t$]),qt]});let t=e;return t})();function Mi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Y1(t){return t!=null&&typeof t.length=="number"}var bu=new re(""),Pf=new re(""),i$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Oo=class{static min(e){return o$(e)}static max(e){return s$(e)}static required(e){return J1(e)}static requiredTrue(e){return a$(e)}static email(e){return c$(e)}static minLength(e){return u$(e)}static maxLength(e){return l$(e)}static pattern(e){return d$(e)}static nullValidator(e){return Cf(e)}static compose(e){return rx(e)}static composeAsync(e){return ix(e)}};function o$(t){return e=>{if(Mi(e.value)||Mi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function s$(t){return e=>{if(Mi(e.value)||Mi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function J1(t){return Mi(t.value)?{required:!0}:null}function a$(t){return t.value===!0?null:{required:!0}}function c$(t){return Mi(t.value)||i$.test(t.value)?null:{email:!0}}function u$(t){return e=>Mi(e.value)||!Y1(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function l$(t){return e=>Y1(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function d$(t){if(!t)return Cf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Mi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Cf(t){return null}function Z1(t){return t!=null}function X1(t){return eo(t)?He(t):t}function ex(t){let e={};return t.forEach(n=>{e=n!=null?$($({},e),n):e}),Object.keys(e).length===0?null:e}function tx(t,e){return e.map(n=>n(t))}function h$(t){return!t.validate}function nx(t){return t.map(e=>h$(e)?e:n=>e.validate(n))}function rx(t){if(!t)return null;let e=t.filter(Z1);return e.length==0?null:function(n){return ex(tx(n,e))}}function nw(t){return t!=null?rx(nx(t)):null}function ix(t){if(!t)return null;let e=t.filter(Z1);return e.length==0?null:function(n){let r=tx(n,e).map(X1);return Fp(r).pipe(me(ex))}}function rw(t){return t!=null?ix(nx(t)):null}function j1(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ox(t){return t._rawValidators}function sx(t){return t._rawAsyncValidators}function X0(t){return t?Array.isArray(t)?t:[t]:[]}function Df(t,e){return Array.isArray(t)?t.includes(e):t===e}function B1(t,e){let n=X0(e);return X0(t).forEach(i=>{Df(n,i)||n.push(i)}),n}function $1(t,e){return X0(e).filter(n=>!Df(t,n))}var Tf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Gr=class extends Tf{get formDirective(){return null}get path(){return null}},Fo=class extends Tf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Sf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},f$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},pZ=Te($({},f$),{"[class.ng-submitted]":"isSubmitted"}),vn=(()=>{let e=class e extends Sf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Fo,2))},e.\u0275dir=Fe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Ed("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[qt]});let t=e;return t})(),mr=(()=>{let e=class e extends Sf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Gr,10))},e.\u0275dir=Fe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Ed("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[qt]});let t=e;return t})();var wu="VALID",bf="INVALID",la="PENDING",Eu="DISABLED";function iw(t){return(Nf(t)?t.validators:t)||null}function p$(t){return Array.isArray(t)?nw(t):t||null}function ow(t,e){return(Nf(e)?e.asyncValidators:t)||null}function m$(t){return Array.isArray(t)?rw(t):t||null}function Nf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ax(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new X(1e3,"");if(!r[n])throw new X(1001,"")}function cx(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new X(1002,"")})}var da=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wu}get invalid(){return this.status===bf}get pending(){return this.status==la}get disabled(){return this.status===Eu}get enabled(){return this.status!==Eu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(B1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(B1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($1(e,this._rawAsyncValidators))}hasValidator(e){return Df(this._rawValidators,e)}hasAsyncValidator(e){return Df(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=la,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Eu,this.errors=null,this._forEachChild(r=>{r.disable(Te($({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Te($({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=wu,this._forEachChild(r=>{r.enable(Te($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Te($({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wu||this.status===la)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Eu:wu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=la,this._hasOwnPendingAsyncValidator=!0;let n=X1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?Eu:this.errors?bf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(la)?la:this._anyControlsHaveStatus(bf)?bf:wu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=p$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=m$(this._rawAsyncValidators)}},Ri=class extends da{constructor(e,n,r){super(iw(n),ow(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){cx(this,!0,e),Object.keys(e).forEach(r=>{ax(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ew=class extends Ri{};var Cu=new re("CallSetDisabledState",{providedIn:"root",factory:()=>Of}),Of="always";function ux(t,e){return[...e.path,t]}function Af(t,e,n=Of){sw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),y$(t,e),v$(t,e),_$(t,e),g$(t,e)}function H1(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function xf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function g$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function sw(t,e){let n=ox(t);e.validator!==null?t.setValidators(j1(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=sx(t);e.asyncValidator!==null?t.setAsyncValidators(j1(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();xf(e._rawValidators,i),xf(e._rawAsyncValidators,i)}function Mf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=ox(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=sx(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return xf(e._rawValidators,r),xf(e._rawAsyncValidators,r),n}function y$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&lx(t,e)})}function _$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&lx(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function lx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function v$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function dx(t,e){t==null,sw(t,e)}function w$(t,e){return Mf(t,e)}function hx(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function E$(t){return Object.getPrototypeOf(t.constructor)===Rf}function fx(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function px(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===pr?n=o:E$(o)?r=o:i=o}),i||r||n||null}function I$(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var b$={provide:Gr,useExisting:hn(()=>ko)},Iu=Promise.resolve(),ko=(()=>{let e=class e extends Gr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new qe,this.form=new Ri({},nw(r),rw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Iu.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Af(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Iu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Iu.then(()=>{let i=this._findContainer(r.path),o=new Ri({});dx(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Iu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Iu.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,fx(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(B(bu,10),B(Pf,10),B(Cu,8))},e.\u0275dir=Fe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&z("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[Xe.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qn([b$]),qt]});let t=e;return t})();function q1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function z1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var fr=class extends da{constructor(e=null,n,r){super(iw(n),ow(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(z1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){q1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){q1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){z1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var C$=t=>t instanceof fr;var D$={provide:Fo,useExisting:hn(()=>Un)},G1=Promise.resolve(),Un=(()=>{let e=class e extends Fo{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new fr,this._registered=!1,this.name="",this.update=new qe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=px(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),hx(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Af(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){G1.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&mi(i);G1.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?ux(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(Gr,9),B(bu,10),B(Pf,10),B(ha,10),B(pi,8),B(Cu,8))},e.\u0275dir=Fe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Xe.None,"disabled","isDisabled"],model:[Xe.None,"ngModel","model"],options:[Xe.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qn([D$]),qt,Mn]});let t=e;return t})(),gr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Fe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),T$={provide:ha,useExisting:hn(()=>Du),multi:!0},Du=(()=>{let e=class e extends Rf{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(e)))(o||e)}})(),e.\u0275dir=Fe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&z("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Qn([T$]),qt]});let t=e;return t})();var mx=new re("");var S$={provide:Gr,useExisting:hn(()=>Tu)},Tu=(()=>{let e=class e extends Gr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Af(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){H1(r.control||null,r,!1),I$(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,fx(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(H1(i||null,r),C$(o)&&(Af(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);dx(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&w$(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sw(this.form,this),this._oldForm&&Mf(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(B(bu,10),B(Pf,10),B(Cu,8))},e.\u0275dir=Fe({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&z("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[Xe.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qn([S$]),qt,Mn]});let t=e;return t})();var A$={provide:Fo,useExisting:hn(()=>Su)},Su=(()=>{let e=class e extends Fo{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new qe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=px(this,s)}ngOnChanges(r){this._added||this._setUpControl(),hx(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return ux(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(B(Gr,13),B(bu,10),B(Pf,10),B(ha,10),B(mx,8))},e.\u0275dir=Fe({type:e,selectors:[["","formControlName",""]],inputs:{name:[Xe.None,"formControlName","name"],isDisabled:[Xe.None,"disabled","isDisabled"],model:[Xe.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Qn([A$]),qt,Mn]});let t=e;return t})(),x$={provide:ha,useExisting:hn(()=>fa),multi:!0};function gx(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function M$(t){return t.split(":")[0]}var fa=(()=>{let e=class e extends Rf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=gx(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=M$(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(e)))(o||e)}})(),e.\u0275dir=Fe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&z("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qn([x$]),qt]});let t=e;return t})(),Ff=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(gx(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(Vt),B(tn),B(fa,9))},e.\u0275dir=Fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),R$={provide:ha,useExisting:hn(()=>kf),multi:!0};function W1(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function P$(t){return t.split(":")[0]}var kf=(()=>{let e=class e extends Rf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=P$(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(e)))(o||e)}})(),e.\u0275dir=Fe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&z("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qn([R$]),qt]});let t=e;return t})(),Vf=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(W1(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(W1(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(Vt),B(tn),B(kf,9))},e.\u0275dir=Fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var N$=(()=>{let e=class e{constructor(){this._validator=Cf}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Cf,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Fe({type:e,features:[Mn]});let t=e;return t})();var O$={provide:bu,useExisting:hn(()=>Vo),multi:!0};var Vo=(()=>{let e=class e extends N${constructor(){super(...arguments),this.inputName="required",this.normalizeInput=mi,this.createValidator=r=>J1}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(e)))(o||e)}})(),e.\u0275dir=Fe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&oc("required",o._enabled?"":null)},inputs:{required:"required"},features:[Qn([O$]),qt]});let t=e;return t})();var yx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=li({type:e}),e.\u0275inj=ui({});let t=e;return t})(),tw=class extends da{constructor(e,n,r){super(iw(n),ow(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){cx(this,!1,e),e.forEach((r,i)=>{ax(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function K1(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Lf=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return K1(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Ri(o,s)}record(r,i=null){let o=this._reduceControls(r);return new ew(o,i)}control(r,i,o){let s={};return this.useNonNullable?(K1(i)?s=i:(s.validators=i,s.asyncValidators=o),new fr(r,Te($({},s),{nonNullable:!0}))):new fr(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new tw(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof fr)return r;if(r instanceof da)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yr=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Cu,useValue:r.callSetDisabledState??Of}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=li({type:e}),e.\u0275inj=ui({imports:[yx]});let t=e;return t})(),Uf=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:mx,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Cu,useValue:r.callSetDisabledState??Of}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=li({type:e}),e.\u0275inj=ui({imports:[yx]});let t=e;return t})();var Au={apiKey:"AIzaSyAN3xGlyc729QZpxcNoITDpE5Oweb-85tQ",authDomain:"tpclinica-bartel.firebaseapp.com",projectId:"tpclinica-bartel",storageBucket:"tpclinica-bartel.appspot.com",messagingSenderId:"775881613005",appId:"1:775881613005:web:3b1c96b34693b512a59384"},_Z=uo(Au);function F$(t,e){if(t&1&&(y(0,"div",24),T(1),_()),t&2){let n=N();S(),ve(n.errorMessage)}}var _x=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new qe,this.username="",this.password="",this.errorMessage="",this.app=uo(Au),this.auth=dt(this.app),this.db=an(this.app)}fillPaciente1(){this.username="manuelPaciente1@gmail.com",this.password="paciente123"}fillPaciente2(){this.username="juanPaciente2@gmail.com",this.password="paciente123"}fillPaciente3(){this.username="carlosPaciente3@gmail.com",this.password="paciente123"}fillEspecialista1(){this.username="matiasMedico@gmail.com",this.password="123456"}fillEspecialista2(){this.username="especialistaJuan@gmail.com",this.password="juan123"}fillAdmin(){this.username="admin@correo.com",this.password="admin123"}onSubmit(){return v(this,null,function*(){try{let i=(yield wh(this.auth,this.username,this.password)).user,o=Rt(this.db,"especialistas",i.uid),s=Rt(this.db,"pacientes",i.uid),a=Rt(this.db,"administradores",i.uid),[u,l,h]=yield Promise.all([kn(o),kn(s),kn(a)]);if(u.exists())u.data().aprobado?(this.router.navigate(["/miPerfil"]),this.loginStatusChange.emit(!0)):(this.errorMessage="Tu cuenta de especialista a\xFAn no fue habilitada por un administrador.",this.loginStatusChange.emit(!1));else if(l.exists()){let p=l.data();this.router.navigate(["/sacarTurno"]),this.loginStatusChange.emit(!0)}else if(h.exists()){let p=h.data();this.router.navigate(["/usuarios"]),this.loginStatusChange.emit(!0)}else this.errorMessage="No se encontr\xF3 el usuario en la base de datos.",this.loginStatusChange.emit(!1)}catch(r){switch(r.code){case"auth/user-not-found":case"auth/wrong-password":this.errorMessage="Correo o contrase\xF1a incorrecta.";break;case"auth/invalid-email":this.errorMessage="Formato de correo inv\xE1lido.";break;case"auth/invalid-credential":this.errorMessage="Usuario inexistente";break;default:this.errorMessage="Error al iniciar sesi\xF3n. Intenta nuevamente."}console.error("Error en login:",r),this.loginStatusChange.emit(!1)}})}};e.\u0275fac=function(i){return new(i||e)(B(Wt))},e.\u0275cmp=nt({type:e,selectors:[["app-login"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[it],decls:34,vars:3,consts:[[1,"login-container"],[1,"titulo"],[3,"submit"],[1,"input-container"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Login%2FCorreo.png?alt=media&token=19f459bf-e240-4ffb-9768-9364b4a948ec","alt","user-icon",1,"input-icon"],["type","text","name","usuario","placeholder","Correo electr\xF3nico","required","",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Login%2FCandadoW.png?alt=media&token=2f6f1f2f-4fb8-4c41-91d5-60a9ff3fa99f","alt","password-icon",1,"input-icon"],["type","password","name","correo","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"buttons-container"],["type","submit"],[1,"acceso-rapido"],["for","acceso-rapido",1,"acceso-rapido-label"],[1,"acceso-rapido-row"],[1,"acceso-rapido-btn","paciente",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente 1",1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente 2",1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente 3",1,"logo"],[1,"acceso-rapido-btn","especialista",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Especialista 1",1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Especialista 2",1,"logo"],[1,"acceso-rapido-btn","admin",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Admin",1,"logo"],["href","/registro",1,"register-link"],[1,"error-message"]],template:function(i,o){i&1&&(y(0,"body")(1,"div",0)(2,"h2",1),T(3,"INICIAR SESION"),_(),y(4,"form",2),z("submit",function(){return o.onSubmit()}),y(5,"div",3),ie(6,"img",4),y(7,"input",5),Ae("ngModelChange",function(a){return Me(o.username,a)||(o.username=a),a}),_()(),y(8,"div",3),ie(9,"img",6),y(10,"input",7),Ae("ngModelChange",function(a){return Me(o.password,a)||(o.password=a),a}),_()(),J(11,F$,2,1,"div",8),y(12,"div",9)(13,"button",10),T(14,"Iniciar Sesi\xF3n"),_()()(),y(15,"div",11)(16,"label",12),T(17,"Accesos R\xE1pidos"),_(),y(18,"div",13)(19,"button",14),z("click",function(){return o.fillPaciente1()}),ie(20,"img",15),_(),y(21,"button",14),z("click",function(){return o.fillPaciente2()}),ie(22,"img",16),_(),y(23,"button",14),z("click",function(){return o.fillPaciente3()}),ie(24,"img",17),_()(),y(25,"div",13)(26,"button",18),z("click",function(){return o.fillEspecialista1()}),ie(27,"img",19),_(),y(28,"button",18),z("click",function(){return o.fillEspecialista2()}),ie(29,"img",20),_(),y(30,"button",21),z("click",function(){return o.fillAdmin()}),ie(31,"img",22),_()()(),y(32,"a",23),T(33,"Quiero registrarme"),_()()()),i&2&&(S(7),Se("ngModel",o.username),S(3),Se("ngModel",o.password),S(),k("ngIf",o.errorMessage))},dependencies:[yr,gr,pr,vn,mr,Vo,Un,ko,Lt,Gt],styles:['@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3GUBGEe.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3iUBGEe.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3CUBGEe.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3-UBGEe.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMawCUBGEe.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMaxKUBGEe.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3OUBGEe.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3KUBGEe.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v48/KFO7CnqEu92Fr1ME7kSn66aGLdTylUAMa3yUBA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;width:100%;overflow-y:hidden}body[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/General%2FHospital%20Bartel.jpeg?alt=media&token=3f838801-78f3-4374-86e0-db83ab37e701);background-size:cover;background-position:center;background-attachment:fixed;display:flex;justify-content:center;align-items:center;height:100vh;width:100vw;overflow-y:hidden}.login-container[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:40px;background-color:#16243e;border-radius:10px;box-shadow:0 8px 20px #0000004d;text-align:center;font-family:Roboto;overflow-y:hidden}.titulo[_ngcontent-%COMP%]{font-size:26px;font-weight:700;color:#fff;margin-bottom:30px;font-family:Roboto}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:25px;border-bottom:2px solid #00bccd;padding-bottom:8px}.input-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:12px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{flex:1;padding:10px;border:none;font-size:16px;background-color:transparent;color:#fff;font-family:Roboto,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{outline:none}.error-message[_ngcontent-%COMP%]{color:#ff4d4d;font-size:14px;margin-bottom:15px;font-family:Roboto,sans-serif}.buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-bottom:20px}button[_ngcontent-%COMP%]{background-color:#1bb3c1;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;width:100%;font-family:Roboto,sans-serif;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#006aff}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.quick-access[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15px}.quick-access[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48%;background-color:#6e6e6e;font-family:Roboto,sans-serif}.quick-access[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#454545}.register-link[_ngcontent-%COMP%]{color:#00bccd;text-decoration:none;font-size:16px;font-weight:700;display:block;margin-top:20px;transition:color .3s;font-family:Roboto,sans-serif}.register-link[_ngcontent-%COMP%]:hover{color:#007bff}.acceso-rapido[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;align-items:center}.acceso-rapido-label[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;margin-bottom:10px;color:#fff}.acceso-rapido-row[_ngcontent-%COMP%]{display:flex;gap:20px}.acceso-rapido-btn[_ngcontent-%COMP%]{width:60px;height:60px;background-color:transparent;border:2px solid #fff;border-radius:10px;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:transform .3s ease-in-out,background-color .3s ease;box-shadow:0 4px 8px #0003}.acceso-rapido-btn[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;transition:transform .3s ease-in-out}.paciente[_ngcontent-%COMP%]{background-color:red}.paciente[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#8b0000}.paciente[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.especialista[_ngcontent-%COMP%]{background-color:green}.especialista[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#006400}.especialista[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.admin[_ngcontent-%COMP%]{background-color:gray}.admin[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a9a9a9}.admin[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}']});let t=e;return t})();var Dx="firebasestorage.googleapis.com",Tx="storageBucket",k$=2*60*1e3,V$=10*60*1e3;var Je=class t extends Ut{constructor(e,n,r=0){super(aw(e),`Firebase Storage: ${n} (${aw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return aw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},et=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(et||{});function aw(t){return"storage/"+t}function fw(){let t="An unknown error occurred, please check the error payload for server response.";return new Je(et.UNKNOWN,t)}function L$(t){return new Je(et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function U$(t){return new Je(et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function j$(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je(et.UNAUTHENTICATED,t)}function B$(){return new Je(et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $$(t){return new Je(et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function H$(){return new Je(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function q$(){return new Je(et.CANCELED,"User canceled the upload/download.")}function z$(t){return new Je(et.INVALID_URL,"Invalid URL '"+t+"'.")}function G$(t){return new Je(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function W$(){return new Je(et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Tx+"' property when initializing the app?")}function K$(){return new Je(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Q$(){return new Je(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Y$(t){return new Je(et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cw(t){return new Je(et.INVALID_ARGUMENT,t)}function Sx(){return new Je(et.APP_DELETED,"The Firebase app was deleted.")}function J$(t){return new Je(et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mu(t,e){return new Je(et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xu(t){throw new Je(et.INTERNAL_ERROR,"Internal error: "+t)}var jn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw G$(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(Z){Z.path_=decodeURIComponent(Z.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",E=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),M={bucket:1,path:3},O=n===Dx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",j=new RegExp(`^https?://${O}/${i}/${F}`,"i"),K=[{regex:a,indices:u,postModify:o},{regex:E,indices:M,postModify:l},{regex:j,indices:{bucket:1,path:2},postModify:l}];for(let Z=0;Z<K.length;Z++){let Ue=K[Z],ae=Ue.regex.exec(e);if(ae){let D=ae[Ue.indices.bucket],w=ae[Ue.indices.path];w||(w=""),r=new t(D,w),Ue.postModify(r);break}}if(r==null)throw z$(e);return r}},uw=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Z$(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function h(...F){l||(l=!0,e.apply(null,F))}function p(F){i=setTimeout(()=>{i=null,t(E,u())},F)}function g(){o&&clearTimeout(o)}function E(F,...j){if(l){g();return}if(F){g(),h.call(null,F,...j);return}if(u()||s){g(),h.call(null,F,...j);return}r<64&&(r*=2);let K;a===1?(a=2,K=0):K=(r+Math.random())*1e3,p(K)}let M=!1;function O(F){M||(M=!0,g(),!l&&(i!==null?(F||(a=2),clearTimeout(i),p(0)):F||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,O(!0)},n),O}function X$(t){t(!1)}function e6(t){return t!==void 0}function t6(t){return typeof t=="object"&&!Array.isArray(t)}function pw(t){return typeof t=="string"||t instanceof String}function vx(t){return mw()&&t instanceof Blob}function mw(){return typeof Blob<"u"}function wx(t,e,n,r){if(r<e)throw cw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cw(`Invalid value for '${t}'. Expected ${n} or less.`)}function gw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Ax(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ga=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(ga||{});function n6(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var lw=class{constructor(e,n,r,i,o,s,a,u,l,h,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,M)=>{this.resolve_=E,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new ma(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===ga.NO_ERROR,u=o.getStatus();if(!a||n6(u,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===ga.ABORT;r(!1,new ma(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new ma(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());e6(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=fw();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?Sx():q$();s(u)}else{let u=H$();s(u)}};this.canceled_?n(!1,new ma(!1,null,!0)):this.backoffId_=Z$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&X$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ma=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function r6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function i6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function o6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function s6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function a6(t,e,n,r,i,o,s=!0){let a=Ax(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return o6(l,e),r6(l,n),i6(l,o),s6(l,r),new lw(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function c6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function u6(...t){let e=c6();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(mw())return new Blob(t);throw new Je(et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function l6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function d6(t){if(typeof atob>"u")throw Y$("base-64");return atob(t)}var _r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ru=class{constructor(e,n){this.data=e,this.contentType=n||null}};function h6(t,e){switch(t){case _r.RAW:return new Ru(xx(e));case _r.BASE64:case _r.BASE64URL:return new Ru(Mx(t,e));case _r.DATA_URL:return new Ru(p6(e),m6(e))}throw fw()}function xx(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function f6(t){let e;try{e=decodeURIComponent(t)}catch{throw Mu(_r.DATA_URL,"Malformed data URL.")}return xx(e)}function Mx(t,e){switch(t){case _r.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Mu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _r.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Mu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=d6(e)}catch(i){throw i.message.includes("polyfill")?i:Mu(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Bf=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Mu(_r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=g6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function p6(t){let e=new Bf(t);return e.base64?Mx(_r.BASE64,e.rest):f6(e.rest)}function m6(t){return new Bf(t).contentType}function g6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var $f=class t{constructor(e,n){let r=0,i="";vx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(vx(this.data_)){let r=this.data_,i=l6(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(mw()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(u6.apply(null,n))}else{let n=e.map(s=>pw(s)?h6(_r.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function Rx(t){let e;try{e=JSON.parse(t)}catch{return null}return t6(e)?e:null}function y6(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _6(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Px(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function v6(t,e){return e}var vt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||v6}},jf=null;function w6(t){return!pw(t)||t.length<2?t:Px(t)}function Nx(){if(jf)return jf;let t=[];t.push(new vt("bucket")),t.push(new vt("generation")),t.push(new vt("metageneration")),t.push(new vt("name","fullPath",!0));function e(o,s){return w6(s)}let n=new vt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new vt("size");return i.xform=r,t.push(i),t.push(new vt("timeCreated")),t.push(new vt("updated")),t.push(new vt("md5Hash",null,!0)),t.push(new vt("cacheControl",null,!0)),t.push(new vt("contentDisposition",null,!0)),t.push(new vt("contentEncoding",null,!0)),t.push(new vt("contentLanguage",null,!0)),t.push(new vt("contentType",null,!0)),t.push(new vt("metadata","customMetadata",!0)),jf=t,jf}function E6(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new jn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function I6(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return E6(r,t),r}function Ox(t,e,n){let r=Rx(e);return r===null?null:I6(t,r,n)}function b6(t,e,n,r){let i=Rx(e);if(i===null||!pw(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let h=t.bucket,p=t.fullPath,g="/b/"+s(h)+"/o/"+s(p),E=gw(g,n,r),M=Ax({alt:"media",token:l});return E+M})[0]}function C6(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Hf=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Fx(t){if(!t)throw fw()}function D6(t,e){function n(r,i){let o=Ox(t,i,e);return Fx(o!==null),o}return n}function T6(t,e){function n(r,i){let o=Ox(t,i,e);return Fx(o!==null),b6(o,i,t.host,t._protocol)}return n}function kx(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=B$():i=j$():n.getStatus()===402?i=U$(t.bucket):n.getStatus()===403?i=$$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function S6(t){let e=kx(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=L$(t.path)),o.serverResponse=i.serverResponse,o}return n}function A6(t,e,n){let r=e.fullServerUrl(),i=gw(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Hf(i,o,T6(t,n),s);return a.errorHandler=S6(e),a}function x6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function M6(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=x6(null,e)),r}function R6(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let K="";for(let Z=0;Z<2;Z++)K=K+Math.random().toString().slice(2);return K}let u=a();s["Content-Type"]="multipart/related; boundary="+u;let l=M6(e,r,i),h=C6(l,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,g=`\r
--`+u+"--",E=$f.getBlob(p,r,g);if(E===null)throw K$();let M={name:l.fullPath},O=gw(o,t.host,t._protocol),F="POST",j=t.maxUploadRetryTime,Q=new Hf(O,F,D6(t,n),j);return Q.urlParams=M,Q.headers=s,Q.body=E.uploadData(),Q.errorHandler=kx(e),Q}var OZ=256*1024;var Ex=null,dw=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ga.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ga.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ga.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw xu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},hw=class extends dw{initXhr(){this.xhr_.responseType="text"}};function Vx(){return Ex?Ex():new hw}var ya=class t{constructor(e,n){this._service=e,n instanceof jn?this._location=n:this._location=jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Px(this._location.path)}get storage(){return this._service}get parent(){let e=y6(this._location.path);if(e===null)return null;let n=new jn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw J$(e)}};function P6(t,e,n){t._throwIfRoot("uploadBytes");let r=R6(t.storage,t._location,Nx(),new $f(e,!0),n);return t.storage.makeRequestWithTokens(r,Vx).then(i=>({metadata:i,ref:t}))}function N6(t){t._throwIfRoot("getDownloadURL");let e=A6(t.storage,t._location,Nx());return t.storage.makeRequestWithTokens(e,Vx).then(n=>{if(n===null)throw Q$();return n})}function O6(t,e){let n=_6(t._location.path,e),r=new jn(t._location.bucket,n);return new ya(t.storage,r)}function F6(t){return/^[A-Za-z]+:\/\//.test(t)}function k6(t,e){return new ya(t,e)}function Lx(t,e){if(t instanceof Pu){let n=t;if(n._bucket==null)throw W$();let r=new ya(n,n._bucket);return e!=null?Lx(r,e):r}else return e!==void 0?O6(t,e):t}function V6(t,e){if(e&&F6(e)){if(t instanceof Pu)return k6(t,e);throw cw("To use ref(service, url), the first argument must be a Storage instance.")}else return Lx(t,e)}function Ix(t,e){let n=e?.[Tx];return n==null?null:jn.makeFromBucketSpec(n,t)}function L6(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Qd(i,t.app.options.projectId))}var Pu=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Dx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k$,this._maxUploadRetryTime=V$,this._requests=new Set,i!=null?this._bucket=jn.makeFromBucketSpec(i,this._host):this._bucket=Ix(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jn.makeFromBucketSpec(this._url,e):this._bucket=Ix(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ya(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new uw(Sx());{let s=a6(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return v(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},bx="@firebase/storage",Cx="0.13.2";var Ux="storage";function _a(t,e,n){return t=Le(t),P6(t,e,n)}function va(t){return t=Le(t),N6(t)}function wa(t,e){return t=Le(t),V6(t,e)}function qf(t=Ii(),e){t=Le(t);let r=co(t,Ux).getImmediate({identifier:e}),i=Kd("storage");return i&&U6(r,...i),r}function U6(t,e,n,r={}){L6(t,e,n,r)}function j6(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Pu(n,r,i,e,tr)}function B6(){er(new Kt(Ux,j6,"PUBLIC").setMultipleInstances(!0)),Qe(bx,Cx,""),Qe(bx,Cx,"esm2017")}B6();var $6=()=>["Odontologo","Pediatra","Kinesiologo","Cardiologo","Cl\xEDnico","Dermat\xF3logo","Traumat\xF3logo"];function H6(t,e){if(t&1){let n=Ne();y(0,"div",3)(1,"button",4),z("click",function(){H(n);let i=N();return q(i.seleccionarTipo("paciente"))}),ie(2,"img",5),T(3," Paciente "),_(),y(4,"button",4),z("click",function(){H(n);let i=N();return q(i.seleccionarTipo("especialista"))}),ie(5,"img",6),T(6," Especialista "),_(),y(7,"div",7)(8,"button",8),z("click",function(){H(n);let i=N();return q(i.volverLogin())}),T(9," \u{1F814} "),_()()()}}function q6(t,e){if(t&1&&ie(0,"img",42),t&2){let n=N(2);k("src",n.imagenesPerfilPreview.paciente.fotoPerfil,Xi)}}function z6(t,e){if(t&1&&ie(0,"img",42),t&2){let n=N(2);k("src",n.imagenesPerfilPreview.paciente.fotoPerfil2,Xi)}}function G6(t,e){if(t&1&&(y(0,"div",43),T(1),_()),t&2){let n=N(2);S(),ve(n.errorMessage)}}function W6(t,e){if(t&1){let n=Ne();y(0,"form",9,0),z("ngSubmit",function(){H(n);let i=N();return q(i.onSubmit())}),y(2,"div",10),T(3," REGISTRATE COMO PACIENTE "),_(),y(4,"div",11)(5,"label",12),ie(6,"img",13),_(),y(7,"input",14),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.nombre,i)||(o.nombre=i),q(i)}),_()(),y(8,"div",11)(9,"label",15),ie(10,"img",16),_(),y(11,"input",17),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.apellido,i)||(o.apellido=i),q(i)}),_()(),y(12,"div",11)(13,"label",18),ie(14,"img",19),_(),y(15,"input",20),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.edad,i)||(o.edad=i),q(i)}),_()(),y(16,"div",11)(17,"label",21),ie(18,"img",22),_(),y(19,"input",23),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.dni,i)||(o.dni=i),q(i)}),_()(),y(20,"div",11)(21,"label",24),ie(22,"img",25),_(),y(23,"input",26),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.obraSocial,i)||(o.obraSocial=i),q(i)}),_()(),y(24,"div",11)(25,"label",27),ie(26,"img",28),_(),y(27,"input",29),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.correo,i)||(o.correo=i),q(i)}),_()(),y(28,"div",11)(29,"label",30),ie(30,"img",31),_(),y(31,"input",32),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.contrasena,i)||(o.contrasena=i),q(i)}),_()(),y(32,"div",11)(33,"label",33),ie(34,"img",34),y(35,"span"),T(36,"Seleccione una foto de su rostro"),_(),y(37,"input",35),z("change",function(i){H(n);let o=N();return q(o.onImageSelected(i,"paciente","fotoPerfil"))}),_()(),J(38,q6,1,1,"img",36),_(),y(39,"div",11)(40,"label",37),ie(41,"img",38),y(42,"span"),T(43,"Seleccione una foto de su dni"),_(),y(44,"input",39),z("change",function(i){H(n);let o=N();return q(o.onImageSelected(i,"paciente","fotoPerfil2"))}),_()(),J(45,z6,1,1,"img",36),_(),y(46,"button",8),z("click",function(){H(n);let i=N();return q(i.volverSeleccionTipo())}),T(47," \u{1F814} "),_(),y(48,"button",40),T(49,"Registrar"),_(),J(50,G6,2,1,"div",41),_()}if(t&2){let n=N();S(7),Se("ngModel",n.nombre),S(4),Se("ngModel",n.apellido),S(4),Se("ngModel",n.edad),S(4),Se("ngModel",n.dni),S(4),Se("ngModel",n.obraSocial),S(4),Se("ngModel",n.correo),S(4),Se("ngModel",n.contrasena),S(7),k("ngIf",n.imagenesPerfilPreview.paciente.fotoPerfil),S(7),k("ngIf",n.imagenesPerfilPreview.paciente.fotoPerfil2),S(5),k("ngIf",n.errorMessage)}}function K6(t,e){if(t&1){let n=Ne();y(0,"span",61),z("click",function(){let i=H(n).$implicit,o=N(2);return q(o.nuevaEspecialidad=i)}),T(1),_()}if(t&2){let n=e.$implicit;S(),ve(n)}}function Q6(t,e){if(t&1){let n=Ne();y(0,"span",64),T(1),y(2,"button",65),z("click",function(){let i=H(n).index,o=N(3);return q(o.eliminarEspecialidad(i))}),T(3,"\xD7"),_()()}if(t&2){let n=e.$implicit;S(),Tt(" ",n," ")}}function Y6(t,e){if(t&1&&(y(0,"div",62),J(1,Q6,4,1,"span",63),_()),t&2){let n=N(2);S(),k("ngForOf",n.especialidades)}}function J6(t,e){if(t&1&&ie(0,"img",42),t&2){let n=N(2);k("src",n.imagenesPerfilPreview.especialista.fotoPerfil,Xi)}}function Z6(t,e){if(t&1&&(y(0,"div",43),T(1),_()),t&2){let n=N(2);S(),ve(n.errorMessage)}}function X6(t,e){if(t&1){let n=Ne();y(0,"form",9,0),z("ngSubmit",function(){H(n);let i=N();return q(i.onSubmit())}),y(2,"div",10),T(3," REGISTRATE COMO ESPECIALISTA "),_(),y(4,"div",11),ie(5,"img",13),y(6,"input",44),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.nombre,i)||(o.nombre=i),q(i)}),_()(),y(7,"div",11),ie(8,"img",16),y(9,"input",45),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.apellido,i)||(o.apellido=i),q(i)}),_()(),y(10,"div",11),ie(11,"img",22),y(12,"input",46),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.dni,i)||(o.dni=i),q(i)}),_()(),y(13,"div",11),ie(14,"img",19),y(15,"input",47),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.edad,i)||(o.edad=i),q(i)}),_()(),y(16,"div",48),ie(17,"img",49),y(18,"input",50),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.nuevaEspecialidad,i)||(o.nuevaEspecialidad=i),q(i)}),_(),y(19,"button",51),z("click",function(){H(n);let i=N();return q(i.agregarEspecialidad())}),T(20,"Agregar"),_()(),y(21,"div",52),J(22,K6,2,1,"span",53),_(),J(23,Y6,2,1,"div",54),y(24,"div",11),ie(25,"img",28),y(26,"input",55),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.correo,i)||(o.correo=i),q(i)}),_()(),y(27,"div",11),ie(28,"img",31),y(29,"input",56),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.contrasena,i)||(o.contrasena=i),q(i)}),_()(),y(30,"div",11)(31,"label",57),ie(32,"img",58),y(33,"span"),T(34,"Selecciona tu imagen de perfil"),_(),y(35,"input",59),z("change",function(i){H(n);let o=N();return q(o.onImageSelected(i,"especialista","fotoPerfil"))}),_()(),J(36,J6,1,1,"img",36),_(),y(37,"button",8),z("click",function(){H(n);let i=N();return q(i.volverSeleccionTipo())}),T(38," \u{1F814} "),_(),y(39,"button",60),T(40,"Registrar"),_(),J(41,Z6,2,1,"div",41),_()}if(t&2){let n=N();S(6),Se("ngModel",n.nombre),S(3),Se("ngModel",n.apellido),S(3),Se("ngModel",n.dni),S(3),Se("ngModel",n.edad),S(3),Se("ngModel",n.nuevaEspecialidad),S(4),k("ngForOf",GC(11,$6)),S(),k("ngIf",n.especialidades.length>0),S(3),Se("ngModel",n.correo),S(3),Se("ngModel",n.contrasena),S(7),k("ngIf",n.imagenesPerfilPreview.especialista.fotoPerfil),S(5),k("ngIf",n.errorMessage)}}var jx=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new qe,this.correo="",this.contrasena="",this.tipoSeleccionado=null,this.nombre="",this.apellido="",this.dni="",this.edad="",this.obraSocial="",this.nuevaEspecialidad="",this.errorMessage="",this.mostrarFormularioRegistro=!1,this.imagenesPerfil={paciente:{fotoPerfil:null,fotoPerfil2:null},especialista:{fotoPerfil:null}},this.imagenesPerfilPreview={paciente:{fotoPerfil:null,fotoPerfil2:null},especialista:{fotoPerfil:null}},this.especialidades=[]}seleccionarTipo(r){this.tipoSeleccionado=r}agregarEspecialidad(){this.nuevaEspecialidad.trim()!==""&&!this.especialidades.includes(this.nuevaEspecialidad.trim())&&(this.especialidades.push(this.nuevaEspecialidad.trim()),this.nuevaEspecialidad="")}eliminarEspecialidad(r){this.especialidades.splice(r,1)}onImageSelected(r,i,o){let s=r.target;if(!s.files||s.files.length===0)return;let a=s.files[0];i==="paciente"?this.imagenesPerfil.paciente[o]=a:i==="especialista"&&(this.imagenesPerfil.especialista[o]=a);let u=new FileReader;u.onload=()=>{i==="paciente"?this.imagenesPerfilPreview.paciente[o]=u.result:i==="especialista"&&(this.imagenesPerfilPreview.especialista[o]=u.result)},u.readAsDataURL(a)}verificarCorreoExistente(r){return v(this,null,function*(){try{let i=dt();return(yield Eh(i,r)).length>0}catch(i){throw console.error("Error al verificar correo existente:",i),new Error("Error al verificar correo existente.")}})}onSubmit(){return v(this,null,function*(){let r=dt(),i=an(),o=qf();if(!this.nombre||!this.apellido||!this.dni||!this.edad){this.errorMessage="Todos los campos son obligatorios.";return}if(!this.correo||!this.contrasena){this.errorMessage="Correo y contrase\xF1a son obligatorios.";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.correo)){this.errorMessage="El formato del correo es inv\xE1lido.";return}try{if(yield this.verificarCorreoExistente(this.correo)){this.errorMessage="El correo ya est\xE1 registrado. Por favor, utiliza otro.";return}}catch{this.errorMessage="Error al verificar el correo. Intenta nuevamente.";return}if(this.tipoSeleccionado==="paciente"){if(!this.imagenesPerfil.paciente.fotoPerfil||!this.imagenesPerfil.paciente.fotoPerfil2){this.errorMessage="Por favor, carga ambas im\xE1genes del perfil del paciente.";return}}else if(this.tipoSeleccionado==="especialista"){if(!this.imagenesPerfil.especialista.fotoPerfil){this.errorMessage="Por favor, carga la imagen del perfil del especialista.";return}if(!this.especialidades||this.especialidades.length===0){this.errorMessage="Selecciona al menos una especialidad.";return}}else{this.errorMessage="Por favor, selecciona un tipo de usuario.";return}try{let u=(yield ks(r,this.correo,this.contrasena)).user;yield Vs(u);let l={contentType:"image/jpeg"},h="",p="";if(this.tipoSeleccionado==="paciente"){let O=wa(o,`imagenes/Pacientes/${u.uid}_${Date.now()}_1.jpg`);yield _a(O,this.imagenesPerfil.paciente.fotoPerfil,l),h=yield va(O);let F=wa(o,`imagenes/Pacientes/${u.uid}_${Date.now()}_2.jpg`);yield _a(F,this.imagenesPerfil.paciente.fotoPerfil2,l),p=yield va(F)}else if(this.tipoSeleccionado==="especialista"){let O=wa(o,`imagenes/Especialistas/${u.uid}_${Date.now()}_1.jpg`);yield _a(O,this.imagenesPerfil.especialista.fotoPerfil,l),h=yield va(O)}let g=this.tipoSeleccionado==="paciente"?"pacientes":"especialistas",E=Rt(i,g,u.uid),M={nombre:this.nombre,apellido:this.apellido,edad:Number(this.edad),dni:this.dni,correo:this.correo,imagenPerfil:this.tipoSeleccionado==="paciente"?[h,p]:[h]};this.tipoSeleccionado==="paciente"?M.obraSocial=this.obraSocial:this.tipoSeleccionado==="especialista"&&(M.especialidades=this.especialidades,M.aprobado=!1),yield _u(E,M),this.router.navigate(["/login"])}catch(a){a.code==="auth/invalid-email"?this.errorMessage="El formato del correo es inv\xE1lido.":a.code==="auth/email-already-in-use"?this.errorMessage="El correo ya est\xE1 registrado. Por favor, utiliza otro.":a.code==="auth/weak-password"?this.errorMessage="La contrase\xF1a es demasiado d\xE9bil. Debe tener al menos 6 caracteres.":this.errorMessage="Hubo un error al registrar el usuario. Intenta nuevamente.",console.error(a)}})}volverLogin(){this.router.navigate(["/login"])}volverSeleccionTipo(){this.tipoSeleccionado=null}};e.\u0275fac=function(i){return new(i||e)(B(Wt))},e.\u0275cmp=nt({type:e,selectors:[["app-registro"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[it],decls:4,vars:3,consts:[["registroForm","ngForm"],["class","tipo-seleccion",4,"ngIf"],["class","formulario",3,"ngSubmit",4,"ngIf"],[1,"tipo-seleccion"],[1,"boton-tipo",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fpaciente.png?alt=media&token=2e59f333-e3d4-427a-bd5e-ea59472ac396","alt","Paciente"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2Fdoctor.png?alt=media&token=d9d6a78a-ad6a-4e8c-abd7-4a69f26fd7df","alt","Especialista"],[1,"btn-login"],[1,"btn-atras",3,"click"],[1,"formulario",3,"ngSubmit"],[1,"titulo-form"],[1,"input-container"],["for","nombre"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2FUsuarioW.png?alt=media&token=335845c9-ccf3-466f-a709-8dc973648919","alt","Nombre",1,"input-icon"],["type","text","id","nombre","name","nombre","required","","placeholder","Nombre del paciente",3,"ngModelChange","ngModel"],["for","apellido"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fapellido.png?alt=media&token=12696ffd-50fb-4e7c-b079-90d1436f4813","alt","Apellido",1,"input-icon"],["type","text","id","apellido","name","apellido","required","","placeholder","Apellido del paciente",3,"ngModelChange","ngModel"],["for","edad"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fedad.png?alt=media&token=c7d04542-0fc4-4a19-8bce-de28475ce8ab","alt","Edad",1,"input-icon"],["type","number","id","edad","name","edad","required","","placeholder","Edad del paciente",3,"ngModelChange","ngModel"],["for","dni"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fdni.png?alt=media&token=a3641431-2780-4aeb-9e29-d1b51a6b9897","alt","DNI",1,"input-icon"],["type","text","id","dni","name","dni","required","","placeholder","DNI del paciente",3,"ngModelChange","ngModel"],["for","obraSocial"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fdni.png?alt=media&token=a3641431-2780-4aeb-9e29-d1b51a6b9897","alt","Obra Social",1,"input-icon"],["type","text","id","obraSocial","name","obraSocial","required","","placeholder","Obra social del paciente",3,"ngModelChange","ngModel"],["for","correo"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2FCorreo.png?alt=media&token=893fb86d-e897-405c-9135-b92773f98cec","alt","Correo",1,"input-icon"],["type","email","id","correo","name","correo","required","","placeholder","Correo electr\xF3nico",3,"ngModelChange","ngModel"],["for","contrasena"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2FCandadoW.png?alt=media&token=53af1ff2-1654-4f90-8585-92c8b31fd92e","alt","Contrase\xF1a",1,"input-icon"],["type","password","id","contrasena","name","contrasena","required","","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["for","paciente-foto-perfil",1,"file-label"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Frostro.png?alt=media&token=2cbc023d-44b2-4c27-a525-32986057c50b","alt","Foto de Perfil",1,"input-icon"],["type","file","id","paciente-foto-perfil","accept","image/*","required","",3,"change"],["alt","Vista previa","class","preview-image",3,"src",4,"ngIf"],["for","paciente-foto-identificacion",1,"file-label"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fdni2.png?alt=media&token=80b6649a-af88-4d5e-bde2-8412d5b93726","alt","Foto de Identificaci\xF3n",1,"input-icon"],["type","file","id","paciente-foto-identificacion","accept","image/*","required","",3,"change"],["type","submit",1,"btn","btn-primary"],["class","error-message",4,"ngIf"],["alt","Vista previa",1,"preview-image",3,"src"],[1,"error-message"],["id","nombre","name","nombre","required","","type","text","placeholder","Nombre del especialista",3,"ngModelChange","ngModel"],["id","apellido","name","apellido","required","","type","text","placeholder","Apellido del especialista",3,"ngModelChange","ngModel"],["id","dni","name","dni","required","","type","text","placeholder","DNI del especialista",3,"ngModelChange","ngModel"],["id","edad","name","edad","required","","type","number","placeholder","Edad del especialista",3,"ngModelChange","ngModel"],[1,"input-container","especialidades-container"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fespecialidad2.png?alt=media&token=fd641cdb-94ca-4067-a897-33552cfd4db4","alt","Especialidad",1,"input-icon"],["type","text","name","nuevaEspecialidad","placeholder","Agregar especialidad",1,"input-especialidad",3,"ngModelChange","ngModel"],["type","button",1,"btn-agregar-especialidad",3,"click"],[1,"chips-sugerencias"],["class","chip-sugerencia",3,"click",4,"ngFor","ngForOf"],["class","especialidades-lista",4,"ngIf"],["id","correo","name","correo","required","","type","email","placeholder","Correo electr\xF3nico",3,"ngModelChange","ngModel"],["id","contrasena","name","contrasena","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["for","especialista-foto-perfil",1,"file-label"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/Registro%2FFormularios%2Fimage%20(29).png?alt=media&token=7c140d4d-335f-48ef-bc99-40df2a1ed5be","alt","Especialista",1,"input-icon"],["type","file","id","especialista-foto-perfil","accept","image/*","required","",3,"change"],["type","submit",1,"submit-btn"],[1,"chip-sugerencia",3,"click"],[1,"especialidades-lista"],["class","especialidad-chip",4,"ngFor","ngForOf"],[1,"especialidad-chip"],["type","button",1,"chip-x",3,"click"]],template:function(i,o){i&1&&(y(0,"body"),J(1,H6,10,0,"div",1)(2,W6,51,10,"form",2)(3,X6,42,12,"form",2),_()),i&2&&(S(),k("ngIf",!o.tipoSeleccionado),S(),k("ngIf",o.tipoSeleccionado==="paciente"),S(),k("ngIf",o.tipoSeleccionado==="especialista"))},dependencies:[yr,gr,pr,Du,vn,mr,Vo,Un,ko,Lt,Yn,Gt],styles:["body[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/tpclinica-bartel.appspot.com/o/General%2FHospital%20Bartel.jpeg?alt=media&token=3f838801-78f3-4374-86e0-db83ab37e701);background-size:cover;background-position:center;background-attachment:fixed;height:100vh;width:100vw;overflow:hidden}.tipo-seleccion[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:40px;margin-bottom:40px;max-width:500px;margin-left:auto;margin-right:auto;height:100%}.boton-tipo[_ngcontent-%COMP%]{background-color:#16243e;border:none;border-radius:15px;padding:20px 30px;cursor:pointer;transition:transform .3s,background-color .3s;text-align:center;font-weight:700;font-size:16px;color:#fff;display:flex;flex-direction:column;align-items:center;width:250px}.boton-tipo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:20%;margin-bottom:10px;transition:transform .3s}.boton-tipo[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#1bb3c1}.boton-tipo[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.btn-atras[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:12px;border:none;border-radius:8px;font-size:18px;cursor:pointer;width:100px;margin:0 auto 20px;display:block;text-align:center}.btn-atras[_ngcontent-%COMP%]:hover{background-color:#b8b8b8}.formulario[_ngcontent-%COMP%]{background-color:#1a1a2e;padding:30px;border-radius:12px;box-shadow:0 8px 15px #0003;width:500px;margin:30px auto auto;color:#fff}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:25px;background-color:#2a2a3c;padding:10px;border-radius:10px;font-family:Roboto,sans-serif}.input-icon[_ngcontent-%COMP%]{width:35px;height:35px;margin-right:15px;transition:transform .3s}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #444;border-radius:8px;background-color:transparent;color:#fff;font-size:16px;transition:border-color .3s}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1bb3c1;outline:none}button[_ngcontent-%COMP%]{background-color:#1bb3c1;color:#fff;padding:12px;border:none;border-radius:8px;font-size:18px;cursor:pointer;transition:background-color .3s,transform .3s;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#1aabcb;transform:scale(1.05)}.error-message[_ngcontent-%COMP%]{color:red;font-size:24px;text-align:center;margin-top:15px}.titulo-form[_ngcontent-%COMP%]{color:#fff;font-size:25px;text-align:center;margin-bottom:20px;font-family:Roboto,sans-serif}select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #444;border-radius:8px;background-color:#1a1a2e;color:#fff;font-size:16px;appearance:none;transition:border-color .3s}select[_ngcontent-%COMP%]:focus{border-color:#1bb3c1;outline:none}input[type=file][_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;z-index:2}.file-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#4caf50;color:#fff;padding:12px;border-radius:8px;cursor:pointer;font-weight:700;width:100%;text-align:center;position:relative;z-index:1;transition:background-color .3s,transform .3s}.file-label[_ngcontent-%COMP%]:hover{background-color:#45a049;transform:scale(1.05)}.preview-image[_ngcontent-%COMP%]{margin-top:15px;width:60px;height:60px;object-fit:cover;border-radius:8px;box-shadow:0 4px 8px #0000004d;margin-bottom:20px;margin-left:20px}.especialidades-container[_ngcontent-%COMP%]{background:#23234a;padding:18px 10px;border-radius:12px;margin-bottom:10px;gap:12px}.input-especialidad[_ngcontent-%COMP%]{font-size:18px;padding:10px 14px;border-radius:8px;border:1.5px solid #1bb3c1;background:#18182e;color:#fff;width:60%;margin-right:10px}.btn-agregar-especialidad[_ngcontent-%COMP%]{background:#1bb3c1;color:#fff;border:none;border-radius:8px;padding:10px 18px;font-size:18px;font-weight:700;cursor:pointer;transition:background .2s}.btn-agregar-especialidad[_ngcontent-%COMP%]:hover{background:#148a96}.chips-sugerencias[_ngcontent-%COMP%]{margin:10px 0 18px;display:flex;flex-wrap:wrap;gap:10px}.chip-sugerencia[_ngcontent-%COMP%]{background:#e3f0ff;color:#1976d2;border-radius:16px;padding:7px 18px;font-size:16px;cursor:pointer;border:1.5px solid #1976d2;transition:background .2s,color .2s;-webkit-user-select:none;user-select:none}.chip-sugerencia[_ngcontent-%COMP%]:hover{background:#1976d2;color:#fff}.especialidades-lista[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:18px}.especialidad-chip[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-radius:16px;padding:7px 18px 7px 14px;font-size:17px;display:flex;align-items:center;gap:6px;box-shadow:0 2px 8px #1976d233}.chip-x[_ngcontent-%COMP%]{background:transparent;color:#fff;border:none;font-size:20px;margin-left:6px;cursor:pointer;font-weight:700;transition:color .2s}.chip-x[_ngcontent-%COMP%]:hover{color:#e53935}"]});let t=e;return t})();function eH(t,e){t&1&&(y(0,"th"),T(1,"Estado"),_())}function tH(t,e){if(t&1&&(y(0,"td"),T(1),_()),t&2){let n=N().$implicit;S(),Tt(" ",n.aprobado?"Habilitado":"Inhabilitado"," ")}}function nH(t,e){if(t&1){let n=Ne();y(0,"button",7),z("click",function(){H(n);let i=N().$implicit,o=N(2);return q(o.cambiarEstadoEspecialista(i))}),T(1),_()}if(t&2){let n=N().$implicit;S(),Tt(" ",n.aprobado?"Inhabilitar":"Habilitar"," ")}}function rH(t,e){if(t&1&&(y(0,"tr")(1,"td"),T(2),_(),y(3,"td"),T(4),_(),y(5,"td"),T(6),_(),y(7,"td"),T(8),_(),y(9,"td"),T(10),_(),y(11,"td"),T(12),_(),J(13,tH,2,1,"td",4),y(14,"td"),J(15,nH,2,1,"button",9),_()()),t&2){let n=e.$implicit;S(2),ve(n.tipo),S(2),ve(n.nombre),S(2),ve(n.apellido),S(2),ve(n.correo),S(2),ve(n.dni),S(2),ve(n.edad),S(),k("ngIf",n.tipo==="especialista"),S(2),k("ngIf",n.tipo==="especialista")}}function iH(t,e){if(t&1&&(y(0,"div",22),T(1),_()),t&2){let n=N(3);S(),ve(n.adminError)}}function oH(t,e){if(t&1&&(y(0,"div",23),T(1),_()),t&2){let n=N(3);S(),ve(n.adminSuccess)}}function sH(t,e){if(t&1){let n=Ne();y(0,"form",10,1),z("ngSubmit",function(){H(n);let i=N(2);return q(i.registrarAdmin())}),y(2,"h3"),T(3,"Registrar Administrador"),_(),y(4,"div",11)(5,"input",12),Ae("ngModelChange",function(i){H(n);let o=N(2);return Me(o.adminNombre,i)||(o.adminNombre=i),q(i)}),_()(),y(6,"div",11)(7,"input",13),Ae("ngModelChange",function(i){H(n);let o=N(2);return Me(o.adminApellido,i)||(o.adminApellido=i),q(i)}),_()(),y(8,"div",11)(9,"input",14),Ae("ngModelChange",function(i){H(n);let o=N(2);return Me(o.adminEdad,i)||(o.adminEdad=i),q(i)}),_()(),y(10,"div",11)(11,"input",15),Ae("ngModelChange",function(i){H(n);let o=N(2);return Me(o.adminDni,i)||(o.adminDni=i),q(i)}),_()(),y(12,"div",11)(13,"input",16),Ae("ngModelChange",function(i){H(n);let o=N(2);return Me(o.adminMail,i)||(o.adminMail=i),q(i)}),_()(),y(14,"div",11)(15,"input",17),Ae("ngModelChange",function(i){H(n);let o=N(2);return Me(o.adminPassword,i)||(o.adminPassword=i),q(i)}),_()(),y(16,"div",11)(17,"input",18),z("change",function(i){H(n);let o=N(2);return q(o.onAdminImageSelected(i))}),_()(),y(18,"button",19),T(19,"Registrar Administrador"),_(),J(20,iH,2,1,"div",20)(21,oH,2,1,"div",21),_()}if(t&2){let n=N(2);S(5),Se("ngModel",n.adminNombre),S(2),Se("ngModel",n.adminApellido),S(2),Se("ngModel",n.adminEdad),S(2),Se("ngModel",n.adminDni),S(2),Se("ngModel",n.adminMail),S(2),Se("ngModel",n.adminPassword),S(5),k("ngIf",n.adminError),S(),k("ngIf",n.adminSuccess)}}function aH(t,e){if(t&1){let n=Ne();y(0,"div",3)(1,"h2"),T(2,"Gesti\xF3n de Usuarios"),_(),y(3,"table")(4,"thead")(5,"tr")(6,"th"),T(7,"Tipo"),_(),y(8,"th"),T(9,"Nombre"),_(),y(10,"th"),T(11,"Apellido"),_(),y(12,"th"),T(13,"Mail"),_(),y(14,"th"),T(15,"DNI"),_(),y(16,"th"),T(17,"Edad"),_(),J(18,eH,2,0,"th",4),y(19,"th"),T(20,"Acciones"),_()()(),y(21,"tbody"),J(22,rH,16,8,"tr",5),_()(),y(23,"div",6)(24,"button",7),z("click",function(){H(n);let i=N();return q(i.mostrarFormularioAdmin=!i.mostrarFormularioAdmin)}),T(25),_()(),J(26,sH,22,8,"form",8),_()}if(t&2){let n=N();S(18),k("ngIf",n.tieneEspecialistas()),S(4),k("ngForOf",n.usuarios),S(3),Tt(" ",n.mostrarFormularioAdmin?"Ocultar registro de administrador":"Registrar un usuario Administrador"," "),S(),k("ngIf",n.mostrarFormularioAdmin)}}function cH(t,e){t&1&&(y(0,"p"),T(1,"No tiene acceso a esta secci\xF3n."),_())}var Bx=(()=>{let e=class e{constructor(r){this.router=r,this.usuarios=[],this.usuarioActual=null,this.mostrarFormularioAdmin=!1,this.adminNombre="",this.adminApellido="",this.adminEdad="",this.adminDni="",this.adminMail="",this.adminPassword="",this.adminImagen=null,this.adminOriginalMail="",this.adminOriginalPassword="",this.adminError="",this.adminSuccess=""}ngOnInit(){return v(this,null,function*(){let r=dt(),i=an();_o(r,o=>v(this,null,function*(){if(!o){this.router.navigate(["/login"]);return}let s=0,a=null;for(;s<10&&(a=yield kn(Rt(i,"administradores",o.uid)),!a.exists());)yield new Promise(u=>setTimeout(u,200)),s++;if(!a||!a.exists()){this.usuarioActual=null;return}this.usuarioActual={tipo:"administrador",uid:o.uid},yield this.cargarUsuarios()}))})}cargarUsuarios(){return v(this,null,function*(){let r=an();this.usuarios=[],(yield aa(sa(r,"pacientes"))).forEach(a=>{this.usuarios.push(Te($({},a.data()),{tipo:"paciente",uid:a.id}))}),(yield aa(sa(r,"especialistas"))).forEach(a=>{this.usuarios.push(Te($({},a.data()),{tipo:"especialista",uid:a.id}))}),(yield aa(sa(r,"administradores"))).forEach(a=>{this.usuarios.push(Te($({},a.data()),{tipo:"administrador",uid:a.id}))})})}tieneEspecialistas(){return this.usuarios.some(r=>r.tipo==="especialista")}cambiarEstadoEspecialista(r){return v(this,null,function*(){let i=an(),o=Rt(i,"especialistas",r.uid);yield vf(o,{aprobado:!r.aprobado}),yield this.cargarUsuarios()})}registrarAdmin(){return v(this,null,function*(){if(this.adminError="",this.adminSuccess="",!this.adminNombre||!this.adminApellido||!this.adminEdad||!this.adminDni||!this.adminMail||!this.adminPassword||!this.adminImagen){this.adminError="Todos los campos son obligatorios.";return}let r=dt(),i=an(),o=qf();try{let a=(yield ks(r,this.adminMail,this.adminPassword)).user;yield Vs(a);let u=wa(o,`imagenes/Administradores/${a.uid}_${Date.now()}.jpg`);yield _a(u,this.adminImagen);let l=yield va(u),h={nombre:this.adminNombre,apellido:this.adminApellido,edad:Number(this.adminEdad),dni:this.adminDni,correo:this.adminMail,imagenPerfil:[l]},p=Rt(i,"administradores",a.uid);yield _u(p,h),this.adminSuccess="Administrador registrado correctamente.",this.adminNombre="",this.adminApellido="",this.adminEdad="",this.adminDni="",this.adminMail="",this.adminPassword="",this.adminImagen=null,yield this.cargarUsuarios()}catch(s){this.adminError=s.message||"Error al crear administrador"}})}onAdminImageSelected(r){let i=r.target;i.files&&i.files.length>0&&(this.adminImagen=i.files[0])}};e.\u0275fac=function(i){return new(i||e)(B(Wt))},e.\u0275cmp=nt({type:e,selectors:[["app-usuarios"]],standalone:!0,features:[it],decls:3,vars:2,consts:[["noAcceso",""],["adminForm","ngForm"],["class","usuarios-container",4,"ngIf","ngIfElse"],[1,"usuarios-container"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"boton-centrado"],[3,"click"],["class","form-admin",3,"ngSubmit",4,"ngIf"],[3,"click",4,"ngIf"],[1,"form-admin",3,"ngSubmit"],[1,"input-container"],["type","text","name","adminNombre","placeholder","Nombre","required","",3,"ngModelChange","ngModel"],["type","text","name","adminApellido","placeholder","Apellido","required","",3,"ngModelChange","ngModel"],["type","number","name","adminEdad","placeholder","Edad","required","",3,"ngModelChange","ngModel"],["type","text","name","adminDni","placeholder","DNI","required","",3,"ngModelChange","ngModel"],["type","email","name","adminMail","placeholder","Mail","required","",3,"ngModelChange","ngModel"],["type","password","name","adminPassword","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","file","accept","image/*","required","",3,"change"],["type","submit"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[1,"error"],[1,"success"]],template:function(i,o){if(i&1&&J(0,aH,27,4,"div",2)(1,cH,2,0,"ng-template",null,0,QC),i&2){let s=qC(2);k("ngIf",(o.usuarioActual==null?null:o.usuarioActual.tipo)==="administrador")("ngIfElse",s)}},dependencies:[yr,gr,pr,Du,vn,mr,Vo,Un,ko,Lt,Yn,Gt],styles:["[_nghost-%COMP%]{display:block;padding:2rem;background:#f4f8fb;min-height:100vh}h3[_ngcontent-%COMP%]{color:#1976d2;margin-top:2rem;margin-bottom:1rem;font-size:1.35rem;font-weight:700;text-align:center;letter-spacing:.5px}.form-admin[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;width:100%;margin-bottom:1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;margin-bottom:2.5rem;background:#fff;box-shadow:0 4px 16px #2c3e501a;border-radius:12px;overflow:hidden}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem 1.2rem;text-align:left}th[_ngcontent-%COMP%]{background:#e3eafc;color:#1976d2;font-weight:700;border-bottom:2px solid #d1d9e6;font-size:1.08rem}tr[_ngcontent-%COMP%]{border-bottom:1px solid #f1f1f1;transition:background .2s}tr[_ngcontent-%COMP%]:hover{background:#f0f7ff}td[_ngcontent-%COMP%]{vertical-align:middle;font-size:1.02rem}button[_ngcontent-%COMP%]{padding:.45rem 1.1rem;border:none;border-radius:5px;background:#1976d2;color:#fff;cursor:pointer;font-weight:500;font-size:1rem;transition:background .2s,box-shadow .2s;box-shadow:0 2px 6px #1976d214}button[_ngcontent-%COMP%]:hover{background:#125ea7;box-shadow:0 4px 12px #1976d221}form[_ngcontent-%COMP%]{background:#fff;padding:2.2rem 2.5rem 1.5rem;border-radius:14px;box-shadow:0 6px 24px #2c3e5021;display:flex;flex-wrap:wrap;gap:1.1rem;align-items:flex-end;margin-bottom:2rem;border:1.5px solid #e3e8ee;position:relative}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:.7rem 1rem;border:1.5px solid #bfc9d1;border-radius:6px;font-size:1.05rem;outline:none;background:#f8fafb;transition:border .2s,box-shadow .2s}select[_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#1976d2;background:#f0f7ff;box-shadow:0 2px 8px #1976d214}input[type=file][_ngcontent-%COMP%]{margin-top:.5rem;font-size:1rem;background:#f8fafb;border-radius:6px;border:1.5px solid #bfc9d1;padding:.5rem}button[type=submit][_ngcontent-%COMP%]{padding:.8rem 1.5rem;background:#43a047;color:#fff;border:none;border-radius:6px;font-weight:700;cursor:pointer;transition:background .2s,box-shadow .2s;margin-top:.7rem;font-size:1.08rem;box-shadow:0 2px 8px #43a04717}.form-admin[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{display:block;margin:1rem auto 0}button[type=submit][_ngcontent-%COMP%]:hover{background:#357a38;box-shadow:0 4px 16px #43a04721}p[_ngcontent-%COMP%]{color:#c62828;font-weight:500;margin-top:1rem;text-align:center;font-size:1rem}.error[_ngcontent-%COMP%]{color:#c62828;font-weight:500;margin-top:.5rem;text-align:center;font-size:1rem}.success[_ngcontent-%COMP%]{color:#388e3c;font-weight:500;margin-top:.5rem;text-align:center;font-size:1rem}@media (max-width: 700px){.form-admin[_ngcontent-%COMP%]{padding:1rem;max-width:100%}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:.97rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.6rem .5rem}}.form-admin[_ngcontent-%COMP%]{background:#fff;padding:2.2rem 2.5rem 1.5rem;border-radius:14px;box-shadow:0 6px 24px #2c3e5021;display:flex;flex-direction:column;gap:1.1rem;max-width:430px;margin:2.5rem auto 0;border:1.5px solid #e3e8ee;position:relative}.input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:.3rem}h2[_ngcontent-%COMP%]{color:#1976d2;margin-bottom:2rem;font-size:2.2rem;font-weight:700;text-align:center;letter-spacing:1px}.boton-centrado[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1rem}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.usuarios-container[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-family:Segoe UI,Roboto,Arial,sans-serif}"]});let t=e;return t})();function uH(t,e){if(t&1&&(y(0,"option",10),T(1),_()),t&2){let n=e.$implicit;k("value",n),S(),ve(n)}}function lH(t,e){if(t&1&&(y(0,"option",10),T(1),_()),t&2){let n=e.$implicit;k("value",n.id),S(),mn("",n.nombre," ",n.apellido,"")}}function dH(t,e){if(t&1){let n=Ne();y(0,"div",2)(1,"label"),T(2,"Especialista:"),_(),y(3,"select",11),z("change",function(){H(n);let i=N();return q(i.onEspecialistaChange())}),y(4,"option",4),T(5,"Seleccione un especialista"),_(),J(6,lH,2,3,"option",5),_()()}if(t&2){let n=N();S(6),k("ngForOf",n.especialistasFiltrados)}}function hH(t,e){t&1&&(y(0,"div",12),T(1," No hay d\xEDas disponibles para este especialista. "),_())}function fH(t,e){if(t&1&&(y(0,"option",10),T(1),_()),t&2){let n=e.$implicit;k("value",n),S(),ve(n)}}function pH(t,e){if(t&1){let n=Ne();y(0,"div",2)(1,"label"),T(2,"D\xEDa:"),_(),y(3,"select",13),z("change",function(){H(n);let i=N();return q(i.onDiaChange())}),y(4,"option",4),T(5,"Seleccione un d\xEDa"),_(),J(6,fH,2,2,"option",5),_()()}if(t&2){let n=N();S(6),k("ngForOf",n.diasDisponibles)}}function mH(t,e){t&1&&(y(0,"div",12),T(1," No hay horarios disponibles para el d\xEDa seleccionado. "),_())}function gH(t,e){if(t&1&&(y(0,"option",10),T(1),_()),t&2){let n=e.$implicit;k("value",n),S(),ve(n)}}function yH(t,e){if(t&1&&(y(0,"div",2)(1,"label"),T(2,"Horario:"),_(),y(3,"select",14)(4,"option",4),T(5,"Seleccione un horario"),_(),J(6,gH,2,2,"option",5),_()()),t&2){let n=N();S(6),k("ngForOf",n.horasDisponibles)}}function _H(t,e){if(t&1&&(y(0,"option",10),T(1),_()),t&2){let n=e.$implicit;k("value",n.id),S(),mn("",n.nombre," ",n.apellido,"")}}function vH(t,e){if(t&1&&(y(0,"div",2)(1,"label"),T(2,"Paciente:"),_(),y(3,"select",15)(4,"option",4),T(5,"Seleccione un paciente"),_(),J(6,_H,2,3,"option",5),_()()),t&2){let n=N();S(6),k("ngForOf",n.pacientes)}}function wH(t,e){if(t&1&&(y(0,"div",16),T(1),_()),t&2){let n=N();S(),Tt("\u{1F389} ",n.mensajeExito,"")}}var $x=(()=>{let e=class e{constructor(r){this.fb=r,this.especialidades=[],this.especialistas=[],this.especialistasFiltrados=[],this.esAdmin=!1,this.pacientes=[],this.diasDisponibles=[],this.horasDisponibles=[],this.horariosEspecialista=[],this.mensajeExito="",this.firestore=G(Vn)}ngOnInit(){this.turnoForm=this.fb.group({especialidad:["",Oo.required],especialista:["",Oo.required],dia:["",Oo.required],hora:["",Oo.required],paciente:[""]});let r=Ln(this.firestore,"especialistas");if(vu(r,{idField:"id"}).subscribe(i=>{this.especialistas=i,this.especialidades=Array.from(new Set(i.map(o=>o.especialidad)))}),this.esAdmin){let i=Ln(this.firestore,"pacientes");vu(i,{idField:"id"}).subscribe(o=>{this.pacientes=o})}}onEspecialidadChange(){return v(this,null,function*(){let r=this.turnoForm.value.especialidad;this.especialistasFiltrados=this.especialistas.filter(i=>i.especialidad===r||Array.isArray(i.especialidades)&&i.especialidades.includes(r)),this.turnoForm.patchValue({especialista:""}),this.diasDisponibles=[],this.horasDisponibles=[],this.horariosEspecialista=[]})}onEspecialistaChange(){return v(this,null,function*(){let r=this.turnoForm.value.especialista,i=this.turnoForm.value.especialidad;if(!r||!i)return;let o=Ln(this.firestore,"Horarios"),s=zr(o,jt("especialistaId","==",r),jt("especialidad","==",i)),a=yield ca(s);this.horariosEspecialista=a.docs.map(u=>u.data()),this.diasDisponibles=this.getDiasDisponiblesProximos15(),this.turnoForm.patchValue({dia:"",hora:""}),this.horasDisponibles=[]})}onDiaChange(){return v(this,null,function*(){let r=this.turnoForm.value.dia,i=/^(\d{4}-\d{2}-\d{2}) \(([^)]+)\)$/.exec(r),o=i?i[1]:"",s=i?i[2]:"",a=this.horariosEspecialista.filter(p=>p.dia===s).map(p=>p.hora),u=new Date,l=new Date(o);if(o&&u.toISOString().slice(0,10)===o){let p=u.getHours()+u.getMinutes()/60;a=a.filter(g=>{let[E,M]=g.split(":").map(Number);return E+M/60>p})}let h=this.turnoForm.value.especialista;if(h&&o){let p=Ln(this.firestore,"Turnos"),g=zr(p,jt("especialistaId","==",h),jt("FechaTurno","==",o),jt("estado","in",["pendiente","confirmado"])),M=(yield ca(g)).docs.map(O=>O.data().HorarioTurno);a=a.filter(O=>!M.includes(O))}this.horasDisponibles=a,this.turnoForm.patchValue({hora:""})})}getDiasDisponiblesProximos15(){if(!this.horariosEspecialista.length)return[];let r=["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],i=Array.from(new Set(this.horariosEspecialista.map(a=>a.dia))),o=new Date,s=[];for(let a=0;a<15;a++){let u=new Date(o);u.setDate(o.getDate()+a);let l=r[u.getDay()];if(i.includes(l)){let h=u.toISOString().slice(0,10)+" ("+l+")";s.push(h)}}return s}solicitarTurno(){return v(this,null,function*(){if(this.turnoForm.valid){let{especialidad:r,especialista:i,dia:o,hora:s,paciente:a}=this.turnoForm.value,u=/^(\d{4}-\d{2}-\d{2}) \(([^)]+)\)$/.exec(o),l=u?u[1]:o,h=s,p=null,g="",E="";if(this.esAdmin){p=a;let Q=this.pacientes.find(K=>K.id===a);g=Q?Q.nombre:"",E=Q?Q.apellido:""}else if(p=dt().currentUser?.uid||null,p){let Q=cn(this.firestore,"pacientes",p),K=yield No(Q);if(K.exists()){let Z=K.data();g=Z.nombre||"",E=Z.apellido||""}}let M=this.especialistas.find(Q=>Q.id===i),O=M?M.nombre:"",F=M?M.apellido:"",j={especialidad:r,especialistaId:i,especialistaNombre:O,especialistaApellido:F,pacienteId:p,pacienteNombre:g,pacienteApellido:E,FechaTurno:l,HorarioTurno:h,estado:"pendiente",fechaSolicitud:new Date};yield If(Ln(this.firestore,"Turnos"),j),this.mensajeExito="\xA1Turno solicitado con \xE9xito!",setTimeout(()=>{this.mensajeExito=""},3e3),this.turnoForm.reset(),this.especialistasFiltrados=[]}})}};e.\u0275fac=function(i){return new(i||e)(B(Lf))},e.\u0275cmp=nt({type:e,selectors:[["app-sacar-turno"]],standalone:!0,features:[it],decls:20,vars:10,consts:[[1,"turno-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["formControlName","especialidad",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["class","mensaje-vacio",4,"ngIf"],["type","submit",3,"disabled"],["class","mensaje-exito-turno",4,"ngIf"],[3,"value"],["formControlName","especialista",3,"change"],[1,"mensaje-vacio"],["formControlName","dia",3,"change"],["formControlName","hora"],["formControlName","paciente"],[1,"mensaje-exito-turno"]],template:function(i,o){i&1&&(y(0,"div",0)(1,"h2"),T(2,"Sacar Turno"),_(),y(3,"form",1),z("ngSubmit",function(){return o.solicitarTurno()}),y(4,"div",2)(5,"label"),T(6,"Especialidad:"),_(),y(7,"select",3),z("change",function(){return o.onEspecialidadChange()}),y(8,"option",4),T(9,"Seleccione una especialidad"),_(),J(10,uH,2,2,"option",5),_()(),J(11,dH,7,1,"div",6)(12,hH,2,0,"div",7)(13,pH,7,1,"div",6)(14,mH,2,0,"div",7)(15,yH,7,1,"div",6)(16,vH,7,1,"div",6),y(17,"button",8),T(18,"Solicitar Turno"),_()(),J(19,wH,2,1,"div",9),_()),i&2&&(S(3),k("formGroup",o.turnoForm),S(7),k("ngForOf",o.especialidades),S(),k("ngIf",o.especialistasFiltrados.length>0),S(),k("ngIf",o.especialistasFiltrados.length>0&&o.diasDisponibles.length===0),S(),k("ngIf",o.diasDisponibles.length>0),S(),k("ngIf",o.diasDisponibles.length>0&&o.horasDisponibles.length===0&&o.turnoForm.value.dia),S(),k("ngIf",o.horasDisponibles.length>0),S(),k("ngIf",o.esAdmin),S(),k("disabled",!o.turnoForm.valid),S(2),k("ngIf",o.mensajeExito))},dependencies:[Lt,Yn,Gt,Uf,gr,Ff,Vf,fa,vn,mr,Tu,Su],styles:["body[_ngcontent-%COMP%], .turno-container[_ngcontent-%COMP%]{font-family:Segoe UI,Roboto,Arial,sans-serif}.turno-container[_ngcontent-%COMP%]{max-width:420px;margin:32px auto;padding:28px 28px 18px;background:#f4f8fb;border-radius:12px;box-shadow:0 2px 12px #1976d220;border:1.5px solid #1976d2}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:22px;color:#1976d2;font-weight:700;letter-spacing:1px}.form-group[_ngcontent-%COMP%]{min-height:70px;display:flex;flex-direction:column;justify-content:center}label[_ngcontent-%COMP%]{display:block;margin-bottom:7px;font-weight:600;color:#1976d2}select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;padding:9px;border-radius:6px;border:1.5px solid #b0c4de;font-size:1em;background:#fff;transition:border .2s}select[_ngcontent-%COMP%]:focus{border:1.5px solid #1976d2;outline:none}button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;margin-top:12px;cursor:pointer;font-weight:600;font-size:1.08em;box-shadow:0 1px 4px #1976d220;transition:background .2s}button[_ngcontent-%COMP%]:disabled{background:#b0c4de;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .mensaje-vacio[_ngcontent-%COMP%]{min-height:44px;display:flex;align-items:center}.mensaje-vacio[_ngcontent-%COMP%]{background:#e3eafc;color:#1976d2;border:1px solid #b0c4de;border-radius:6px;padding:10px 12px;margin-bottom:16px;text-align:center;font-size:.98em;font-weight:500;letter-spacing:.2px;min-height:44px;display:flex;align-items:center;justify-content:center}.mensaje-exito-turno[_ngcontent-%COMP%]{background:#e3fcec;color:#388e3c;border:1.5px solid #388e3c;border-radius:7px;padding:12px 16px;margin:18px 0 0;text-align:center;font-size:1.08em;font-weight:600;letter-spacing:.2px;box-shadow:0 1px 6px #388e3c22;display:flex;align-items:center;justify-content:center;gap:8px}"]});let t=e;return t})();function EH(t,e){if(t&1&&ie(0,"img",9),t&2){let n=N(2);k("src",n.especialista.imagenPerfil?n.especialista.imagenPerfil[0]:n.especialista.imagenUrl,Xi)}}function IH(t,e){if(t&1&&(y(0,"option",25),T(1),_()),t&2){let n=e.$implicit;k("ngValue",n),S(),ve(n)}}function bH(t,e){if(t&1&&(y(0,"option",26),T(1),_()),t&2){let n=e.$implicit;k("value",n),S(),ve(n)}}function CH(t,e){if(t&1&&(y(0,"option",26),T(1),_()),t&2){let n=e.$implicit;k("value",n),S(),ve(n)}}function DH(t,e){if(t&1){let n=Ne();y(0,"li"),T(1),y(2,"button",29),z("click",function(){let i=H(n).$implicit,o=N(4);return q(o.confirmarEliminarHorario(i.id,i.dia,i.hora))}),T(3,"\xD7"),_()()}if(t&2){let n=e.$implicit;S(),mn(" ",n.dia," - ",n.hora," ")}}function TH(t,e){if(t&1&&(y(0,"div",27)(1,"h4"),T(2,"Horarios ya cargados:"),_(),y(3,"ul"),J(4,DH,4,2,"li",28),_()()),t&2){let n=N(3);S(4),k("ngForOf",n.horariosCargados)}}function SH(t,e){if(t&1){let n=Ne();y(0,"div",30)(1,"div",31)(2,"p"),T(3,"\xBFSeguro que deseas eliminar el horario "),y(4,"strong"),T(5),_(),T(6,"?"),_(),y(7,"button",32),z("click",function(){H(n);let i=N(3);return q(i.eliminarHorarioConfirmado())}),T(8,"S\xED, eliminar"),_(),y(9,"button",32),z("click",function(){H(n);let i=N(3);return q(i.cancelarEliminarHorario())}),T(10,"Cancelar"),_()()()}if(t&2){let n=N(3);S(5),mn("",n.horarioAEliminar==null?null:n.horarioAEliminar.dia," - ",n.horarioAEliminar==null?null:n.horarioAEliminar.hora,"")}}function AH(t,e){t&1&&(y(0,"div",33)(1,"div",34)(2,"p"),T(3,"\xA1Horarios guardados exitosamente!"),_()()())}function xH(t,e){if(t&1&&(y(0,"div",35)(1,"div",36)(2,"p"),T(3),_()()()),t&2){let n=N(3);S(3),ve(n.mensajeError)}}function MH(t,e){if(t&1){let n=Ne();y(0,"div",10)(1,"h3",11),T(2,"Mis horarios"),_(),y(3,"div",12)(4,"label",13),T(5,"Especialidad:"),_(),y(6,"select",14),Ae("ngModelChange",function(i){H(n);let o=N(2);return Me(o.especialidadSeleccionada,i)||(o.especialidadSeleccionada=i),q(i)}),z("change",function(){H(n);let i=N(2);return q(i.onEspecialidadSeleccionadaChange())}),J(7,IH,2,2,"option",15),_()(),y(8,"form",16),z("ngSubmit",function(){H(n);let i=N(2);return q(i.guardarHorarios())}),y(9,"label"),T(10,"D\xEDas disponibles:"),_(),y(11,"select",17),J(12,bH,2,2,"option",18),_(),y(13,"label"),T(14,"Horas disponibles:"),_(),y(15,"select",19),J(16,CH,2,2,"option",18),_(),y(17,"button",20),T(18,"Guardar horarios"),_()(),J(19,TH,5,1,"div",21)(20,SH,11,2,"div",22)(21,AH,4,0,"div",23)(22,xH,4,1,"div",24),_()}if(t&2){let n=N(2);S(6),Se("ngModel",n.especialidadSeleccionada),S(),k("ngForOf",n.getEspecialidades),S(),k("formGroup",n.horariosForm),S(4),k("ngForOf",n.diasSemana),S(4),k("ngForOf",n.horas),S(3),k("ngIf",n.horariosCargados.length>0),S(),k("ngIf",n.mostrarModalEliminar),S(),k("ngIf",n.mostrarModalExito),S(),k("ngIf",n.mostrarModalError)}}function RH(t,e){if(t&1&&(y(0,"div",1)(1,"div",2),J(2,EH,1,1,"img",3),y(3,"h2"),T(4,"Mi Perfil"),_()(),y(5,"div",4)(6,"p",5)(7,"strong"),T(8,"Nombre:"),_(),T(9),_(),y(10,"p",6)(11,"strong"),T(12,"Apellido:"),_(),T(13),_(),y(14,"p",7)(15,"strong"),T(16,"Correo:"),_(),T(17),_()(),J(18,MH,23,9,"div",8),_()),t&2){let n=N();S(2),k("ngIf",n.especialista.imagenPerfil&&n.especialista.imagenPerfil.length>0||n.especialista.imagenUrl),S(7),Tt(" ",n.especialista.nombre,""),S(4),Tt(" ",n.especialista.apellido,""),S(4),Tt(" ",n.especialista.correo,""),S(),k("ngIf",n.getEspecialidades.length>0)}}var Hx=(()=>{let e=class e{constructor(r){this.fb=r,this.especialista=null,this.diasSemana=["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],this.horas=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"],this.horariosCargados=[],this.mostrarModalEliminar=!1,this.horarioAEliminar=null,this.mostrarModalExito=!1,this.mostrarModalError=!1,this.mensajeError="",this.especialidadSeleccionada="",this.firestore=G(Vn),this.auth=G(vo)}ngOnInit(){return v(this,null,function*(){let r=yield Op(kS(this.auth));if(!r)return;let i=cn(this.firestore,"especialistas",r.uid),o=yield No(i);o.exists()&&(this.especialista=$({id:o.id},o.data()),this.especialista.especialidades&&this.especialista.especialidades.length>0?this.especialidadSeleccionada=this.especialista.especialidades[0]:this.especialista.especialidad&&(this.especialidadSeleccionada=this.especialista.especialidad)),this.perfilForm=new Ri({nombre:new fr(this.especialista?.nombre),apellido:new fr(this.especialista?.apellido),correo:new fr(this.especialista?.correo),especialidad:new fr(this.especialista?.especialidad)}),this.horariosForm=this.fb.group({dias:this.fb.control(this.getDiasDisponibles()),horas:this.fb.control(this.getHorasDisponibles())}),yield this.cargarHorariosCargados()})}getDiasDisponibles(){let r=this.especialista?.horarios?.find(i=>i.especialidad===this.especialidadSeleccionada);return r?r.dias:[]}getHorasDisponibles(){let r=this.especialista?.horarios?.find(i=>i.especialidad===this.especialidadSeleccionada);return r?r.horas:[]}cargarHorariosCargados(){return v(this,null,function*(){if(!this.especialista)return;let r=Ln(this.firestore,"Horarios"),i=zr(r,jt("especialistaId","==",this.especialista.id),jt("especialidad","==",this.especialidadSeleccionada)),o=yield ca(i);this.horariosCargados=o.docs.map(s=>$({id:s.id},s.data()))})}confirmarEliminarHorario(r,i,o){this.horarioAEliminar={id:r,dia:i,hora:o},this.mostrarModalEliminar=!0}cancelarEliminarHorario(){this.mostrarModalEliminar=!1,this.horarioAEliminar=null}eliminarHorarioConfirmado(){return v(this,null,function*(){if(!this.horarioAEliminar)return;let r=cn(this.firestore,"Horarios",this.horarioAEliminar.id);yield F1(r),yield this.cargarHorariosCargados(),this.cancelarEliminarHorario()})}guardarHorarios(){return v(this,null,function*(){if(!this.especialista)return;let r=Ln(this.firestore,"Horarios"),i=this.horariosForm.value.dias||[],o=this.horariosForm.value.horas||[],s=0;for(let a of i)for(let u of o){let l=zr(r,jt("especialistaId","==",this.especialista.id),jt("dia","==",a),jt("hora","==",u));(yield ca(l)).empty&&(yield If(r,{especialistaId:this.especialista.id,nombre:this.especialista.nombre,apellido:this.especialista.apellido,especialidad:this.especialidadSeleccionada,dia:a,hora:u}),s++)}yield this.cargarHorariosCargados(),s>0?(this.mostrarModalExito=!0,setTimeout(()=>{this.mostrarModalExito=!1},2e3)):(this.mensajeError="Todos los horarios seleccionados ya existen.",this.mostrarModalError=!0,setTimeout(()=>{this.mostrarModalError=!1},2500))})}get getEspecialidades(){return this.especialista?.especialidades&&Array.isArray(this.especialista.especialidades)?this.especialista.especialidades:this.especialista?.especialidad?[this.especialista.especialidad]:[]}onEspecialidadSeleccionadaChange(){return v(this,null,function*(){this.horariosForm.patchValue({dias:this.getDiasDisponibles(),horas:this.getHorasDisponibles()}),yield this.cargarHorariosCargados()})}};e.\u0275fac=function(i){return new(i||e)(B(Lf))},e.\u0275cmp=nt({type:e,selectors:[["app-mi-perfil"]],standalone:!0,features:[it],decls:1,vars:1,consts:[["class","perfil-container",4,"ngIf"],[1,"perfil-container"],[1,"perfil-header"],["alt","Foto de perfil","class","perfil-img-header",3,"src",4,"ngIf"],[1,"datos-personales"],[1,"dato-nombre"],[1,"dato-apellido"],[1,"dato-correo"],["class","horarios",4,"ngIf"],["alt","Foto de perfil",1,"perfil-img-header",3,"src"],[1,"horarios"],[1,"titulo-horarios"],[1,"selector-especialidad"],["for","select-especialidad"],["id","select-especialidad","name","selectEspecialidad",3,"ngModelChange","change","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngSubmit","formGroup"],["formControlName","dias","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","horas","multiple",""],["type","submit"],["class","horarios-cargados",4,"ngIf"],["class","modal-eliminar",4,"ngIf"],["class","modal-exito",4,"ngIf"],["class","modal-error",4,"ngIf"],[3,"ngValue"],[3,"value"],[1,"horarios-cargados"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[1,"modal-eliminar"],[1,"modal-contenido"],[3,"click"],[1,"modal-exito"],[1,"modal-contenido-exito"],[1,"modal-error"],[1,"modal-contenido-error"]],template:function(i,o){i&1&&J(0,RH,19,5,"div",0),i&2&&k("ngIf",o.especialista)},dependencies:[Lt,Yn,Gt,Uf,gr,Ff,Vf,fa,kf,vn,mr,Tu,Su,yr,Un],styles:['body[_ngcontent-%COMP%], .perfil-container[_ngcontent-%COMP%]{font-family:Segoe UI,Roboto,Arial,sans-serif}.perfil-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:24px}.perfil-img-header[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;object-fit:cover;border:4px solid #1976d2;box-shadow:0 2px 8px #1976d233}.perfil-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.6rem;font-weight:700;color:#1976d2;margin:0}.perfil-container[_ngcontent-%COMP%]{max-width:650px;margin:40px auto;background:#f8faff;border-radius:18px;padding:36px 36px 28px;box-shadow:0 2px 24px #1976d222;border:2.5px solid #1976d2;font-size:1.25rem}.perfil-img[_ngcontent-%COMP%]{width:120px;border-radius:50%;margin-bottom:20px;border:2.5px solid #1976d2}.datos-personales[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;color:#333;font-size:1.2rem}.horarios[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:24px;color:#1976d2;font-size:1.4rem}select[multiple][_ngcontent-%COMP%]{width:100%;min-height:120px;padding:7px;margin-bottom:12px;border:2px solid #1976d2;border-radius:10px;background:#f0f6ff;font-size:1.2rem;font-weight:700}button[type=submit][_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;border-radius:10px;padding:10px 32px;font-weight:700;font-size:1.2rem;cursor:pointer;transition:background .2s;margin-top:10px;box-shadow:0 2px 8px #1976d233}button[type=submit][_ngcontent-%COMP%]:hover{background:#1256a3}.horarios-cargados[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.horarios-cargados[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#e3f0ff;border:1.5px solid #1976d2;border-radius:10px;margin:6px 0;padding:8px 14px;display:flex;align-items:center;justify-content:space-between;font-size:1.15rem}.horarios-cargados[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background:#e53935;color:#fff;border:none;border-radius:50%;width:32px;height:32px;font-size:1.5rem;cursor:pointer;transition:background .2s;margin-left:8px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #e5393522}.horarios-cargados[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background:#b71c1c}.modal-eliminar[_ngcontent-%COMP%]{position:fixed;inset:0;background:#1976d226;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-contenido[_ngcontent-%COMP%]{background:#fff;padding:24px 40px;border-radius:12px;box-shadow:0 2px 24px #1976d244;text-align:center;border:3px solid #1976d2;font-size:1.3rem}.modal-contenido[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 16px;padding:10px 28px;border:none;border-radius:8px;cursor:pointer;font-weight:700;font-size:1.1rem}.modal-contenido[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#e53935;color:#fff}.modal-contenido[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#1976d2;color:#fff}.modal-exito[_ngcontent-%COMP%]{position:fixed;inset:0;background:#1976d21a;display:flex;align-items:center;justify-content:center;z-index:1100}.modal-contenido-exito[_ngcontent-%COMP%]{background:#e3f0ff;border:3px solid #1976d2;color:#1976d2;padding:24px 40px;border-radius:12px;font-size:1.5em;font-weight:700;box-shadow:0 2px 24px #1976d244}.modal-error[_ngcontent-%COMP%]{position:fixed;inset:0;background:#e539351a;display:flex;align-items:center;justify-content:center;z-index:1200}.modal-contenido-error[_ngcontent-%COMP%]{background:#fff0f0;border:3px solid #e53935;color:#e53935;padding:24px 40px;border-radius:12px;font-size:1.5em;font-weight:700;box-shadow:0 2px 24px #e5393522;text-align:center}.titulo-horarios[_ngcontent-%COMP%]{text-align:center;font-size:2.2rem;color:#1976d2;font-weight:700;margin:24px 0 16px;letter-spacing:1px}.dato-nombre[_ngcontent-%COMP%], .dato-apellido[_ngcontent-%COMP%], .dato-correo[_ngcontent-%COMP%], .dato-especialidad[_ngcontent-%COMP%]{font-size:1.32rem;margin:10px 0}.selector-especialidad[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin:0 0 16px;justify-content:flex-start;position:relative;width:100%;max-width:350px}.selector-especialidad[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.25rem;color:#1976d2;font-weight:700;margin-right:8px;min-width:110px;font-family:Montserrat,Segoe UI,Roboto,Arial,sans-serif}.selector-especialidad[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#e3f0ff;color:#1976d2;border:2px solid #1976d2;border-radius:10px;padding:8px 38px 8px 16px;font-size:1.2rem;font-weight:700;min-width:180px;box-shadow:0 2px 8px #1976d233;appearance:none;transition:border .2s,box-shadow .2s;width:100%}.selector-especialidad[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border:2.5px solid #1256a3;box-shadow:0 2px 12px #1976d244}.selector-especialidad[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{background:#d0e6ff}.selector-especialidad[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::-ms-expand{display:none}.selector-especialidad[_ngcontent-%COMP%]:after{content:"\\25bc";position:absolute;right:18px;top:50%;transform:translateY(-50%);color:#1976d2;font-size:1.2rem;pointer-events:none}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:6px 0 2px;font-family:Montserrat,Segoe UI,Roboto,Arial,sans-serif}']});let t=e;return t})();function PH(t,e){t&1&&(y(0,"h2"),T(1,"\u{1F5D3}\uFE0F Mis Turnos"),_())}function NH(t,e){t&1&&(y(0,"h2"),T(1,"Turnos Asignados"),_())}function OH(t,e){if(t&1){let n=Ne();y(0,"div",7)(1,"button",8),z("click",function(){H(n);let i=N();return q(i.limpiarRechazados())}),y(2,"span",9),T(3,"\u{1F5D1}\uFE0F"),_(),T(4," Limpiar Rechazados "),_()()}}function FH(t,e){t&1&&(y(0,"span"),T(1,"\u{1F641} No tienes turnos para mostrar."),_())}function kH(t,e){t&1&&(y(0,"span"),T(1,"\u{1F641} No tienes turnos asignados."),_())}function VH(t,e){if(t&1&&(y(0,"div",10),J(1,FH,2,0,"span",1)(2,kH,2,0,"span",1),_()),t&2){let n=N();S(),k("ngIf",n.esPaciente),S(),k("ngIf",n.esEspecialista)}}function LH(t,e){t&1&&(y(0,"th"),T(1,"Especialista"),_())}function UH(t,e){t&1&&(y(0,"th"),T(1,"Paciente"),_())}function jH(t,e){t&1&&(y(0,"th"),T(1,"Paciente"),_())}function BH(t,e){t&1&&(y(0,"th"),T(1,"Especialista"),_())}function $H(t,e){if(t&1&&(y(0,"td"),T(1),_()),t&2){let n=N().$implicit;S(),mn("",n.especialistaNombre," ",n.especialistaApellido,"")}}function HH(t,e){if(t&1&&(y(0,"td"),T(1),_()),t&2){let n=N().$implicit;S(),mn("",n.pacienteNombre||""," ",n.pacienteApellido||"","")}}function qH(t,e){if(t&1&&(y(0,"td"),T(1),_()),t&2){let n=N().$implicit;S(),mn("",n.pacienteNombre||""," ",n.pacienteApellido||"","")}}function zH(t,e){if(t&1&&(y(0,"td"),T(1),_()),t&2){let n=N().$implicit;S(),mn("",n.especialistaNombre||""," ",n.especialistaApellido||"","")}}function GH(t,e){t&1&&(y(0,"span"),T(1,"\u23F3 Pendiente"),_())}function WH(t,e){t&1&&(y(0,"span"),T(1,"\u2705 Confirmado"),_())}function KH(t,e){t&1&&(y(0,"span"),T(1,"\u{1F7E2} Aceptado"),_())}function QH(t,e){t&1&&(y(0,"span"),T(1,"\u{1F3C1} Realizado"),_())}function YH(t,e){t&1&&(y(0,"span"),T(1,"\u274C Rechazado"),_())}function JH(t,e){t&1&&(y(0,"span"),T(1,"\u{1F6AB} Cancelado"),_())}function ZH(t,e){if(t&1&&(y(0,"span"),T(1),kg(2,"titlecase"),_()),t&2){let n=N().$implicit;S(),ve(Vg(2,1,n.estado))}}function XH(t,e){if(t&1){let n=Ne();y(0,"span")(1,"button",16),z("click",function(){H(n);let i=N(2).$implicit,o=N(2);return q(o.abrirModalCancelar(i))}),T(2,"\u274C Cancelar"),_()()}}function e9(t,e){if(t&1){let n=Ne();y(0,"span")(1,"button",17),z("click",function(){H(n);let i=N(2).$implicit,o=N(2);return q(o.abrirModalResena(i))}),T(2,"\u2B50 Ver Rese\xF1a"),_()()}}function t9(t,e){t&1&&(y(0,"span")(1,"button",18),T(2,"\u{1F4DD}Encuesta"),_()())}function n9(t,e){t&1&&(y(0,"span")(1,"button",19),T(2,"\u{1F31F} Calificar"),_()())}function r9(t,e){if(t&1&&(_s(0),J(1,XH,3,0,"span",1)(2,e9,3,0,"span",1)(3,t9,3,0,"span",1)(4,n9,3,0,"span",1),vs()),t&2){let n=N().$implicit;S(),k("ngIf",n.estado==="pendiente"||n.estado==="confirmado"),S(),k("ngIf",n.estado==="realizado"&&n.resena),S(),k("ngIf",n.estado==="realizado"&&!n.encuestaCompletada),S(),k("ngIf",n.estado==="realizado"&&!n.calificacion)}}function i9(t,e){if(t&1){let n=Ne();y(0,"span")(1,"button",20),z("click",function(){H(n);let i=N(2).$implicit,o=N(2);return q(o.aceptarTurno(i))}),T(2,"\u2705 Aceptar"),_(),y(3,"button",21),z("click",function(){H(n);let i=N(2).$implicit,o=N(2);return q(o.abrirModalRechazar(i))}),T(4,"\u{1F5D1}\uFE0F Rechazar"),_()()}}function o9(t,e){if(t&1){let n=Ne();y(0,"span")(1,"button",16),z("click",function(){H(n);let i=N(2).$implicit,o=N(2);return q(o.abrirModalCancelar(i))}),T(2,"\u274C Cancelar"),_(),y(3,"button",22),z("click",function(){H(n);let i=N(2).$implicit,o=N(2);return q(o.abrirModalFinalizar(i))}),T(4,"\u{1F3C1} Finalizar"),_()()}}function s9(t,e){if(t&1){let n=Ne();y(0,"span")(1,"button",17),z("click",function(){H(n);let i=N(2).$implicit,o=N(2);return q(o.abrirModalResena(i))}),T(2,"\u2B50 Ver Rese\xF1a"),_()()}}function a9(t,e){if(t&1&&(_s(0),J(1,i9,5,0,"span",1)(2,o9,5,0,"span",1)(3,s9,3,0,"span",1),vs()),t&2){let n=N().$implicit;S(),k("ngIf",n.estado==="pendiente"),S(),k("ngIf",n.estado==="aceptado"),S(),k("ngIf",n.resena)}}function c9(t,e){if(t&1){let n=Ne();y(0,"span")(1,"button",16),z("click",function(){H(n);let i=N(2).$implicit,o=N(2);return q(o.abrirModalCancelar(i))}),T(2,"\u274C Cancelar"),_()()}}function u9(t,e){if(t&1){let n=Ne();y(0,"span")(1,"button",17),z("click",function(){H(n);let i=N(2).$implicit,o=N(2);return q(o.abrirModalMotivo(i))}),T(2,"\u{1F4DD} Ver Motivo"),_()()}}function l9(t,e){if(t&1&&(_s(0),J(1,c9,3,0,"span",1)(2,u9,3,0,"span",1),vs()),t&2){let n=N().$implicit,r=N(2);S(),k("ngIf",r.puedeCancelarAdmin(n)),S(),k("ngIf",n.estado==="cancelado"&&n.comentarioCancelacion)}}function d9(t,e){if(t&1&&(y(0,"tr")(1,"td"),T(2),_(),J(3,$H,2,2,"td",1)(4,HH,2,2,"td",1)(5,qH,2,2,"td",1)(6,zH,2,2,"td",1),y(7,"td"),T(8),_(),y(9,"td"),T(10),_(),y(11,"td")(12,"span"),_s(13,13),J(14,GH,2,0,"span",14)(15,WH,2,0,"span",14)(16,KH,2,0,"span",14)(17,QH,2,0,"span",14)(18,YH,2,0,"span",14)(19,JH,2,0,"span",14)(20,ZH,3,3,"span",15),vs(),_()(),y(21,"td"),J(22,r9,5,4,"ng-container",1)(23,a9,4,3,"ng-container",1)(24,l9,3,2,"ng-container",1),_()()),t&2){let n=e.$implicit,r=N(2);S(2),ve(n.especialidad),S(),k("ngIf",r.esPaciente),S(),k("ngIf",r.esEspecialista),S(),k("ngIf",r.esAdmin),S(),k("ngIf",r.esAdmin),S(2),ve(n.FechaTurno),S(2),ve(n.HorarioTurno),S(2),UC("estado-",n.estado,""),S(),k("ngSwitch",n.estado),S(),k("ngSwitchCase","pendiente"),S(),k("ngSwitchCase","confirmado"),S(),k("ngSwitchCase","aceptado"),S(),k("ngSwitchCase","realizado"),S(),k("ngSwitchCase","rechazado"),S(),k("ngSwitchCase","cancelado"),S(3),k("ngIf",r.esPaciente),S(),k("ngIf",r.esEspecialista),S(),k("ngIf",r.esAdmin)}}function h9(t,e){if(t&1&&(y(0,"table",11)(1,"thead")(2,"tr")(3,"th"),T(4,"Especialidad"),_(),J(5,LH,2,0,"th",1)(6,UH,2,0,"th",1)(7,jH,2,0,"th",1)(8,BH,2,0,"th",1),y(9,"th"),T(10,"Fecha"),_(),y(11,"th"),T(12,"Horario"),_(),y(13,"th"),T(14,"Estado"),_(),y(15,"th"),T(16,"Acci\xF3n"),_()()(),y(17,"tbody"),J(18,d9,25,20,"tr",12),_()()),t&2){let n=N();S(5),k("ngIf",n.esPaciente),S(),k("ngIf",n.esEspecialista),S(),k("ngIf",n.esAdmin),S(),k("ngIf",n.esAdmin),S(10),k("ngForOf",n.turnosFiltrados)}}function f9(t,e){if(t&1&&(y(0,"div",30),T(1),_()),t&2){let n=N(2);S(),ve(n.errorMotivo)}}function p9(t,e){if(t&1){let n=Ne();y(0,"div",23)(1,"div",24)(2,"h3"),T(3,"Cancelar turno"),_(),y(4,"p"),T(5,"Por favor, ingresa el motivo de la cancelaci\xF3n:"),_(),y(6,"textarea",25),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.motivoOperacion,i)||(o.motivoOperacion=i),q(i)}),_(),J(7,f9,2,1,"div",26),y(8,"div",27)(9,"button",28),z("click",function(){H(n);let i=N();return q(i.confirmarCancelacion())}),T(10,"Confirmar"),_(),y(11,"button",29),z("click",function(){H(n);let i=N();return q(i.cerrarModalCancelar())}),T(12,"Cerrar"),_()()()()}if(t&2){let n=N();S(6),Se("ngModel",n.motivoOperacion),S(),k("ngIf",n.errorMotivo)}}function m9(t,e){if(t&1&&(y(0,"div",30),T(1),_()),t&2){let n=N(2);S(),ve(n.errorMotivo)}}function g9(t,e){if(t&1){let n=Ne();y(0,"div",23)(1,"div",24)(2,"h3"),T(3,"Rechazar turno"),_(),y(4,"p"),T(5,"Por favor, ingresa el motivo del rechazo:"),_(),y(6,"textarea",25),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.motivoOperacion,i)||(o.motivoOperacion=i),q(i)}),_(),J(7,m9,2,1,"div",26),y(8,"div",27)(9,"button",28),z("click",function(){H(n);let i=N();return q(i.confirmarRechazo())}),T(10,"Confirmar"),_(),y(11,"button",29),z("click",function(){H(n);let i=N();return q(i.cerrarModalRechazar())}),T(12,"Cerrar"),_()()()()}if(t&2){let n=N();S(6),Se("ngModel",n.motivoOperacion),S(),k("ngIf",n.errorMotivo)}}function y9(t,e){if(t&1&&(y(0,"div",30),T(1),_()),t&2){let n=N(2);S(),ve(n.errorMotivo)}}function _9(t,e){if(t&1){let n=Ne();y(0,"div",23)(1,"div",24)(2,"h3"),T(3,"Finalizar turno"),_(),y(4,"p"),T(5,"Por favor, ingresa una rese\xF1a o comentario de la consulta:"),_(),y(6,"textarea",31),Ae("ngModelChange",function(i){H(n);let o=N();return Me(o.resenaFinal,i)||(o.resenaFinal=i),q(i)}),_(),J(7,y9,2,1,"div",26),y(8,"div",27)(9,"button",32),z("click",function(){H(n);let i=N();return q(i.confirmarFinalizacion())}),T(10,"Finalizar"),_(),y(11,"button",29),z("click",function(){H(n);let i=N();return q(i.cerrarModalFinalizar())}),T(12,"Cerrar"),_()()()()}if(t&2){let n=N();S(6),Se("ngModel",n.resenaFinal),S(),k("ngIf",n.errorMotivo)}}function v9(t,e){if(t&1){let n=Ne();y(0,"div",23)(1,"div",24)(2,"h3"),T(3,"Rese\xF1a del turno"),_(),y(4,"p",33),T(5),_(),y(6,"div",27)(7,"button",29),z("click",function(){H(n);let i=N();return q(i.cerrarModalResena())}),T(8,"Cerrar"),_()()()()}if(t&2){let n=N();S(5),ve(n.resenaAMostrar)}}function w9(t,e){if(t&1){let n=Ne();y(0,"div",23)(1,"div",24)(2,"h3"),T(3),kg(4,"titlecase"),_(),y(5,"p",33),T(6),_(),y(7,"div",27)(8,"button",29),z("click",function(){H(n);let i=N();return q(i.cerrarModalMotivo())}),T(9,"Cerrar"),_()()()()}if(t&2){let n=N();S(3),Tt("Motivo de ",Vg(4,2,n.turnoAOperar==null?null:n.turnoAOperar.estado),""),S(3),ve(n.motivoAMostrar)}}var yw=(()=>{let e=class e{constructor(){this.turnos=[],this.turnosFiltrados=[],this.filtro="",this.uid="",this.firestore=G(Vn),this.esPaciente=!1,this.esEspecialista=!1,this.esAdmin=!1,this.mostrarModalCancelar=!1,this.mostrarModalRechazar=!1,this.mostrarModalFinalizar=!1,this.turnoAOperar=null,this.motivoOperacion="",this.errorMotivo="",this.resenaFinal="",this.mostrarModalResena=!1,this.resenaAMostrar="",this.mostrarModalMotivo=!1,this.motivoAMostrar=""}ngOnInit(){return v(this,null,function*(){let r=dt().currentUser;if(r){this.uid=r.uid;let i=cn(this.firestore,"administradores",this.uid),o=yield No(i),s=cn(this.firestore,"especialistas",this.uid),a=yield No(s);this.esAdmin=o.exists(),this.esEspecialista=a.exists(),this.esPaciente=!this.esEspecialista&&!this.esAdmin,yield this.cargarTurnos()}})}cargarTurnos(){return v(this,null,function*(){let r=Ln(this.firestore,"Turnos"),i;this.esPaciente?i=zr(r,jt("pacienteId","==",this.uid)):this.esEspecialista?i=zr(r,jt("especialistaId","==",this.uid)):this.esAdmin&&(i=r),i&&vu(i,{idField:"id"}).subscribe(o=>{this.turnos=o,this.aplicarFiltro()})})}aplicarFiltro(){let r=this.filtro.trim().toLowerCase();if(!r){this.turnosFiltrados=this.turnos;return}this.esPaciente?this.turnosFiltrados=this.turnos.filter(i=>i.especialidad&&i.especialidad.toLowerCase().includes(r)||i.especialistaNombre&&i.especialistaNombre.toLowerCase().includes(r)||i.especialistaApellido&&i.especialistaApellido.toLowerCase().includes(r)):this.esEspecialista?this.turnosFiltrados=this.turnos.filter(i=>i.especialidad&&i.especialidad.toLowerCase().includes(r)||i.pacienteNombre&&i.pacienteNombre.toLowerCase().includes(r)||i.pacienteApellido&&i.pacienteApellido.toLowerCase().includes(r)):this.esAdmin&&(this.turnosFiltrados=this.turnos.filter(i=>i.especialidad&&i.especialidad.toLowerCase().includes(r)||i.especialistaNombre&&i.especialistaNombre.toLowerCase().includes(r)||i.especialistaApellido&&i.especialistaApellido.toLowerCase().includes(r)))}abrirModalCancelar(r){this.turnoAOperar=r,this.motivoOperacion="",this.errorMotivo="",this.mostrarModalCancelar=!0}cerrarModalCancelar(){this.mostrarModalCancelar=!1,this.turnoAOperar=null,this.motivoOperacion="",this.errorMotivo=""}confirmarCancelacion(){return v(this,null,function*(){if(!this.motivoOperacion.trim()){this.errorMotivo="Debes ingresar un motivo para cancelar el turno.";return}let r=cn(this.firestore,"Turnos",this.turnoAOperar.id);yield ua(r,{estado:"cancelado",comentarioCancelacion:this.motivoOperacion.trim()}),this.cerrarModalCancelar(),yield this.cargarTurnos()})}abrirModalRechazar(r){this.turnoAOperar=r,this.motivoOperacion="",this.errorMotivo="",this.mostrarModalRechazar=!0}cerrarModalRechazar(){this.mostrarModalRechazar=!1,this.turnoAOperar=null,this.motivoOperacion="",this.errorMotivo=""}confirmarRechazo(){return v(this,null,function*(){if(!this.motivoOperacion.trim()){this.errorMotivo="Debes ingresar un motivo para rechazar el turno.";return}let r=cn(this.firestore,"Turnos",this.turnoAOperar.id);yield ua(r,{estado:"rechazado",comentarioRechazo:this.motivoOperacion.trim()}),this.cerrarModalRechazar(),yield this.cargarTurnos()})}aceptarTurno(r){return v(this,null,function*(){let i=cn(this.firestore,"Turnos",r.id);yield ua(i,{estado:"aceptado"}),yield this.cargarTurnos()})}abrirModalFinalizar(r){this.turnoAOperar=r,this.resenaFinal="",this.errorMotivo="",this.mostrarModalFinalizar=!0}cerrarModalFinalizar(){this.mostrarModalFinalizar=!1,this.turnoAOperar=null,this.resenaFinal="",this.errorMotivo=""}confirmarFinalizacion(){return v(this,null,function*(){if(!this.resenaFinal.trim()){this.errorMotivo="Debes ingresar una rese\xF1a o comentario.";return}let r=cn(this.firestore,"Turnos",this.turnoAOperar.id);yield ua(r,{estado:"realizado",resena:this.resenaFinal.trim()}),this.cerrarModalFinalizar(),yield this.cargarTurnos()})}abrirModalResena(r){this.resenaAMostrar=r.resena||"Sin rese\xF1a disponible.",this.mostrarModalResena=!0}cerrarModalResena(){this.mostrarModalResena=!1,this.resenaAMostrar=""}limpiarRechazados(){return v(this,null,function*(){let r=this.turnosFiltrados.filter(i=>i.estado==="rechazado");for(let i of r){let o=cn(this.firestore,"Turnos",i.id);yield ua(o,{eliminado:!0})}yield this.cargarTurnos()})}tieneRechazados(){return this.turnosFiltrados.some(r=>r.estado==="rechazado")}abrirModalMotivo(r){this.turnoAOperar=r,r.estado==="cancelado"?this.motivoAMostrar=r.comentarioCancelacion||"Sin motivo registrado.":r.estado==="rechazado"&&(this.motivoAMostrar=r.comentarioRechazo||"Sin motivo registrado."),this.mostrarModalMotivo=!0}cerrarModalMotivo(){this.mostrarModalMotivo=!1,this.motivoAMostrar="",this.turnoAOperar=null}puedeCancelarAdmin(r){return this.esAdmin&&!["aceptado","realizado","rechazado"].includes(r.estado)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nt({type:e,selectors:[["app-mis-turnos"]],standalone:!0,features:[it],decls:12,vars:13,consts:[[1,"mis-turnos-container"],[4,"ngIf"],["type","text",1,"filtro-input",3,"ngModelChange","input","ngModel","placeholder"],["class","limpiar-rechazados-container",4,"ngIf"],["class","mensaje-vacio",4,"ngIf"],["class","tabla-turnos",4,"ngIf"],["class","modal-cancelar",4,"ngIf"],[1,"limpiar-rechazados-container"],[1,"btn-limpiar-rechazados",3,"click"],[1,"emoji-tacho"],[1,"mensaje-vacio"],[1,"tabla-turnos"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"btn-cancelar",3,"click"],[1,"btn-ver",3,"click"],[1,"btn-encuesta"],[1,"btn-calificar"],[1,"btn-aceptar",3,"click"],[1,"btn-rechazar",3,"click"],[1,"btn-finalizar",3,"click"],[1,"modal-cancelar"],[1,"modal-content"],["rows","3","placeholder","Motivo...",1,"textarea-motivo",3,"ngModelChange","ngModel"],["class","error-motivo",4,"ngIf"],[1,"modal-actions"],[1,"btn-cancelar-modal",3,"click"],[1,"btn-cerrar-modal",3,"click"],[1,"error-motivo"],["rows","3","placeholder","Comentario o diagn\xF3stico...",1,"textarea-motivo",3,"ngModelChange","ngModel"],[1,"btn-finalizar-modal",3,"click"],[1,"resena-texto"]],template:function(i,o){i&1&&(y(0,"div",0),J(1,PH,2,0,"h2",1)(2,NH,2,0,"h2",1),y(3,"input",2),Ae("ngModelChange",function(a){return Me(o.filtro,a)||(o.filtro=a),a}),z("input",function(){return o.aplicarFiltro()}),_(),J(4,OH,5,0,"div",3)(5,VH,3,2,"div",4)(6,h9,19,5,"table",5)(7,p9,13,2,"div",6)(8,g9,13,2,"div",6)(9,_9,13,2,"div",6)(10,v9,9,1,"div",6)(11,w9,10,4,"div",6),_()),i&2&&(S(),k("ngIf",o.esPaciente),S(),k("ngIf",o.esEspecialista),S(),Fg("placeholder","\u{1F50E} Buscar por especialidad o ",o.esPaciente?"especialista":"paciente","..."),Se("ngModel",o.filtro),S(),k("ngIf",o.esEspecialista&&o.tieneRechazados()),S(),k("ngIf",o.turnosFiltrados.length===0),S(),k("ngIf",o.turnosFiltrados.length>0),S(),k("ngIf",o.mostrarModalCancelar),S(),k("ngIf",o.mostrarModalRechazar),S(),k("ngIf",o.mostrarModalFinalizar),S(),k("ngIf",o.mostrarModalResena),S(),k("ngIf",o.mostrarModalMotivo))},dependencies:[Lt,Yn,Gt,Td,mD,gD,yD,yr,pr,vn,Un],styles:[".mis-turnos-container[_ngcontent-%COMP%]{max-width:1200px;margin:36px auto;padding:30px 32px 22px;background:#f4f8fb;border-radius:12px;box-shadow:0 2px 12px #1976d220;border:1.5px solid #1976d2;font-family:Segoe UI,Roboto,Arial,sans-serif}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:22px;color:#1976d2;font-weight:700;letter-spacing:1px}.filtro-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:6px;border:1.5px solid #b0c4de;font-size:1.05em;margin-bottom:18px;background:#fff;transition:border .2s}.filtro-input[_ngcontent-%COMP%]:focus{border:1.5px solid #1976d2;outline:none}.tabla-turnos[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 6px #1976d220}.tabla-turnos[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla-turnos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 10px;text-align:left;border-bottom:1px solid #e3eafc}.tabla-turnos[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#e3eafc;color:#1976d2;font-weight:600}.estado-pendiente[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.estado-confirmado[_ngcontent-%COMP%]{color:#1976d2;font-weight:700}.estado-realizado[_ngcontent-%COMP%]{color:#388e3c;font-weight:700}.estado-cancelado[_ngcontent-%COMP%]{color:#d32f2f;font-weight:700}.mensaje-vacio[_ngcontent-%COMP%]{background:#e3eafc;color:#1976d2;border:1px solid #b0c4de;border-radius:6px;padding:12px 14px;margin-bottom:18px;text-align:center;font-size:1.05em;font-weight:500;letter-spacing:.2px}.btn-cancelar[_ngcontent-%COMP%], .btn-ver[_ngcontent-%COMP%], .btn-encuesta[_ngcontent-%COMP%], .btn-calificar[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;border-radius:5px;padding:7px 14px;margin:0 2px;font-size:.98em;font-weight:600;cursor:pointer;transition:background .2s}.btn-cancelar[_ngcontent-%COMP%]:hover{background:#d32f2f}.btn-ver[_ngcontent-%COMP%]:hover{background:#388e3c}.btn-encuesta[_ngcontent-%COMP%]:hover{background:#ff9800}.btn-calificar[_ngcontent-%COMP%]:hover{background:#1976d2cc}.modal-cancelar[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000040;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:28px 24px 18px;box-shadow:0 2px 16px #1976d250;min-width:320px;max-width:90vw;text-align:center}.textarea-motivo[_ngcontent-%COMP%]{width:100%;border-radius:6px;border:1.5px solid #b0c4de;padding:8px;font-size:1em;margin:10px 0 6px;resize:vertical;min-height:60px}.error-motivo[_ngcontent-%COMP%]{color:#d32f2f;font-size:.98em;margin-bottom:8px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:10px}.btn-cancelar-modal[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;border:none;border-radius:5px;padding:7px 18px;font-size:1em;font-weight:600;cursor:pointer;transition:background .2s}.btn-cancelar-modal[_ngcontent-%COMP%]:hover{background:#b71c1c}.btn-cerrar-modal[_ngcontent-%COMP%]{background:#b0c4de;color:#1976d2;border:none;border-radius:5px;padding:7px 18px;font-size:1em;font-weight:600;cursor:pointer;transition:background .2s}.btn-cerrar-modal[_ngcontent-%COMP%]:hover{background:#e3eafc}.btn-aceptar[_ngcontent-%COMP%]{background:#388e3c;color:#fff;border:none;border-radius:5px;padding:7px 14px;margin:0 2px;font-size:.98em;font-weight:600;cursor:pointer;transition:background .2s}.btn-aceptar[_ngcontent-%COMP%]:hover{background:#2e7031}.btn-rechazar[_ngcontent-%COMP%]{background:#ff9800;color:#fff;border:none;border-radius:5px;padding:7px 14px;margin:0 2px;font-size:.98em;font-weight:600;cursor:pointer;transition:background .2s}.btn-rechazar[_ngcontent-%COMP%]:hover{background:#e65100}.resena-texto[_ngcontent-%COMP%]{background:#e3eafc;color:#1976d2;border-radius:6px;padding:14px 16px;margin:18px 0 10px;font-size:1.08em;font-weight:500;text-align:left;white-space:pre-line}.limpiar-rechazados-container[_ngcontent-%COMP%]{text-align:right;margin-bottom:10px}.btn-limpiar-rechazados[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;border:none;border-radius:6px;padding:8px 18px;font-size:1em;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:7px;transition:background .2s}.btn-limpiar-rechazados[_ngcontent-%COMP%]:hover{background:#b71c1c}.emoji-tacho[_ngcontent-%COMP%]{font-size:1.2em;vertical-align:middle}.tabla-turnos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{white-space:nowrap}"]});let t=e;return t})();var qx=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:L1},{path:"login",component:_x},{path:"registro",component:jx},{path:"usuarios",component:Bx},{path:"sacarTurno",component:$x},{path:"miPerfil",component:Hx},{path:"misTurnos",component:yw},{path:"turnos",component:yw},{path:"**",component:U1}];var zx={production:!1,firebase:Au};TD(V1,{providers:[cT(qx),FT(()=>kT(zx.firebase)),O1(()=>k1()),FS(()=>VS())]}).catch(t=>console.error(t));
